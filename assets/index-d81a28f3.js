var Iz=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ooe=Iz((Wi,Vi)=>{function Ez(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Hk={exports:{}},Bv={},Wk={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),Mz=Symbol.for("react.portal"),Oz=Symbol.for("react.fragment"),kz=Symbol.for("react.strict_mode"),Az=Symbol.for("react.profiler"),Dz=Symbol.for("react.provider"),Pz=Symbol.for("react.context"),Nz=Symbol.for("react.forward_ref"),Rz=Symbol.for("react.suspense"),Lz=Symbol.for("react.memo"),jz=Symbol.for("react.lazy"),NI=Symbol.iterator;function Fz(t){return t===null||typeof t!="object"?null:(t=NI&&t[NI]||t["@@iterator"],typeof t=="function"?t:null)}var Vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gk=Object.assign,$k={};function ih(t,e,n){this.props=t,this.context=e,this.refs=$k,this.updater=n||Vk}ih.prototype.isReactComponent={};ih.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ih.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yk(){}Yk.prototype=ih.prototype;function pb(t,e,n){this.props=t,this.context=e,this.refs=$k,this.updater=n||Vk}var gb=pb.prototype=new Yk;gb.constructor=pb;Gk(gb,ih.prototype);gb.isPureReactComponent=!0;var RI=Array.isArray,Xk=Object.prototype.hasOwnProperty,mb={current:null},Kk={key:!0,ref:!0,__self:!0,__source:!0};function Zk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Xk.call(e,r)&&!Kk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var m=Array(a),u=0;u<a;u++)m[u]=arguments[u+2];i.children=m}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hd,type:t,key:o,ref:s,props:i,_owner:mb.current}}function zz(t,e){return{$$typeof:Hd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hd}function Bz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var LI=/\/+/g;function O0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bz(""+t.key):e.toString(36)}function qg(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hd:case Mz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+O0(s,0):r,RI(i)?(n="",t!=null&&(n=t.replace(LI,"$&/")+"/"),qg(i,e,n,"",function(u){return u})):i!=null&&(vb(i)&&(i=zz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(LI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",RI(t))for(var a=0;a<t.length;a++){o=t[a];var m=r+O0(o,a);s+=qg(o,e,n,m,i)}else if(m=Fz(t),typeof m=="function")for(t=m.call(t),a=0;!(o=t.next()).done;)o=o.value,m=r+O0(o,a++),s+=qg(o,e,n,m,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gg(t,e,n){if(t==null)return t;var r=[],i=0;return qg(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Uz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mi={current:null},em={transition:null},Hz={ReactCurrentDispatcher:mi,ReactCurrentBatchConfig:em,ReactCurrentOwner:mb};sn.Children={map:gg,forEach:function(t,e,n){gg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gg(t,function(){e++}),e},toArray:function(t){return gg(t,function(e){return e})||[]},only:function(t){if(!vb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sn.Component=ih;sn.Fragment=Oz;sn.Profiler=Az;sn.PureComponent=pb;sn.StrictMode=kz;sn.Suspense=Rz;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hz;sn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=mb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(m in e)Xk.call(e,m)&&!Kk.hasOwnProperty(m)&&(r[m]=e[m]===void 0&&a!==void 0?a[m]:e[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){a=Array(m);for(var u=0;u<m;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hd,type:t.type,key:i,ref:o,props:r,_owner:s}};sn.createContext=function(t){return t={$$typeof:Pz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dz,_context:t},t.Consumer=t};sn.createElement=Zk;sn.createFactory=function(t){var e=Zk.bind(null,t);return e.type=t,e};sn.createRef=function(){return{current:null}};sn.forwardRef=function(t){return{$$typeof:Nz,render:t}};sn.isValidElement=vb;sn.lazy=function(t){return{$$typeof:jz,_payload:{_status:-1,_result:t},_init:Uz}};sn.memo=function(t,e){return{$$typeof:Lz,type:t,compare:e===void 0?null:e}};sn.startTransition=function(t){var e=em.transition;em.transition={};try{t()}finally{em.transition=e}};sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};sn.useCallback=function(t,e){return mi.current.useCallback(t,e)};sn.useContext=function(t){return mi.current.useContext(t)};sn.useDebugValue=function(){};sn.useDeferredValue=function(t){return mi.current.useDeferredValue(t)};sn.useEffect=function(t,e){return mi.current.useEffect(t,e)};sn.useId=function(){return mi.current.useId()};sn.useImperativeHandle=function(t,e,n){return mi.current.useImperativeHandle(t,e,n)};sn.useInsertionEffect=function(t,e){return mi.current.useInsertionEffect(t,e)};sn.useLayoutEffect=function(t,e){return mi.current.useLayoutEffect(t,e)};sn.useMemo=function(t,e){return mi.current.useMemo(t,e)};sn.useReducer=function(t,e,n){return mi.current.useReducer(t,e,n)};sn.useRef=function(t){return mi.current.useRef(t)};sn.useState=function(t){return mi.current.useState(t)};sn.useSyncExternalStore=function(t,e,n){return mi.current.useSyncExternalStore(t,e,n)};sn.useTransition=function(){return mi.current.useTransition()};sn.version="18.2.0";Wk.exports=sn;var Ae=Wk.exports;const yn=Ud(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz=Ae,Vz=Symbol.for("react.element"),Gz=Symbol.for("react.fragment"),$z=Object.prototype.hasOwnProperty,Yz=Wz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xz={key:!0,ref:!0,__self:!0,__source:!0};function Qk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)$z.call(e,r)&&!Xz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Vz,type:t,key:o,ref:s,props:i,_owner:Yz.current}}Bv.Fragment=Gz;Bv.jsx=Qk;Bv.jsxs=Qk;Hk.exports=Bv;var ie=Hk.exports,i1={},Jk={exports:{}},Ki={},qk={exports:{}},e2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,re){var le=$.length;$.push(re);e:for(;0<le;){var xe=le-1>>>1,ee=$[xe];if(0<i(ee,re))$[xe]=re,$[le]=ee,le=xe;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],le=$.pop();if(le!==re){$[0]=le;e:for(var xe=0,ee=$.length,be=ee>>>1;xe<be;){var K=2*(xe+1)-1,Oe=$[K],_e=K+1,fe=$[_e];if(0>i(Oe,le))_e<ee&&0>i(fe,Oe)?($[xe]=fe,$[_e]=le,xe=_e):($[xe]=Oe,$[K]=le,xe=K);else if(_e<ee&&0>i(fe,le))$[xe]=fe,$[_e]=le,xe=_e;else break e}}return re}function i($,re){var le=$.sortIndex-re.sortIndex;return le!==0?le:$.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var m=[],u=[],d=1,E=null,I=3,O=!1,A=!1,D=!1,v=typeof setTimeout=="function"?setTimeout:null,l=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f($){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=$)r(u),re.sortIndex=re.expirationTime,e(m,re);else break;re=n(u)}}function h($){if(D=!1,f($),!A)if(n(m)!==null)A=!0,G(p);else{var re=n(u);re!==null&&H(h,re.startTime-$)}}function p($,re){A=!1,D&&(D=!1,l(_),_=-1),O=!0;var le=I;try{for(f(re),E=n(m);E!==null&&(!(E.expirationTime>re)||$&&!k());){var xe=E.callback;if(typeof xe=="function"){E.callback=null,I=E.priorityLevel;var ee=xe(E.expirationTime<=re);re=t.unstable_now(),typeof ee=="function"?E.callback=ee:E===n(m)&&r(m),f(re)}else r(m);E=n(m)}if(E!==null)var be=!0;else{var K=n(u);K!==null&&H(h,K.startTime-re),be=!1}return be}finally{E=null,I=le,O=!1}}var g=!1,y=null,_=-1,w=5,T=-1;function k(){return!(t.unstable_now()-T<w)}function P(){if(y!==null){var $=t.unstable_now();T=$;var re=!0;try{re=y(!0,$)}finally{re?L():(g=!1,y=null)}}else g=!1}var L;if(typeof c=="function")L=function(){c(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,F=N.port2;N.port1.onmessage=P,L=function(){F.postMessage(null)}}else L=function(){v(P,0)};function G($){y=$,g||(g=!0,L())}function H($,re){_=v(function(){$(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){A||O||(A=!0,G(p))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function($){switch(I){case 1:case 2:case 3:var re=3;break;default:re=I}var le=I;I=re;try{return $()}finally{I=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=I;I=$;try{return re()}finally{I=le}},t.unstable_scheduleCallback=function($,re,le){var xe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?xe+le:xe):le=xe,$){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=le+ee,$={id:d++,callback:re,priorityLevel:$,startTime:le,expirationTime:ee,sortIndex:-1},le>xe?($.sortIndex=le,e(u,$),n(m)===null&&$===n(u)&&(D?(l(_),_=-1):D=!0,H(h,le-xe))):($.sortIndex=ee,e(m,$),A||O||(A=!0,G(p))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var re=I;return function(){var le=I;I=re;try{return $.apply(this,arguments)}finally{I=le}}}})(e2);qk.exports=e2;var Kz=qk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=Ae,$i=Kz;function ut(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n2=new Set,Wf={};function wu(t,e){Pc(t,e),Pc(t+"Capture",e)}function Pc(t,e){for(Wf[t]=e,t=0;t<e.length;t++)n2.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=Object.prototype.hasOwnProperty,Zz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jI={},FI={};function Qz(t){return o1.call(FI,t)?!0:o1.call(jI,t)?!1:Zz.test(t)?FI[t]=!0:(jI[t]=!0,!1)}function Jz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qz(t,e,n,r){if(e===null||typeof e>"u"||Jz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wr[t]=new vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wr[e]=new vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wr[t]=new vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wr[t]=new vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wr[t]=new vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wr[t]=new vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wr[t]=new vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wr[t]=new vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wr[t]=new vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var yb=/[\-:]([a-z])/g;function wb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yb,wb);Wr[e]=new vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yb,wb);Wr[e]=new vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yb,wb);Wr[e]=new vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wr[t]=new vi(t,1,!1,t.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wr[t]=new vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sb(t,e,n,r){var i=Wr.hasOwnProperty(e)?Wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qz(e,n,i,r)&&(n=null),r||i===null?Qz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $s=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mg=Symbol.for("react.element"),ic=Symbol.for("react.portal"),oc=Symbol.for("react.fragment"),bb=Symbol.for("react.strict_mode"),s1=Symbol.for("react.profiler"),r2=Symbol.for("react.provider"),i2=Symbol.for("react.context"),_b=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),l1=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),o2=Symbol.for("react.offscreen"),zI=Symbol.iterator;function Lh(t){return t===null||typeof t!="object"?null:(t=zI&&t[zI]||t["@@iterator"],typeof t=="function"?t:null)}var Kn=Object.assign,k0;function af(t){if(k0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);k0=e&&e[1]||""}return`
`+k0+t}var A0=!1;function D0(t,e){if(!t||A0)return"";A0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var m=`
`+i[s].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=s&&0<=a);break}}}finally{A0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?af(t):""}function eB(t){switch(t.tag){case 5:return af(t.type);case 16:return af("Lazy");case 13:return af("Suspense");case 19:return af("SuspenseList");case 0:case 2:case 15:return t=D0(t.type,!1),t;case 11:return t=D0(t.type.render,!1),t;case 1:return t=D0(t.type,!0),t;default:return""}}function u1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oc:return"Fragment";case ic:return"Portal";case s1:return"Profiler";case bb:return"StrictMode";case a1:return"Suspense";case l1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i2:return(t.displayName||"Context")+".Consumer";case r2:return(t._context.displayName||"Context")+".Provider";case _b:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:u1(t.type)||"Memo";case la:e=t._payload,t=t._init;try{return u1(t(e))}catch{}}return null}function tB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u1(e);case 8:return e===bb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function s2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nB(t){var e=s2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vg(t){t._valueTracker||(t._valueTracker=nB(t))}function a2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=s2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Im(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function c1(t,e){var n=e.checked;return Kn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function BI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l2(t,e){e=e.checked,e!=null&&Sb(t,"checked",e,!1)}function h1(t,e){l2(t,e);var n=Pa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?f1(t,e.type,n):e.hasOwnProperty("defaultValue")&&f1(t,e.type,Pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function f1(t,e,n){(e!=="number"||Im(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lf=Array.isArray;function wc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function d1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ut(91));return Kn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ut(92));if(lf(n)){if(1<n.length)throw Error(ut(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pa(n)}}function u2(t,e){var n=Pa(e.value),r=Pa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function c2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?c2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yg,h2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rB=["Webkit","ms","Moz","O"];Object.keys(wf).forEach(function(t){rB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wf[e]=wf[t]})});function f2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wf.hasOwnProperty(t)&&wf[t]?(""+e).trim():e+"px"}function d2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=f2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iB=Kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g1(t,e){if(e){if(iB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ut(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ut(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ut(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ut(62))}}function m1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var y1=null,Sc=null,bc=null;function VI(t){if(t=Gd(t)){if(typeof y1!="function")throw Error(ut(280));var e=t.stateNode;e&&(e=Gv(e),y1(t.stateNode,t.type,e))}}function p2(t){Sc?bc?bc.push(t):bc=[t]:Sc=t}function g2(){if(Sc){var t=Sc,e=bc;if(bc=Sc=null,VI(t),e)for(t=0;t<e.length;t++)VI(e[t])}}function m2(t,e){return t(e)}function v2(){}var P0=!1;function y2(t,e,n){if(P0)return t(e,n);P0=!0;try{return m2(t,e,n)}finally{P0=!1,(Sc!==null||bc!==null)&&(v2(),g2())}}function Gf(t,e){var n=t.stateNode;if(n===null)return null;var r=Gv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ut(231,e,typeof n));return n}var w1=!1;if(zs)try{var jh={};Object.defineProperty(jh,"passive",{get:function(){w1=!0}}),window.addEventListener("test",jh,jh),window.removeEventListener("test",jh,jh)}catch{w1=!1}function oB(t,e,n,r,i,o,s,a,m){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Sf=!1,Em=null,Tm=!1,S1=null,sB={onError:function(t){Sf=!0,Em=t}};function aB(t,e,n,r,i,o,s,a,m){Sf=!1,Em=null,oB.apply(sB,arguments)}function lB(t,e,n,r,i,o,s,a,m){if(aB.apply(this,arguments),Sf){if(Sf){var u=Em;Sf=!1,Em=null}else throw Error(ut(198));Tm||(Tm=!0,S1=u)}}function Su(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function w2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GI(t){if(Su(t)!==t)throw Error(ut(188))}function uB(t){var e=t.alternate;if(!e){if(e=Su(t),e===null)throw Error(ut(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return GI(i),t;if(o===r)return GI(i),e;o=o.sibling}throw Error(ut(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ut(189))}}if(n.alternate!==r)throw Error(ut(190))}if(n.tag!==3)throw Error(ut(188));return n.stateNode.current===n?t:e}function S2(t){return t=uB(t),t!==null?b2(t):null}function b2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=b2(t);if(e!==null)return e;t=t.sibling}return null}var _2=$i.unstable_scheduleCallback,$I=$i.unstable_cancelCallback,cB=$i.unstable_shouldYield,hB=$i.unstable_requestPaint,ir=$i.unstable_now,fB=$i.unstable_getCurrentPriorityLevel,Ib=$i.unstable_ImmediatePriority,C2=$i.unstable_UserBlockingPriority,Mm=$i.unstable_NormalPriority,dB=$i.unstable_LowPriority,x2=$i.unstable_IdlePriority,Uv=null,as=null;function pB(t){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot(Uv,t,void 0,(t.current.flags&128)===128)}catch{}}var Mo=Math.clz32?Math.clz32:vB,gB=Math.log,mB=Math.LN2;function vB(t){return t>>>=0,t===0?32:31-(gB(t)/mB|0)|0}var wg=64,Sg=4194304;function uf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Om(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=uf(a):(o&=s,o!==0&&(r=uf(o)))}else s=n&~i,s!==0?r=uf(s):o!==0&&(r=uf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mo(e),i=1<<n,r|=t[n],e&=~i;return r}function yB(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wB(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Mo(o),a=1<<s,m=i[s];m===-1?(!(a&n)||a&r)&&(i[s]=yB(a,e)):m<=e&&(t.expiredLanes|=a),o&=~a}}function b1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I2(){var t=wg;return wg<<=1,!(wg&4194240)&&(wg=64),t}function N0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mo(e),t[e]=n}function SB(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Mo(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Eb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Cn=0;function E2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T2,Tb,M2,O2,k2,_1=!1,bg=[],ba=null,_a=null,Ca=null,$f=new Map,Yf=new Map,ca=[],bB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YI(t,e){switch(t){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":$f.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(e.pointerId)}}function Fh(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Gd(e),e!==null&&Tb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _B(t,e,n,r,i){switch(e){case"focusin":return ba=Fh(ba,t,e,n,r,i),!0;case"dragenter":return _a=Fh(_a,t,e,n,r,i),!0;case"mouseover":return Ca=Fh(Ca,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return $f.set(o,Fh($f.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yf.set(o,Fh(Yf.get(o)||null,t,e,n,r,i)),!0}return!1}function A2(t){var e=Nl(t.target);if(e!==null){var n=Su(e);if(n!==null){if(e=n.tag,e===13){if(e=w2(n),e!==null){t.blockedOn=e,k2(t.priority,function(){M2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=C1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return e=Gd(n),e!==null&&Tb(e),t.blockedOn=n,!1;e.shift()}return!0}function XI(t,e,n){tm(t)&&n.delete(e)}function CB(){_1=!1,ba!==null&&tm(ba)&&(ba=null),_a!==null&&tm(_a)&&(_a=null),Ca!==null&&tm(Ca)&&(Ca=null),$f.forEach(XI),Yf.forEach(XI)}function zh(t,e){t.blockedOn===e&&(t.blockedOn=null,_1||(_1=!0,$i.unstable_scheduleCallback($i.unstable_NormalPriority,CB)))}function Xf(t){function e(i){return zh(i,t)}if(0<bg.length){zh(bg[0],t);for(var n=1;n<bg.length;n++){var r=bg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ba!==null&&zh(ba,t),_a!==null&&zh(_a,t),Ca!==null&&zh(Ca,t),$f.forEach(e),Yf.forEach(e),n=0;n<ca.length;n++)r=ca[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ca.length&&(n=ca[0],n.blockedOn===null);)A2(n),n.blockedOn===null&&ca.shift()}var _c=$s.ReactCurrentBatchConfig,km=!0;function xB(t,e,n,r){var i=Cn,o=_c.transition;_c.transition=null;try{Cn=1,Mb(t,e,n,r)}finally{Cn=i,_c.transition=o}}function IB(t,e,n,r){var i=Cn,o=_c.transition;_c.transition=null;try{Cn=4,Mb(t,e,n,r)}finally{Cn=i,_c.transition=o}}function Mb(t,e,n,r){if(km){var i=C1(t,e,n,r);if(i===null)V0(t,e,r,Am,n),YI(t,r);else if(_B(i,t,e,n,r))r.stopPropagation();else if(YI(t,r),e&4&&-1<bB.indexOf(t)){for(;i!==null;){var o=Gd(i);if(o!==null&&T2(o),o=C1(t,e,n,r),o===null&&V0(t,e,r,Am,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else V0(t,e,r,null,n)}}var Am=null;function C1(t,e,n,r){if(Am=null,t=xb(r),t=Nl(t),t!==null)if(e=Su(t),e===null)t=null;else if(n=e.tag,n===13){if(t=w2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Am=t,null}function D2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fB()){case Ib:return 1;case C2:return 4;case Mm:case dB:return 16;case x2:return 536870912;default:return 16}default:return 16}}var pa=null,Ob=null,nm=null;function P2(){if(nm)return nm;var t,e=Ob,n=e.length,r,i="value"in pa?pa.value:pa.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return nm=i.slice(t,1<r?1-r:void 0)}function rm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _g(){return!0}function KI(){return!1}function Zi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_g:KI,this.isPropagationStopped=KI,this}return Kn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_g)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_g)},persist:function(){},isPersistent:_g}),e}var oh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kb=Zi(oh),Vd=Kn({},oh,{view:0,detail:0}),EB=Zi(Vd),R0,L0,Bh,Hv=Kn({},Vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ab,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bh&&(Bh&&t.type==="mousemove"?(R0=t.screenX-Bh.screenX,L0=t.screenY-Bh.screenY):L0=R0=0,Bh=t),R0)},movementY:function(t){return"movementY"in t?t.movementY:L0}}),ZI=Zi(Hv),TB=Kn({},Hv,{dataTransfer:0}),MB=Zi(TB),OB=Kn({},Vd,{relatedTarget:0}),j0=Zi(OB),kB=Kn({},oh,{animationName:0,elapsedTime:0,pseudoElement:0}),AB=Zi(kB),DB=Kn({},oh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PB=Zi(DB),NB=Kn({},oh,{data:0}),QI=Zi(NB),RB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FB(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jB[t])?!!e[t]:!1}function Ab(){return FB}var zB=Kn({},Vd,{key:function(t){if(t.key){var e=RB[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LB[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ab,charCode:function(t){return t.type==="keypress"?rm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BB=Zi(zB),UB=Kn({},Hv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JI=Zi(UB),HB=Kn({},Vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ab}),WB=Zi(HB),VB=Kn({},oh,{propertyName:0,elapsedTime:0,pseudoElement:0}),GB=Zi(VB),$B=Kn({},Hv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YB=Zi($B),XB=[9,13,27,32],Db=zs&&"CompositionEvent"in window,bf=null;zs&&"documentMode"in document&&(bf=document.documentMode);var KB=zs&&"TextEvent"in window&&!bf,N2=zs&&(!Db||bf&&8<bf&&11>=bf),qI=String.fromCharCode(32),eE=!1;function R2(t,e){switch(t){case"keyup":return XB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sc=!1;function ZB(t,e){switch(t){case"compositionend":return L2(e);case"keypress":return e.which!==32?null:(eE=!0,qI);case"textInput":return t=e.data,t===qI&&eE?null:t;default:return null}}function QB(t,e){if(sc)return t==="compositionend"||!Db&&R2(t,e)?(t=P2(),nm=Ob=pa=null,sc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return N2&&e.locale!=="ko"?null:e.data;default:return null}}var JB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JB[t.type]:e==="textarea"}function j2(t,e,n,r){p2(r),e=Dm(e,"onChange"),0<e.length&&(n=new kb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _f=null,Kf=null;function qB(t){X2(t,0)}function Wv(t){var e=uc(t);if(a2(e))return t}function eU(t,e){if(t==="change")return e}var F2=!1;if(zs){var F0;if(zs){var z0="oninput"in document;if(!z0){var nE=document.createElement("div");nE.setAttribute("oninput","return;"),z0=typeof nE.oninput=="function"}F0=z0}else F0=!1;F2=F0&&(!document.documentMode||9<document.documentMode)}function rE(){_f&&(_f.detachEvent("onpropertychange",z2),Kf=_f=null)}function z2(t){if(t.propertyName==="value"&&Wv(Kf)){var e=[];j2(e,Kf,t,xb(t)),y2(qB,e)}}function tU(t,e,n){t==="focusin"?(rE(),_f=e,Kf=n,_f.attachEvent("onpropertychange",z2)):t==="focusout"&&rE()}function nU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wv(Kf)}function rU(t,e){if(t==="click")return Wv(e)}function iU(t,e){if(t==="input"||t==="change")return Wv(e)}function oU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ao=typeof Object.is=="function"?Object.is:oU;function Zf(t,e){if(Ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!o1.call(e,i)||!Ao(t[i],e[i]))return!1}return!0}function iE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oE(t,e){var n=iE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iE(n)}}function B2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U2(){for(var t=window,e=Im();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Im(t.document)}return e}function Pb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sU(t){var e=U2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B2(n.ownerDocument.documentElement,n)){if(r!==null&&Pb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oE(n,o);var s=oE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aU=zs&&"documentMode"in document&&11>=document.documentMode,ac=null,x1=null,Cf=null,I1=!1;function sE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;I1||ac==null||ac!==Im(r)||(r=ac,"selectionStart"in r&&Pb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cf&&Zf(Cf,r)||(Cf=r,r=Dm(x1,"onSelect"),0<r.length&&(e=new kb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ac)))}function Cg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lc={animationend:Cg("Animation","AnimationEnd"),animationiteration:Cg("Animation","AnimationIteration"),animationstart:Cg("Animation","AnimationStart"),transitionend:Cg("Transition","TransitionEnd")},B0={},H2={};zs&&(H2=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function Vv(t){if(B0[t])return B0[t];if(!lc[t])return t;var e=lc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in H2)return B0[t]=e[n];return t}var W2=Vv("animationend"),V2=Vv("animationiteration"),G2=Vv("animationstart"),$2=Vv("transitionend"),Y2=new Map,aE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(t,e){Y2.set(t,e),wu(e,[t])}for(var U0=0;U0<aE.length;U0++){var H0=aE[U0],lU=H0.toLowerCase(),uU=H0[0].toUpperCase()+H0.slice(1);Za(lU,"on"+uU)}Za(W2,"onAnimationEnd");Za(V2,"onAnimationIteration");Za(G2,"onAnimationStart");Za("dblclick","onDoubleClick");Za("focusin","onFocus");Za("focusout","onBlur");Za($2,"onTransitionEnd");Pc("onMouseEnter",["mouseout","mouseover"]);Pc("onMouseLeave",["mouseout","mouseover"]);Pc("onPointerEnter",["pointerout","pointerover"]);Pc("onPointerLeave",["pointerout","pointerover"]);wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cU=new Set("cancel close invalid load scroll toggle".split(" ").concat(cf));function lE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lB(r,e,void 0,t),t.currentTarget=null}function X2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],m=a.instance,u=a.currentTarget;if(a=a.listener,m!==o&&i.isPropagationStopped())break e;lE(i,a,u),o=m}else for(s=0;s<r.length;s++){if(a=r[s],m=a.instance,u=a.currentTarget,a=a.listener,m!==o&&i.isPropagationStopped())break e;lE(i,a,u),o=m}}}if(Tm)throw t=S1,Tm=!1,S1=null,t}function Ln(t,e){var n=e[k1];n===void 0&&(n=e[k1]=new Set);var r=t+"__bubble";n.has(r)||(K2(e,t,2,!1),n.add(r))}function W0(t,e,n){var r=0;e&&(r|=4),K2(n,t,r,e)}var xg="_reactListening"+Math.random().toString(36).slice(2);function Qf(t){if(!t[xg]){t[xg]=!0,n2.forEach(function(n){n!=="selectionchange"&&(cU.has(n)||W0(n,!1,t),W0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xg]||(e[xg]=!0,W0("selectionchange",!1,e))}}function K2(t,e,n,r){switch(D2(e)){case 1:var i=xB;break;case 4:i=IB;break;default:i=Mb}n=i.bind(null,e,n,t),i=void 0,!w1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function V0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var m=s.tag;if((m===3||m===4)&&(m=s.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Nl(a),s===null)return;if(m=s.tag,m===5||m===6){r=o=s;continue e}a=a.parentNode}}r=r.return}y2(function(){var u=o,d=xb(n),E=[];e:{var I=Y2.get(t);if(I!==void 0){var O=kb,A=t;switch(t){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":O=BB;break;case"focusin":A="focus",O=j0;break;case"focusout":A="blur",O=j0;break;case"beforeblur":case"afterblur":O=j0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=ZI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=MB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=WB;break;case W2:case V2:case G2:O=AB;break;case $2:O=GB;break;case"scroll":O=EB;break;case"wheel":O=YB;break;case"copy":case"cut":case"paste":O=PB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=JI}var D=(e&4)!==0,v=!D&&t==="scroll",l=D?I!==null?I+"Capture":null:I;D=[];for(var c=u,f;c!==null;){f=c;var h=f.stateNode;if(f.tag===5&&h!==null&&(f=h,l!==null&&(h=Gf(c,l),h!=null&&D.push(Jf(c,h,f)))),v)break;c=c.return}0<D.length&&(I=new O(I,A,null,n,d),E.push({event:I,listeners:D}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",I&&n!==v1&&(A=n.relatedTarget||n.fromElement)&&(Nl(A)||A[Bs]))break e;if((O||I)&&(I=d.window===d?d:(I=d.ownerDocument)?I.defaultView||I.parentWindow:window,O?(A=n.relatedTarget||n.toElement,O=u,A=A?Nl(A):null,A!==null&&(v=Su(A),A!==v||A.tag!==5&&A.tag!==6)&&(A=null)):(O=null,A=u),O!==A)){if(D=ZI,h="onMouseLeave",l="onMouseEnter",c="mouse",(t==="pointerout"||t==="pointerover")&&(D=JI,h="onPointerLeave",l="onPointerEnter",c="pointer"),v=O==null?I:uc(O),f=A==null?I:uc(A),I=new D(h,c+"leave",O,n,d),I.target=v,I.relatedTarget=f,h=null,Nl(d)===u&&(D=new D(l,c+"enter",A,n,d),D.target=f,D.relatedTarget=v,h=D),v=h,O&&A)t:{for(D=O,l=A,c=0,f=D;f;f=Xu(f))c++;for(f=0,h=l;h;h=Xu(h))f++;for(;0<c-f;)D=Xu(D),c--;for(;0<f-c;)l=Xu(l),f--;for(;c--;){if(D===l||l!==null&&D===l.alternate)break t;D=Xu(D),l=Xu(l)}D=null}else D=null;O!==null&&uE(E,I,O,D,!1),A!==null&&v!==null&&uE(E,v,A,D,!0)}}e:{if(I=u?uc(u):window,O=I.nodeName&&I.nodeName.toLowerCase(),O==="select"||O==="input"&&I.type==="file")var p=eU;else if(tE(I))if(F2)p=iU;else{p=nU;var g=tU}else(O=I.nodeName)&&O.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(p=rU);if(p&&(p=p(t,u))){j2(E,p,n,d);break e}g&&g(t,I,u),t==="focusout"&&(g=I._wrapperState)&&g.controlled&&I.type==="number"&&f1(I,"number",I.value)}switch(g=u?uc(u):window,t){case"focusin":(tE(g)||g.contentEditable==="true")&&(ac=g,x1=u,Cf=null);break;case"focusout":Cf=x1=ac=null;break;case"mousedown":I1=!0;break;case"contextmenu":case"mouseup":case"dragend":I1=!1,sE(E,n,d);break;case"selectionchange":if(aU)break;case"keydown":case"keyup":sE(E,n,d)}var y;if(Db)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else sc?R2(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(N2&&n.locale!=="ko"&&(sc||_!=="onCompositionStart"?_==="onCompositionEnd"&&sc&&(y=P2()):(pa=d,Ob="value"in pa?pa.value:pa.textContent,sc=!0)),g=Dm(u,_),0<g.length&&(_=new QI(_,t,null,n,d),E.push({event:_,listeners:g}),y?_.data=y:(y=L2(n),y!==null&&(_.data=y)))),(y=KB?ZB(t,n):QB(t,n))&&(u=Dm(u,"onBeforeInput"),0<u.length&&(d=new QI("onBeforeInput","beforeinput",null,n,d),E.push({event:d,listeners:u}),d.data=y))}X2(E,e)})}function Jf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gf(t,n),o!=null&&r.unshift(Jf(t,o,i)),o=Gf(t,e),o!=null&&r.push(Jf(t,o,i))),t=t.return}return r}function Xu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,m=a.alternate,u=a.stateNode;if(m!==null&&m===r)break;a.tag===5&&u!==null&&(a=u,i?(m=Gf(n,o),m!=null&&s.unshift(Jf(n,m,a))):i||(m=Gf(n,o),m!=null&&s.push(Jf(n,m,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var hU=/\r\n?/g,fU=/\u0000|\uFFFD/g;function cE(t){return(typeof t=="string"?t:""+t).replace(hU,`
`).replace(fU,"")}function Ig(t,e,n){if(e=cE(e),cE(t)!==e&&n)throw Error(ut(425))}function Pm(){}var E1=null,T1=null;function M1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,dU=typeof clearTimeout=="function"?clearTimeout:void 0,hE=typeof Promise=="function"?Promise:void 0,pU=typeof queueMicrotask=="function"?queueMicrotask:typeof hE<"u"?function(t){return hE.resolve(null).then(t).catch(gU)}:O1;function gU(t){setTimeout(function(){throw t})}function G0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xf(e)}function xa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sh=Math.random().toString(36).slice(2),Zo="__reactFiber$"+sh,qf="__reactProps$"+sh,Bs="__reactContainer$"+sh,k1="__reactEvents$"+sh,mU="__reactListeners$"+sh,vU="__reactHandles$"+sh;function Nl(t){var e=t[Zo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bs]||n[Zo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fE(t);t!==null;){if(n=t[Zo])return n;t=fE(t)}return e}t=n,n=t.parentNode}return null}function Gd(t){return t=t[Zo]||t[Bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ut(33))}function Gv(t){return t[qf]||null}var A1=[],cc=-1;function Qa(t){return{current:t}}function Bn(t){0>cc||(t.current=A1[cc],A1[cc]=null,cc--)}function Pn(t,e){cc++,A1[cc]=t.current,t.current=e}var Na={},ii=Qa(Na),Oi=Qa(!1),Ql=Na;function Nc(t,e){var n=t.type.contextTypes;if(!n)return Na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ki(t){return t=t.childContextTypes,t!=null}function Nm(){Bn(Oi),Bn(ii)}function dE(t,e,n){if(ii.current!==Na)throw Error(ut(168));Pn(ii,e),Pn(Oi,n)}function Z2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ut(108,tB(t)||"Unknown",i));return Kn({},n,r)}function Rm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Na,Ql=ii.current,Pn(ii,t),Pn(Oi,Oi.current),!0}function pE(t,e,n){var r=t.stateNode;if(!r)throw Error(ut(169));n?(t=Z2(t,e,Ql),r.__reactInternalMemoizedMergedChildContext=t,Bn(Oi),Bn(ii),Pn(ii,t)):Bn(Oi),Pn(Oi,n)}var Ts=null,$v=!1,$0=!1;function Q2(t){Ts===null?Ts=[t]:Ts.push(t)}function yU(t){$v=!0,Q2(t)}function Ja(){if(!$0&&Ts!==null){$0=!0;var t=0,e=Cn;try{var n=Ts;for(Cn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ts=null,$v=!1}catch(i){throw Ts!==null&&(Ts=Ts.slice(t+1)),_2(Ib,Ja),i}finally{Cn=e,$0=!1}}return null}var hc=[],fc=0,Lm=null,jm=0,oo=[],so=0,Jl=null,Ms=1,Os="";function bl(t,e){hc[fc++]=jm,hc[fc++]=Lm,Lm=t,jm=e}function J2(t,e,n){oo[so++]=Ms,oo[so++]=Os,oo[so++]=Jl,Jl=t;var r=Ms;t=Os;var i=32-Mo(r)-1;r&=~(1<<i),n+=1;var o=32-Mo(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ms=1<<32-Mo(e)+i|n<<i|r,Os=o+t}else Ms=1<<o|n<<i|r,Os=t}function Nb(t){t.return!==null&&(bl(t,1),J2(t,1,0))}function Rb(t){for(;t===Lm;)Lm=hc[--fc],hc[fc]=null,jm=hc[--fc],hc[fc]=null;for(;t===Jl;)Jl=oo[--so],oo[so]=null,Os=oo[--so],oo[so]=null,Ms=oo[--so],oo[so]=null}var Gi=null,Ui=null,Wn=!1,Eo=null;function q2(t,e){var n=lo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gi=t,Ui=xa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jl!==null?{id:Ms,overflow:Os}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gi=t,Ui=null,!0):!1;default:return!1}}function D1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function P1(t){if(Wn){var e=Ui;if(e){var n=e;if(!gE(t,e)){if(D1(t))throw Error(ut(418));e=xa(n.nextSibling);var r=Gi;e&&gE(t,e)?q2(r,n):(t.flags=t.flags&-4097|2,Wn=!1,Gi=t)}}else{if(D1(t))throw Error(ut(418));t.flags=t.flags&-4097|2,Wn=!1,Gi=t}}}function mE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gi=t}function Eg(t){if(t!==Gi)return!1;if(!Wn)return mE(t),Wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!M1(t.type,t.memoizedProps)),e&&(e=Ui)){if(D1(t))throw eA(),Error(ut(418));for(;e;)q2(t,e),e=xa(e.nextSibling)}if(mE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ut(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=xa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=Gi?xa(t.stateNode.nextSibling):null;return!0}function eA(){for(var t=Ui;t;)t=xa(t.nextSibling)}function Rc(){Ui=Gi=null,Wn=!1}function Lb(t){Eo===null?Eo=[t]:Eo.push(t)}var wU=$s.ReactCurrentBatchConfig;function Co(t,e){if(t&&t.defaultProps){e=Kn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fm=Qa(null),zm=null,dc=null,jb=null;function Fb(){jb=dc=zm=null}function zb(t){var e=Fm.current;Bn(Fm),t._currentValue=e}function N1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cc(t,e){zm=t,jb=dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xi=!0),t.firstContext=null)}function fo(t){var e=t._currentValue;if(jb!==t)if(t={context:t,memoizedValue:e,next:null},dc===null){if(zm===null)throw Error(ut(308));dc=t,zm.dependencies={lanes:0,firstContext:t}}else dc=dc.next=t;return e}var Rl=null;function Bb(t){Rl===null?Rl=[t]:Rl.push(t)}function tA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Us(t,r)}function Us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ua=!1;function Ub(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Us(t,n)}return i=r.interleaved,i===null?(e.next=e,Bb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Us(t,n)}function im(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eb(t,n)}}function vE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bm(t,e,n,r){var i=t.updateQueue;ua=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var m=a,u=m.next;m.next=null,s===null?o=u:s.next=u,s=m;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=m))}if(o!==null){var E=i.baseState;s=0,d=u=m=null,a=o;do{var I=a.lane,O=a.eventTime;if((r&I)===I){d!==null&&(d=d.next={eventTime:O,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,D=a;switch(I=e,O=n,D.tag){case 1:if(A=D.payload,typeof A=="function"){E=A.call(O,E,I);break e}E=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=D.payload,I=typeof A=="function"?A.call(O,E,I):A,I==null)break e;E=Kn({},E,I);break e;case 2:ua=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,I=i.effects,I===null?i.effects=[a]:I.push(a))}else O={eventTime:O,lane:I,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=O,m=E):d=d.next=O,s|=I;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;I=a,a=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(1);if(d===null&&(m=E),i.baseState=m,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);eu|=s,t.lanes=s,t.memoizedState=E}}function yE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ut(191,i));i.call(r)}}}var rA=new t2.Component().refs;function R1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Kn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yv={isMounted:function(t){return(t=t._reactInternals)?Su(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=di(),i=Ta(t),o=Rs(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ia(t,o,i),e!==null&&(Oo(e,t,i,r),im(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=di(),i=Ta(t),o=Rs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ia(t,o,i),e!==null&&(Oo(e,t,i,r),im(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=di(),r=Ta(t),i=Rs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ia(t,i,r),e!==null&&(Oo(e,t,r,n),im(e,t,r))}};function wE(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Zf(n,r)||!Zf(i,o):!0}function iA(t,e,n){var r=!1,i=Na,o=e.contextType;return typeof o=="object"&&o!==null?o=fo(o):(i=ki(e)?Ql:ii.current,r=e.contextTypes,o=(r=r!=null)?Nc(t,i):Na),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function SE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yv.enqueueReplaceState(e,e.state,null)}function L1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=rA,Ub(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=fo(o):(o=ki(e)?Ql:ii.current,i.context=Nc(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(R1(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yv.enqueueReplaceState(i,i.state,null),Bm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ut(309));var r=n.stateNode}if(!r)throw Error(ut(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===rA&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ut(284));if(!n._owner)throw Error(ut(290,t))}return t}function Tg(t,e){throw t=Object.prototype.toString.call(e),Error(ut(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bE(t){var e=t._init;return e(t._payload)}function oA(t){function e(l,c){if(t){var f=l.deletions;f===null?(l.deletions=[c],l.flags|=16):f.push(c)}}function n(l,c){if(!t)return null;for(;c!==null;)e(l,c),c=c.sibling;return null}function r(l,c){for(l=new Map;c!==null;)c.key!==null?l.set(c.key,c):l.set(c.index,c),c=c.sibling;return l}function i(l,c){return l=Ma(l,c),l.index=0,l.sibling=null,l}function o(l,c,f){return l.index=f,t?(f=l.alternate,f!==null?(f=f.index,f<c?(l.flags|=2,c):f):(l.flags|=2,c)):(l.flags|=1048576,c)}function s(l){return t&&l.alternate===null&&(l.flags|=2),l}function a(l,c,f,h){return c===null||c.tag!==6?(c=q0(f,l.mode,h),c.return=l,c):(c=i(c,f),c.return=l,c)}function m(l,c,f,h){var p=f.type;return p===oc?d(l,c,f.props.children,h,f.key):c!==null&&(c.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===la&&bE(p)===c.type)?(h=i(c,f.props),h.ref=Uh(l,c,f),h.return=l,h):(h=cm(f.type,f.key,f.props,null,l.mode,h),h.ref=Uh(l,c,f),h.return=l,h)}function u(l,c,f,h){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=ew(f,l.mode,h),c.return=l,c):(c=i(c,f.children||[]),c.return=l,c)}function d(l,c,f,h,p){return c===null||c.tag!==7?(c=Wl(f,l.mode,h,p),c.return=l,c):(c=i(c,f),c.return=l,c)}function E(l,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=q0(""+c,l.mode,f),c.return=l,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case mg:return f=cm(c.type,c.key,c.props,null,l.mode,f),f.ref=Uh(l,null,c),f.return=l,f;case ic:return c=ew(c,l.mode,f),c.return=l,c;case la:var h=c._init;return E(l,h(c._payload),f)}if(lf(c)||Lh(c))return c=Wl(c,l.mode,f,null),c.return=l,c;Tg(l,c)}return null}function I(l,c,f,h){var p=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return p!==null?null:a(l,c,""+f,h);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case mg:return f.key===p?m(l,c,f,h):null;case ic:return f.key===p?u(l,c,f,h):null;case la:return p=f._init,I(l,c,p(f._payload),h)}if(lf(f)||Lh(f))return p!==null?null:d(l,c,f,h,null);Tg(l,f)}return null}function O(l,c,f,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return l=l.get(f)||null,a(c,l,""+h,p);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case mg:return l=l.get(h.key===null?f:h.key)||null,m(c,l,h,p);case ic:return l=l.get(h.key===null?f:h.key)||null,u(c,l,h,p);case la:var g=h._init;return O(l,c,f,g(h._payload),p)}if(lf(h)||Lh(h))return l=l.get(f)||null,d(c,l,h,p,null);Tg(c,h)}return null}function A(l,c,f,h){for(var p=null,g=null,y=c,_=c=0,w=null;y!==null&&_<f.length;_++){y.index>_?(w=y,y=null):w=y.sibling;var T=I(l,y,f[_],h);if(T===null){y===null&&(y=w);break}t&&y&&T.alternate===null&&e(l,y),c=o(T,c,_),g===null?p=T:g.sibling=T,g=T,y=w}if(_===f.length)return n(l,y),Wn&&bl(l,_),p;if(y===null){for(;_<f.length;_++)y=E(l,f[_],h),y!==null&&(c=o(y,c,_),g===null?p=y:g.sibling=y,g=y);return Wn&&bl(l,_),p}for(y=r(l,y);_<f.length;_++)w=O(y,l,_,f[_],h),w!==null&&(t&&w.alternate!==null&&y.delete(w.key===null?_:w.key),c=o(w,c,_),g===null?p=w:g.sibling=w,g=w);return t&&y.forEach(function(k){return e(l,k)}),Wn&&bl(l,_),p}function D(l,c,f,h){var p=Lh(f);if(typeof p!="function")throw Error(ut(150));if(f=p.call(f),f==null)throw Error(ut(151));for(var g=p=null,y=c,_=c=0,w=null,T=f.next();y!==null&&!T.done;_++,T=f.next()){y.index>_?(w=y,y=null):w=y.sibling;var k=I(l,y,T.value,h);if(k===null){y===null&&(y=w);break}t&&y&&k.alternate===null&&e(l,y),c=o(k,c,_),g===null?p=k:g.sibling=k,g=k,y=w}if(T.done)return n(l,y),Wn&&bl(l,_),p;if(y===null){for(;!T.done;_++,T=f.next())T=E(l,T.value,h),T!==null&&(c=o(T,c,_),g===null?p=T:g.sibling=T,g=T);return Wn&&bl(l,_),p}for(y=r(l,y);!T.done;_++,T=f.next())T=O(y,l,_,T.value,h),T!==null&&(t&&T.alternate!==null&&y.delete(T.key===null?_:T.key),c=o(T,c,_),g===null?p=T:g.sibling=T,g=T);return t&&y.forEach(function(P){return e(l,P)}),Wn&&bl(l,_),p}function v(l,c,f,h){if(typeof f=="object"&&f!==null&&f.type===oc&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case mg:e:{for(var p=f.key,g=c;g!==null;){if(g.key===p){if(p=f.type,p===oc){if(g.tag===7){n(l,g.sibling),c=i(g,f.props.children),c.return=l,l=c;break e}}else if(g.elementType===p||typeof p=="object"&&p!==null&&p.$$typeof===la&&bE(p)===g.type){n(l,g.sibling),c=i(g,f.props),c.ref=Uh(l,g,f),c.return=l,l=c;break e}n(l,g);break}else e(l,g);g=g.sibling}f.type===oc?(c=Wl(f.props.children,l.mode,h,f.key),c.return=l,l=c):(h=cm(f.type,f.key,f.props,null,l.mode,h),h.ref=Uh(l,c,f),h.return=l,l=h)}return s(l);case ic:e:{for(g=f.key;c!==null;){if(c.key===g)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(l,c.sibling),c=i(c,f.children||[]),c.return=l,l=c;break e}else{n(l,c);break}else e(l,c);c=c.sibling}c=ew(f,l.mode,h),c.return=l,l=c}return s(l);case la:return g=f._init,v(l,c,g(f._payload),h)}if(lf(f))return A(l,c,f,h);if(Lh(f))return D(l,c,f,h);Tg(l,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(l,c.sibling),c=i(c,f),c.return=l,l=c):(n(l,c),c=q0(f,l.mode,h),c.return=l,l=c),s(l)):n(l,c)}return v}var Lc=oA(!0),sA=oA(!1),$d={},ls=Qa($d),ed=Qa($d),td=Qa($d);function Ll(t){if(t===$d)throw Error(ut(174));return t}function Hb(t,e){switch(Pn(td,e),Pn(ed,t),Pn(ls,$d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:p1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=p1(e,t)}Bn(ls),Pn(ls,e)}function jc(){Bn(ls),Bn(ed),Bn(td)}function aA(t){Ll(td.current);var e=Ll(ls.current),n=p1(e,t.type);e!==n&&(Pn(ed,t),Pn(ls,n))}function Wb(t){ed.current===t&&(Bn(ls),Bn(ed))}var Yn=Qa(0);function Um(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Y0=[];function Vb(){for(var t=0;t<Y0.length;t++)Y0[t]._workInProgressVersionPrimary=null;Y0.length=0}var om=$s.ReactCurrentDispatcher,X0=$s.ReactCurrentBatchConfig,ql=0,Xn=null,vr=null,Cr=null,Hm=!1,xf=!1,nd=0,SU=0;function Kr(){throw Error(ut(321))}function Gb(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ao(t[n],e[n]))return!1;return!0}function $b(t,e,n,r,i,o){if(ql=o,Xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,om.current=t===null||t.memoizedState===null?xU:IU,t=n(r,i),xf){o=0;do{if(xf=!1,nd=0,25<=o)throw Error(ut(301));o+=1,Cr=vr=null,e.updateQueue=null,om.current=EU,t=n(r,i)}while(xf)}if(om.current=Wm,e=vr!==null&&vr.next!==null,ql=0,Cr=vr=Xn=null,Hm=!1,e)throw Error(ut(300));return t}function Yb(){var t=nd!==0;return nd=0,t}function Ko(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Xn.memoizedState=Cr=t:Cr=Cr.next=t,Cr}function po(){if(vr===null){var t=Xn.alternate;t=t!==null?t.memoizedState:null}else t=vr.next;var e=Cr===null?Xn.memoizedState:Cr.next;if(e!==null)Cr=e,vr=t;else{if(t===null)throw Error(ut(310));vr=t,t={memoizedState:vr.memoizedState,baseState:vr.baseState,baseQueue:vr.baseQueue,queue:vr.queue,next:null},Cr===null?Xn.memoizedState=Cr=t:Cr=Cr.next=t}return Cr}function rd(t,e){return typeof e=="function"?e(t):e}function K0(t){var e=po(),n=e.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=t;var r=vr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,m=null,u=o;do{var d=u.lane;if((ql&d)===d)m!==null&&(m=m.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var E={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};m===null?(a=m=E,s=r):m=m.next=E,Xn.lanes|=d,eu|=d}u=u.next}while(u!==null&&u!==o);m===null?s=r:m.next=a,Ao(r,e.memoizedState)||(xi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=m,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Xn.lanes|=o,eu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Z0(t){var e=po(),n=e.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ao(o,e.memoizedState)||(xi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function lA(){}function uA(t,e){var n=Xn,r=po(),i=e(),o=!Ao(r.memoizedState,i);if(o&&(r.memoizedState=i,xi=!0),r=r.queue,Xb(fA.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Cr!==null&&Cr.memoizedState.tag&1){if(n.flags|=2048,id(9,hA.bind(null,n,r,i,e),void 0,null),Ir===null)throw Error(ut(349));ql&30||cA(n,e,i)}return i}function cA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hA(t,e,n,r){e.value=n,e.getSnapshot=r,dA(e)&&pA(t)}function fA(t,e,n){return n(function(){dA(e)&&pA(t)})}function dA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ao(t,n)}catch{return!0}}function pA(t){var e=Us(t,1);e!==null&&Oo(e,t,1,-1)}function _E(t){var e=Ko();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=CU.bind(null,Xn,t),[e.memoizedState,t]}function id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gA(){return po().memoizedState}function sm(t,e,n,r){var i=Ko();Xn.flags|=t,i.memoizedState=id(1|e,n,void 0,r===void 0?null:r)}function Xv(t,e,n,r){var i=po();r=r===void 0?null:r;var o=void 0;if(vr!==null){var s=vr.memoizedState;if(o=s.destroy,r!==null&&Gb(r,s.deps)){i.memoizedState=id(e,n,o,r);return}}Xn.flags|=t,i.memoizedState=id(1|e,n,o,r)}function CE(t,e){return sm(8390656,8,t,e)}function Xb(t,e){return Xv(2048,8,t,e)}function mA(t,e){return Xv(4,2,t,e)}function vA(t,e){return Xv(4,4,t,e)}function yA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wA(t,e,n){return n=n!=null?n.concat([t]):null,Xv(4,4,yA.bind(null,e,t),n)}function Kb(){}function SA(t,e){var n=po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gb(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bA(t,e){var n=po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gb(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function _A(t,e,n){return ql&21?(Ao(n,e)||(n=I2(),Xn.lanes|=n,eu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xi=!0),t.memoizedState=n)}function bU(t,e){var n=Cn;Cn=n!==0&&4>n?n:4,t(!0);var r=X0.transition;X0.transition={};try{t(!1),e()}finally{Cn=n,X0.transition=r}}function CA(){return po().memoizedState}function _U(t,e,n){var r=Ta(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xA(t))IA(e,n);else if(n=tA(t,e,n,r),n!==null){var i=di();Oo(n,t,r,i),EA(n,e,r)}}function CU(t,e,n){var r=Ta(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xA(t))IA(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ao(a,s)){var m=e.interleaved;m===null?(i.next=i,Bb(e)):(i.next=m.next,m.next=i),e.interleaved=i;return}}catch{}finally{}n=tA(t,e,i,r),n!==null&&(i=di(),Oo(n,t,r,i),EA(n,e,r))}}function xA(t){var e=t.alternate;return t===Xn||e!==null&&e===Xn}function IA(t,e){xf=Hm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Eb(t,n)}}var Wm={readContext:fo,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},xU={readContext:fo,useCallback:function(t,e){return Ko().memoizedState=[t,e===void 0?null:e],t},useContext:fo,useEffect:CE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sm(4194308,4,yA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sm(4194308,4,t,e)},useInsertionEffect:function(t,e){return sm(4,2,t,e)},useMemo:function(t,e){var n=Ko();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ko();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_U.bind(null,Xn,t),[r.memoizedState,t]},useRef:function(t){var e=Ko();return t={current:t},e.memoizedState=t},useState:_E,useDebugValue:Kb,useDeferredValue:function(t){return Ko().memoizedState=t},useTransition:function(){var t=_E(!1),e=t[0];return t=bU.bind(null,t[1]),Ko().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xn,i=Ko();if(Wn){if(n===void 0)throw Error(ut(407));n=n()}else{if(n=e(),Ir===null)throw Error(ut(349));ql&30||cA(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,CE(fA.bind(null,r,o,t),[t]),r.flags|=2048,id(9,hA.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ko(),e=Ir.identifierPrefix;if(Wn){var n=Os,r=Ms;n=(r&~(1<<32-Mo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IU={readContext:fo,useCallback:SA,useContext:fo,useEffect:Xb,useImperativeHandle:wA,useInsertionEffect:mA,useLayoutEffect:vA,useMemo:bA,useReducer:K0,useRef:gA,useState:function(){return K0(rd)},useDebugValue:Kb,useDeferredValue:function(t){var e=po();return _A(e,vr.memoizedState,t)},useTransition:function(){var t=K0(rd)[0],e=po().memoizedState;return[t,e]},useMutableSource:lA,useSyncExternalStore:uA,useId:CA,unstable_isNewReconciler:!1},EU={readContext:fo,useCallback:SA,useContext:fo,useEffect:Xb,useImperativeHandle:wA,useInsertionEffect:mA,useLayoutEffect:vA,useMemo:bA,useReducer:Z0,useRef:gA,useState:function(){return Z0(rd)},useDebugValue:Kb,useDeferredValue:function(t){var e=po();return vr===null?e.memoizedState=t:_A(e,vr.memoizedState,t)},useTransition:function(){var t=Z0(rd)[0],e=po().memoizedState;return[t,e]},useMutableSource:lA,useSyncExternalStore:uA,useId:CA,unstable_isNewReconciler:!1};function Fc(t,e){try{var n="",r=e;do n+=eB(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Q0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function j1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TU=typeof WeakMap=="function"?WeakMap:Map;function TA(t,e,n){n=Rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gm||(Gm=!0,Y1=r),j1(t,e)},n}function MA(t,e,n){n=Rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){j1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){j1(t,e),typeof r!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function xE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UU.bind(null,t,e,n),e.then(t,t))}function IE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function EE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rs(-1,1),e.tag=2,Ia(n,e,1))),n.lanes|=1),t)}var MU=$s.ReactCurrentOwner,xi=!1;function ui(t,e,n,r){e.child=t===null?sA(e,null,n,r):Lc(e,t.child,n,r)}function TE(t,e,n,r,i){n=n.render;var o=e.ref;return Cc(e,i),r=$b(t,e,n,r,o,i),n=Yb(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i)):(Wn&&n&&Nb(e),e.flags|=1,ui(t,e,r,i),e.child)}function ME(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!r_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,OA(t,e,o,r,i)):(t=cm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Zf,n(s,r)&&t.ref===e.ref)return Hs(t,e,i)}return e.flags|=1,t=Ma(o,r),t.ref=e.ref,t.return=e,e.child=t}function OA(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Zf(o,r)&&t.ref===e.ref)if(xi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xi=!0);else return e.lanes=t.lanes,Hs(t,e,i)}return F1(t,e,n,r,i)}function kA(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(gc,zi),zi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pn(gc,zi),zi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pn(gc,zi),zi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pn(gc,zi),zi|=r;return ui(t,e,i,n),e.child}function AA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function F1(t,e,n,r,i){var o=ki(n)?Ql:ii.current;return o=Nc(e,o),Cc(e,i),n=$b(t,e,n,r,o,i),r=Yb(),t!==null&&!xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i)):(Wn&&r&&Nb(e),e.flags|=1,ui(t,e,n,i),e.child)}function OE(t,e,n,r,i){if(ki(n)){var o=!0;Rm(e)}else o=!1;if(Cc(e,i),e.stateNode===null)am(t,e),iA(e,n,r),L1(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var m=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=fo(u):(u=ki(n)?Ql:ii.current,u=Nc(e,u));var d=n.getDerivedStateFromProps,E=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";E||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||m!==u)&&SE(e,s,r,u),ua=!1;var I=e.memoizedState;s.state=I,Bm(e,r,s,i),m=e.memoizedState,a!==r||I!==m||Oi.current||ua?(typeof d=="function"&&(R1(e,n,d,r),m=e.memoizedState),(a=ua||wE(e,n,a,r,I,m,u))?(E||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,nA(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Co(e.type,a),s.props=u,E=e.pendingProps,I=s.context,m=n.contextType,typeof m=="object"&&m!==null?m=fo(m):(m=ki(n)?Ql:ii.current,m=Nc(e,m));var O=n.getDerivedStateFromProps;(d=typeof O=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==E||I!==m)&&SE(e,s,r,m),ua=!1,I=e.memoizedState,s.state=I,Bm(e,r,s,i);var A=e.memoizedState;a!==E||I!==A||Oi.current||ua?(typeof O=="function"&&(R1(e,n,O,r),A=e.memoizedState),(u=ua||wE(e,n,u,r,I,A,m)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,m),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,m)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=m,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),r=!1)}return z1(t,e,n,r,o,i)}function z1(t,e,n,r,i,o){AA(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&pE(e,n,!1),Hs(t,e,o);r=e.stateNode,MU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Lc(e,t.child,null,o),e.child=Lc(e,null,a,o)):ui(t,e,a,o),e.memoizedState=r.state,i&&pE(e,n,!0),e.child}function DA(t){var e=t.stateNode;e.pendingContext?dE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dE(t,e.context,!1),Hb(t,e.containerInfo)}function kE(t,e,n,r,i){return Rc(),Lb(i),e.flags|=256,ui(t,e,n,r),e.child}var B1={dehydrated:null,treeContext:null,retryLane:0};function U1(t){return{baseLanes:t,cachePool:null,transitions:null}}function PA(t,e,n){var r=e.pendingProps,i=Yn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pn(Yn,i&1),t===null)return P1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qv(s,r,0,null),t=Wl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=U1(n),e.memoizedState=B1,t):Zb(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return OU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var m={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=m,e.deletions=null):(r=Ma(i,m),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ma(a,o):(o=Wl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?U1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=B1,r}return o=t.child,t=o.sibling,r=Ma(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zb(t,e){return e=Qv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mg(t,e,n,r){return r!==null&&Lb(r),Lc(e,t.child,null,n),t=Zb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Q0(Error(ut(422))),Mg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qv({mode:"visible",children:r.children},i,0,null),o=Wl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Lc(e,t.child,null,s),e.child.memoizedState=U1(s),e.memoizedState=B1,o);if(!(e.mode&1))return Mg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ut(419)),r=Q0(o,r,void 0),Mg(t,e,s,r)}if(a=(s&t.childLanes)!==0,xi||a){if(r=Ir,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Us(t,i),Oo(r,t,i,-1))}return n_(),r=Q0(Error(ut(421))),Mg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HU.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ui=xa(i.nextSibling),Gi=e,Wn=!0,Eo=null,t!==null&&(oo[so++]=Ms,oo[so++]=Os,oo[so++]=Jl,Ms=t.id,Os=t.overflow,Jl=e),e=Zb(e,r.children),e.flags|=4096,e)}function AE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),N1(t.return,e,n)}function J0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function NA(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ui(t,e,r.children,n),r=Yn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AE(t,n,e);else if(t.tag===19)AE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pn(Yn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Um(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),J0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Um(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}J0(e,!0,n,null,o);break;case"together":J0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function am(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),eu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ut(153));if(e.child!==null){for(t=e.child,n=Ma(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ma(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kU(t,e,n){switch(e.tag){case 3:DA(e),Rc();break;case 5:aA(e);break;case 1:ki(e.type)&&Rm(e);break;case 4:Hb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pn(Fm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pn(Yn,Yn.current&1),e.flags|=128,null):n&e.child.childLanes?PA(t,e,n):(Pn(Yn,Yn.current&1),t=Hs(t,e,n),t!==null?t.sibling:null);Pn(Yn,Yn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return NA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(Yn,Yn.current),r)break;return null;case 22:case 23:return e.lanes=0,kA(t,e,n)}return Hs(t,e,n)}var RA,H1,LA,jA;RA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};H1=function(){};LA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ll(ls.current);var o=null;switch(n){case"input":i=c1(t,i),r=c1(t,r),o=[];break;case"select":i=Kn({},i,{value:void 0}),r=Kn({},r,{value:void 0}),o=[];break;case"textarea":i=d1(t,i),r=d1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pm)}g1(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wf.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var m=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&m!==a&&(m!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||m&&m.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in m)m.hasOwnProperty(s)&&a[s]!==m[s]&&(n||(n={}),n[s]=m[s])}else n||(o||(o=[]),o.push(u,n)),n=m;else u==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,a=a?a.__html:void 0,m!=null&&a!==m&&(o=o||[]).push(u,m)):u==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(u,""+m):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wf.hasOwnProperty(u)?(m!=null&&u==="onScroll"&&Ln("scroll",t),o||a===m||(o=[])):(o=o||[]).push(u,m))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};jA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hh(t,e){if(!Wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AU(t,e,n){var r=e.pendingProps;switch(Rb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(e),null;case 1:return ki(e.type)&&Nm(),Zr(e),null;case 3:return r=e.stateNode,jc(),Bn(Oi),Bn(ii),Vb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Eo!==null&&(Z1(Eo),Eo=null))),H1(t,e),Zr(e),null;case 5:Wb(e);var i=Ll(td.current);if(n=e.type,t!==null&&e.stateNode!=null)LA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ut(166));return Zr(e),null}if(t=Ll(ls.current),Eg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Zo]=e,r[qf]=o,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<cf.length;i++)Ln(cf[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":BI(r,o),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ln("invalid",r);break;case"textarea":HI(r,o),Ln("invalid",r)}g1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ig(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ig(r.textContent,a,t),i=["children",""+a]):Wf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ln("scroll",r)}switch(n){case"input":vg(r),UI(r,o,!0);break;case"textarea":vg(r),WI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Pm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=c2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Zo]=e,t[qf]=r,RA(t,e,!1,!1),e.stateNode=t;e:{switch(s=m1(n,r),n){case"dialog":Ln("cancel",t),Ln("close",t),i=r;break;case"iframe":case"object":case"embed":Ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<cf.length;i++)Ln(cf[i],t);i=r;break;case"source":Ln("error",t),i=r;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),i=r;break;case"details":Ln("toggle",t),i=r;break;case"input":BI(t,r),i=c1(t,r),Ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Kn({},r,{value:void 0}),Ln("invalid",t);break;case"textarea":HI(t,r),i=d1(t,r),Ln("invalid",t);break;default:i=r}g1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var m=a[o];o==="style"?d2(t,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&h2(t,m)):o==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&Vf(t,m):typeof m=="number"&&Vf(t,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wf.hasOwnProperty(o)?m!=null&&o==="onScroll"&&Ln("scroll",t):m!=null&&Sb(t,o,m,s))}switch(n){case"input":vg(t),UI(t,r,!1);break;case"textarea":vg(t),WI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pa(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?wc(t,!!r.multiple,o,!1):r.defaultValue!=null&&wc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Pm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zr(e),null;case 6:if(t&&e.stateNode!=null)jA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ut(166));if(n=Ll(td.current),Ll(ls.current),Eg(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zo]=e,(o=r.nodeValue!==n)&&(t=Gi,t!==null))switch(t.tag){case 3:Ig(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ig(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zo]=e,e.stateNode=r}return Zr(e),null;case 13:if(Bn(Yn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Wn&&Ui!==null&&e.mode&1&&!(e.flags&128))eA(),Rc(),e.flags|=98560,o=!1;else if(o=Eg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ut(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ut(317));o[Zo]=e}else Rc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zr(e),o=!1}else Eo!==null&&(Z1(Eo),Eo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Yn.current&1?yr===0&&(yr=3):n_())),e.updateQueue!==null&&(e.flags|=4),Zr(e),null);case 4:return jc(),H1(t,e),t===null&&Qf(e.stateNode.containerInfo),Zr(e),null;case 10:return zb(e.type._context),Zr(e),null;case 17:return ki(e.type)&&Nm(),Zr(e),null;case 19:if(Bn(Yn),o=e.memoizedState,o===null)return Zr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Hh(o,!1);else{if(yr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Um(t),s!==null){for(e.flags|=128,Hh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pn(Yn,Yn.current&1|2),e.child}t=t.sibling}o.tail!==null&&ir()>zc&&(e.flags|=128,r=!0,Hh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Um(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Wn)return Zr(e),null}else 2*ir()-o.renderingStartTime>zc&&n!==1073741824&&(e.flags|=128,r=!0,Hh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ir(),e.sibling=null,n=Yn.current,Pn(Yn,r?n&1|2:n&1),e):(Zr(e),null);case 22:case 23:return t_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zi&1073741824&&(Zr(e),e.subtreeFlags&6&&(e.flags|=8192)):Zr(e),null;case 24:return null;case 25:return null}throw Error(ut(156,e.tag))}function DU(t,e){switch(Rb(e),e.tag){case 1:return ki(e.type)&&Nm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jc(),Bn(Oi),Bn(ii),Vb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wb(e),null;case 13:if(Bn(Yn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ut(340));Rc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn(Yn),null;case 4:return jc(),null;case 10:return zb(e.type._context),null;case 22:case 23:return t_(),null;case 24:return null;default:return null}}var Og=!1,ei=!1,PU=typeof WeakSet=="function"?WeakSet:Set,At=null;function pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){er(t,e,r)}else n.current=null}function W1(t,e,n){try{n()}catch(r){er(t,e,r)}}var DE=!1;function NU(t,e){if(E1=km,t=U2(),Pb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,m=-1,u=0,d=0,E=t,I=null;t:for(;;){for(var O;E!==n||i!==0&&E.nodeType!==3||(a=s+i),E!==o||r!==0&&E.nodeType!==3||(m=s+r),E.nodeType===3&&(s+=E.nodeValue.length),(O=E.firstChild)!==null;)I=E,E=O;for(;;){if(E===t)break t;if(I===n&&++u===i&&(a=s),I===o&&++d===r&&(m=s),(O=E.nextSibling)!==null)break;E=I,I=E.parentNode}E=O}n=a===-1||m===-1?null:{start:a,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(T1={focusedElem:t,selectionRange:n},km=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){e=At;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var D=A.memoizedProps,v=A.memoizedState,l=e.stateNode,c=l.getSnapshotBeforeUpdate(e.elementType===e.type?D:Co(e.type,D),v);l.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(h){er(e,e.return,h)}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}return A=DE,DE=!1,A}function If(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&W1(e,n,o)}i=i.next}while(i!==r)}}function Kv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function V1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function FA(t){var e=t.alternate;e!==null&&(t.alternate=null,FA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zo],delete e[qf],delete e[k1],delete e[mU],delete e[vU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zA(t){return t.tag===5||t.tag===3||t.tag===4}function PE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pm));else if(r!==4&&(t=t.child,t!==null))for(G1(t,e,n),t=t.sibling;t!==null;)G1(t,e,n),t=t.sibling}function $1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($1(t,e,n),t=t.sibling;t!==null;)$1(t,e,n),t=t.sibling}var Lr=null,Io=!1;function na(t,e,n){for(n=n.child;n!==null;)BA(t,e,n),n=n.sibling}function BA(t,e,n){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount(Uv,n)}catch{}switch(n.tag){case 5:ei||pc(n,e);case 6:var r=Lr,i=Io;Lr=null,na(t,e,n),Lr=r,Io=i,Lr!==null&&(Io?(t=Lr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lr.removeChild(n.stateNode));break;case 18:Lr!==null&&(Io?(t=Lr,n=n.stateNode,t.nodeType===8?G0(t.parentNode,n):t.nodeType===1&&G0(t,n),Xf(t)):G0(Lr,n.stateNode));break;case 4:r=Lr,i=Io,Lr=n.stateNode.containerInfo,Io=!0,na(t,e,n),Lr=r,Io=i;break;case 0:case 11:case 14:case 15:if(!ei&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&W1(n,e,s),i=i.next}while(i!==r)}na(t,e,n);break;case 1:if(!ei&&(pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){er(n,e,a)}na(t,e,n);break;case 21:na(t,e,n);break;case 22:n.mode&1?(ei=(r=ei)||n.memoizedState!==null,na(t,e,n),ei=r):na(t,e,n);break;default:na(t,e,n)}}function NE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PU),e.forEach(function(r){var i=WU.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function So(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Lr=a.stateNode,Io=!1;break e;case 3:Lr=a.stateNode.containerInfo,Io=!0;break e;case 4:Lr=a.stateNode.containerInfo,Io=!0;break e}a=a.return}if(Lr===null)throw Error(ut(160));BA(o,s,i),Lr=null,Io=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(u){er(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UA(e,t),e=e.sibling}function UA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(So(e,t),$o(t),r&4){try{If(3,t,t.return),Kv(3,t)}catch(D){er(t,t.return,D)}try{If(5,t,t.return)}catch(D){er(t,t.return,D)}}break;case 1:So(e,t),$o(t),r&512&&n!==null&&pc(n,n.return);break;case 5:if(So(e,t),$o(t),r&512&&n!==null&&pc(n,n.return),t.flags&32){var i=t.stateNode;try{Vf(i,"")}catch(D){er(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&l2(i,o),m1(a,s);var u=m1(a,o);for(s=0;s<m.length;s+=2){var d=m[s],E=m[s+1];d==="style"?d2(i,E):d==="dangerouslySetInnerHTML"?h2(i,E):d==="children"?Vf(i,E):Sb(i,d,E,u)}switch(a){case"input":h1(i,o);break;case"textarea":u2(i,o);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var O=o.value;O!=null?wc(i,!!o.multiple,O,!1):I!==!!o.multiple&&(o.defaultValue!=null?wc(i,!!o.multiple,o.defaultValue,!0):wc(i,!!o.multiple,o.multiple?[]:"",!1))}i[qf]=o}catch(D){er(t,t.return,D)}}break;case 6:if(So(e,t),$o(t),r&4){if(t.stateNode===null)throw Error(ut(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(D){er(t,t.return,D)}}break;case 3:if(So(e,t),$o(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xf(e.containerInfo)}catch(D){er(t,t.return,D)}break;case 4:So(e,t),$o(t);break;case 13:So(e,t),$o(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qb=ir())),r&4&&NE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ei=(u=ei)||d,So(e,t),ei=u):So(e,t),$o(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(At=t,d=t.child;d!==null;){for(E=At=d;At!==null;){switch(I=At,O=I.child,I.tag){case 0:case 11:case 14:case 15:If(4,I,I.return);break;case 1:pc(I,I.return);var A=I.stateNode;if(typeof A.componentWillUnmount=="function"){r=I,n=I.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(D){er(r,n,D)}}break;case 5:pc(I,I.return);break;case 22:if(I.memoizedState!==null){LE(E);continue}}O!==null?(O.return=I,At=O):LE(E)}d=d.sibling}e:for(d=null,E=t;;){if(E.tag===5){if(d===null){d=E;try{i=E.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=E.stateNode,m=E.memoizedProps.style,s=m!=null&&m.hasOwnProperty("display")?m.display:null,a.style.display=f2("display",s))}catch(D){er(t,t.return,D)}}}else if(E.tag===6){if(d===null)try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(D){er(t,t.return,D)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===t)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;d===E&&(d=null),E=E.return}d===E&&(d=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:So(e,t),$o(t),r&4&&NE(t);break;case 21:break;default:So(e,t),$o(t)}}function $o(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zA(n)){var r=n;break e}n=n.return}throw Error(ut(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vf(i,""),r.flags&=-33);var o=PE(t);$1(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=PE(t);G1(t,a,s);break;default:throw Error(ut(161))}}catch(m){er(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RU(t,e,n){At=t,HA(t)}function HA(t,e,n){for(var r=(t.mode&1)!==0;At!==null;){var i=At,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Og;if(!s){var a=i.alternate,m=a!==null&&a.memoizedState!==null||ei;a=Og;var u=ei;if(Og=s,(ei=m)&&!u)for(At=i;At!==null;)s=At,m=s.child,s.tag===22&&s.memoizedState!==null?jE(i):m!==null?(m.return=s,At=m):jE(i);for(;o!==null;)At=o,HA(o),o=o.sibling;At=i,Og=a,ei=u}RE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,At=o):RE(t)}}function RE(t){for(;At!==null;){var e=At;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ei||Kv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ei)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Co(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yE(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var E=d.dehydrated;E!==null&&Xf(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}ei||e.flags&512&&V1(e)}catch(I){er(e,e.return,I)}}if(e===t){At=null;break}if(n=e.sibling,n!==null){n.return=e.return,At=n;break}At=e.return}}function LE(t){for(;At!==null;){var e=At;if(e===t){At=null;break}var n=e.sibling;if(n!==null){n.return=e.return,At=n;break}At=e.return}}function jE(t){for(;At!==null;){var e=At;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kv(4,e)}catch(m){er(e,n,m)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(m){er(e,i,m)}}var o=e.return;try{V1(e)}catch(m){er(e,o,m)}break;case 5:var s=e.return;try{V1(e)}catch(m){er(e,s,m)}}}catch(m){er(e,e.return,m)}if(e===t){At=null;break}var a=e.sibling;if(a!==null){a.return=e.return,At=a;break}At=e.return}}var LU=Math.ceil,Vm=$s.ReactCurrentDispatcher,Qb=$s.ReactCurrentOwner,co=$s.ReactCurrentBatchConfig,pn=0,Ir=null,fr=null,Br=0,zi=0,gc=Qa(0),yr=0,od=null,eu=0,Zv=0,Jb=0,Ef=null,Ci=null,qb=0,zc=1/0,Es=null,Gm=!1,Y1=null,Ea=null,kg=!1,ga=null,$m=0,Tf=0,X1=null,lm=-1,um=0;function di(){return pn&6?ir():lm!==-1?lm:lm=ir()}function Ta(t){return t.mode&1?pn&2&&Br!==0?Br&-Br:wU.transition!==null?(um===0&&(um=I2()),um):(t=Cn,t!==0||(t=window.event,t=t===void 0?16:D2(t.type)),t):1}function Oo(t,e,n,r){if(50<Tf)throw Tf=0,X1=null,Error(ut(185));Wd(t,n,r),(!(pn&2)||t!==Ir)&&(t===Ir&&(!(pn&2)&&(Zv|=n),yr===4&&ha(t,Br)),Ai(t,r),n===1&&pn===0&&!(e.mode&1)&&(zc=ir()+500,$v&&Ja()))}function Ai(t,e){var n=t.callbackNode;wB(t,e);var r=Om(t,t===Ir?Br:0);if(r===0)n!==null&&$I(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$I(n),e===1)t.tag===0?yU(FE.bind(null,t)):Q2(FE.bind(null,t)),pU(function(){!(pn&6)&&Ja()}),n=null;else{switch(E2(r)){case 1:n=Ib;break;case 4:n=C2;break;case 16:n=Mm;break;case 536870912:n=x2;break;default:n=Mm}n=ZA(n,WA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WA(t,e){if(lm=-1,um=0,pn&6)throw Error(ut(327));var n=t.callbackNode;if(xc()&&t.callbackNode!==n)return null;var r=Om(t,t===Ir?Br:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ym(t,r);else{e=r;var i=pn;pn|=2;var o=GA();(Ir!==t||Br!==e)&&(Es=null,zc=ir()+500,Hl(t,e));do try{zU();break}catch(a){VA(t,a)}while(1);Fb(),Vm.current=o,pn=i,fr!==null?e=0:(Ir=null,Br=0,e=yr)}if(e!==0){if(e===2&&(i=b1(t),i!==0&&(r=i,e=K1(t,i))),e===1)throw n=od,Hl(t,0),ha(t,r),Ai(t,ir()),n;if(e===6)ha(t,r);else{if(i=t.current.alternate,!(r&30)&&!jU(i)&&(e=Ym(t,r),e===2&&(o=b1(t),o!==0&&(r=o,e=K1(t,o))),e===1))throw n=od,Hl(t,0),ha(t,r),Ai(t,ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ut(345));case 2:_l(t,Ci,Es);break;case 3:if(ha(t,r),(r&130023424)===r&&(e=qb+500-ir(),10<e)){if(Om(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){di(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=O1(_l.bind(null,t,Ci,Es),e);break}_l(t,Ci,Es);break;case 4:if(ha(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Mo(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LU(r/1960))-r,10<r){t.timeoutHandle=O1(_l.bind(null,t,Ci,Es),r);break}_l(t,Ci,Es);break;case 5:_l(t,Ci,Es);break;default:throw Error(ut(329))}}}return Ai(t,ir()),t.callbackNode===n?WA.bind(null,t):null}function K1(t,e){var n=Ef;return t.current.memoizedState.isDehydrated&&(Hl(t,e).flags|=256),t=Ym(t,e),t!==2&&(e=Ci,Ci=n,e!==null&&Z1(e)),t}function Z1(t){Ci===null?Ci=t:Ci.push.apply(Ci,t)}function jU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ao(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ha(t,e){for(e&=~Jb,e&=~Zv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mo(e),r=1<<n;t[n]=-1,e&=~r}}function FE(t){if(pn&6)throw Error(ut(327));xc();var e=Om(t,0);if(!(e&1))return Ai(t,ir()),null;var n=Ym(t,e);if(t.tag!==0&&n===2){var r=b1(t);r!==0&&(e=r,n=K1(t,r))}if(n===1)throw n=od,Hl(t,0),ha(t,e),Ai(t,ir()),n;if(n===6)throw Error(ut(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_l(t,Ci,Es),Ai(t,ir()),null}function e_(t,e){var n=pn;pn|=1;try{return t(e)}finally{pn=n,pn===0&&(zc=ir()+500,$v&&Ja())}}function tu(t){ga!==null&&ga.tag===0&&!(pn&6)&&xc();var e=pn;pn|=1;var n=co.transition,r=Cn;try{if(co.transition=null,Cn=1,t)return t()}finally{Cn=r,co.transition=n,pn=e,!(pn&6)&&Ja()}}function t_(){zi=gc.current,Bn(gc)}function Hl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dU(n)),fr!==null)for(n=fr.return;n!==null;){var r=n;switch(Rb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nm();break;case 3:jc(),Bn(Oi),Bn(ii),Vb();break;case 5:Wb(r);break;case 4:jc();break;case 13:Bn(Yn);break;case 19:Bn(Yn);break;case 10:zb(r.type._context);break;case 22:case 23:t_()}n=n.return}if(Ir=t,fr=t=Ma(t.current,null),Br=zi=e,yr=0,od=null,Jb=Zv=eu=0,Ci=Ef=null,Rl!==null){for(e=0;e<Rl.length;e++)if(n=Rl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Rl=null}return t}function VA(t,e){do{var n=fr;try{if(Fb(),om.current=Wm,Hm){for(var r=Xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hm=!1}if(ql=0,Cr=vr=Xn=null,xf=!1,nd=0,Qb.current=null,n===null||n.return===null){yr=1,od=e,fr=null;break}e:{var o=t,s=n.return,a=n,m=e;if(e=Br,a.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var u=m,d=a,E=d.tag;if(!(d.mode&1)&&(E===0||E===11||E===15)){var I=d.alternate;I?(d.updateQueue=I.updateQueue,d.memoizedState=I.memoizedState,d.lanes=I.lanes):(d.updateQueue=null,d.memoizedState=null)}var O=IE(s);if(O!==null){O.flags&=-257,EE(O,s,a,o,e),O.mode&1&&xE(o,u,e),e=O,m=u;var A=e.updateQueue;if(A===null){var D=new Set;D.add(m),e.updateQueue=D}else A.add(m);break e}else{if(!(e&1)){xE(o,u,e),n_();break e}m=Error(ut(426))}}else if(Wn&&a.mode&1){var v=IE(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),EE(v,s,a,o,e),Lb(Fc(m,a));break e}}o=m=Fc(m,a),yr!==4&&(yr=2),Ef===null?Ef=[o]:Ef.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var l=TA(o,m,e);vE(o,l);break e;case 1:a=m;var c=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ea===null||!Ea.has(f)))){o.flags|=65536,e&=-e,o.lanes|=e;var h=MA(o,a,e);vE(o,h);break e}}o=o.return}while(o!==null)}YA(n)}catch(p){e=p,fr===n&&n!==null&&(fr=n=n.return);continue}break}while(1)}function GA(){var t=Vm.current;return Vm.current=Wm,t===null?Wm:t}function n_(){(yr===0||yr===3||yr===2)&&(yr=4),Ir===null||!(eu&268435455)&&!(Zv&268435455)||ha(Ir,Br)}function Ym(t,e){var n=pn;pn|=2;var r=GA();(Ir!==t||Br!==e)&&(Es=null,Hl(t,e));do try{FU();break}catch(i){VA(t,i)}while(1);if(Fb(),pn=n,Vm.current=r,fr!==null)throw Error(ut(261));return Ir=null,Br=0,yr}function FU(){for(;fr!==null;)$A(fr)}function zU(){for(;fr!==null&&!cB();)$A(fr)}function $A(t){var e=KA(t.alternate,t,zi);t.memoizedProps=t.pendingProps,e===null?YA(t):fr=e,Qb.current=null}function YA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DU(n,e),n!==null){n.flags&=32767,fr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yr=6,fr=null;return}}else if(n=AU(n,e,zi),n!==null){fr=n;return}if(e=e.sibling,e!==null){fr=e;return}fr=e=t}while(e!==null);yr===0&&(yr=5)}function _l(t,e,n){var r=Cn,i=co.transition;try{co.transition=null,Cn=1,BU(t,e,n,r)}finally{co.transition=i,Cn=r}return null}function BU(t,e,n,r){do xc();while(ga!==null);if(pn&6)throw Error(ut(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ut(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(SB(t,o),t===Ir&&(fr=Ir=null,Br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kg||(kg=!0,ZA(Mm,function(){return xc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=co.transition,co.transition=null;var s=Cn;Cn=1;var a=pn;pn|=4,Qb.current=null,NU(t,n),UA(n,t),sU(T1),km=!!E1,T1=E1=null,t.current=n,RU(n),hB(),pn=a,Cn=s,co.transition=o}else t.current=n;if(kg&&(kg=!1,ga=t,$m=i),o=t.pendingLanes,o===0&&(Ea=null),pB(n.stateNode),Ai(t,ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gm)throw Gm=!1,t=Y1,Y1=null,t;return $m&1&&t.tag!==0&&xc(),o=t.pendingLanes,o&1?t===X1?Tf++:(Tf=0,X1=t):Tf=0,Ja(),null}function xc(){if(ga!==null){var t=E2($m),e=co.transition,n=Cn;try{if(co.transition=null,Cn=16>t?16:t,ga===null)var r=!1;else{if(t=ga,ga=null,$m=0,pn&6)throw Error(ut(331));var i=pn;for(pn|=4,At=t.current;At!==null;){var o=At,s=o.child;if(At.flags&16){var a=o.deletions;if(a!==null){for(var m=0;m<a.length;m++){var u=a[m];for(At=u;At!==null;){var d=At;switch(d.tag){case 0:case 11:case 15:If(8,d,o)}var E=d.child;if(E!==null)E.return=d,At=E;else for(;At!==null;){d=At;var I=d.sibling,O=d.return;if(FA(d),d===u){At=null;break}if(I!==null){I.return=O,At=I;break}At=O}}}var A=o.alternate;if(A!==null){var D=A.child;if(D!==null){A.child=null;do{var v=D.sibling;D.sibling=null,D=v}while(D!==null)}}At=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,At=s;else e:for(;At!==null;){if(o=At,o.flags&2048)switch(o.tag){case 0:case 11:case 15:If(9,o,o.return)}var l=o.sibling;if(l!==null){l.return=o.return,At=l;break e}At=o.return}}var c=t.current;for(At=c;At!==null;){s=At;var f=s.child;if(s.subtreeFlags&2064&&f!==null)f.return=s,At=f;else e:for(s=c;At!==null;){if(a=At,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kv(9,a)}}catch(p){er(a,a.return,p)}if(a===s){At=null;break e}var h=a.sibling;if(h!==null){h.return=a.return,At=h;break e}At=a.return}}if(pn=i,Ja(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot(Uv,t)}catch{}r=!0}return r}finally{Cn=n,co.transition=e}}return!1}function zE(t,e,n){e=Fc(n,e),e=TA(t,e,1),t=Ia(t,e,1),e=di(),t!==null&&(Wd(t,1,e),Ai(t,e))}function er(t,e,n){if(t.tag===3)zE(t,t,n);else for(;e!==null;){if(e.tag===3){zE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))){t=Fc(n,t),t=MA(e,t,1),e=Ia(e,t,1),t=di(),e!==null&&(Wd(e,1,t),Ai(e,t));break}}e=e.return}}function UU(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=di(),t.pingedLanes|=t.suspendedLanes&n,Ir===t&&(Br&n)===n&&(yr===4||yr===3&&(Br&130023424)===Br&&500>ir()-qb?Hl(t,0):Jb|=n),Ai(t,e)}function XA(t,e){e===0&&(t.mode&1?(e=Sg,Sg<<=1,!(Sg&130023424)&&(Sg=4194304)):e=1);var n=di();t=Us(t,e),t!==null&&(Wd(t,e,n),Ai(t,n))}function HU(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XA(t,n)}function WU(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(e),XA(t,n)}var KA;KA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oi.current)xi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xi=!1,kU(t,e,n);xi=!!(t.flags&131072)}else xi=!1,Wn&&e.flags&1048576&&J2(e,jm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;am(t,e),t=e.pendingProps;var i=Nc(e,ii.current);Cc(e,n),i=$b(null,e,r,t,i,n);var o=Yb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ki(r)?(o=!0,Rm(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ub(e),i.updater=Yv,e.stateNode=i,i._reactInternals=e,L1(e,r,t,n),e=z1(null,e,r,!0,o,n)):(e.tag=0,Wn&&o&&Nb(e),ui(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(am(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GU(r),t=Co(r,t),i){case 0:e=F1(null,e,r,t,n);break e;case 1:e=OE(null,e,r,t,n);break e;case 11:e=TE(null,e,r,t,n);break e;case 14:e=ME(null,e,r,Co(r.type,t),n);break e}throw Error(ut(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Co(r,i),F1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Co(r,i),OE(t,e,r,i,n);case 3:e:{if(DA(e),t===null)throw Error(ut(387));r=e.pendingProps,o=e.memoizedState,i=o.element,nA(t,e),Bm(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Fc(Error(ut(423)),e),e=kE(t,e,r,n,i);break e}else if(r!==i){i=Fc(Error(ut(424)),e),e=kE(t,e,r,n,i);break e}else for(Ui=xa(e.stateNode.containerInfo.firstChild),Gi=e,Wn=!0,Eo=null,n=sA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rc(),r===i){e=Hs(t,e,n);break e}ui(t,e,r,n)}e=e.child}return e;case 5:return aA(e),t===null&&P1(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,M1(r,i)?s=null:o!==null&&M1(r,o)&&(e.flags|=32),AA(t,e),ui(t,e,s,n),e.child;case 6:return t===null&&P1(e),null;case 13:return PA(t,e,n);case 4:return Hb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Lc(e,null,r,n):ui(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Co(r,i),TE(t,e,r,i,n);case 7:return ui(t,e,e.pendingProps,n),e.child;case 8:return ui(t,e,e.pendingProps.children,n),e.child;case 12:return ui(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Pn(Fm,r._currentValue),r._currentValue=s,o!==null)if(Ao(o.value,s)){if(o.children===i.children&&!Oi.current){e=Hs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var m=a.firstContext;m!==null;){if(m.context===r){if(o.tag===1){m=Rs(-1,n&-n),m.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?m.next=m:(m.next=d.next,d.next=m),u.pending=m}}o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),N1(o.return,n,e),a.lanes|=n;break}m=m.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ut(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),N1(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ui(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cc(e,n),i=fo(i),r=r(i),e.flags|=1,ui(t,e,r,n),e.child;case 14:return r=e.type,i=Co(r,e.pendingProps),i=Co(r.type,i),ME(t,e,r,i,n);case 15:return OA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Co(r,i),am(t,e),e.tag=1,ki(r)?(t=!0,Rm(e)):t=!1,Cc(e,n),iA(e,r,i),L1(e,r,i,n),z1(null,e,r,!0,t,n);case 19:return NA(t,e,n);case 22:return kA(t,e,n)}throw Error(ut(156,e.tag))};function ZA(t,e){return _2(t,e)}function VU(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(t,e,n,r){return new VU(t,e,n,r)}function r_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GU(t){if(typeof t=="function")return r_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_b)return 11;if(t===Cb)return 14}return 2}function Ma(t,e){var n=t.alternate;return n===null?(n=lo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cm(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")r_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oc:return Wl(n.children,i,o,e);case bb:s=8,i|=8;break;case s1:return t=lo(12,n,e,i|2),t.elementType=s1,t.lanes=o,t;case a1:return t=lo(13,n,e,i),t.elementType=a1,t.lanes=o,t;case l1:return t=lo(19,n,e,i),t.elementType=l1,t.lanes=o,t;case o2:return Qv(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case r2:s=10;break e;case i2:s=9;break e;case _b:s=11;break e;case Cb:s=14;break e;case la:s=16,r=null;break e}throw Error(ut(130,t==null?t:typeof t,""))}return e=lo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wl(t,e,n,r){return t=lo(7,t,r,e),t.lanes=n,t}function Qv(t,e,n,r){return t=lo(22,t,r,e),t.elementType=o2,t.lanes=n,t.stateNode={isHidden:!1},t}function q0(t,e,n){return t=lo(6,t,null,e),t.lanes=n,t}function ew(t,e,n){return e=lo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $U(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N0(0),this.expirationTimes=N0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i_(t,e,n,r,i,o,s,a,m){return t=new $U(t,e,n,a,m),e===1?(e=1,o===!0&&(e|=8)):e=0,o=lo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ub(o),t}function YU(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ic,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function QA(t){if(!t)return Na;t=t._reactInternals;e:{if(Su(t)!==t||t.tag!==1)throw Error(ut(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ki(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ut(171))}if(t.tag===1){var n=t.type;if(ki(n))return Z2(t,n,e)}return e}function JA(t,e,n,r,i,o,s,a,m){return t=i_(n,r,!0,t,i,o,s,a,m),t.context=QA(null),n=t.current,r=di(),i=Ta(n),o=Rs(r,i),o.callback=e??null,Ia(n,o,i),t.current.lanes=i,Wd(t,i,r),Ai(t,r),t}function Jv(t,e,n,r){var i=e.current,o=di(),s=Ta(i);return n=QA(n),e.context===null?e.context=n:e.pendingContext=n,e=Rs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ia(i,e,s),t!==null&&(Oo(t,i,s,o),im(t,i,s)),s}function Xm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function o_(t,e){BE(t,e),(t=t.alternate)&&BE(t,e)}function XU(){return null}var qA=typeof reportError=="function"?reportError:function(t){console.error(t)};function s_(t){this._internalRoot=t}qv.prototype.render=s_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ut(409));Jv(t,e,null,null)};qv.prototype.unmount=s_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tu(function(){Jv(null,t,null,null)}),e[Bs]=null}};function qv(t){this._internalRoot=t}qv.prototype.unstable_scheduleHydration=function(t){if(t){var e=O2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ca.length&&e!==0&&e<ca[n].priority;n++);ca.splice(n,0,t),n===0&&A2(t)}};function a_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UE(){}function KU(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xm(s);o.call(u)}}var s=JA(e,r,t,0,null,!1,!1,"",UE);return t._reactRootContainer=s,t[Bs]=s.current,Qf(t.nodeType===8?t.parentNode:t),tu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xm(m);a.call(u)}}var m=i_(t,0,!1,null,null,!1,!1,"",UE);return t._reactRootContainer=m,t[Bs]=m.current,Qf(t.nodeType===8?t.parentNode:t),tu(function(){Jv(e,m,n,r)}),m}function ty(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var m=Xm(s);a.call(m)}}Jv(e,s,t,i)}else s=KU(n,e,t,i,r);return Xm(s)}T2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uf(e.pendingLanes);n!==0&&(Eb(e,n|1),Ai(e,ir()),!(pn&6)&&(zc=ir()+500,Ja()))}break;case 13:tu(function(){var r=Us(t,1);if(r!==null){var i=di();Oo(r,t,1,i)}}),o_(t,1)}};Tb=function(t){if(t.tag===13){var e=Us(t,134217728);if(e!==null){var n=di();Oo(e,t,134217728,n)}o_(t,134217728)}};M2=function(t){if(t.tag===13){var e=Ta(t),n=Us(t,e);if(n!==null){var r=di();Oo(n,t,e,r)}o_(t,e)}};O2=function(){return Cn};k2=function(t,e){var n=Cn;try{return Cn=t,e()}finally{Cn=n}};y1=function(t,e,n){switch(e){case"input":if(h1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gv(r);if(!i)throw Error(ut(90));a2(r),h1(r,i)}}}break;case"textarea":u2(t,n);break;case"select":e=n.value,e!=null&&wc(t,!!n.multiple,e,!1)}};m2=e_;v2=tu;var ZU={usingClientEntryPoint:!1,Events:[Gd,uc,Gv,p2,g2,e_]},Wh={findFiberByHostInstance:Nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QU={bundleType:Wh.bundleType,version:Wh.version,rendererPackageName:Wh.rendererPackageName,rendererConfig:Wh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S2(t),t===null?null:t.stateNode},findFiberByHostInstance:Wh.findFiberByHostInstance||XU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ag=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ag.isDisabled&&Ag.supportsFiber)try{Uv=Ag.inject(QU),as=Ag}catch{}}Ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZU;Ki.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a_(e))throw Error(ut(200));return YU(t,e,null,n)};Ki.createRoot=function(t,e){if(!a_(t))throw Error(ut(299));var n=!1,r="",i=qA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=i_(t,1,!1,null,null,n,!1,r,i),t[Bs]=e.current,Qf(t.nodeType===8?t.parentNode:t),new s_(e)};Ki.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ut(188)):(t=Object.keys(t).join(","),Error(ut(268,t)));return t=S2(e),t=t===null?null:t.stateNode,t};Ki.flushSync=function(t){return tu(t)};Ki.hydrate=function(t,e,n){if(!ey(e))throw Error(ut(200));return ty(null,t,e,!0,n)};Ki.hydrateRoot=function(t,e,n){if(!a_(t))throw Error(ut(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=qA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=JA(e,null,t,1,n??null,i,!1,o,s),t[Bs]=e.current,Qf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qv(e)};Ki.render=function(t,e,n){if(!ey(e))throw Error(ut(200));return ty(null,t,e,!1,n)};Ki.unmountComponentAtNode=function(t){if(!ey(t))throw Error(ut(40));return t._reactRootContainer?(tu(function(){ty(null,null,t,!1,function(){t._reactRootContainer=null,t[Bs]=null})}),!0):!1};Ki.unstable_batchedUpdates=e_;Ki.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ey(n))throw Error(ut(200));if(t==null||t._reactInternals===void 0)throw Error(ut(38));return ty(t,e,n,!1,r)};Ki.version="18.2.0-next-9e3b772b8-20220608";function eD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eD)}catch(t){console.error(t)}}eD(),Jk.exports=Ki;var Yd=Jk.exports,HE=Yd;i1.createRoot=HE.createRoot,i1.hydrateRoot=HE.hydrateRoot;/**
 * @remix-run/router v1.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var ma;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ma||(ma={}));const WE="popstate";function JU(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Q1("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Km(i)}return e6(e,n,null,t)}function dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function l_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qU(){return Math.random().toString(36).substr(2,8)}function VE(t,e){return{usr:t.state,key:t.key,idx:e}}function Q1(t,e,n,r){return n===void 0&&(n=null),sd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ah(e):e,{state:n,key:e&&e.key||r||qU()})}function Km(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ah(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ma.Pop,m=null,u=d();u==null&&(u=0,s.replaceState(sd({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function E(){a=ma.Pop;let v=d(),l=v==null?null:v-u;u=v,m&&m({action:a,location:D.location,delta:l})}function I(v,l){a=ma.Push;let c=Q1(D.location,v,l);n&&n(c,v),u=d()+1;let f=VE(c,u),h=D.createHref(c);try{s.pushState(f,"",h)}catch{i.location.assign(h)}o&&m&&m({action:a,location:D.location,delta:1})}function O(v,l){a=ma.Replace;let c=Q1(D.location,v,l);n&&n(c,v),u=d();let f=VE(c,u),h=D.createHref(c);s.replaceState(f,"",h),o&&m&&m({action:a,location:D.location,delta:0})}function A(v){let l=i.location.origin!=="null"?i.location.origin:i.location.href,c=typeof v=="string"?v:Km(v);return dr(l,"No window.location.(origin|href) available to create URL for href: "+c),new URL(c,l)}let D={get action(){return a},get location(){return t(i,s)},listen(v){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(WE,E),m=v,()=>{i.removeEventListener(WE,E),m=null}},createHref(v){return e(i,v)},createURL:A,encodeLocation(v){let l=A(v);return{pathname:l.pathname,search:l.search,hash:l.hash}},push:I,replace:O,go(v){return s.go(v)}};return D}var GE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(GE||(GE={}));function t6(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ah(e):e,i=u_(r.pathname||"/",n);if(i==null)return null;let o=tD(t);n6(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=h6(o[a],p6(i));return s}function tD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let m={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};m.relativePath.startsWith("/")&&(dr(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let u=Oa([r,m.relativePath]),d=n.concat(m);o.children&&o.children.length>0&&(dr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tD(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:u6(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let m of nD(o.path))i(o,s,m)}),e}function nD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=nD(r.join("/")),a=[];return a.push(...s.map(m=>m===""?o:[o,m].join("/"))),i&&a.push(...s),a.map(m=>t.startsWith("/")&&m===""?"/":m)}function n6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r6=/^:\w+$/,i6=3,o6=2,s6=1,a6=10,l6=-2,$E=t=>t==="*";function u6(t,e){let n=t.split("/"),r=n.length;return n.some($E)&&(r+=l6),e&&(r+=o6),n.filter(i=>!$E(i)).reduce((i,o)=>i+(r6.test(o)?i6:o===""?s6:a6),r)}function c6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function h6(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],m=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=f6({path:a.relativePath,caseSensitive:a.caseSensitive,end:m},u);if(!d)return null;Object.assign(r,d.params);let E=a.route;o.push({params:r,pathname:Oa([i,d.pathname]),pathnameBase:y6(Oa([i,d.pathnameBase])),route:E}),d.pathnameBase!=="/"&&(i=Oa([i,d.pathnameBase]))}return o}function f6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=d6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,E)=>{if(d==="*"){let I=a[E]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}return u[d]=g6(a[E]||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function d6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),l_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p6(t){try{return decodeURI(t)}catch(e){return l_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g6(t,e){try{return decodeURIComponent(t)}catch(n){return l_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function u_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ah(t):t;return{pathname:n?n.startsWith("/")?n:v6(n,e):e,search:w6(r),hash:S6(i)}}function v6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iD(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ah(t):(i=sd({},t),dr(!i.pathname||!i.pathname.includes("?"),tw("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),tw("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),tw("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let E=e.length-1;if(s.startsWith("..")){let I=s.split("/");for(;I[0]==="..";)I.shift(),E-=1;i.pathname=I.join("/")}a=E>=0?e[E]:"/"}let m=m6(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(u||d)&&(m.pathname+="/"),m}const Oa=t=>t.join("/").replace(/\/\/+/g,"/"),y6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oD=["post","put","patch","delete"];new Set(oD);const _6=["get",...oD];new Set(_6);/**
 * React Router v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}const c_=Ae.createContext(null),sD=Ae.createContext(null),bu=Ae.createContext(null),ny=Ae.createContext(null),qa=Ae.createContext({outlet:null,matches:[],isDataRoute:!1}),aD=Ae.createContext(null);function C6(t,e){let{relative:n}=e===void 0?{}:e;Xd()||dr(!1);let{basename:r,navigator:i}=Ae.useContext(bu),{hash:o,pathname:s,search:a}=h_(t,{relative:n}),m=s;return r!=="/"&&(m=s==="/"?r:Oa([r,s])),i.createHref({pathname:m,search:a,hash:o})}function Xd(){return Ae.useContext(ny)!=null}function _u(){return Xd()||dr(!1),Ae.useContext(ny).location}function lD(t){Ae.useContext(bu).static||Ae.useLayoutEffect(t)}function Kd(){let{isDataRoute:t}=Ae.useContext(qa);return t?L6():x6()}function x6(){Xd()||dr(!1);let t=Ae.useContext(c_),{basename:e,navigator:n}=Ae.useContext(bu),{matches:r}=Ae.useContext(qa),{pathname:i}=_u(),o=JSON.stringify(rD(r).map(m=>m.pathnameBase)),s=Ae.useRef(!1);return lD(()=>{s.current=!0}),Ae.useCallback(function(m,u){if(u===void 0&&(u={}),!s.current)return;if(typeof m=="number"){n.go(m);return}let d=iD(m,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Oa([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,o,i,t])}function uD(){let{matches:t}=Ae.useContext(qa),e=t[t.length-1];return e?e.params:{}}function h_(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Ae.useContext(qa),{pathname:i}=_u(),o=JSON.stringify(rD(r).map(s=>s.pathnameBase));return Ae.useMemo(()=>iD(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function I6(t,e){return E6(t,e)}function E6(t,e,n){Xd()||dr(!1);let{navigator:r}=Ae.useContext(bu),{matches:i}=Ae.useContext(qa),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let m=_u(),u;if(e){var d;let D=typeof e=="string"?ah(e):e;a==="/"||(d=D.pathname)!=null&&d.startsWith(a)||dr(!1),u=D}else u=m;let E=u.pathname||"/",I=a==="/"?E:E.slice(a.length)||"/",O=t6(t,{pathname:I}),A=A6(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},s,D.params),pathname:Oa([a,r.encodeLocation?r.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?a:Oa([a,r.encodeLocation?r.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),i,n);return e&&A?Ae.createElement(ny.Provider,{value:{location:Zm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ma.Pop}},A):A}function T6(){let t=R6(),e=b6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return Ae.createElement(Ae.Fragment,null,Ae.createElement("h2",null,"Unexpected Application Error!"),Ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?Ae.createElement("pre",{style:i},n):null,o)}const M6=Ae.createElement(T6,null);class O6 extends Ae.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Ae.createElement(qa.Provider,{value:this.props.routeContext},Ae.createElement(aD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k6(t){let{routeContext:e,match:n,children:r}=t,i=Ae.useContext(c_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Ae.createElement(qa.Provider,{value:e},r)}function A6(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id]));a>=0||dr(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,m,u)=>{let d=m.route.id?s==null?void 0:s[m.route.id]:null,E=null;n&&(E=m.route.errorElement||M6);let I=e.concat(o.slice(0,u+1)),O=()=>{let A;return d?A=E:m.route.Component?A=Ae.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=a,Ae.createElement(k6,{match:m,routeContext:{outlet:a,matches:I,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?Ae.createElement(O6,{location:n.location,revalidation:n.revalidation,component:E,error:d,children:O(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):O()},null)}var J1;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(J1||(J1={}));var ad;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ad||(ad={}));function D6(t){let e=Ae.useContext(c_);return e||dr(!1),e}function P6(t){let e=Ae.useContext(sD);return e||dr(!1),e}function N6(t){let e=Ae.useContext(qa);return e||dr(!1),e}function cD(t){let e=N6(),n=e.matches[e.matches.length-1];return n.route.id||dr(!1),n.route.id}function R6(){var t;let e=Ae.useContext(aD),n=P6(ad.UseRouteError),r=cD(ad.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function L6(){let{router:t}=D6(J1.UseNavigateStable),e=cD(ad.UseNavigateStable),n=Ae.useRef(!1);return lD(()=>{n.current=!0}),Ae.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zm({fromRouteId:e},o)))},[t,e])}function Xo(t){dr(!1)}function j6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ma.Pop,navigator:o,static:s=!1}=t;Xd()&&dr(!1);let a=e.replace(/^\/*/,"/"),m=Ae.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=ah(r));let{pathname:u="/",search:d="",hash:E="",state:I=null,key:O="default"}=r,A=Ae.useMemo(()=>{let D=u_(u,a);return D==null?null:{location:{pathname:D,search:d,hash:E,state:I,key:O},navigationType:i}},[a,u,d,E,I,O,i]);return A==null?null:Ae.createElement(bu.Provider,{value:m},Ae.createElement(ny.Provider,{children:n,value:A}))}function F6(t){let{children:e,location:n}=t;return I6(q1(e),n)}var YE;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(YE||(YE={}));new Promise(()=>{});function q1(t,e){e===void 0&&(e=[]);let n=[];return Ae.Children.forEach(t,(r,i)=>{if(!Ae.isValidElement(r))return;let o=[...e,i];if(r.type===Ae.Fragment){n.push.apply(n,q1(r.props.children,o));return}r.type!==Xo&&dr(!1),!r.props.index||!r.props.children||dr(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=q1(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function hD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B6(t,e){return t.button===0&&(!e||e==="_self")&&!z6(t)}const U6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],H6=["aria-current","caseSensitive","className","end","style","to","children"];function W6(t){let{basename:e,children:n,window:r}=t,i=Ae.useRef();i.current==null&&(i.current=JU({window:r,v5Compat:!0}));let o=i.current,[s,a]=Ae.useState({action:o.action,location:o.location});return Ae.useLayoutEffect(()=>o.listen(a),[o]),Ae.createElement(j6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const V6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$6=Ae.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:m,to:u,preventScrollReset:d}=e,E=hD(e,U6),{basename:I}=Ae.useContext(bu),O,A=!1;if(typeof u=="string"&&G6.test(u)&&(O=u,V6))try{let c=new URL(window.location.href),f=u.startsWith("//")?new URL(c.protocol+u):new URL(u),h=u_(f.pathname,I);f.origin===c.origin&&h!=null?u=h+f.search+f.hash:A=!0}catch{}let D=C6(u,{relative:i}),v=Y6(u,{replace:s,state:a,target:m,preventScrollReset:d,relative:i});function l(c){r&&r(c),c.defaultPrevented||v(c)}return Ae.createElement("a",Qm({},E,{href:O||D,onClick:A||o?r:l,ref:n,target:m}))}),nw=Ae.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:m,children:u}=e,d=hD(e,H6),E=h_(m,{relative:d.relative}),I=_u(),O=Ae.useContext(sD),{navigator:A}=Ae.useContext(bu),D=A.encodeLocation?A.encodeLocation(E).pathname:E.pathname,v=I.pathname,l=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(v=v.toLowerCase(),l=l?l.toLowerCase():null,D=D.toLowerCase());let c=v===D||!s&&v.startsWith(D)&&v.charAt(D.length)==="/",f=l!=null&&(l===D||!s&&l.startsWith(D)&&l.charAt(D.length)==="/"),h=c?r:void 0,p;typeof o=="function"?p=o({isActive:c,isPending:f}):p=[o,c?"active":null,f?"pending":null].filter(Boolean).join(" ");let g=typeof a=="function"?a({isActive:c,isPending:f}):a;return Ae.createElement($6,Qm({},d,{"aria-current":h,className:p,ref:n,style:g,to:m}),typeof u=="function"?u({isActive:c,isPending:f}):u)});var XE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(XE||(XE={}));var KE;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KE||(KE={}));function Y6(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Kd(),m=_u(),u=h_(t,{relative:s});return Ae.useCallback(d=>{if(B6(d,n)){d.preventDefault();let E=r!==void 0?r:Km(m)===Km(u);a(t,{replace:E,state:i,preventScrollReset:o,relative:s})}},[m,a,u,r,i,n,t,o,s])}const X6="/assets/bouddha-b40d63cf.webp";function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function K6(t,e){if(Bc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fD(t){var e=K6(t,"string");return Bc(e)==="symbol"?e:String(e)}function dD(t,e,n){return e=fD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var ZE={};function eS(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&ZE[e[0]]||(typeof e[0]=="string"&&(ZE[e[0]]=new Date),Z6.apply(void 0,e))}var pD=function(e,n){return function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}}};function QE(t,e,n){t.loadNamespaces(e,pD(t,n))}function JE(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,pD(t,r))}function Q6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var s=function(m,u){var d=e.services.backendConnector.state["".concat(m,"|").concat(u)];return d===-1||d===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))}function J6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return eS("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{lng:n.lng,precheck:function(o,s){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!s(o.isLanguageChangingTo,t))return!1}}):Q6(t,e,n)}var q6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,e8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},t8=function(e){return e8[e]},n8=function(e){return e.replace(q6,t8)};function qE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(n),!0).forEach(function(r){dD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var tS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:n8};function r8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tS=eT(eT({},tS),t)}function i8(){return tS}var gD;function o8(t){gD=t}function s8(){return gD}function a8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fD(r.key),r)}}function l8(t,e,n){return e&&tT(t.prototype,e),n&&tT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var u8={type:"3rdParty",init:function(e){r8(e.options.react),o8(e)}},mD=Ae.createContext(),c8=function(){function t(){a8(this,t),this.usedNamespaces={}}return l8(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function h8(t){if(Array.isArray(t))return t}function f8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],m=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;m=!1}else for(;!(m=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);m=!0);}catch(d){u=!0,i=d}finally{try{if(!m&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d8(t,e){if(t){if(typeof t=="string")return nT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(t,e)}}function p8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g8(t,e){return h8(t)||f8(t,e)||d8(t,e)||p8()}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){dD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var m8=function(e,n){var r=Ae.useRef();return Ae.useEffect(function(){r.current=n?r.current:e},[e,n]),r.current};function Cu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=Ae.useContext(mD)||{},i=r.i18n,o=r.defaultNS,s=n||i||s8();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new c8),!s){eS("You will need to pass in an i18next instance by using initReactI18next");var a=function(w,T){return typeof T=="string"?T:T&&Bc(T)==="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(w)?w[w.length-1]:w},m=[a,{},!1];return m.t=a,m.i18n={},m.ready=!1,m}s.options.react&&s.options.react.wait!==void 0&&eS("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=rw(rw(rw({},i8()),s.options.react),e),d=u.useSuspense,E=u.keyPrefix,I=t||o||s.options&&s.options.defaultNS;I=typeof I=="string"?[I]:I||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(I);var O=(s.isInitialized||s.initializedStoreOnce)&&I.every(function(_){return J6(_,s,u)});function A(){return s.getFixedT(e.lng||null,u.nsMode==="fallback"?I:I[0],E)}var D=Ae.useState(A),v=g8(D,2),l=v[0],c=v[1],f=I.join();e.lng&&(f="".concat(e.lng).concat(f));var h=m8(f),p=Ae.useRef(!0);Ae.useEffect(function(){var _=u.bindI18n,w=u.bindI18nStore;p.current=!0,!O&&!d&&(e.lng?JE(s,e.lng,I,function(){p.current&&c(A)}):QE(s,I,function(){p.current&&c(A)})),O&&h&&h!==f&&p.current&&c(A);function T(){p.current&&c(A)}return _&&s&&s.on(_,T),w&&s&&s.store.on(w,T),function(){p.current=!1,_&&s&&_.split(" ").forEach(function(k){return s.off(k,T)}),w&&s&&w.split(" ").forEach(function(k){return s.store.off(k,T)})}},[s,f]);var g=Ae.useRef(!0);Ae.useEffect(function(){p.current&&!g.current&&c(A),g.current=!1},[s,E]);var y=[l,s,O];if(y.t=l,y.i18n=s,y.ready=O,O||!O&&!d)return y;throw new Promise(function(_){e.lng?JE(s,e.lng,I,function(){return _()}):QE(s,I,function(){return _()})})}function v8(t){var e=t.i18n,n=t.defaultNS,r=t.children,i=Ae.useMemo(function(){return{i18n:e,defaultNS:n}},[e,n]);return Ae.createElement(mD.Provider,{value:i},r)}const vD=()=>{const{t}=Cu();return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"about-container",children:ie.jsxs("div",{className:"about-contents",children:[ie.jsx("img",{src:X6,alt:"img","data-aos-once":!0,"data-aos":"fade-down"}),ie.jsxs("div",{className:"about-items","data-aos-once":!0,"data-aos":"fade-left",children:[ie.jsxs("label",{className:"heading",children:[" ",t("Welcome to E-Nimto")]}),ie.jsx("label",{className:"contents",children:t("abouttext")})]})]})})})},y8=()=>{const{t}=Cu();return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"hero-container",children:ie.jsx("div",{className:"hero-contents",children:ie.jsxs("div",{className:"hiro-items","data-aos-once":!0,"data-aos":"fade-right",children:[ie.jsx("label",{className:"title",children:t("E-Nimto")}),ie.jsx("label",{className:"subtitle",children:t("Modern Way of invitation following Tradition")})]})})})})};var yD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iT=yn.createContext&&yn.createContext(yD),ka=globalThis&&globalThis.__assign||function(){return ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ka.apply(this,arguments)},w8=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wD(t){return t&&t.map(function(e,n){return yn.createElement(e.tag,ka({key:n},e.attr),wD(e.child))})}function Ro(t){return function(e){return yn.createElement(S8,ka({attr:ka({},t.attr)},e),wD(t.child))}}function S8(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=w8(t,["attr","size","title"]),a=i||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),yn.createElement("svg",ka({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:m,style:ka(ka({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&yn.createElement("title",null,o),t.children)};return iT!==void 0?yn.createElement(iT.Consumer,null,function(n){return e(n)}):e(yD)}function b8(t){return Ro({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(t)}function _8(t){return Ro({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}const SD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAACBCAYAAADjVQltAAAACXBIWXMAAAsTAAALEwEAmpwYAAAI00lEQVR4Ae2djVnbPBDHz306QJgAM8FbJiBMUJigYYLSCRomKExAmAA6AWaCphNUnYB0Ar930TkxwU5sWf44+X7Pcxjy5Ivon9PpJJ0iCJA0TSd4idE+8fUYLbttkrMiVgVm0P6hLen3KIqWECARCIcb/hPbGWwF0DZrYaC9oCUhCESkGFAAMV4u0D6DbfwJ9A95kATtJ1hxGBCGGDGwAL6gTdmGToL2AIKEMWgxcBcwA+sBpiCXBO0BRbGAATNIMbAIvqJdwzC6AF8YtFu0nxK7kU6hrgDtHu01DZ/71HZ9g2EQniG1nuAH2C5hbCzQbobgKXoVQxpud1AXg7ZAQdxAj/QmBhTCFC/30E1OQAoGrJdYQA98gI5JbVzwiL8+gwphlxjtvq94olPPgP8gJYrIG4y5S6iKgY69RCeegWIDNAoQySOoEKoRg/USP6AjWvcM7O60S2iGQTtve8TRqmfgbuEXqBCaEqM98+fZGq2JAd/4d9BuwScx2iN/rq3QSjfBb3gOSlvM28hJeBcDDYtgnJnErrlFQXwDj3gVgwqhcyhreQWe8CYGFUJveBOEFzGoEHrHiyAajyY4WJyB0iczH6OMRp5BRw2D4xt6iFtwxFkMnAB5BGVoUKYyAQecxMApZsosakJpeNAq7VOX1HXtmIEXpNBcgwqhGXdgF8oa8Au1yyO3Uy1cAkiKE2JQmkIrvGgZ/QkaeegjtBO0c7RLsMvsDbhBe0lqB5S1uglU2wzsegTFH7QT67LMreNnTksCXaex6Xmfqt65shh0KrpVDOyZouYlgs9QH4ofyPOsqty5Tjeh3UN7xGCnqAv7eR4duExM0fNV9uSVxMDdwwyUNolh/2dclD8waDRZRXHGHRTHGBfsWfyAT/YnVbpgfqAdnnP3vU13PElqFxs/Fzzvn9RhdFH0Br6nSlfEB9pimtqGne65DwmiaEfaHA4QHXjxGC9/QOmCJcYGp4fuhG0yKQsIU/vtL1tmeDCYPBQztLbESnlHJTd+YGSwb1MSPf/e9iz1DOoVesF5oimtPml4UjaE/bjnQeoV/EMJphfYlgAyfPuKvvGp4y4qfBxlM+cV737N9o6o5MljUK/gExr2Ldqo+5TWnzQsjR3KYgb1Cn6gD5wyi9ctCcFl0pDuW8szkFeIQWkKTTjlRbCqmhquQmo3MF9AfQq9Q1TwAjPQyag2yarCUezw5LLugD0CCWEK7rybxCoSw3PDF1HqYWBbGW65z3Ok24Jn1I03zSjS9Pl5/oZo58Vi0MCxb7KRxm/YjjZitP/Afkmbp5W3HOXFtyuGJnPnijxuUAzz7I/d0cQXUMbEWf6PjWfQLmK0bDKSec/gMkRR5LNp97wYPoMyRjbtnu8mUggfipwpWv/N1+w8iYzsuAKK3GP+PXQoEUYrs60YUvcFlxKgxqYxPCVYlnUygBxHTWFbzT5U1ruwsm4ixG8ANTotIj3huYGkbiqYAisqvcfJGdrT8ABhsm7/TAxnEBaZCOa+5gJYGDOwojAQFtQtbsQQQxgYsPsMvYlgFxYFCcJ7TaUemdKPiPPdryAfigmu2hJBEWlY9a+PyDOEEC/coQguuxQCwZtbKJ4wIJ+YxOBz4qMPSAjX0BOcvQtBEJ+ke4Zln0LIYEFcgmzWniEGmRgYUAPwsjavdRk75pjEcAwyuYkGdugXL3NPQCZHUmOGxYCPBaQSfJ0Gsp44liqGwY7x2VvdgTwmEsWwGFr3UIDTrqieESmGwc8PcL7jCWQxiYRNXWep4MEjcSb4I8jiJzSAU++VPWGT7oiyk/h6KxDkeaWJwcn18roEmkOY1ngYPc5As8NHExC0nLDzcy0bsgQ3XDcGxWhz3kLgwgsIgsQgZUxca5VSBm8XjKEZrhuRDchhJUkMru/Tx9zLxLF2gqsn6wNRYjDghvRZ2a4wJAYDSisISI69gcTwDxRFPYOS46+KQclYkhgkRbxKe6zUMygZyw+cyDGgjJl1Qi9LR4tKmyre+Us/MjFo3DBuEvqhYlCIdfuvxcA7gyQu4lQ8wO3/ZgpbvcM4SbJf8mJotIpIEcum3fNikLaAU/HDpt03YuAZtgSUMbHMz6zuLnvTfMO4eLPtYFcMEjd/KO68CQ3eiIFT0wkoYyDZXXxTtDpa4j5BpT7vdqYViSEBTUCFjinaxf5ODNxVqHcIm6ToxrJNNBRIqncIl8IdYoViYO8QajXUsVNa0mDf9jodZoZJ6b7RUjEIrkCilLO30Mmhjbdz0NghJPbuJt8rBh1ZBMXB6nhVtuRT7GBAkYzJn1JXxkExsHe4AkUylYqNVCrWwcuidL2DTCrXzKxTuUVqscsxB8AGatTMrCwGwd1FAs0x0rbXM7VKKteq6cSnqosaXfB7brrYV+KpM3d1Syq7FPiag7yV1FR9ntLrdbsMg/ZtwHWqyzBg26kWETjA9Y1+gZbIGSIk+FOXbs2p9F8gh22EypVrfONcB5KHm5IP2wiRG46RnGhUFJQP2wjpSD/J3FTJMu7DKWbYBWOIBdgjgpV+eOADWBvhRQyECqI3vAiB8CYGQgXROd6EQHgtJM5vTKe8u8GrEAivYiD4nEkNKtvlzrcQCO9iIDiqVUG0w01bB7t6jRl2wRjiAi8/IIyDw/tmPVHYJI9wiFbFQHDqmg7/iEFxxaCdtz1z2ko3kYf+AT5kTANLN+hzO406mEJv3TPk4VNh6FSXGJRDtN4t7NKpGAjuNuag+Yh9JNBgwsmVzsWQoV6iEANWBAn0QG9iyEBRzMF6iRjGS7Y/5dblUDZf9C4GYuRdxwLsairduZaHREHzG2n4vKLdp24n4rXGIDzDLvwhzSC87mMQ3UEZgxRDntQGmiSKKcglAVuJdTHk7mDwYshgbzFF+wp+Di5tmwRsXc1FJGTPhRgx5MkJ4zNfh7BKm77xtIWAPMCTFAHkESmGXVAcU7De4gxsjNGF5zBgG/+Fr0vpI4IgxFAECoQEEYMVBnmOY77GfJcJlHuUVc4MX//CVgAmxKHg/xfjwY6XRIg7AAAAAElFTkSuQmCC",f_=()=>{const t=Kd(),{i18n:e,t:n}=Cu(),[r,i]=Ae.useState(e.language||"en"),[o,s]=Ae.useState(!1),a=()=>{t("/login")},m=d=>{const E=d.target.value;i(E),e.changeLanguage(E)},u=()=>s(!o);return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"Nav-container",children:ie.jsxs("div",{className:"nav-items",children:[ie.jsx("img",{src:SD,alt:"req"}),!o&&ie.jsx("div",{className:"nav-toggle",onClick:u,children:ie.jsx("i",{children:ie.jsx(b8,{size:24})})}),ie.jsxs("div",{className:`nav-flex ${o?"open":""}`,children:[o&&ie.jsx("div",{className:"nav-toggle close-btn",onClick:u,children:ie.jsx("i",{children:ie.jsx(_8,{size:24})})}),ie.jsxs("ul",{children:[ie.jsx("li",{children:ie.jsx(nw,{exact:!0,activeClassName:"active",className:"nav-link",to:"/",children:n("home")})}),ie.jsx("li",{children:ie.jsx(nw,{exact:!0,activeClassName:"active",className:"nav-link",to:"/templates",children:n("templates")})}),ie.jsx("li",{children:ie.jsx(nw,{exact:!0,activeClassName:"active",className:"nav-link",to:"/contact-us",children:n("contactUs")})}),ie.jsxs("select",{value:r,onChange:m,children:[ie.jsx("option",{value:"ne",children:""}),ie.jsx("option",{value:"en",children:"English"})]}),ie.jsx("button",{className:"login",onClick:a,children:n("login")})]})]})]})})})},C8=({title:t,content:e,img:n})=>(console.log(n),ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"feature-card-container",children:ie.jsxs("div",{className:"feature-cards","data-aos-once":!0,"data-aos":"zoom-in",children:[ie.jsx("div",{className:"fa-icon",children:n}),ie.jsxs("div",{className:"card-items",children:[ie.jsxs("label",{className:"title",children:[" ",t," "]}),ie.jsxs("label",{className:"content",children:[e," "]})]})]})})}));function x8(t){return Ro({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"}}]})(t)}function I8(t){return Ro({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}}]})(t)}function E8(t){return Ro({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"}}]})(t)}function T8(t){return Ro({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 7.76C0 3.301 3.493 0 8 0s8 3.301 8 7.76-3.493 7.76-8 7.76c-.81 0-1.586-.107-2.316-.307a.639.639 0 0 0-.427.03l-1.588.702a.64.64 0 0 1-.898-.566l-.044-1.423a.639.639 0 0 0-.215-.456C.956 12.108 0 10.092 0 7.76zm5.546-1.459-2.35 3.728c-.225.358.214.761.551.506l2.525-1.916a.48.48 0 0 1 .578-.002l1.869 1.402a1.2 1.2 0 0 0 1.735-.32l2.35-3.728c.226-.358-.214-.761-.551-.506L9.728 7.381a.48.48 0 0 1-.578.002L7.281 5.98a1.2 1.2 0 0 0-1.735.32z"}}]})(t)}function M8(t){return Ro({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5c0 .538-.012 1.05-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33.076 33.076 0 0 1 2.5.5zm.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935zm10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935zM3.504 1c.007.517.026 1.006.056 1.469.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.501.501 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667.03-.463.049-.952.056-1.469H3.504z"}}]})(t)}function Vh(t){return Ro({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(t)}function O8(t){return Ro({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 144c-53.02 0-96 50.14-96 112 0 61.85 42.98 112 96 112 53 0 96-50.13 96-112 0-61.86-42.98-112-96-112zm40 168c0 4.42-3.58 8-8 8h-64c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h16v-55.44l-.47.31a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09l15.33-10.22a23.99 23.99 0 0 1 13.31-4.03H328c4.42 0 8 3.58 8 8v88h16c4.42 0 8 3.58 8 8v16zM608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zm-16 272c-35.35 0-64 28.65-64 64H112c0-35.35-28.65-64-64-64V176c35.35 0 64-28.65 64-64h416c0 35.35 28.65 64 64 64v160z"}}]})(t)}function k8(t){return Ro({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]})(t)}function A8(t){return Ro({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]})(t)}const D8=()=>{const{t}=Cu(),e=[{img:ie.jsx(M8,{size:30,alt:"missionicon",className:"trophyicon"}),title:"Fast Perfomance",content:"E-Nimto has several top features and a robust data storage management system that responds in less than two seconds."},{img:ie.jsx(E8,{size:30,className:"globeicon"}),title:"Easily Accessible",content:"The system is cloud Based system so it can be accessed from anywhere with the electronic device connected to the internet"},{img:ie.jsx(O8,{size:30,className:"moneyicon"}),title:"Cost Efficient",content:"Overall Invitation Management System is provided designed to reduce the cost of printing cards and mordernozing the traditional invitation system "}];return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"features-container",children:[ie.jsxs("div",{className:"feature-head","data-aos-once":!0,"data-aos":"fade-down",children:[ie.jsx("label",{className:"page-title",children:t("whatweprovide")}),ie.jsx("span",{children:" "})]}),ie.jsx("div",{className:"features-contents",children:e.map(n=>ie.jsx(C8,{img:n.img,title:n.title,content:n.content}))})]})})},P8=({name:t,message:e,img:n})=>ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"testimonial-card-container",children:ie.jsxs("div",{className:"testimonial-card-items","data-aos-once":!0,"data-aos":"zoom-in",children:[ie.jsxs("div",{className:"stars-container",children:[ie.jsx(Vh,{size:20,className:"star"}),ie.jsx(Vh,{size:20,className:"star"}),ie.jsx(Vh,{size:20,className:"star"}),ie.jsx(Vh,{size:20,className:"star"}),ie.jsx(Vh,{size:20,className:"star"})]}),ie.jsxs("div",{className:"testimonial-cards",children:[ie.jsxs("label",{className:"content",children:['"',e,'"']}),ie.jsx("div",{className:"img",children:n}),ie.jsx("label",{className:"title",children:t})]})]})})}),N8="/assets/ns-c29642ee.jpeg",R8="/assets/sbgn-15c4a714.jpeg",L8="/assets/bt-65d58bd1.jpg",j8=()=>{const{t}=Cu(),e=[{img:ie.jsx("img",{src:L8,className:"user-image"}),name:"Bibek timilsina",message:"The system is cloud Based system so it can be accessed from anywhere with the electronic device connected to the internet system so it can be accessed from anywhere with the electronic device connected to the internet"},{img:ie.jsx("img",{src:R8,className:"user-image"}),name:"Sandip Bajgain",message:"The system is cloud Based system so it can be accessed from anywhere with the electronic device connected to the internet system so it can be accessed from anywhere with the electronic device connected to the internet"},{img:ie.jsx("img",{src:N8,className:"user-image"}),name:"Nirgun Subedi",message:"The system is cloud Based system so it can be accessed from anywhere with the electronic device connected to the internet system so it can be accessed from anywhere with the electronic device connected to the internet"}];return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"testimonial-container",children:[ie.jsxs("div",{className:"testimonial-head","data-aos-once":!0,"data-aos":"fade-down",children:[ie.jsx("label",{className:"page-title",children:t("testimonialhead")}),ie.jsx("span",{children:" "})]}),ie.jsx("div",{className:"testimonial-contents",children:e.map(n=>ie.jsx(P8,{img:n.img,name:n.name,message:n.message}))})]})})},F8=({img:t,title:e,content:n,isEven:r})=>ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"Ourfeaturescard-container",children:ie.jsxs("div",{className:`ourfeatures-items  ${r?"even":"odd"} `,children:[ie.jsxs("div",{className:"img","data-aos-once":!0,"data-aos":"fade-right",children:[" ",t]}),ie.jsxs("div",{className:"ourfeatures-contents","data-aos-once":!0,"data-aos":"fade-left",children:[ie.jsx("label",{className:"ourfeatures-title",children:e}),ie.jsxs("label",{className:"ourfeatures-paragraph",children:['"',n,'"']})]})]})})}),z8="/assets/templates-e8781ba8.jpeg",B8="/assets/profile-d0efa57a.jpeg",U8="/assets/invitaion-929e43f5.jpeg",H8="/assets/design-57fe9c74.jpeg",W8=()=>{const{t}=Cu(),e=[{img:ie.jsx("img",{src:z8,alt:"templateimage",className:"feature-img"}),title:t("easyandBeautifulTemplatesDesignsAccordingYourChoice"),content:t("Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable")},{img:ie.jsx("img",{src:B8,alt:"templateimage",className:"feature-img"}),title:t("Easy profile page , anyone can use it easiy"),content:"Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable."},{img:ie.jsx("img",{src:U8,alt:"templateimage",className:"feature-img"}),title:t("Easy way to view and send invitaion of your event"),content:t("Overall Invitation Management System is provided designed to reduce the cost of printing cards and mordernozing the traditional invitation system ")},{img:ie.jsx("img",{src:H8,alt:"templateimage",className:"feature-img"}),title:t("Beautifully designed cards, cards design eye catchy and show nepali tradition"),content:t("Overall Invitation Management System is provided designed to reduce the cost of printing cards and mordernozing the traditional invitation system ")}];return ie.jsxs("div",{className:"ourfeatures-container",children:[ie.jsxs("div",{className:"ourfeatures-head","data-aos-once":!0,"data-aos":"fade-down",children:[ie.jsx("label",{children:t("whatMakesUsMoreBetter")}),ie.jsx("span",{children:" "})]}),ie.jsx("div",{className:"ourfeatures-map",children:e.map((n,r)=>ie.jsx(F8,{img:n.img,title:n.title,content:n.content,isEven:r%2===0}))})]})};var V8={exports:{}};(function(t,e){(function(n,r){t.exports=r(Ae)})(Tn,function(n){var r="default"in n?n.default:n;/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,O){I.__proto__=O}||function(I,O){for(var A in O)O.hasOwnProperty(A)&&(I[A]=O[A])};function o(I,O){i(I,O);function A(){this.constructor=I}I.prototype=O===null?Object.create(O):(A.prototype=O.prototype,new A)}var s=Object.assign||function(O){for(var A,D=1,v=arguments.length;D<v;D++){A=arguments[D];for(var l in A)Object.prototype.hasOwnProperty.call(A,l)&&(O[l]=A[l])}return O};function a(I,O){var A={};for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&O.indexOf(D)<0&&(A[D]=I[D]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,D=Object.getOwnPropertySymbols(I);v<D.length;v++)O.indexOf(D[v])<0&&(A[D[v]]=I[D[v]]);return A}(function(I,O,A,D){function v(l,c){this.settings=null,this.options=I.extend({},v.Defaults,c),this.$element=I(l),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},I.each(["onResize","onThrottledResize"],I.proxy(function(f,h){this._handlers[h]=I.proxy(this[h],this)},this)),I.each(v.Plugins,I.proxy(function(f,h){this._plugins[f.charAt(0).toLowerCase()+f.slice(1)]=new h(this)},this)),I.each(v.Workers,I.proxy(function(f,h){this._pipe.push({filter:h.filter,run:I.proxy(h.run,this)})},this)),this.setup(),this.initialize()}v.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:O,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},v.Width={Default:"default",Inner:"inner",Outer:"outer"},v.Type={Event:"event",State:"state"},v.Plugins={},v.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(l){l.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(l){var c=this.settings.margin||"",f=!this.settings.autoWidth,h=this.settings.rtl,p={width:"auto","margin-left":h?c:"","margin-right":h?"":c};!f&&this.$stage.children().css(p),l.css=p}},{filter:["width","items","settings"],run:function(l){var c=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,f=null,h=this._items.length,p=!this.settings.autoWidth,g=[];for(l.items={merge:!1,width:c};h--;)f=this._mergers[h],f=this.settings.mergeFit&&Math.min(f,this.settings.items)||f,l.items.merge=f>1||l.items.merge,g[h]=p?c*f:this._items[h].width();this._widths=g}},{filter:["items","settings"],run:function(){var l=[],c=this._items,f=this.settings,h=Math.max(f.items*2,4),p=Math.ceil(c.length/2)*2,g=f.loop&&c.length?f.rewind?h:Math.max(h,p):0,y="",_="";for(g/=2;g>0;)l.push(this.normalize(l.length/2,!0)),y=y+c[l[l.length-1]][0].outerHTML,l.push(this.normalize(c.length-1-(l.length-1)/2,!0)),_=c[l[l.length-1]][0].outerHTML+_,g-=1;this._clones=l,I(y).addClass("cloned").appendTo(this.$stage),I(_).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var l=this.settings.rtl?1:-1,c=this._clones.length+this._items.length,f=-1,h=0,p=0,g=[];++f<c;)h=g[f-1]||0,p=this._widths[this.relative(f)]+this.settings.margin,g.push(h+p*l);this._coordinates=g}},{filter:["width","items","settings"],run:function(){var l=this.settings.stagePadding,c=this._coordinates,f={width:Math.ceil(Math.abs(c[c.length-1]))+l*2,"padding-left":l||"","padding-right":l||""};this.$stage.css(f)}},{filter:["width","items","settings"],run:function(l){var c=this._coordinates.length,f=!this.settings.autoWidth,h=this.$stage.children();if(f&&l.items.merge)for(;c--;)l.css.width=this._widths[this.relative(c)],h.eq(c).css(l.css);else f&&(l.css.width=l.items.width,h.css(l.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(l){l.current=l.current?this.$stage.children().index(l.current):0,l.current=Math.max(this.minimum(),Math.min(this.maximum(),l.current)),this.reset(l.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var l=this.settings.rtl?1:-1,c=this.settings.stagePadding*2,f=this.coordinates(this.current())+c,h=f+this.width()*l,p,g,y=[],_,w;for(_=0,w=this._coordinates.length;_<w;_++)p=this._coordinates[_-1]||0,g=Math.abs(this._coordinates[_])+c*l,(this.op(p,"<=",f)&&this.op(p,">",h)||this.op(g,"<",f)&&this.op(g,">",h))&&y.push(_);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+y.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],v.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),!this.$stage.length&&(this.$element.addClass(this.options.loadingClass),this.$stage=I("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(I("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},v.prototype.initializeItems=function(){var l=this.$element.find(".owl-item");if(l.length){this._items=l.get().map(function(c){return I(c)}),this._mergers=this._items.map(function(){return 1}),this.refresh();return}this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},v.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var l,c,f;l=this.$element.find("img"),c=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:D,f=this.$element.children(c).width(),l.length&&f<=0&&this.preloadAutoWidthImages(l)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},v.prototype.isVisible=function(){return this.settings.checkVisibility?this.$element.is(":visible"):!0},v.prototype.setup=function(){var l=this.viewport(),c=this.options.responsive,f=-1,h=null;c?(I.each(c,function(p){p<=l&&p>f&&(f=Number(p))}),h=I.extend({},this.options,c[f]),typeof h.stagePadding=="function"&&(h.stagePadding=h.stagePadding()),delete h.responsive,h.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+f))):h=I.extend({},this.options),this.trigger("change",{property:{name:"settings",value:h}}),this._breakpoint=f,this.settings=h,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},v.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},v.prototype.prepare=function(l){var c=this.trigger("prepare",{content:l});return c.data||(c.data=I("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(l)),this.trigger("prepared",{content:c.data}),c.data},v.prototype.update=function(){for(var l=0,c=this._pipe.length,f=I.proxy(function(p){return this[p]},this._invalidated),h={};l<c;)(this._invalidated.all||I.grep(this._pipe[l].filter,f).length>0)&&this._pipe[l].run(h),l++;this._invalidated={},!this.is("valid")&&this.enter("valid")},v.prototype.width=function(l){switch(l=l||v.Width.Default,l){case v.Width.Inner:case v.Width.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}},v.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},v.prototype.onThrottledResize=function(){O.clearTimeout(this.resizeTimer),this.resizeTimer=O.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},v.prototype.onResize=function(){if(!this._items.length||this._width===this.$element.width()||!this.isVisible())return!1;if(this.enter("resizing"),this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},v.prototype.registerEventHandlers=function(){I.support.transition&&this.$stage.on(I.support.transition.end+".owl.core",I.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(O,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",I.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",I.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",I.proxy(this.onDragEnd,this)))},v.prototype.onDragStart=function(l){var c=null;l.which!==3&&(I.support.transform?(c=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),c={x:c[c.length===16?12:4],y:c[c.length===16?13:5]}):(c=this.$stage.position(),c={x:this.settings.rtl?c.left+this.$stage.width()-this.width()+this.settings.margin:c.left,y:c.top}),this.is("animating")&&(I.support.transform?this.animate(c.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,l.type==="mousedown"),this.speed(0),this._drag.time=new Date().getTime(),this._drag.target=I(l.target),this._drag.stage.start=c,this._drag.stage.current=c,this._drag.pointer=this.pointer(l),I(A).on("mouseup.owl.core touchend.owl.core",I.proxy(this.onDragEnd,this)),I(A).one("mousemove.owl.core touchmove.owl.core",I.proxy(function(f){var h=this.difference(this._drag.pointer,this.pointer(f));I(A).on("mousemove.owl.core touchmove.owl.core",I.proxy(this.onDragMove,this)),!(Math.abs(h.x)<Math.abs(h.y)&&this.is("valid"))&&(f.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},v.prototype.onDragMove=function(l){var c=null,f=null,h=null,p=this.difference(this._drag.pointer,this.pointer(l)),g=this.difference(this._drag.stage.start,p);this.is("dragging")&&(l.preventDefault(),this.settings.loop?(c=this.coordinates(this.minimum()),f=this.coordinates(this.maximum()+1)-c,g.x=((g.x-c)%f+f)%f+c):(c=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),f=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),h=this.settings.pullDrag?-1*p.x/5:0,g.x=Math.max(Math.min(g.x,c+h),f+h)),this._drag.stage.current=g,this.animate(g.x))},v.prototype.onDragEnd=function(l){var c=this.difference(this._drag.pointer,this.pointer(l)),f=this._drag.stage.current,h=c.x>0^this.settings.rtl?"left":"right";I(A).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(c.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(f.x,c.x!==0?h:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=h,(Math.abs(c.x)>3||new Date().getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},v.prototype.closest=function(l,c){var f=-1,h=30,p=this.width(),g=this.coordinates();return this.settings.freeDrag||I.each(g,I.proxy(function(y,_){return c==="left"&&l>_-h&&l<_+h?f=y:c==="right"&&l>_-p-h&&l<_-p+h?f=y+1:this.op(l,"<",_)&&this.op(l,">",g[y+1]!==D?g[y+1]:_-p)&&(f=c==="left"?y+1:y),f===-1},this)),this.settings.loop||(this.op(l,">",g[this.minimum()])?f=l=this.minimum():this.op(l,"<",g[this.maximum()])&&(f=l=this.maximum())),f},v.prototype.animate=function(l){var c=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),c&&(this.enter("animating"),this.trigger("translate")),I.support.transform3d&&I.support.transition?this.$stage.css({transform:"translate3d("+l+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):c?this.$stage.animate({left:l+"px"},this.speed(),this.settings.fallbackEasing,I.proxy(this.onTransitionEnd,this)):this.$stage.css({left:l+"px"})},v.prototype.is=function(l){return this._states.current[l]&&this._states.current[l]>0},v.prototype.current=function(l){if(l===D)return this._current;if(this._items.length===0)return D;if(l=this.normalize(l),this._current!==l){var c=this.trigger("change",{property:{name:"position",value:l}});c.data!==D&&(l=this.normalize(c.data)),this._current=l,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},v.prototype.invalidate=function(l){return I.type(l)==="string"&&(this._invalidated[l]=!0,this.is("valid")&&this.leave("valid")),I.map(this._invalidated,function(c,f){return f})},v.prototype.reset=function(l){l=this.normalize(l),l!==D&&(this._speed=0,this._current=l,this.suppress(["translate","translated"]),this.animate(this.coordinates(l)),this.release(["translate","translated"]))},v.prototype.normalize=function(l,c){var f=this._items.length,h=c?0:this._clones.length;return!this.isNumeric(l)||f<1?l=D:(l<0||l>=f+h)&&(l=((l-h/2)%f+f)%f+h/2),l},v.prototype.relative=function(l){return l-=this._clones.length/2,this.normalize(l,!0)},v.prototype.maximum=function(l){var c=this.settings,f=this._coordinates.length,h,p,g;if(c.loop)f=this._clones.length/2+this._items.length-1;else if(c.autoWidth||c.merge){if(h=this._items.length,h)for(p=this._items[--h].width(),g=this.$element.width();h--&&(p+=this._items[h].width()+this.settings.margin,!(p>g)););f=h+1}else c.center?f=this._items.length-1:f=this._items.length-c.items;return l&&(f-=this._clones.length/2),Math.max(f,0)},v.prototype.minimum=function(l){return l?0:this._clones.length/2},v.prototype.items=function(l){return l===D?this._items.slice():(l=this.normalize(l,!0),this._items[l])},v.prototype.mergers=function(l){return l===D?this._mergers.slice():(l=this.normalize(l,!0),this._mergers[l])},v.prototype.clones=function(l){var c=this._clones.length/2,f=c+this._items.length,h=function(p){return p%2===0?f+p/2:c-(p+1)/2};return l===D?I.map(this._clones,function(p,g){return h(g)}):I.map(this._clones,function(p,g){return p===l?h(g):null})},v.prototype.speed=function(l){return l!==D&&(this._speed=l),this._speed},v.prototype.coordinates=function(l){var c=1,f=l-1,h;return l===D?I.map(this._coordinates,I.proxy(function(p,g){return this.coordinates(g)},this)):(this.settings.center?(this.settings.rtl&&(c=-1,f=l+1),h=this._coordinates[l],h+=(this.width()-h+(this._coordinates[f]||0))/2*c):h=this._coordinates[f]||0,h=Math.ceil(h),h)},v.prototype.duration=function(l,c,f){return f===0?0:Math.min(Math.max(Math.abs(c-l),1),6)*Math.abs(f||this.settings.smartSpeed)},v.prototype.to=function(l,c){var f=this.current(),h=null,p=l-this.relative(f),g=(p>0)-(p<0),y=this._items.length,_=this.minimum(),w=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(p)>y/2&&(p+=g*-1*y),l=f+p,h=((l-_)%y+y)%y+_,h!==l&&h-p<=w&&h-p>0&&(f=h-p,l=h,this.reset(f))):this.settings.rewind?(w+=1,l=(l%w+w)%w):l=Math.max(_,Math.min(w,l)),this.speed(this.duration(f,l,c)),this.current(l),this.isVisible()&&this.update()},v.prototype.next=function(l){l=l||!1,this.to(this.relative(this.current())+1,l)},v.prototype.prev=function(l){l=l||!1,this.to(this.relative(this.current())-1,l)},v.prototype.onTransitionEnd=function(l){if(l!==D&&(l.stopPropagation(),(l.target||l.srcElement||l.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},v.prototype.viewport=function(){var l;return this.options.responsiveBaseElement!==O?l=I(this.options.responsiveBaseElement).width():O.innerWidth?l=O.innerWidth:A.documentElement&&A.documentElement.clientWidth?l=A.documentElement.clientWidth:console.warn("Can not detect viewport width."),l},v.prototype.replace=function(l){this.$stage.empty(),this._items=[],l&&(l=l instanceof jQuery?l:I(l)),this.settings.nestedItemSelector&&(l=l.find("."+this.settings.nestedItemSelector)),l.filter(function(){return this.nodeType===1}).each(I.proxy(function(c,f){f=this.prepare(f),this.$stage.append(f),this._items.push(f),this._mergers.push(f.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},v.prototype.add=function(l,c){var f=this.relative(this._current);c=c===D?this._items.length:this.normalize(c,!0),l=l instanceof jQuery?l:I(l),this.trigger("add",{content:l,position:c}),l=this.prepare(l),this._items.length===0||c===this._items.length?(this._items.length===0&&this.$stage.append(l),this._items.length!==0&&this._items[c-1].after(l),this._items.push(l),this._mergers.push(l.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)):(this._items[c].before(l),this._items.splice(c,0,l),this._mergers.splice(c,0,l.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)),this._items[f]&&this.reset(this._items[f].index()),this.invalidate("items"),this.trigger("added",{content:l,position:c})},v.prototype.remove=function(l){l=this.normalize(l,!0),l!==D&&(this.trigger("remove",{content:this._items[l],position:l}),this._items[l].remove(),this._items.splice(l,1),this._mergers.splice(l,1),this.invalidate("items"),this.trigger("removed",{content:null,position:l}))},v.prototype.preloadAutoWidthImages=function(l){l.each(I.proxy(function(c,f){this.enter("pre-loading"),f=I(f),I(new Image).one("load",I.proxy(function(h){f.attr("src",h.target.src),f.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",f.attr("src")||f.attr("data-src")||f.attr("data-src-retina"))},this))},v.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),I(A).off(".owl.core"),this.settings.responsive!==!1&&(O.clearTimeout(this.resizeTimer),this.off(O,"resize",this._handlers.onThrottledResize));for(var l in this._plugins)this._plugins[l].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},v.prototype.op=function(l,c,f){var h=this.settings.rtl;switch(c){case"<":return h?l>f:l<f;case">":return h?l<f:l>f;case">=":return h?l<=f:l>=f;case"<=":return h?l>=f:l<=f}},v.prototype.on=function(l,c,f,h){l.addEventListener?l.addEventListener(c,f,h):l.attachEvent&&l.attachEvent("on"+c,f)},v.prototype.off=function(l,c,f,h){l.removeEventListener?l.removeEventListener(c,f,h):l.detachEvent&&l.detachEvent("on"+c,f)},v.prototype.trigger=function(l,c,f,h,p){var g={item:{count:this._items.length,index:this.current()}},y=I.camelCase(I.grep(["on",l,f],function(w){return w}).join("-").toLowerCase()),_=I.Event([l,"owl",f||"carousel"].join(".").toLowerCase(),I.extend({relatedTarget:this},g,c));return this._supress[l]||(I.each(this._plugins,function(w,T){T.onTrigger&&T.onTrigger(_)}),this.register({type:v.Type.Event,name:l}),this.$element.trigger(_),this.settings&&typeof this.settings[y]=="function"&&this.settings[y].call(this,_)),_},v.prototype.enter=function(l){I.each([l].concat(this._states.tags[l]||[]),I.proxy(function(c,f){this._states.current[f]===D&&(this._states.current[f]=0),this._states.current[f]++},this))},v.prototype.leave=function(l){I.each([l].concat(this._states.tags[l]||[]),I.proxy(function(c,f){this._states.current[f]--},this))},v.prototype.register=function(l){if(l.type===v.Type.Event){if(I.event.special[l.name]||(I.event.special[l.name]={}),!I.event.special[l.name].owl){var c=I.event.special[l.name]._default;I.event.special[l.name]._default=function(f){return c&&c.apply&&(!f.namespace||f.namespace.indexOf("owl")===-1)?c.apply(this,arguments):f.namespace&&f.namespace.indexOf("owl")>-1},I.event.special[l.name].owl=!0}}else l.type===v.Type.State&&(this._states.tags[l.name]?this._states.tags[l.name]=this._states.tags[l.name].concat(l.tags):this._states.tags[l.name]=l.tags,this._states.tags[l.name]=I.grep(this._states.tags[l.name],I.proxy(function(f,h){return I.inArray(f,this._states.tags[l.name])===h},this)))},v.prototype.suppress=function(l){I.each(l,I.proxy(function(c,f){this._supress[f]=!0},this))},v.prototype.release=function(l){I.each(l,I.proxy(function(c,f){delete this._supress[f]},this))},v.prototype.pointer=function(l){var c={x:null,y:null};return l=l.originalEvent||l||O.event,l=l.touches&&l.touches.length?l.touches[0]:l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:l,l.pageX?(c.x=l.pageX,c.y=l.pageY):(c.x=l.clientX,c.y=l.clientY),c},v.prototype.isNumeric=function(l){return!isNaN(parseFloat(l))},v.prototype.difference=function(l,c){return{x:l.x-c.x,y:l.y-c.y}},I.fn.owlCarousel=function(l){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=I(this),h=f.data("owl.carousel");h||(h=new v(this,typeof l=="object"&&l),f.data("owl.carousel",h),I.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(p,g){h.register({type:v.Type.Event,name:g}),h.$element.on(g+".owl.carousel.core",I.proxy(function(y){y.namespace&&y.relatedTarget!==this&&(this.suppress([g]),h[g].apply(this,[].slice.call(arguments,1)),this.release([g]))},h))})),typeof l=="string"&&l.charAt(0)!=="_"&&h[l].apply(h,c)})},I.fn.owlCarousel.Constructor=v})(window.Zepto||window.jQuery,window,document),function(I,O,A,D){var v=function(l){this._core=l,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=I.extend({},v.Defaults,this._core.options),this._core.$element.on(this._handlers)};v.Defaults={autoRefresh:!0,autoRefreshInterval:500},v.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=O.setInterval(I.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},v.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},v.prototype.destroy=function(){var l,c;O.clearInterval(this._interval);for(l in this._handlers)this._core.$element.off(l,this._handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.AutoRefresh=v}(window.Zepto||window.jQuery,window),function(I,O,A,D){var v=function(l){this._core=l,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":I.proxy(function(c){if(c.namespace&&!(!this._core.settings||!this._core.settings.lazyLoad)&&(c.property&&c.property.name=="position"||c.type=="initialized")){var f=this._core.settings,h=f.center&&Math.ceil(f.items/2)||f.items,p=f.center&&h*-1||0,g=(c.property&&c.property.value!==D?c.property.value:this._core.current())+p,y=this._core.clones().length,_=I.proxy(function(w,T){this.load(T)},this);for(f.lazyLoadEager>0&&(h+=f.lazyLoadEager,f.loop&&(g-=f.lazyLoadEager,h++));p++<h;)this.load(y/2+this._core.relative(g)),y&&I.each(this._core.clones(this._core.relative(g)),_),g++}},this)},this._core.options=I.extend({},v.Defaults,this._core.options),this._core.$element.on(this._handlers)};v.Defaults={lazyLoad:!1,lazyLoadEager:0},v.prototype.load=function(l){var c=this._core.$stage.children().eq(l),f=c&&c.find(".owl-lazy");!f||I.inArray(c.get(0),this._loaded)>-1||(f.each(I.proxy(function(h,p){var g=I(p),y,_=O.devicePixelRatio>1&&g.attr("data-src-retina")||g.attr("data-src")||g.attr("data-srcset");this._core.trigger("load",{element:g,url:_},"lazy"),g.is("img")?g.one("load.owl.lazy",I.proxy(function(){g.css("opacity",1),this._core.trigger("loaded",{element:g,url:_},"lazy")},this)).attr("src",_):g.is("source")?g.one("load.owl.lazy",I.proxy(function(){this._core.trigger("loaded",{element:g,url:_},"lazy")},this)).attr("srcset",_):(y=new Image,y.onload=I.proxy(function(){g.css({"background-image":'url("'+_+'")',opacity:"1"}),this._core.trigger("loaded",{element:g,url:_},"lazy")},this),y.src=_)},this)),this._loaded.push(c.get(0)))},v.prototype.destroy=function(){var l,c;for(l in this.handlers)this._core.$element.off(l,this.handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.Lazy=v}(window.Zepto||window.jQuery,window),function(I,O,A,D){var v=function(l){this._core=l,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":I.proxy(function(f){f.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":I.proxy(function(f){f.namespace&&this._core.settings.autoHeight&&f.property.name==="position"&&this.update()},this),"loaded.owl.lazy":I.proxy(function(f){f.namespace&&this._core.settings.autoHeight&&f.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=I.extend({},v.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var c=this;I(O).on("load",function(){c._core.settings.autoHeight&&c.update()}),I(O).resize(function(){c._core.settings.autoHeight&&(c._intervalId!=null&&clearTimeout(c._intervalId),c._intervalId=setTimeout(function(){c.update()},250))})};v.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},v.prototype.update=function(){var l=this._core._current,c=l+this._core.settings.items,f=this._core.settings.lazyLoad,h=this._core.$stage.children().toArray().slice(l,c),p=[],g=0;I.each(h,function(y,_){p.push(I(_).height())}),g=Math.max.apply(null,p),g<=1&&f&&this._previousHeight&&(g=this._previousHeight),this._previousHeight=g,this._core.$stage.parent().height(g).addClass(this._core.settings.autoHeightClass)},v.prototype.destroy=function(){var l,c;for(l in this._handlers)this._core.$element.off(l,this._handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.AutoHeight=v}(window.Zepto||window.jQuery,window),function(I,O,A,D){var v=function(l){this._core=l,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":I.proxy(function(c){c.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.video&&this.isInFullScreen()&&c.preventDefault()},this),"refreshed.owl.carousel":I.proxy(function(c){c.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":I.proxy(function(c){c.namespace&&c.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":I.proxy(function(c){if(c.namespace){var f=I(c.content).find(".owl-video");f.length&&(f.css("display","none"),this.fetch(f,I(c.content)))}},this)},this._core.options=I.extend({},v.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",I.proxy(function(c){this.play(c)},this))};v.Defaults={video:!1,videoHeight:!1,videoWidth:!1},v.prototype.fetch=function(l,c){var f=function(){return l.attr("data-vimeo-id")?"vimeo":l.attr("data-vzaar-id")?"vzaar":"youtube"}(),h=l.attr("data-vimeo-id")||l.attr("data-youtube-id")||l.attr("data-vzaar-id"),p=l.attr("data-width")||this._core.settings.videoWidth,g=l.attr("data-height")||this._core.settings.videoHeight,y=l.attr("href");if(y){if(h=y.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),h[3].indexOf("youtu")>-1)f="youtube";else if(h[3].indexOf("vimeo")>-1)f="vimeo";else if(h[3].indexOf("vzaar")>-1)f="vzaar";else throw new Error("Video URL not supported.");h=h[6]}else throw new Error("Missing video URL.");this._videos[y]={type:f,id:h,width:p,height:g},c.attr("data-video",y),this.thumbnail(l,this._videos[y])},v.prototype.thumbnail=function(l,c){var f,h,p,g=c.width&&c.height?"width:"+c.width+"px;height:"+c.height+"px;":"",y=l.find("img"),_="src",w="",T=this._core.settings,k=function(P){h='<div class="owl-video-play-icon"></div>',T.lazyLoad?f=I("<div/>",{class:"owl-video-tn "+w,srcType:P}):f=I("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+P+")"}),l.after(f),l.after(h)};if(l.wrap(I("<div/>",{class:"owl-video-wrapper",style:g})),this._core.settings.lazyLoad&&(_="data-src",w="owl-lazy"),y.length)return k(y.attr(_)),y.remove(),!1;c.type==="youtube"?(p="//img.youtube.com/vi/"+c.id+"/hqdefault.jpg",k(p)):c.type==="vimeo"?I.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(P){p=P[0].thumbnail_large,k(p)}}):c.type==="vzaar"&&I.ajax({type:"GET",url:"//vzaar.com/api/videos/"+c.id+".json",jsonp:"callback",dataType:"jsonp",success:function(P){p=P.framegrab_url,k(p)}})},v.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},v.prototype.play=function(l){var c=I(l.target),f=c.closest("."+this._core.settings.itemClass),h=this._videos[f.attr("data-video")],p=h.width||"100%",g=h.height||this._core.$stage.height(),y;this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),f=this._core.items(this._core.relative(f.index())),this._core.reset(f.index()),y=I('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),y.attr("height",g),y.attr("width",p),h.type==="youtube"?y.attr("src","//www.youtube.com/embed/"+h.id+"?autoplay=1&rel=0&v="+h.id):h.type==="vimeo"?y.attr("src","//player.vimeo.com/video/"+h.id+"?autoplay=1"):h.type==="vzaar"&&y.attr("src","//view.vzaar.com/"+h.id+"/player?autoplay=true"),I(y).wrap('<div class="owl-video-frame" />').insertAfter(f.find(".owl-video")),this._playing=f.addClass("owl-video-playing"))},v.prototype.isInFullScreen=function(){var l=A.fullscreenElement||A.mozFullScreenElement||A.webkitFullscreenElement;return l&&I(l).parent().hasClass("owl-video-frame")},v.prototype.destroy=function(){var l,c;this._core.$element.off("click.owl.video");for(l in this._handlers)this._core.$element.off(l,this._handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.Video=v}(window.Zepto||window.jQuery,window,document),function(I,O,A,D){var v=function(l){this.core=l,this.core.options=I.extend({},v.Defaults,this.core.options),this.swapping=!0,this.previous=D,this.next=D,this.handlers={"change.owl.carousel":I.proxy(function(c){c.namespace&&c.property.name=="position"&&(this.previous=this.core.current(),this.next=c.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":I.proxy(function(c){c.namespace&&(this.swapping=c.type=="translated")},this),"translate.owl.carousel":I.proxy(function(c){c.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};v.Defaults={animateOut:!1,animateIn:!1},v.prototype.swap=function(){if(this.core.settings.items===1&&!(!I.support.animation||!I.support.transition)){this.core.speed(0);var l,c=I.proxy(this.clear,this),f=this.core.$stage.children().eq(this.previous),h=this.core.$stage.children().eq(this.next),p=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(l=this.core.coordinates(this.previous)-this.core.coordinates(this.next),f.one(I.support.animation.end,c).css({left:l+"px"}).addClass("animated owl-animated-out").addClass(g)),p&&h.one(I.support.animation.end,c).addClass("animated owl-animated-in").addClass(p))}},v.prototype.clear=function(l){I(l.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},v.prototype.destroy=function(){var l,c;for(l in this.handlers)this.core.$element.off(l,this.handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.Animate=v}(window.Zepto||window.jQuery),function(I,O,A,D){var v=function(l){this._core=l,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":I.proxy(function(c){c.namespace&&c.property.name==="settings"?this._core.settings.autoplay?this.play():this.stop():c.namespace&&c.property.name==="position"&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":I.proxy(function(c,f,h){c.namespace&&this.play(f,h)},this),"stop.owl.autoplay":I.proxy(function(c){c.namespace&&this.stop()},this),"mouseover.owl.autoplay":I.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":I.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":I.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":I.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=I.extend({},v.Defaults,this._core.options)};v.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},v.prototype._next=function(l){this._call=O.setTimeout(I.proxy(this._next,this,l),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),!(this._core.is("interacting")||A.hidden)&&this._core.next(l||this._core.settings.autoplaySpeed)},v.prototype.read=function(){return new Date().getTime()-this._time},v.prototype.play=function(l,c){var f;this._core.is("rotating")||this._core.enter("rotating"),l=l||this._core.settings.autoplayTimeout,f=Math.min(this._time%(this._timeout||l),l),this._paused?(this._time=this.read(),this._paused=!1):O.clearTimeout(this._call),this._time+=this.read()%l-f,this._timeout=l,this._call=O.setTimeout(I.proxy(this._next,this,c),l-f)},v.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,O.clearTimeout(this._call),this._core.leave("rotating"))},v.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,O.clearTimeout(this._call))},v.prototype.destroy=function(){var l,c;this.stop();for(l in this._handlers)this._core.$element.off(l,this._handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.autoplay=v}(window.Zepto||window.jQuery,window,document),function(I,O,A,D){var v=function(l){this._core=l,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+I(c.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.dotsData&&this._templates.splice(c.position,0,this._templates.pop())},this),"remove.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.dotsData&&this._templates.splice(c.position,1)},this),"changed.owl.carousel":I.proxy(function(c){c.namespace&&c.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":I.proxy(function(c){c.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":I.proxy(function(c){c.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=I.extend({},v.Defaults,this._core.options),this.$element.on(this._handlers)};v.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},v.prototype.initialize=function(){var l,c=this._core.settings;this._controls.$relative=(c.navContainer?I(c.navContainer):I("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=I("<"+c.navElement+">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click",I.proxy(function(f){this.prev(c.navSpeed)},this)),this._controls.$next=I("<"+c.navElement+">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click",I.proxy(function(f){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[I('<button role="button">').addClass(c.dotClass).append(I("<span>")).prop("outerHTML")]),this._controls.$absolute=(c.dotsContainer?I(c.dotsContainer):I("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",I.proxy(function(f){var h=I(f.target).parent().is(this._controls.$absolute)?I(f.target).index():I(f.target).parent().index();f.preventDefault(),this.to(h,c.dotsSpeed)},this));for(l in this._overrides)this._core[l]=I.proxy(this[l],this)},v.prototype.destroy=function(){var l,c,f,h,p;p=this._core.settings;for(l in this._handlers)this.$element.off(l,this._handlers[l]);for(c in this._controls)c==="$relative"&&p.navContainer?this._controls[c].html(""):this._controls[c].remove();for(h in this.overides)this._core[h]=this._overrides[h];for(f in Object.getOwnPropertyNames(this))typeof this[f]!="function"&&(this[f]=null)},v.prototype.update=function(){var l,c,f=this._core.clones().length/2,h=f+this._core.items().length,p=this._core.maximum(!0),g=this._core.settings,y=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if(g.slideBy!=="page"&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||g.slideBy=="page")for(this._pages=[],l=f,c=0,0;l<h;l++){if(c>=y||c===0){if(this._pages.push({start:Math.min(p,l-f),end:l-f+y-1}),Math.min(p,l-f)===p)break;c=0}c+=this._core.mergers(this._core.relative(l))}},v.prototype.draw=function(){var l,c=this._core.settings,f=this._core.items().length<=c.items,h=this._core.relative(this._core.current()),p=c.loop||c.rewind;this._controls.$relative.toggleClass("disabled",!c.nav||f),c.nav&&(this._controls.$previous.toggleClass("disabled",!p&&h<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!p&&h>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!c.dots||f),c.dots&&(l=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&l!==0?this._controls.$absolute.html(this._templates.join("")):l>0?this._controls.$absolute.append(new Array(l+1).join(this._templates[0])):l<0&&this._controls.$absolute.children().slice(l).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(I.inArray(this.current(),this._pages)).addClass("active"))},v.prototype.onTrigger=function(l){var c=this._core.settings;l.page={index:I.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},v.prototype.current=function(){var l=this._core.relative(this._core.current());return I.grep(this._pages,I.proxy(function(c,f){return c.start<=l&&c.end>=l},this)).pop()},v.prototype.getPosition=function(l){var c,f,h=this._core.settings;return h.slideBy=="page"?(c=I.inArray(this.current(),this._pages),f=this._pages.length,l?++c:--c,c=this._pages[(c%f+f)%f].start):(c=this._core.relative(this._core.current()),f=this._core.items().length,l?c+=h.slideBy:c-=h.slideBy),c},v.prototype.next=function(l){I.proxy(this._overrides.to,this._core)(this.getPosition(!0),l)},v.prototype.prev=function(l){I.proxy(this._overrides.to,this._core)(this.getPosition(!1),l)},v.prototype.to=function(l,c,f){var h;!f&&this._pages.length?(h=this._pages.length,I.proxy(this._overrides.to,this._core)(this._pages[(l%h+h)%h].start,c)):I.proxy(this._overrides.to,this._core)(l,c)},I.fn.owlCarousel.Constructor.Plugins.Navigation=v}(window.Zepto||window.jQuery),function(I,O,A,D){var v=function(l){this._core=l,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":I.proxy(function(c){c.namespace&&this._core.settings.startPosition==="URLHash"&&I(O).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":I.proxy(function(c){if(c.namespace){var f=I(c.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!f)return;this._hashes[f]=c.content}},this),"changed.owl.carousel":I.proxy(function(c){if(c.namespace&&c.property.name==="position"){var f=this._core.items(this._core.relative(this._core.current())),h=I.map(this._hashes,function(p,g){return p===f?g:null}).join();if(!h||O.location.hash.slice(1)===h)return;O.location.hash=h}},this)},this._core.options=I.extend({},v.Defaults,this._core.options),this.$element.on(this._handlers),I(O).on("hashchange.owl.navigation",I.proxy(function(c){var f=O.location.hash.substring(1),h=this._core.$stage.children(),p=this._hashes[f]&&h.index(this._hashes[f]);p===D||p===this._core.current()||this._core.to(this._core.relative(p),!1,!0)},this))};v.Defaults={URLhashListener:!1},v.prototype.destroy=function(){var l,c;I(O).off("hashchange.owl.navigation");for(l in this._handlers)this._core.$element.off(l,this._handlers[l]);for(c in Object.getOwnPropertyNames(this))typeof this[c]!="function"&&(this[c]=null)},I.fn.owlCarousel.Constructor.Plugins.Hash=v}(window.Zepto||window.jQuery,window),function(I,O,A,D){var v=I("<support>").get(0).style,l="Webkit Moz O ms".split(" "),c={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},f={csstransforms:function(){return!!h("transform")},csstransforms3d:function(){return!!h("perspective")},csstransitions:function(){return!!h("transition")},cssanimations:function(){return!!h("animation")}};function h(g,y){var _=!1,w=g.charAt(0).toUpperCase()+g.slice(1);return I.each((g+" "+l.join(w+" ")+w).split(" "),function(T,k){if(v[k]!==D)return _=y?k:!0,!1}),_}function p(g){return h(g,!0)}f.csstransitions()&&(I.support.transition=new String(p("transition")),I.support.transition.end=c.transition.end[I.support.transition]),f.cssanimations()&&(I.support.animation=new String(p("animation")),I.support.animation.end=c.animation.end[I.support.animation]),f.csstransforms()&&(I.support.transform=new String(p("transform")),I.support.transform3d=f.csstransforms3d())}(window.Zepto||window.jQuery);var m=window.jQuery,u=function(I){o(O,I);function O(A){var D=I.call(this,A)||this;D.containerRef=function(f){D.container=f};var v=E(D.props),l=v[0],c=v[1];return D.options=l,D.propsWithoutOptions=c,D}return O.prototype.componentDidMount=function(){this.$ele=m(this.container),this.create()},O.prototype.UNSAFE_componentWillReceiveProps=function(){this.destory()},O.prototype.componentDidUpdate=function(){var A=E(this.props),D=A[0],v=A[1];this.options=D,this.propsWithoutOptions=v,this.create()},O.prototype.next=function(A){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof A=="number"?this.$ele.trigger("next.owl.carousel",[A]):this.$ele.trigger("next.owl.carousel",A)},O.prototype.prev=function(A){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof A=="number"?this.$ele.trigger("prev.owl.carousel",[A]):this.$ele.trigger("prev.owl.carousel",A)},O.prototype.to=function(A,D){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof A=="number"&&typeof D=="number"?this.$ele.trigger("to.owl.carousel",[A,D]):this.$ele.trigger("to.owl.carousel")},O.prototype.create=function(A){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.owlCarousel(A||this.options)},O.prototype.destory=function(){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.trigger("destroy.owl.carousel")},O.prototype.play=function(A,D){if(!this.$ele)throw new Error("OwlCarousel is not created");typeof A=="number"&&typeof D=="number"?this.$ele.trigger("play.owl.autoplay",[A,D]):this.$ele.trigger("play.owl.autoplay")},O.prototype.stop=function(){if(!this.$ele)throw new Error("OwlCarousel is not created");this.$ele.trigger("stop.owl.autoplay")},O.prototype.render=function(){var A=this.propsWithoutOptions,D=A.className,v=a(A,["className"]);return r.createElement("div",s({className:"owl-carousel "+D,ref:this.containerRef},v))},O}(n.Component),d=new Set(["items","margin","loop","center","mouseDrag","touchDrag","pullDrag","freeDrag","stagePadding","merge","mergeFit","autoWidth","startPosition","URLhashListener","nav","rewind","navText","navElement","slideBy","dots","dotsEach","dotData","lazyLoad","lazyContent","autoplay","autoplayTimeout","autoplayHoverPause","smartSpeed","fluidSpeed","autoplaySpeed","navSpeed","dotsSpeed","dragEndSpeed","callbacks","responsive","responsiveRefreshRate","responsiveBaseElement","video","videoHeight","videoWidth","animateOut","animateIn","fallbackEasing","info","nestedItemSelector","itemElement","stageElement","navContainer","dotsContainer","refreshClass","loadingClass","loadedClass","rtlClass","dragClass","grabClass","stageClass","stageOuterClass","navContainerClass","navClass","controlsClass","dotClass","dotsClass","autoHeightClass","responsiveClass","onInitialize","onInitialized","onResize","onResized","onRefresh","onRefreshed","onDrag","onDragged","onTranslate","onTranslated","onChange","onChanged","onLoadLazy","onLoadedLazy","onStopVideo","onPlayVideo"]);function E(I){var O={},A={};return Object.keys(I).forEach(function(D){d.has(D)?O[D]=I[D]:A[D]=I[D]}),[O,A]}return u})})(V8);const d_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAApCAYAAAAf8TqUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtPSURBVHgB7VxtbFRZGX7vUGpbKLR86KrQTndjskQCJfKhaEobFdQlfBh/WLO11Ehg40ZKjK4o2jay8sMfFFezWdFtG7Jhf5gU3KjRwLZ0tbpIoZW4BXa3Hcri0ill2kLZ0k7n7Pucmbc9XGbonX5Ce5/k5cy993zdc577fpxzqEUGjh49mmtZVjZLGrmYcQiFQrUFBQW1cm3hn4qKCu/du3cr6uvrc30+H3V0dJCLmYWUlBRas2YN5eTk+JgLeUVFRT4LxAgEAjUHDx70uqRwsXjxYtq3b58vPT19lScpKank+PHjLjFcaIAHR44c8SYmJhZ7bt26lVtXV0cuXAiam5upt7e30NPW1uYlFy5s6Ozs9HrIhYsoYM1BCU4zW6kfobnrHqfgRT998F4nTTa8Xi/t2bOHsrOzqbGxkQ4fPkyIrHbs2EEbNmwYyldVVUWFhYX3lGXPW6dpaWk6P8qbebq6umjv3r0jtrVt2zbKzMzU1wDqqq2t1c+mIxxrjsTKerIOF1DCK9+g1OINNJnAZFVXV1N3dzeVlZXRlStX9EQBubm5Oj19+rQWTBRSlJH7ApBj69atQ3lQFnWZeVCupqZmqC2kuEZZkKW8vHyoTaTSzrTE/v37FScjyz9DylN/UyW//UuV3PZDlXrmeyo9f7WzsmMUDrdVcXFx1GeVlZWKv2BH93kiFU/00DV+8wTf15a9HOpC+6WlpYpJqlpbWxWTRd+3l58uAl441hwWL5eFVDr13dhNg0gzU6jn13mU/NrTRBnzaCKBrxPqHeBJ0l8yBGod4AklpRTxpNFYgbbsZgKmY+XKlfp3U1MTnThxQvdjusMxOVSCFc4dSqeB93dTaHABhfi67wufoKQLz1LSi1soKWMhTQQwIaLK+WvVPgT8BKh6ANe85E9ZWVk0VsDMSFsC+DSm6WENon0W+B/TGc6jFeScxSTxKFLBNApd3cXpAlLMmT4VpL78Jyn4RgEl/XgDjTdg5zEZ+Fph9/EbKS/e6eeYPGgRiBBmtJCJR10gyaFDh3QK7SEQB9ZOoumG+MjBxLA4tViLgCDUuouoP10/xiZNcH4i9T23lhL++wylfWs1jReg5vPy8jQhSkpKiJd29TXuy6SBIGbUEi2KwKSakwzzgHvR2sLEoy04pKtWrdL3YdrEvIGYcFjt5acTLDgeBw4cGDlnY4i0mhjk3/zTGmQNEuLrWQGiJ14imh0YrpTCXk3a1X7qeuplorYecvFogXnhXHNYsyI+R0SUXEODvMsaZCDdyKw3e6lraSJZF56ZUH/ExcTBuUNqYc6V9jtQyhKiMEmsCEGsCEEQOQBW5Df8EW/DN+kHu+dRWqrjdTcXUwznK6TQFpju8LzrxOKJDwfGMDdMjBbWIFkvkTX7JpPJimRU5A3eor/6jpH3Oz307GZ2+v4wl6qqb9NoAacTi2AIO2Hz4QeYvoSL8UFcmkM7pNAeEG1aIuYmok1UMEwQNbAgXIYla6CHalqYGAPdBF3i/bhFlaW3qeVkOmUvi0+LyEppIBDQaxtwGBFNYM0DaxyyajoVQHQDLYloJ14gPEdZu+C9ZAUWqdybLMSnOVTE1bSGUyXPKaJUWINYHMUo1iBZykevv/MqeUPdYQLB3Fjh3FmPBehctUVlvyUqe2Hk9mVZW7QF9lCgMaBFEKWAGCAMNMijGkHgfaTveE9ETOfPn9fR0lTA+adraUMS1iCYZM+wiRFrEzYzltYgWQ1b6fVgHnnndoc1DAiFOlSEIxGrU/p9Z+QQYoAUWO8wCYB1EIS5wKMcWmLtxDSP0ELQjhCEzZMN52bFI9GKpQXmRU9wxMQMRzDsY3Rdp1MvPE+ZL36KZytZ5wurygiJdKtMopCin5eP3DZUtixr43c0AphrENMFID0wVYttzjWHXjoPRyzQHtiV0coEaoPva7PB8Hb66eRvfkQZAT8/Sib6/WeIdjUQLeoL+ysUJkrNm0QlbFL+0TBy07K9bm6rOwXMjmy/4zc0D2y8HdBGME/IY27Tm8AkoS8gKhbBZFlfVmrtMPPHqnOkvgOxtCE+FOwyIx/yoH5oHphYWUE2Pxj0A2XQh2hjcB8c78q2ssfRwp/6Ozyzl1kusVxkeYvlfywXlMo8dV1d+uq31d21G9XAuo0q+Nkvq9DnWL72eaX+nKzUGVLtJ0k9/VR8O4TsgCoAO6Fk22XFTqldZAeXB2iorKSA7KoiD1K26/flwW+Ul7ZYtatYwC4uBED79vxoL1qdZOz6AuYOL/qFHWAAO8V4V0B2laPVD+DdUY+ZVwT1SH9HGnPNC6fksFpDEYKwgCBvRwjSHFLWWyGVWXtdNW8qVHdWb1J9a7/CBNk0RJBBJsiNTevUT4tIzZsT//axTJr9vgyCHRgsPEcKkUHHAMuAyyTKgJlHAvDMJJFMvFkXf51D/bKTQybSzC99lb5FI0esd0Ef7ORAe3gX3Jd3Q38gyI98gPk8VvuxyBFHKGvBS4iEtKZYlHHDT385uI+Wdvi1vVGhsNOJ6CbI8rv29yi7pomeryDq6aW4IarYbnuhMrEja4pADuLgnjh5qEd2dGFqAKhgqFix7wAcQZRBeahnqG7ArAsqW06E2SFHCWTvBQ4lQnDpQ6zNQVmvgcjeDSKVaGYFfcbeEEJ5RDRIpe758+dr82n2RcYulgmMhjiiFQqHGGo4SME9EOO1X/yElnIKAoWYFZ5wvEp/7+6gA/9/l/59e2wRBAZBdmPtu6Om7ZSIBb6ArA/YnVSUwSAir/gY5na8QE6KoR6ZTPt5EfQFE2+HtI1nZuiNiXnQYp09WnkQQAaJ2lBGTqoJ0Bby4CMA8aWfsQgdDXEdMA4vU0SoESHGn0qYGH4/kwL/nY50KHu5r5cKW5po8+WGMRMDwMthEPAVxDpkg8GRrxMDI9rGHDCBTBgIgDRaHjmrgXrky7WfF4lWDjAJiQlHOfR7vFZx8a6oD31D3du3b9c7yfYPB0RAXpAE74wPKa7zro59jjamxhUWHxsLlow329W5L35Xda7Yom6u2KwCKzerluUbVfHHnlBzPQlx+xUjidh0cdBgw2FbIbD/4pThGUUcOvE5xO7invgYkk/8C9Pn4K/tHvts+gtSF+5Jm7F8Dth/s204vjxR9znW0RxSu5g+B8rb+2M6qEzsoTZNJzuaM0w0Dg4pMTlAEIsJspSJ8Z+8ncr/6a2qY/kW1b58szq0ZIWaP2v8SWGKSYJoYA1zz8BjMMxIQYBJihWtmNGNOZhCIhOxHFLkB9ns+aSPFMMhdUoOs4xZv6RCDgjaM8vFQw7ny+d6ddOiJe1++uNzP6Ml/g7tnJ667adf+S/RuTsBmmjAXEDM+B6AjxHNnkO9Q91CBeMMqJgS0/nEPTh9qBM+Da5Rn5gyAZxU+S8Npp8CWy5+DBxI6QPKo08oBxOF5/A7opkWMYMPUvloA/VLHvlvEdJncUBh6nBASQDnFJDnccGxWbmq1JIz7epfObvUtSe/rt54/EtqfcqiCdUUD5NAa9nVspioh/UEOrSNmNZ4y8alOT558m/06svHKfnaNSrrukivdPmoNxSkmQBELXB2JRRGKudMzaOKDxvMcH5UcKo5PjorSeWmPKbmeWZP2ZcwlRLL54jHyZtsEX9LnNZ4JC7N4R/sI/+d6zRTAd8BoaCccJf9iYd1Fxh9lAW/0f53zYQ5c+aQC2fAII/mMM9UwH7SfjTwLFy40EcuXNiQkZHh87DmqFq2bBm5cCHIycmh1NTUWk9/f3/5zp07fYsWLSIXLsADDtt9/LNM75AdO3YMy281dXV13rNnz+o/3OFiZgF/KA5h7/r162t54awoPz/fZ5kZ8HdIPR5PLrmYcWDl0MXSaP4d0g8ByNs+si+6MuMAAAAASUVORK5CYII=",G8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAApCAYAAAAf8TqUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfBSURBVHgB7Zw9T1RNFMdnN0QTKMCCVtfKaCN+AYXSSoylBfAJwN4E+QRKZwfGqI1G7OyAwhpstARtNRELjBhln/mNz39zmL2XvXv38iLMP5nsvXfOvJ05c+acM3dvzWVgYWGhcebMmdFmszlUq9WGXMKJhJ/frXq9vul/N+/evbse59fszbNnzya3t7enP3/+POKT29zcdAknF/39/W5gYMBdvnzZXblyBSGZ80KyqPwgHF5TDJ09e3bh7du34y9fvnQ/fvxwCacLw8PD7s6dO+769etLOzs7Ux5bIePFixcLPqPpL1M65Qk58DvIgr92tadPn46+e/du+fHjxy4hAdy/f99dunRprN7X1zexurrqEhKEV69eOeSi7o2QkY8fP7qEBOHTp094MqP1L1++jLiEBAMcEi8XjbpLaKHRaLiyGBoaCqlKHESd3eBIhGN0dBT32Y2MdKe0oF9eXm6lyclJVyWosyzo28OHD12vQEDFl6rqLIs+d8hAKDSp9+7dc92AVfT9+3c3MzMTrl+/fh0CdSsrK+F+fHx8zz2Je5jM79bWVrheX18Pv6JZWlpqawsBZqKoS8HAvGfUQd1ZiMuoTQlA3Pb09HTIn5ub21OH7afGSptZfa8Kh6o5ZmdnW4LBBOUxdD98+/YtMJnyCNfExER4vra2FiaB+hEerh89ehTyECKYCZNhPnnQc0/5Bw8e7GmDOlixTALCDD209B+gYTRBys9a4bYe+iCtoDKWHwLPlQDtUoZ+q5/0nTrpO2M9KByq5rCM8BE41yskXDDw/fv3gXkwbWNjIwjG1atXA2PfvHnjbty4EfK4Bqxk6JkEJssCpiN40ACEQIJGfdJAtAsdq5dntLFfPYxfGoT6KBPbOfRPmkbjgpYyt27dCs8AY8GrQGjUt6pxaJpDq4FBjo2NhZXfK2A+MRqYPDg42JZPHhPC5MFMmFukXavRZBBSD+0xaVn5neopCzSlrYtfeLi4uBiEAl4eFA5Ec0jlIgxMhlbWtWvXWjaAVCTM1soqAhmzWnGsTOq2W8D8/HyrbtQ6qpdyrGza7+SVUJ666Dflbt++3dr3ERBrL0CHhqLOWBiy6unUNv1ju8njCfykH9ri0B7xtlgZ/AAqjc17Ndf00t608Gq+6ZnU9BPVlqd8z7SOdXumND2TQ8qi57mfuD30uodeZexze015lYWWe/Lj+kl6Dp3us/oU12PpbJ9soj6eW9q4/nisVacgF1UKh5fmZll4I+vABppSOeGozOZAXZZVb6hjVG7C8UJlNof2wDLAbuj2xSK5l0A2zVGAPmDoKtaBd4GxeCJQ1bbCtlAWZdrz3kOrPNdVjKHbhB2VhdiGkt1RxK46LqnSbaXbULhQ1qXFa5C2UCDsMIEHhHtL/3Ena7Wau3jxYohsxrET6AicSdP9Kzjyg7cyB0vaUthOFCzqVA/5RQ7WitKxlQCCeXI72RqxuxAY+nThwgVXBGqzzBiKli2FqrYVVGlZWHexSPKrNpTzsZTWNb8uY9vxkxVcaAFXGq8qpuPX0jEeS+dytlHr/mYlrzHaxuuFJuThisb5bFV2+1E+IQL1y/2/VXUq20uq1JX1ZwfNsmBQ3Qoik8w1gsU1jMoSDmhJCI+PKLbiLBKmLDpvULbR5Qmo+o+g5sVexBvoaE8xC7WBAPOcdoF16yUA9I3+Q2sXY1w25sOxEA7LrDLYb5XaxGqLBUoMtEEhO+lx8AhIuDrRaaVmJSYmBhMbG8iis89lzMbCp0lG2OzYbFn1Oa9sJ21WVDgqszl6dd/Yq4scIHHQBJ48edJ6pmtC9jHs8bruFYK2NkEWnULtefs5fT537lyI0RAq16sAGKOd3g2RAR/zTUfwsmkEW5/y6BfGrlIzOH7lnYMYlcU58BxkHJZFkXcTVH98kgrssbbA2UOMrJhIFp2Eg0O9vDiK3qlQ3+kfx/P8kvLOSCRwcb1F4jUqm+WlVflHtEoP3nDjygoHK6jTAZxenGGFxi6w8uIJyfIYxFxeHIqfWcgzsHSixZVlImNtR9scuzNxRb2jrFPeuE0L+6pCllBXhqoP3jCaukXRgzft09qPXYbNQ/vO7MvYFrZuylpbIo9Oz7POfGQEx2WUJ2NRe3+WzSE+ycCMxyha2RzycOxY8a5sWS+QoXwVB3KVH7wpZblv+6FIhNNOSKd8rmMvRC6tPAS1WZQuTxgBE8I95SQY1mAWreqXt2JpobGeScxLKxxWAOUB6dCz6EI7MuGg87KcxRAdQ7Ny5SqSVzT0rUncz+0VI1mxNs5hvQratVZ+Ubq8PsXxHcpJACw/7ILRRMexCsoyPls2SzhUVjwWoD2WcY7jluykW4aWpdsv9Xp2kvcuSDftdxtILCIch/72+VGiqCXfrcUPfS9eAgZmL6fKB/WpjPSnpoR8PH/+fKO/v79SlZTSv5+8XKyhOVaLnh4mnA7wpZ9arbZe//PnzyJfdElIEHhL//fv33/PJLwKWUxf9kmJhBzwpSd//Td8vrOzM+MfDg4PD4dvgn39+tUlnC7w8Th2kJs3by79/Pkz/Im57WuCfq+Z/fDhQ4MPumxvb6ePx51wcP5z/vx50vrAwMB829cEY3ghGdnd3W14QWmk75CeXPjY35af361fv36tTE1Nbcb5/wECARTizRBnswAAAABJRU5ErkJggg==",p_=()=>{const t=Kd(),e=()=>[t("/privacypolicy")];return ie.jsx(ie.Fragment,{children:ie.jsxs("div",{className:"footer-container",children:[ie.jsxs("div",{className:"footer-items",children:[ie.jsxs("div",{className:"about-enimto",children:[ie.jsx("label",{className:"footer-title",children:"E-nimto"}),ie.jsx("label",{className:"footer-tagline",children:"Modern Way of invitation following Tradition"})]}),ie.jsxs("div",{className:"connect-with-us gap-3",children:[ie.jsx("label",{className:"connect-title",children:"Connect With us"}),ie.jsx("label",{className:"connect-item",children:"Facebook"}),ie.jsx("label",{className:"connect-item",children:"Instagram"}),ie.jsx("label",{className:"connect-item",children:"Tiktok"})]}),ie.jsxs("div",{className:"get-support grid gap-3",children:[ie.jsx("label",{className:"support-title",children:"Get support"}),ie.jsx("label",{className:"support-item",onClick:e,children:"Private Policy"}),ie.jsx("label",{className:"support-item",children:"Terms &conditions"}),ie.jsx("label",{className:"support-item",children:"Contact Us"})]}),ie.jsxs("div",{className:"get-app",children:[ie.jsx("label",{className:"text-xl text-white",children:"Get the app"}),ie.jsxs("div",{className:"button flex gap-5",children:[ie.jsx("img",{src:d_,alt:"android"}),ie.jsx("img",{src:G8,alt:"ios"})]})]})]}),ie.jsx("label",{className:"copyright",children:"Copyright @ 2023 E-nimto , All rights reserved"})]})})};var bD={exports:{}},iw={exports:{}};/*!
 * TOAST UI Color Picker
 * @version 2.2.8
 * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */var oT;function $8(){return oT||(oT=1,function(t,e){(function(r,i){t.exports=i()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(s&1&&(o=i(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var m in o)i.d(a,m,function(u){return o[u]}.bind(null,m));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="dist",i(i.s=33)}([function(n,r,i){function o(s,a){var m=Object.prototype.hasOwnProperty,u,d,E,I;for(E=1,I=arguments.length;E<I;E+=1){u=arguments[E];for(d in u)m.call(u,d)&&(s[d]=u[d])}return s}n.exports=o},function(n,r,i){function o(s){return s instanceof Array}n.exports=o},function(n,r,i){var o=i(1),s=i(6),a=i(7);function m(u,d,E){o(u)?s(u,d,E):a(u,d,E)}n.exports=m},function(n,r,i){function o(s){return s===void 0}n.exports=o},function(n,r,i){var o=i(22),s=i(2),a=i(6),m=i(7),u=i(37),d=0,E={getLength:function(I){var O=0;return m(I,function(){O+=1}),O},map:function(I,O,A){var D=[];return s(I,function(){D.push(O.apply(A||null,arguments))}),D},filter:function(I,O,A){var D=[];return a(I,function(v){O.apply(A||null,arguments)&&D.push(v)}),D},generateId:function(){return d+=1,d},isOldBrowser:function(){return o.msie&&o.version<9}(),sendHostName:function(){u("color-picker","UA-129987462-1")}};n.exports=E},function(n,r,i){var o=i(1);function s(a,m,u){var d,E;if(u=u||0,!o(m))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(m,a,u);for(E=m.length,d=u;u>=0&&d<E;d+=1)if(m[d]===a)return d;return-1}n.exports=s},function(n,r,i){function o(s,a,m){var u=0,d=s.length;for(m=m||null;u<d&&a.call(m,s[u],u,s)!==!1;u+=1);}n.exports=o},function(n,r,i){function o(s,a,m){var u;m=m||null;for(u in s)if(s.hasOwnProperty(u)&&a.call(m,s[u],u,s)===!1)break}n.exports=o},function(n,r,i){var o=i(39),s=i(13),a=i(41),m=i(3),u=i(9),d=i(19),E=i(4);function I(O,A){var D=E.generateId();m(A)&&(A=u.appendHTMLElement("div")),o(A,"tui-view-"+D),this.id=D,this.container=A,this.childs=new d(function(v){return v.id}),this.parent=null}I.prototype.addChild=function(O,A){A&&A.call(O,this),O.parent=this,this.childs.add(O)},I.prototype.removeChild=function(O,A){var D=a(O)?this.childs.items[O]:O;A&&A.call(D,this),this.childs.remove(D.id)},I.prototype.render=function(){this.childs.each(function(O){O.render()})},I.prototype.recursive=function(O,A){s(O)&&(A||O(this),this.childs.each(function(D){D.recursive(O)}))},I.prototype.resize=function(){for(var O=Array.prototype.slice.call(arguments),A=this.parent;A;)s(A._onResize)&&A._onResize.apply(A,O),A=A.parent},I.prototype._beforeDestroy=function(){},I.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},I.prototype.destroy=function(O){this.childs&&(this.childs.each(function(A){A.destroy(!0),A._destroy()}),this.childs.clear()),!O&&this._destroy()},I.prototype.getViewBound=function(){var O=this.container.getBoundingClientRect();return{x:O.left,y:O.top,width:O.right-O.left,height:O.bottom-O.top}},n.exports=I},function(n,r,i){var o={appendHTMLElement:function(s,a,m){var u=document.createElement(s);return u.className=m||"",a?a.appendChild(u):document.body.appendChild(u),u}};n.exports=o},function(n,r,i){var o=i(0),s=i(20),a=i(11),m=i(21),u=i(1),d=i(13),E=i(2),I=/\s+/g;function O(){this.events=null,this.contexts=null}O.mixin=function(A){o(A.prototype,O.prototype)},O.prototype._getHandlerItem=function(A,D){var v={handler:A};return D&&(v.context=D),v},O.prototype._safeEvent=function(A){var D=this.events,v;return D||(D=this.events={}),A&&(v=D[A],v||(v=[],D[A]=v),D=v),D},O.prototype._safeContext=function(){var A=this.contexts;return A||(A=this.contexts=[]),A},O.prototype._indexOfContext=function(A){for(var D=this._safeContext(),v=0;D[v];){if(A===D[v][0])return v;v+=1}return-1},O.prototype._memorizeContext=function(A){var D,v;s(A)&&(D=this._safeContext(),v=this._indexOfContext(A),v>-1?D[v][1]+=1:D.push([A,1]))},O.prototype._forgetContext=function(A){var D,v;s(A)&&(D=this._safeContext(),v=this._indexOfContext(A),v>-1&&(D[v][1]-=1,D[v][1]<=0&&D.splice(v,1)))},O.prototype._bindEvent=function(A,D,v){var l=this._safeEvent(A);this._memorizeContext(v),l.push(this._getHandlerItem(D,v))},O.prototype.on=function(A,D,v){var l=this;a(A)?(A=A.split(I),E(A,function(c){l._bindEvent(c,D,v)})):m(A)&&(v=D,E(A,function(c,f){l.on(f,c,v)}))},O.prototype.once=function(A,D,v){var l=this;if(m(A)){v=D,E(A,function(f,h){l.once(h,f,v)});return}function c(){D.apply(v,arguments),l.off(A,c,v)}this.on(A,c,v)},O.prototype._spliceMatches=function(A,D){var v=0,l;if(u(A))for(l=A.length;v<l;v+=1)D(A[v])===!0&&(A.splice(v,1),l-=1,v-=1)},O.prototype._matchHandler=function(A){var D=this;return function(v){var l=A===v.handler;return l&&D._forgetContext(v.context),l}},O.prototype._matchContext=function(A){var D=this;return function(v){var l=A===v.context;return l&&D._forgetContext(v.context),l}},O.prototype._matchHandlerAndContext=function(A,D){var v=this;return function(l){var c=A===l.handler,f=D===l.context,h=c&&f;return h&&v._forgetContext(l.context),h}},O.prototype._offByEventName=function(A,D){var v=this,l=d(D),c=v._matchHandler(D);A=A.split(I),E(A,function(f){var h=v._safeEvent(f);l?v._spliceMatches(h,c):(E(h,function(p){v._forgetContext(p.context)}),v.events[f]=[])})},O.prototype._offByHandler=function(A){var D=this,v=this._matchHandler(A);E(this._safeEvent(),function(l){D._spliceMatches(l,v)})},O.prototype._offByObject=function(A,D){var v=this,l;this._indexOfContext(A)<0?E(A,function(c,f){v.off(f,c)}):a(D)?(l=this._matchContext(A),v._spliceMatches(this._safeEvent(D),l)):d(D)?(l=this._matchHandlerAndContext(D,A),E(this._safeEvent(),function(c){v._spliceMatches(c,l)})):(l=this._matchContext(A),E(this._safeEvent(),function(c){v._spliceMatches(c,l)}))},O.prototype.off=function(A,D){a(A)?this._offByEventName(A,D):arguments.length?d(A)?this._offByHandler(A):m(A)&&this._offByObject(A,D):(this.events={},this.contexts=[])},O.prototype.fire=function(A){this.invoke.apply(this,arguments)},O.prototype.invoke=function(A){var D,v,l,c;if(!this.hasListener(A))return!0;for(D=this._safeEvent(A),v=Array.prototype.slice.call(arguments,1),l=0;D[l];){if(c=D[l],c.handler.apply(c.context,v)===!1)return!1;l+=1}return!0},O.prototype.hasListener=function(A){return this.getListenerLength(A)>0},O.prototype.getListenerLength=function(A){var D=this._safeEvent(A);return D.length},n.exports=O},function(n,r,i){function o(s){return typeof s=="string"||s instanceof String}n.exports=o},function(n,r,i){var o=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,s={leadingZero:function(a,m){var u="",d=0;if((a+"").length>m)return a+"";for(;d<m-1;d+=1)u+="0";return(u+a).slice(m*-1)},isValidRGB:function(a){return o.test(a)},hexToRGB:function(a){var m,u,d;return s.isValidRGB(a)?(a=a.substring(1),m=parseInt(a.substr(0,2),16),u=parseInt(a.substr(2,2),16),d=parseInt(a.substr(4,2),16),[m,u,d]):!1},rgbToHEX:function(a,m,u){var d="#"+s.leadingZero(a.toString(16),2)+s.leadingZero(m.toString(16),2)+s.leadingZero(u.toString(16),2);return s.isValidRGB(d)?d:!1},rgbToHSV:function(a,m,u){var d,E,I,O,A,D;if(a/=255,m/=255,u/=255,d=Math.max(a,m,u),E=Math.min(a,m,u),A=d,D=d-E,O=d===0?0:D/d,d===E)I=0;else{switch(d){case a:I=(m-u)/D+(m<u?6:0);break;case m:I=(u-a)/D+2;break;case u:I=(a-m)/D+4;break}I/=6}return[Math.round(I*360),Math.round(O*100),Math.round(A*100)]},hsvToRGB:function(a,m,u){var d,E,I,O,A,D,v,l;if(a=Math.max(0,Math.min(360,a)),m=Math.max(0,Math.min(100,m)),u=Math.max(0,Math.min(100,u)),m/=100,u/=100,m===0)return d=E=I=u,[Math.round(d*255),Math.round(E*255),Math.round(I*255)];switch(a/=60,O=Math.floor(a),A=a-O,D=u*(1-m),v=u*(1-m*A),l=u*(1-m*(1-A)),O){case 0:d=u,E=l,I=D;break;case 1:d=v,E=u,I=D;break;case 2:d=D,E=u,I=l;break;case 3:d=D,E=v,I=u;break;case 4:d=l,E=D,I=u;break;default:d=u,E=D,I=v;break}return[Math.round(d*255),Math.round(E*255),Math.round(I*255)]}};n.exports=s},function(n,r,i){function o(s){return s instanceof Function}n.exports=o},function(n,r,i){var o=i(11),s=i(2),a=i(26);function m(E,I,O,A){if(o(I)){s(I.split(/\s+/g),function(D){u(E,D,O,A)});return}s(I,function(D,v){u(E,v,D,O)})}function u(E,I,O,A){function D(v){O.call(A||E,v||window.event)}"addEventListener"in E?E.addEventListener(I,D):"attachEvent"in E&&E.attachEvent("on"+I,D),d(E,I,O,D)}function d(E,I,O,A){var D=a(E,I),v=!1;s(D,function(l){return l.handler===O?(v=!0,!1):!0}),v||D.push({handler:O,wrappedHandler:A})}n.exports=m},function(n,r,i){function o(s){if(s.preventDefault){s.preventDefault();return}s.returnValue=!1}n.exports=o},function(n,r,i){function o(s){return s.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}n.exports=o},function(n,r,i){var o=i(11),s=i(2),a=i(26);function m(E,I,O){if(o(I)){s(I.split(/\s+/g),function(A){u(E,A,O)});return}s(I,function(A,D){u(E,D,A)})}function u(E,I,O){var A=a(E,I),D;O?(s(A,function(v,l){return O===v.handler?(d(E,I,v.wrappedHandler),D=l,!1):!0}),A.splice(D,1)):(s(A,function(v){d(E,I,v.wrappedHandler)}),A.splice(0,A.length))}function d(E,I,O){"removeEventListener"in E?E.removeEventListener(I,O):"detachEvent"in E&&E.detachEvent("on"+I,O)}n.exports=m},function(n,r,i){var o=i(50);function s(a,m){var u=o(m.prototype);u.constructor=a,a.prototype=u}n.exports=s},function(n,r,i){var o=i(6),s=i(7),a=i(0),m=i(1),u=i(20),d=i(13),E=i(21),I=i(4),O=Array.prototype.slice;function A(D){this.items={},this.length=0,d(D)&&(this.getItemID=D)}A.and=function(D){var v;return D=O.call(arguments),v=D.length,function(l){for(var c=0;c<v;c+=1)if(!D[c].call(null,l))return!1;return!0}},A.or=function(D){var v;return D=O.call(arguments),v=D.length,function(l){for(var c=1,f=D[0].call(null,l);c<v;c+=1)f=f||D[c].call(null,l);return f}},A.merge=function(D){var v={},l=new A(D.getItemID);return o(arguments,function(c){a(v,c.items)}),l.items=v,l.length=I.getLength(l.items),l},A.prototype.getItemID=function(D){return D._id+""},A.prototype.add=function(D){var v,l;if(arguments.length>1){o(O.call(arguments),function(c){this.add(c)},this);return}v=this.getItemID(D),l=this.items,l[v]||(this.length+=1),l[v]=D},A.prototype.remove=function(D){var v=[],l,c;return this.length?arguments.length>1?(v=I.map(O.call(arguments),function(f){return this.remove(f)},this),v):(l=this.items,E(D)&&(D=this.getItemID(D)),l[D]?(this.length-=1,c=l[D],delete l[D],c):v):v},A.prototype.clear=function(){this.items={},this.length=0},A.prototype.has=function(D){var v,l;return this.length?(v=d(D),l=!1,v?this.each(function(c){return D(c)===!0?(l=!0,!1):!0}):(D=E(D)?this.getItemID(D):D,l=u(this.items[D])),l):!1},A.prototype.doWhenHas=function(D,v,l){var c=this.items[D];u(c)&&v.call(l||this,c)},A.prototype.find=function(D){var v=new A;return this.hasOwnProperty("getItemID")&&(v.getItemID=this.getItemID),this.each(function(l){D(l)===!0&&v.add(l)}),v},A.prototype.groupBy=function(D,v){var l={},c=d(D),f=this.getItemID,h,p;if(m(D)){if(o(D,function(g){l[g+""]=new A(f)}),!v)return l;D=v,c=!0}return this.each(function(g){c?p=D(g):(p=g[D],d(p)&&(p=p.apply(g))),h=l[p],h||(h=l[p]=new A(f)),h.add(g)}),l},A.prototype.single=function(){var D;return this.each(function(v){return D=v,!1},this),D},A.prototype.sort=function(D){var v=[];return this.each(function(l){v.push(l)}),d(D)&&(v=v.sort(D)),v},A.prototype.each=function(D,v){s(this.items,D,v||this)},A.prototype.toArray=function(){return this.length?I.map(this.items,function(D){return D}):[]},n.exports=A},function(n,r,i){var o=i(3),s=i(36);function a(m){return!o(m)&&!s(m)}n.exports=a},function(n,r,i){function o(s){return s===Object(s)}n.exports=o},function(n,r,i){var o={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window<"u"&&window.navigator&&s();function s(){var a=window.navigator,m=a.appName.replace(/\s/g,"_"),u=a.userAgent,d=/MSIE\s([0-9]+[.0-9]*)/,E=/Trident.*rv:11\./,I=/Edge\/(\d+)\./,O={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},A,D,v={Microsoft_Internet_Explorer:function(){var c=u.match(d);c?(o.msie=!0,o.version=parseFloat(c[1])):o.others=!0},Netscape:function(){var c=!1;if(E.exec(u))o.msie=!0,o.version=11,c=!0;else if(I.exec(u))o.edge=!0,o.version=u.match(I)[1],c=!0;else for(A in O)if(O.hasOwnProperty(A)&&(D=u.match(O[A]),D&&D.length>1)){o[A]=c=!0,o.version=parseFloat(D[1]||0);break}c||(o.others=!0)}},l=v[m];l&&v[m]()}n.exports=o},function(n,r,i){var o=i(3);function s(a){return!a||!a.className?"":o(a.className.baseVal)?a.className:a.className.baseVal}n.exports=s},function(n,r,i){(function(o){var s=i(10),a=i(42),m=i(44),u=i(47),d=i(28),E=i(17),I=i(14),O=i(15),A=i(0);function D(v,l){I(l,"mousedown",this._onMouseDown,this),this.options=A({distance:10},v),this.container=l,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}D.prototype.destroy=function(){E(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},D.prototype._toggleDragEvent=function(v){var l=this.container;v?(a(l),I(window,"dragstart",O),I(o.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(m(l),E(window,"dragstart",O),E(o.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},D.prototype._getEventData=function(v){return{target:d(v),originEvent:v}},D.prototype._onMouseDown=function(v){u(v)===0&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(v),this._toggleDragEvent(!0))},D.prototype._onMouseMove=function(v){var l=this.options.distance;if(O(v),this._isMoved=!0,this._distance<l){this._distance+=1;return}if(!this._dragStartFired&&(this._dragStartFired=!0,!this.invoke("dragStart",this._dragStartEventData))){this._toggleDragEvent(!1);return}this.fire("drag",this._getEventData(v))},D.prototype._onMouseUp=function(v){if(this._toggleDragEvent(!1),this._isMoved){this._isMoved=!1,this.fire("dragEnd",this._getEventData(v));return}this.fire("click",this._getEventData(v))},s.mixin(D),n.exports=D}).call(this,i(25))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){var o="_feEventKey";function s(a,m){var u=a[o],d;return u||(u=a[o]={}),d=u[m],d||(d=u[m]=[]),d}n.exports=s},function(n,r,i){function o(s){var a=document.documentElement.style,m,u;for(m=0,u=s.length;m<u;m+=1)if(s[m]in a)return s[m];return!1}n.exports=o},function(n,r,i){function o(s){return s.target||s.srcElement}n.exports=o},function(n,r,i){var o=i(10),s=i(28),a=i(17),m=i(14),u=i(30),d=i(0),E=i(18),I=i(9),O=i(12),A=i(8),D=i(51);function v(l,c){this.options=d({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},l),c=I.appendHTMLElement("div",c,this.options.cssPrefix+"palette-container"),A.call(this,l,c)}E(v,A),v.prototype._onClick=function(l){var c=this.options,f=s(l),h={};if(u(f,c.cssPrefix+"palette-button")){h.color=f.value,this.fire("_selectColor",h);return}u(f,c.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},v.prototype._onChange=function(l){var c=this.options,f=s(l),h={};u(f,c.cssPrefix+"palette-hex")&&(h.color=f.value,this.fire("_selectColor",h))},v.prototype._beforeDestroy=function(){this._toggleEvent(!1)},v.prototype._toggleEvent=function(l){var c=this.options,f=this.container,h=l?m:a,p;h(f,"click",this._onClick,this),p=f.querySelector("."+c.cssPrefix+"palette-hex",f),p&&h(p,"change",this._onChange,this)},v.prototype.render=function(l){var c=this.options,f="";this._toggleEvent(!1),f=D({cssPrefix:c.cssPrefix,preset:c.preset,detailTxt:c.detailTxt,color:l,isValidRGB:O.isValidRGB,getItemClass:function(h){return h?"":" "+c.cssPrefix+"color-transparent"},isSelected:function(h){return h===l?" "+c.cssPrefix+"selected":""}}),this.container.innerHTML=f,this._toggleEvent(!0)},o.mixin(v),n.exports=v},function(n,r,i){var o=i(5),s=i(23);function a(m,u){var d;return m.classList?m.classList.contains(u):(d=s(m).split(/\s+/),o(u,d)>-1)}n.exports=a},function(n,r,i){var o=i(10),s=i(53),a=i(54),m=i(30),u=i(0),d=i(18),E=i(9),I=i(32),O=i(12),A=i(8),D=i(24),v=i(57),l=-7,c=112,f=-3,h=115,p=359.99;function g(y,_){_=E.appendHTMLElement("div",_,y.cssPrefix+"slider-container"),_.style.display="none",A.call(this,y,_),this.options=u({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},y),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new D({distance:0},_),this.colorSliderPosLimitRange=[l,c],this.huebarPosLimitRange=[f,h],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}d(g,A),g.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},g.prototype.toggle=function(y){this.container.style.display=y?"block":"none"},g.prototype.isVisible=function(){return this.container.style.display==="block"},g.prototype.render=function(y){var _=this.container,w=this.options,T=v.layout,k,P;O.isValidRGB(y)&&(T=T.replace(/{{slider}}/,v.slider),T=T.replace(/{{huebar}}/,v.huebar),T=T.replace(/{{cssPrefix}}/g,w.cssPrefix),T=T.replace(/{{id}}/g,w.id),this.container.innerHTML=T,this.sliderSvgElement=_.querySelector("."+w.cssPrefix+"svg-slider"),this.huebarSvgElement=_.querySelector("."+w.cssPrefix+"svg-huebar"),this.sliderHandleElement=_.querySelector("."+w.cssPrefix+"slider-handle"),this.huebarHandleElement=_.querySelector("."+w.cssPrefix+"huebar-handle"),this.baseColorElement=_.querySelector("."+w.cssPrefix+"slider-basecolor"),k=O.hexToRGB(y),P=O.rgbToHSV.apply(null,k),this.moveHue(P[0],!0),this.moveSaturationAndValue(P[1],P[2],!0))},g.prototype._setColorSliderPosMax=function(){var y=this.sliderSvgElement.getClientRects()[0];y&&(this.colorSliderPosLimitRange[1]=y.height-10)},g.prototype._moveColorSliderHandle=function(y,_,w){var T=this.sliderHandleElement,k;_=Math.max(this.colorSliderPosLimitRange[0],_),_=Math.min(this.colorSliderPosLimitRange[1],_),y=Math.max(this.colorSliderPosLimitRange[0],y),y=Math.min(this.colorSliderPosLimitRange[1],y),I.setTranslateXY(T,y,_),k=_>50?"white":"black",I.setStrokeColor(T,k),w||this.fire("_selectColor",{color:O.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveSaturationAndValue=function(y,_,w){var T,k,P,L;y=y||0,_=_||0,T=Math.abs(this.colorSliderPosLimitRange[0]),k=this.colorSliderPosLimitRange[1],P=y*k/100-T,L=k-_*k/100-T,this._moveColorSliderHandle(P,L,w)},g.prototype._moveColorSliderByPosition=function(y,_){var w=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(y+w,_+w)},g.prototype.getSaturationAndValue=function(){var y=Math.abs(this.colorSliderPosLimitRange[0]),_=y+this.colorSliderPosLimitRange[1],w=I.getTranslateXY(this.sliderHandleElement),T,k;return T=(w[1]+y)/_*100,k=100-(w[0]+y)/_*100,[T,k]},g.prototype._setHueBarPosMax=function(){var y=this.huebarSvgElement.getClientRects()[0];y&&(this.huebarPosLimitRange[1]=y.height-7)},g.prototype._moveHueHandle=function(y,_){var w=this.huebarHandleElement,T=this.baseColorElement,k,P;y=Math.max(this.huebarPosLimitRange[0],y),y=Math.min(this.huebarPosLimitRange[1],y),I.setTranslateY(w,y),k=O.hsvToRGB(this.getHue(),100,100),P=O.rgbToHEX.apply(null,k),I.setGradientColorStop(T,P),_||this.fire("_selectColor",{color:O.rgbToHEX.apply(null,this.getRGB())})},g.prototype.moveHue=function(y,_){var w=0,T,k;T=Math.abs(this.huebarPosLimitRange[0]),k=T+this.huebarPosLimitRange[1],y=y||0,w=k*y/p-T,this._moveHueHandle(w,_)},g.prototype._moveHueByPosition=function(y){var _=this.huebarPosLimitRange[0];this._moveHueHandle(y+_)},g.prototype.getHue=function(){var y=this.huebarHandleElement,_=I.getTranslateXY(y),w,T;return w=Math.abs(this.huebarPosLimitRange[0]),T=w+this.huebarPosLimitRange[1],(_[0]+w)*p/T},g.prototype.getHSV=function(){var y=this.getSaturationAndValue(),_=this.getHue();return[_].concat(y)},g.prototype.getRGB=function(){return O.hsvToRGB.apply(null,this.getHSV())},g.prototype._prepareColorSliderForMouseEvent=function(y){var _=this.options,w=a(y.target,"."+_.cssPrefix+"slider-part"),T;return T=this._dragDataCache={isColorSlider:m(w,_.cssPrefix+"slider-left"),parentElement:w},T},g.prototype._onClick=function(y){var _=this._prepareColorSliderForMouseEvent(y),w=s(y.originEvent,_.parentElement);_.isColorSlider?this._moveColorSliderByPosition(w[0],w[1]):this._moveHueByPosition(w[1]),this._dragDataCache=null},g.prototype._onDragStart=function(y){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(y)},g.prototype._onDrag=function(y){var _=this._dragDataCache,w=s(y.originEvent,_.parentElement);_.isColorSlider?this._moveColorSliderByPosition(w[0],w[1]):this._moveHueByPosition(w[1])},g.prototype._onDragEnd=function(){this._dragDataCache=null},o.mixin(g),n.exports=g},function(n,r,i){var o=i(4).isOldBrowser,s=/[\.\-0-9]+/g,a=-6,m={getTranslateXY:function(u){var d;return o?(d=u.style,[parseFloat(d.top),parseFloat(d.left)]):(d=u.getAttribute("transform"),d?(d=d.match(s),[parseFloat(d[1]),parseFloat(d[0])]):[0,0])},setTranslateXY:function(u,d,E){o?(u.style.left=d+"px",u.style.top=E+"px"):u.setAttribute("transform","translate("+d+","+E+")")},setTranslateY:function(u,d){o?u.style.top=d+"px":u.setAttribute("transform","translate("+a+","+d+")")},setStrokeColor:function(u,d){o?u.strokecolor=d:u.setAttribute("stroke",d)},setGradientColorStop:function(u,d){o?u.color=d:u.setAttribute("stop-color",d)}};n.exports=m},function(n,r,i){i(34),n.exports=i(35)},function(n,r,i){},function(n,r,i){var o=i(19),s=i(8),a=i(24),m=i(48),u=i(29),d=i(31),E=i(12),I=i(32),O={Collection:o,View:s,Drag:a,create:m,Palette:u,Slider:d,colorutil:E,svgvml:I};n.exports=O},function(n,r,i){function o(s){return s===null}n.exports=o},function(n,r,i){var o=i(3),s=i(38),a=7*24*60*60*1e3;function m(d){var E=new Date().getTime();return E-d>a}function u(d,E){var I="https://www.google-analytics.com/collect",O=location.hostname,A="event",D="use",v="TOAST UI "+d+" for "+O+": Statistics",l=window.localStorage.getItem(v);!o(window.tui)&&window.tui.usageStatistics===!1||l&&!m(l)||(window.localStorage.setItem(v,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&s(I,{v:1,t:A,tid:E,cid:O,dp:O,dh:d,el:d,ec:D})},1e3))}n.exports=u},function(n,r,i){var o=i(7);function s(a,m){var u=document.createElement("img"),d="";return o(m,function(E,I){d+="&"+I+"="+E}),d=d.substring(1),u.src=a+"?"+d,u.style.display="none",document.body.appendChild(u),document.body.removeChild(u),u}n.exports=s},function(n,r,i){var o=i(2),s=i(5),a=i(23),m=i(40);function u(d){var E=Array.prototype.slice.call(arguments,1),I=d.classList,O=[],A;if(I){o(E,function(D){d.classList.add(D)});return}A=a(d),A&&(E=[].concat(A.split(/\s+/),E)),o(E,function(D){s(D,O)<0&&O.push(D)}),m(d,O)}n.exports=u},function(n,r,i){var o=i(1),s=i(3);function a(m,u){if(u=o(u)?u.join(" "):u,u=u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),s(m.className.baseVal)){m.className=u;return}m.className.baseVal=u}n.exports=a},function(n,r,i){function o(s){return typeof s=="number"||s instanceof Number}n.exports=o},function(n,r,i){var o=i(14),s=i(15),a=i(43),m=i(27),u="onselectstart"in document,d="prevUserSelect",E=m(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function I(O){O||(O=document),u?o(O,"selectstart",s):(O=O===document?document.documentElement:O,a(O,d,O.style[E]),O.style[E]="none")}n.exports=I},function(n,r,i){var o=i(16);function s(a,m,u){if(a.dataset){a.dataset[m]=u;return}a.setAttribute("data-"+o(m),u)}n.exports=s},function(n,r,i){var o=i(17),s=i(15),a=i(45),m=i(46),u=i(27),d="onselectstart"in document,E="prevUserSelect",I=u(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function O(A){A||(A=document),d?o(A,"selectstart",s):(A=A===document?document.documentElement:A,A.style[I]=a(A,E)||"auto",m(A,E))}n.exports=O},function(n,r,i){var o=i(16);function s(a,m){return a.dataset?a.dataset[m]:a.getAttribute("data-"+o(m))}n.exports=s},function(n,r,i){var o=i(16);function s(a,m){if(a.dataset){delete a.dataset[m];return}a.removeAttribute("data-"+o(m))}n.exports=s},function(n,r,i){var o=i(22),s=i(5),a=["0","1","3","5","7"],m=["2","6"],u=["4"];function d(I){return o.msie&&o.version<=8?E(I):I.button}function E(I){var O=String(I.button);return s(O,a)>-1?0:s(O,m)>-1?2:s(O,u)>-1?1:null}n.exports=d},function(n,r,i){var o=i(10),s=i(0),a=i(4),m=i(12),u=i(49),d=i(29),E=i(31),I=0;function O(){return I+=1,I}function A(D){var v;if(!(this instanceof A))return new A(D);if(D=this.options=s({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:O(),usageStatistics:!0},D),!D.container)throw new Error("ColorPicker(): need container option.");v=this.layout=new u(D,D.container),this.palette=new d(D,v.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new E(D,v.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),v.addChild(this.palette),v.addChild(this.slider),this.render(D.color),D.usageStatistics&&a.sendHostName()}A.prototype._onSelectColorInPalette=function(D){var v=D.color,l=this.options;if(!m.isValidRGB(v)&&v!==""){this.render();return}this.fire("selectColor",{color:v,origin:"palette"}),l.color!==v&&(l.color=v,this.render(v))},A.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},A.prototype._onSelectColorInSlider=function(D){var v=D.color,l=this.options;this.fire("selectColor",{color:v,origin:"slider"}),l.color!==v&&(l.color=v,this.palette.render(v))},A.prototype.setColor=function(D){if(!m.isValidRGB(D))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=D,this.render(D)},A.prototype.getColor=function(){return this.options.color},A.prototype.toggle=function(D){this.layout.container.style.display=D?"block":"none"},A.prototype.render=function(D){this.layout.render(D||this.options.color)},A.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},o.mixin(A),n.exports=A},function(n,r,i){var o=i(0),s=i(18),a=i(9),m=i(8);function u(d,E){this.options=o({cssPrefix:"tui-colorpicker-"},d),E=a.appendHTMLElement("div",E,this.options.cssPrefix+"container"),m.call(this,d,E),this.render()}s(u,m),u.prototype.render=function(d){this.recursive(function(E){E.render(d)},!0)},n.exports=u},function(n,r,i){function o(s){function a(){}return a.prototype=s,new a}n.exports=o},function(n,r,i){var o=i(52);n.exports=function(s){var a=['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),m=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",a,"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join(`
`);return o(m,s)}},function(n,r,i){var o=i(5),s=i(2),a=i(1),m=i(11),u=i(0),d=/{{\s?|\s?}}/g,E=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,I=/\[\s?|\s?\]/,O=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,A=/\./,D=/^["']\w+["']$/,v=/"|'/g,l=/^-?\d+\.?\d*$/,c=2,f={if:_,each:w,with:T},h="a".split(/a/).length===3,p=function(){return h?function(H,$){return H.split($)}:function(H,$){var re=[],le=0,xe,ee;for($.global||($=new RegExp($,"g")),xe=$.exec(H);xe!==null;)ee=xe.index,re.push(H.slice(le,ee)),le=ee+xe[0].length,xe=$.exec(H);return re.push(H.slice(le)),re}}();function g(H,$){var re,le=$[H];return H==="true"?le=!0:H==="false"?le=!1:D.test(H)?le=H.replace(v,""):E.test(H)?(re=H.split(I),le=g(re[0],$)[g(re[1],$)]):O.test(H)?(re=H.split(A),le=g(re[0],$)[re[1]]):l.test(H)&&(le=parseFloat(H)),le}function y(H,$){var re=[H],le=[],xe=0,ee=0;return s($,function(be,K){be.indexOf("if")===0?xe+=1:be==="/if"?xe-=1:!xe&&(be.indexOf("elseif")===0||be==="else")&&(re.push(be==="else"?["true"]:be.split(" ").slice(1)),le.push($.slice(ee,K)),ee=K+1)}),le.push($.slice(ee)),{exps:re,sourcesInsideIf:le}}function _(H,$,re){var le=y(H,$),xe=!1,ee="";return s(le.exps,function(be,K){return xe=L(be,re),xe&&(ee=F(le.sourcesInsideIf[K],re)),!xe}),ee}function w(H,$,re){var le=L(H,re),xe=a(le)?"@index":"@key",ee={},be="";return s(le,function(K,Oe){ee[xe]=Oe,ee["@this"]=K,u(re,ee),be+=F($.slice(),re)}),be}function T(H,$,re){var le=o("as",H),xe=H[le+1],ee=L(H.slice(0,le),re),be={};return be[xe]=ee,F($,u(re,be))||""}function k(H,$,re){var le=H.splice($+1,re-$);return le.pop(),le}function P(H,$,re){for(var le=f[H],xe=1,ee=0,be,K=ee+c,Oe=$[K];xe&&m(Oe);)Oe.indexOf(H)===0?xe+=1:Oe.indexOf("/"+H)===0&&(xe-=1,be=K),K+=c,Oe=$[K];if(xe)throw Error(H+" needs {{/"+H+"}} expression.");return $[ee]=le($[ee].split(" ").slice(1),k($,ee,be),re),$}function L(H,$){var re=g(H[0],$);return re instanceof Function?N(re,H.slice(1),$):re}function N(H,$,re){var le=[];return s($,function(xe){le.push(g(xe,re))}),H.apply(null,le)}function F(H,$){for(var re=1,le=H[re],xe,ee,be;m(le);)xe=le.split(" "),ee=xe[0],f[ee]?(be=P(ee,H.splice(re,H.length-re),$),H=H.concat(be)):H[re]=L(xe,$),re+=c,le=H[re];return H.join("")}function G(H,$){return F(p(H,d),$)}n.exports=G},function(n,r,i){var o=i(1);function s(a,m){var u=o(a),d=u?a[0]:a.clientX,E=u?a[1]:a.clientY,I;return m?(I=m.getBoundingClientRect(),[d-I.left-m.clientLeft,E-I.top-m.clientTop]):[d,E]}n.exports=s},function(n,r,i){var o=i(55);function s(a,m){var u=a.parentNode;if(o(a,m))return a;for(;u&&u!==document;){if(o(u,m))return u;u=u.parentNode}return null}n.exports=s},function(n,r,i){var o=i(5),s=i(56),a=Element.prototype,m=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(d){var E=this.document||this.ownerDocument;return o(this,s(E.querySelectorAll(d)))>-1};function u(d,E){return m.call(d,E)}n.exports=u},function(n,r,i){var o=i(6);function s(a){var m;try{m=Array.prototype.slice.call(a)}catch{m=[],o(a,function(d){m.push(d)})}return m}n.exports=s},function(n,r,i){(function(o){var s=i(4).isOldBrowser,a=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join(`
`),m=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join(`
`),u=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join(`
`),d=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join(`
`),E=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join(`
`);s&&o.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),n.exports={layout:a,slider:s?u:m,huebar:s?E:d}}).call(this,i(25))}])})}(iw)),iw.exports}/*!
 * TOAST UI ImageEditor
 * @version 3.15.3
 * @license MIT
 */(function(t,e){(function(r,i){t.exports=i($8())})(self,function(n){return function(){var r={2777:function(a,m,u){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var d=d||{version:"4.6.0"};if(m.fabric=d,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?d.document=document:d.document=document.implementation.createHTMLDocument(""),d.window=window;else{var E=u(4960),I=new E.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;d.document=I.document,d.jsdomImplForWrapper=u(6759).implForWrapper,d.nodeCanvas=u(6272).Canvas,d.window=I,DOMParser=d.window.DOMParser}d.isTouchSupported="ontouchstart"in d.window||"ontouchstart"in d.document||d.window&&d.window.navigator&&d.window.navigator.maxTouchPoints>0,d.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",d.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],d.DPI=96,d.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",d.commaWsp="(?:\\s+,?\\s*|,\\s*)",d.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,d.reNonWord=/[ \n\.,;!\?\-]/,d.fontPaths={},d.iMatrix=[1,0,0,1,0,0],d.svgNS="http://www.w3.org/2000/svg",d.perfLimitSizeTotal=2097152,d.maxCacheSideLimit=4096,d.minCacheSideLimit=256,d.charWidthsCache={},d.textureSize=2048,d.disableStyleCopyPaste=!1,d.enableGLFiltering=!0,d.devicePixelRatio=d.window.devicePixelRatio||d.window.webkitDevicePixelRatio||d.window.mozDevicePixelRatio||1,d.browserShadowBlurConstant=1,d.arcToSegmentsCache={},d.boundsOfCurveCache={},d.cachesBoundsOfCurve=!0,d.forceGLPutImageData=!1,d.initFilterBackend=function(){if(d.enableGLFiltering&&d.isWebglSupported&&d.isWebglSupported(d.textureSize))return console.log("max texture size: "+d.maxTextureSize),new d.WebglFilterBackend({tileSize:d.textureSize});if(d.Canvas2dFilterBackend)return new d.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=d),function(){function v(g,y){if(this.__eventListeners[g]){var _=this.__eventListeners[g];y?_[_.indexOf(y)]=!1:d.util.array.fill(_,!1)}}function l(g,y){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var _ in g)this.on(_,g[_]);else this.__eventListeners[g]||(this.__eventListeners[g]=[]),this.__eventListeners[g].push(y);return this}function c(g,y){var _=function(){y.apply(this,arguments),this.off(g,_)}.bind(this);this.on(g,_)}function f(g,y){if(arguments.length===1)for(var _ in g)c.call(this,_,g[_]);else c.call(this,g,y);return this}function h(g,y){if(!this.__eventListeners)return this;if(arguments.length===0)for(g in this.__eventListeners)v.call(this,g);else if(arguments.length===1&&typeof arguments[0]=="object")for(var _ in g)v.call(this,_,g[_]);else v.call(this,g,y);return this}function p(g,y){if(!this.__eventListeners)return this;var _=this.__eventListeners[g];if(!_)return this;for(var w=0,T=_.length;w<T;w++)_[w]&&_[w].call(this,y||{});return this.__eventListeners[g]=_.filter(function(k){return k!==!1}),this}d.Observable={fire:p,on:l,once:f,off:h}}(),d.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var v=0,l=arguments.length;v<l;v++)this._onObjectAdded(arguments[v]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(v,l,c){var f=this._objects;return c?f[l]=v:f.splice(l,0,v),this._onObjectAdded&&this._onObjectAdded(v),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var v=this._objects,l,c=!1,f=0,h=arguments.length;f<h;f++)l=v.indexOf(arguments[f]),l!==-1&&(c=!0,v.splice(l,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(v,l){for(var c=this.getObjects(),f=0,h=c.length;f<h;f++)v.call(l,c[f],f,c);return this},getObjects:function(v){return typeof v>"u"?this._objects.concat():this._objects.filter(function(l){return l.type===v})},item:function(v){return this._objects[v]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(v,l){return this._objects.indexOf(v)>-1?!0:l?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(v,!0)}):!1},complexity:function(){return this._objects.reduce(function(v,l){return v+=l.complexity?l.complexity():0,v},0)}},d.CommonMethods={_setOptions:function(v){for(var l in v)this.set(l,v[l])},_initGradient:function(v,l){v&&v.colorStops&&!(v instanceof d.Gradient)&&this.set(l,new d.Gradient(v))},_initPattern:function(v,l,c){v&&v.source&&!(v instanceof d.Pattern)?this.set(l,new d.Pattern(v,c)):c&&c()},_setObject:function(v){for(var l in v)this._set(l,v[l])},set:function(v,l){return typeof v=="object"?this._setObject(v):this._set(v,l),this},_set:function(v,l){this[v]=l},toggle:function(v){var l=this.get(v);return typeof l=="boolean"&&this.set(v,!l),this},get:function(v){return this[v]}},function(v){var l=Math.sqrt,c=Math.atan2,f=Math.pow,h=Math.PI/180,p=Math.PI/2;d.util={cos:function(g){if(g===0)return 1;g<0&&(g=-g);var y=g/p;switch(y){case 1:case 3:return 0;case 2:return-1}return Math.cos(g)},sin:function(g){if(g===0)return 0;var y=g/p,_=1;switch(g<0&&(_=-1),y){case 1:return _;case 2:return 0;case 3:return-_}return Math.sin(g)},removeFromArray:function(g,y){var _=g.indexOf(y);return _!==-1&&g.splice(_,1),g},getRandomInt:function(g,y){return Math.floor(Math.random()*(y-g+1))+g},degreesToRadians:function(g){return g*h},radiansToDegrees:function(g){return g/h},rotatePoint:function(g,y,_){var w=new d.Point(g.x-y.x,g.y-y.y),T=d.util.rotateVector(w,_);return new d.Point(T.x,T.y).addEquals(y)},rotateVector:function(g,y){var _=d.util.sin(y),w=d.util.cos(y),T=g.x*w-g.y*_,k=g.x*_+g.y*w;return{x:T,y:k}},transformPoint:function(g,y,_){return _?new d.Point(y[0]*g.x+y[2]*g.y,y[1]*g.x+y[3]*g.y):new d.Point(y[0]*g.x+y[2]*g.y+y[4],y[1]*g.x+y[3]*g.y+y[5])},makeBoundingBoxFromPoints:function(g,y){if(y)for(var _=0;_<g.length;_++)g[_]=d.util.transformPoint(g[_],y);var w=[g[0].x,g[1].x,g[2].x,g[3].x],T=d.util.array.min(w),k=d.util.array.max(w),P=k-T,L=[g[0].y,g[1].y,g[2].y,g[3].y],N=d.util.array.min(L),F=d.util.array.max(L),G=F-N;return{left:T,top:N,width:P,height:G}},invertTransform:function(g){var y=1/(g[0]*g[3]-g[1]*g[2]),_=[y*g[3],-y*g[1],-y*g[2],y*g[0]],w=d.util.transformPoint({x:g[4],y:g[5]},_,!0);return _[4]=-w.x,_[5]=-w.y,_},toFixed:function(g,y){return parseFloat(Number(g).toFixed(y))},parseUnit:function(g,y){var _=/\D{0,2}$/.exec(g),w=parseFloat(g);switch(y||(y=d.Text.DEFAULT_SVG_FONT_SIZE),_[0]){case"mm":return w*d.DPI/25.4;case"cm":return w*d.DPI/2.54;case"in":return w*d.DPI;case"pt":return w*d.DPI/72;case"pc":return w*d.DPI/72*12;case"em":return w*y;default:return w}},falseFunction:function(){return!1},getKlass:function(g,y){return g=d.util.string.camelize(g.charAt(0).toUpperCase()+g.slice(1)),d.util.resolveNamespace(y)[g]},getSvgAttributes:function(g){var y=["instantiated_by_use","style","id","class"];switch(g){case"linearGradient":y=y.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":y=y.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":y=y.concat(["offset","stop-color","stop-opacity"]);break}return y},resolveNamespace:function(g){if(!g)return d;var y=g.split("."),_=y.length,w,T=v||d.window;for(w=0;w<_;++w)T=T[y[w]];return T},loadImage:function(g,y,_,w){if(!g){y&&y.call(_,g);return}var T=d.util.createImage(),k=function(){y&&y.call(_,T,!1),T=T.onload=T.onerror=null};T.onload=k,T.onerror=function(){d.log("Error loading "+T.src),y&&y.call(_,null,!0),T=T.onload=T.onerror=null},g.indexOf("data")!==0&&w!==void 0&&w!==null&&(T.crossOrigin=w),g.substring(0,14)==="data:image/svg"&&(T.onload=null,d.util.loadImageInDom(T,k)),T.src=g},loadImageInDom:function(g,y){var _=d.document.createElement("div");_.style.width=_.style.height="1px",_.style.left=_.style.top="-100%",_.style.position="absolute",_.appendChild(g),d.document.querySelector("body").appendChild(_),g.onload=function(){y(),_.parentNode.removeChild(_),_=null}},enlivenObjects:function(g,y,_,w){g=g||[];var T=[],k=0,P=g.length;function L(){++k===P&&y&&y(T.filter(function(N){return N}))}if(!P){y&&y(T);return}g.forEach(function(N,F){if(!N||!N.type){L();return}var G=d.util.getKlass(N.type,_);G.fromObject(N,function(H,$){$||(T[F]=H),w&&w(N,H,$),L()})})},enlivenPatterns:function(g,y){g=g||[];function _(){++T===k&&y&&y(w)}var w=[],T=0,k=g.length;if(!k){y&&y(w);return}g.forEach(function(P,L){P&&P.source?new d.Pattern(P,function(N){w[L]=N,_()}):(w[L]=P,_())})},groupSVGElements:function(g,y,_){var w;return g&&g.length===1?g[0]:(y&&(y.width&&y.height?y.centerPoint={x:y.width/2,y:y.height/2}:(delete y.width,delete y.height)),w=new d.Group(g,y),typeof _<"u"&&(w.sourcePath=_),w)},populateWithProperties:function(g,y,_){if(_&&Object.prototype.toString.call(_)==="[object Array]")for(var w=0,T=_.length;w<T;w++)_[w]in g&&(y[_[w]]=g[_[w]])},drawDashedLine:function(g,y,_,w,T,k){var P=w-y,L=T-_,N=l(P*P+L*L),F=c(L,P),G=k.length,H=0,$=!0;for(g.save(),g.translate(y,_),g.moveTo(0,0),g.rotate(F),y=0;N>y;)y+=k[H++%G],y>N&&(y=N),g[$?"lineTo":"moveTo"](y,0),$=!$;g.restore()},createCanvasElement:function(){return d.document.createElement("canvas")},copyCanvasElement:function(g){var y=d.util.createCanvasElement();return y.width=g.width,y.height=g.height,y.getContext("2d").drawImage(g,0,0),y},toDataURL:function(g,y,_){return g.toDataURL("image/"+y,_)},createImage:function(){return d.document.createElement("img")},multiplyTransformMatrices:function(g,y,_){return[g[0]*y[0]+g[2]*y[1],g[1]*y[0]+g[3]*y[1],g[0]*y[2]+g[2]*y[3],g[1]*y[2]+g[3]*y[3],_?0:g[0]*y[4]+g[2]*y[5]+g[4],_?0:g[1]*y[4]+g[3]*y[5]+g[5]]},qrDecompose:function(g){var y=c(g[1],g[0]),_=f(g[0],2)+f(g[1],2),w=l(_),T=(g[0]*g[3]-g[2]*g[1])/w,k=c(g[0]*g[2]+g[1]*g[3],_);return{angle:y/h,scaleX:w,scaleY:T,skewX:k/h,skewY:0,translateX:g[4],translateY:g[5]}},calcRotateMatrix:function(g){if(!g.angle)return d.iMatrix.concat();var y=d.util.degreesToRadians(g.angle),_=d.util.cos(y),w=d.util.sin(y);return[_,w,-w,_,0,0]},calcDimensionsMatrix:function(g){var y=typeof g.scaleX>"u"?1:g.scaleX,_=typeof g.scaleY>"u"?1:g.scaleY,w=[g.flipX?-y:y,0,0,g.flipY?-_:_,0,0],T=d.util.multiplyTransformMatrices,k=d.util.degreesToRadians;return g.skewX&&(w=T(w,[1,0,Math.tan(k(g.skewX)),1],!0)),g.skewY&&(w=T(w,[1,Math.tan(k(g.skewY)),0,1],!0)),w},composeMatrix:function(g){var y=[1,0,0,1,g.translateX||0,g.translateY||0],_=d.util.multiplyTransformMatrices;return g.angle&&(y=_(y,d.util.calcRotateMatrix(g))),(g.scaleX!==1||g.scaleY!==1||g.skewX||g.skewY||g.flipX||g.flipY)&&(y=_(y,d.util.calcDimensionsMatrix(g))),y},resetObjectTransform:function(g){g.scaleX=1,g.scaleY=1,g.skewX=0,g.skewY=0,g.flipX=!1,g.flipY=!1,g.rotate(0)},saveObjectTransform:function(g){return{scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,angle:g.angle,left:g.left,flipX:g.flipX,flipY:g.flipY,top:g.top}},isTransparent:function(g,y,_,w){w>0&&(y>w?y-=w:y=0,_>w?_-=w:_=0);var T=!0,k,P,L=g.getImageData(y,_,w*2||1,w*2||1),N=L.data.length;for(k=3;k<N&&(P=L.data[k],T=P<=0,T!==!1);k+=4);return L=null,T},parsePreserveAspectRatioAttribute:function(g){var y="meet",_="Mid",w="Mid",T=g.split(" "),k;return T&&T.length&&(y=T.pop(),y!=="meet"&&y!=="slice"?(k=y,y="meet"):T.length&&(k=T.pop())),_=k!=="none"?k.slice(1,4):"none",w=k!=="none"?k.slice(5,8):"none",{meetOrSlice:y,alignX:_,alignY:w}},clearFabricFontCache:function(g){g=(g||"").toLowerCase(),g?d.charWidthsCache[g]&&delete d.charWidthsCache[g]:d.charWidthsCache={}},limitDimsByArea:function(g,y){var _=Math.sqrt(y*g),w=Math.floor(y/_);return{x:Math.floor(_),y:w}},capValue:function(g,y,_){return Math.max(g,Math.min(y,_))},findScaleToFit:function(g,y){return Math.min(y.width/g.width,y.height/g.height)},findScaleToCover:function(g,y){return Math.max(y.width/g.width,y.height/g.height)},matrixToSVG:function(g){return"matrix("+g.map(function(y){return d.util.toFixed(y,d.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(g,y){var _=d.util.invertTransform(y),w=d.util.multiplyTransformMatrices(_,g.calcOwnMatrix());d.util.applyTransformToObject(g,w)},addTransformToObject:function(g,y){d.util.applyTransformToObject(g,d.util.multiplyTransformMatrices(y,g.calcOwnMatrix()))},applyTransformToObject:function(g,y){var _=d.util.qrDecompose(y),w=new d.Point(_.translateX,_.translateY);g.flipX=!1,g.flipY=!1,g.set("scaleX",_.scaleX),g.set("scaleY",_.scaleY),g.skewX=_.skewX,g.skewY=_.skewY,g.angle=_.angle,g.setPositionByOrigin(w,"center","center")},sizeAfterTransform:function(g,y,_){var w=g/2,T=y/2,k=[{x:-w,y:-T},{x:w,y:-T},{x:-w,y:T},{x:w,y:T}],P=d.util.calcDimensionsMatrix(_),L=d.util.makeBoundingBoxFromPoints(k,P);return{x:L.width,y:L.height}}}}(m),function(){var v=Array.prototype.join,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function f(ne,q,ye,Z,te,ce,de,Pe,ke,We,pe){var Te=d.util.cos(ne),ge=d.util.sin(ne),ue=d.util.cos(q),Se=d.util.sin(q),Ce=ye*te*ue-Z*ce*Se+de,Ee=Z*te*ue+ye*ce*Se+Pe,Re=We+ke*(-ye*te*ge-Z*ce*Te),Ke=pe+ke*(-Z*te*ge+ye*ce*Te),ht=Ce+ke*(ye*te*Se+Z*ce*ue),ft=Ee+ke*(Z*te*Se-ye*ce*ue);return["C",Re,Ke,ht,ft,Ce,Ee]}function h(ne,q,ye,Z,te,ce,de){var Pe=Math.PI,ke=de*Pe/180,We=d.util.sin(ke),pe=d.util.cos(ke),Te=0,ge=0;ye=Math.abs(ye),Z=Math.abs(Z);var ue=-pe*ne*.5-We*q*.5,Se=-pe*q*.5+We*ne*.5,Ce=ye*ye,Ee=Z*Z,Re=Se*Se,Ke=ue*ue,ht=Ce*Ee-Ce*Re-Ee*Ke,ft=0;if(ht<0){var Be=Math.sqrt(1-ht/(Ce*Ee));ye*=Be,Z*=Be}else ft=(te===ce?-1:1)*Math.sqrt(ht/(Ce*Re+Ee*Ke));var vt=ft*ye*Se/Z,bt=-ft*Z*ue/ye,Lt=pe*vt-We*bt+ne*.5,fn=We*vt+pe*bt+q*.5,lt=p(1,0,(ue-vt)/ye,(Se-bt)/Z),wt=p((ue-vt)/ye,(Se-bt)/Z,(-ue-vt)/ye,(-Se-bt)/Z);ce===0&&wt>0?wt-=2*Pe:ce===1&&wt<0&&(wt+=2*Pe);for(var yt=Math.ceil(Math.abs(wt/Pe*2)),xt=[],Ht=wt/yt,Sn=8/3*Math.sin(Ht/4)*Math.sin(Ht/4)/Math.sin(Ht/2),He=lt+Ht,Xe=0;Xe<yt;Xe++)xt[Xe]=f(lt,He,pe,We,ye,Z,Lt,fn,Sn,Te,ge),Te=xt[Xe][5],ge=xt[Xe][6],lt=He,He+=Ht;return xt}function p(ne,q,ye,Z){var te=Math.atan2(q,ne),ce=Math.atan2(Z,ye);return ce>=te?ce-te:2*Math.PI-(te-ce)}function g(ne,q,ye,Z,te,ce,de,Pe){var ke;if(d.cachesBoundsOfCurve&&(ke=v.call(arguments),d.boundsOfCurveCache[ke]))return d.boundsOfCurveCache[ke];var We=Math.sqrt,pe=Math.min,Te=Math.max,ge=Math.abs,ue=[],Se=[[],[]],Ce,Ee,Re,Ke,ht,ft,Be,vt;Ee=6*ne-12*ye+6*te,Ce=-3*ne+9*ye-9*te+3*de,Re=3*ye-3*ne;for(var bt=0;bt<2;++bt){if(bt>0&&(Ee=6*q-12*Z+6*ce,Ce=-3*q+9*Z-9*ce+3*Pe,Re=3*Z-3*q),ge(Ce)<1e-12){if(ge(Ee)<1e-12)continue;Ke=-Re/Ee,0<Ke&&Ke<1&&ue.push(Ke);continue}Be=Ee*Ee-4*Re*Ce,!(Be<0)&&(vt=We(Be),ht=(-Ee+vt)/(2*Ce),0<ht&&ht<1&&ue.push(ht),ft=(-Ee-vt)/(2*Ce),0<ft&&ft<1&&ue.push(ft))}for(var Lt,fn,lt=ue.length,wt=lt,yt;lt--;)Ke=ue[lt],yt=1-Ke,Lt=yt*yt*yt*ne+3*yt*yt*Ke*ye+3*yt*Ke*Ke*te+Ke*Ke*Ke*de,Se[0][lt]=Lt,fn=yt*yt*yt*q+3*yt*yt*Ke*Z+3*yt*Ke*Ke*ce+Ke*Ke*Ke*Pe,Se[1][lt]=fn;Se[0][wt]=ne,Se[1][wt]=q,Se[0][wt+1]=de,Se[1][wt+1]=Pe;var xt=[{x:pe.apply(null,Se[0]),y:pe.apply(null,Se[1])},{x:Te.apply(null,Se[0]),y:Te.apply(null,Se[1])}];return d.cachesBoundsOfCurve&&(d.boundsOfCurveCache[ke]=xt),xt}function y(ne,q,ye){for(var Z=ye[1],te=ye[2],ce=ye[3],de=ye[4],Pe=ye[5],ke=ye[6],We=ye[7],pe=h(ke-ne,We-q,Z,te,de,Pe,ce),Te=0,ge=pe.length;Te<ge;Te++)pe[Te][1]+=ne,pe[Te][2]+=q,pe[Te][3]+=ne,pe[Te][4]+=q,pe[Te][5]+=ne,pe[Te][6]+=q;return pe}function _(ne){var q=0,ye=0,Z=ne.length,te=0,ce=0,de,Pe,ke,We=[],pe,Te,ge;for(Pe=0;Pe<Z;++Pe){switch(ke=!1,de=ne[Pe].slice(0),de[0]){case"l":de[0]="L",de[1]+=q,de[2]+=ye;case"L":q=de[1],ye=de[2];break;case"h":de[1]+=q;case"H":de[0]="L",de[2]=ye,q=de[1];break;case"v":de[1]+=ye;case"V":de[0]="L",ye=de[1],de[1]=q,de[2]=ye;break;case"m":de[0]="M",de[1]+=q,de[2]+=ye;case"M":q=de[1],ye=de[2],te=de[1],ce=de[2];break;case"c":de[0]="C",de[1]+=q,de[2]+=ye,de[3]+=q,de[4]+=ye,de[5]+=q,de[6]+=ye;case"C":Te=de[3],ge=de[4],q=de[5],ye=de[6];break;case"s":de[0]="S",de[1]+=q,de[2]+=ye,de[3]+=q,de[4]+=ye;case"S":pe==="C"?(Te=2*q-Te,ge=2*ye-ge):(Te=q,ge=ye),q=de[3],ye=de[4],de[0]="C",de[5]=de[3],de[6]=de[4],de[3]=de[1],de[4]=de[2],de[1]=Te,de[2]=ge,Te=de[3],ge=de[4];break;case"q":de[0]="Q",de[1]+=q,de[2]+=ye,de[3]+=q,de[4]+=ye;case"Q":Te=de[1],ge=de[2],q=de[3],ye=de[4];break;case"t":de[0]="T",de[1]+=q,de[2]+=ye;case"T":pe==="Q"?(Te=2*q-Te,ge=2*ye-ge):(Te=q,ge=ye),de[0]="Q",q=de[1],ye=de[2],de[1]=Te,de[2]=ge,de[3]=q,de[4]=ye;break;case"a":de[0]="A",de[6]+=q,de[7]+=ye;case"A":ke=!0,We=We.concat(y(q,ye,de)),q=de[6],ye=de[7];break;case"z":case"Z":q=te,ye=ce;break}ke||We.push(de),pe=de[0]}return We}function w(ne,q,ye,Z){return Math.sqrt((ye-ne)*(ye-ne)+(Z-q)*(Z-q))}function T(ne){return ne*ne*ne}function k(ne){return 3*ne*ne*(1-ne)}function P(ne){return 3*ne*(1-ne)*(1-ne)}function L(ne){return(1-ne)*(1-ne)*(1-ne)}function N(ne,q,ye,Z,te,ce,de,Pe){return function(ke){var We=T(ke),pe=k(ke),Te=P(ke),ge=L(ke);return{x:de*We+te*pe+ye*Te+ne*ge,y:Pe*We+ce*pe+Z*Te+q*ge}}}function F(ne,q,ye,Z,te,ce,de,Pe){return function(ke){var We=1-ke,pe=3*We*We*(ye-ne)+6*We*ke*(te-ye)+3*ke*ke*(de-te),Te=3*We*We*(Z-q)+6*We*ke*(ce-Z)+3*ke*ke*(Pe-ce);return Math.atan2(Te,pe)}}function G(ne){return ne*ne}function H(ne){return 2*ne*(1-ne)}function $(ne){return(1-ne)*(1-ne)}function re(ne,q,ye,Z,te,ce){return function(de){var Pe=G(de),ke=H(de),We=$(de);return{x:te*Pe+ye*ke+ne*We,y:ce*Pe+Z*ke+q*We}}}function le(ne,q,ye,Z,te,ce){return function(de){var Pe=1-de,ke=2*Pe*(ye-ne)+2*de*(te-ye),We=2*Pe*(Z-q)+2*de*(ce-Z);return Math.atan2(We,ke)}}function xe(ne,q,ye){var Z={x:q,y:ye},te,ce=0,de;for(de=1;de<=100;de+=1)te=ne(de/100),ce+=w(Z.x,Z.y,te.x,te.y),Z=te;return ce}function ee(ne,q){for(var ye=0,Z=0,te=ne.iterator,ce={x:ne.x,y:ne.y},de,Pe,ke=.01,We=ne.angleFinder,pe;Z<q&&ye<=1&&ke>1e-4;)de=te(ye),pe=ye,Pe=w(ce.x,ce.y,de.x,de.y),Pe+Z>q?(ke/=2,ye-=ke):(ce=de,ye+=ke,Z+=Pe);return de.angle=We(pe),de}function be(ne){for(var q=0,ye=ne.length,Z,te=0,ce=0,de=0,Pe=0,ke=[],We,pe,Te,ge=0;ge<ye;ge++){switch(Z=ne[ge],pe={x:te,y:ce,command:Z[0]},Z[0]){case"M":pe.length=0,de=te=Z[1],Pe=ce=Z[2];break;case"L":pe.length=w(te,ce,Z[1],Z[2]),te=Z[1],ce=Z[2];break;case"C":We=N(te,ce,Z[1],Z[2],Z[3],Z[4],Z[5],Z[6]),Te=F(te,ce,Z[1],Z[2],Z[3],Z[4],Z[5],Z[6]),pe.iterator=We,pe.angleFinder=Te,pe.length=xe(We,te,ce),te=Z[5],ce=Z[6];break;case"Q":We=re(te,ce,Z[1],Z[2],Z[3],Z[4]),Te=le(te,ce,Z[1],Z[2],Z[3],Z[4]),pe.iterator=We,pe.angleFinder=Te,pe.length=xe(We,te,ce),te=Z[3],ce=Z[4];break;case"Z":case"z":pe.destX=de,pe.destY=Pe,pe.length=w(te,ce,de,Pe),te=de,ce=Pe;break}q+=pe.length,ke.push(pe)}return ke.push({length:q,x:te,y:ce}),ke}function K(ne,q,ye){ye||(ye=be(ne));for(var Z=0;q-ye[Z].length>0&&Z<ye.length-2;)q-=ye[Z].length,Z++;var te=ye[Z],ce=q/te.length,de=te.command,Pe=ne[Z],ke;switch(de){case"M":return{x:te.x,y:te.y,angle:0};case"Z":case"z":return ke=new d.Point(te.x,te.y).lerp(new d.Point(te.destX,te.destY),ce),ke.angle=Math.atan2(te.destY-te.y,te.destX-te.x),ke;case"L":return ke=new d.Point(te.x,te.y).lerp(new d.Point(Pe[1],Pe[2]),ce),ke.angle=Math.atan2(Pe[2]-te.y,Pe[1]-te.x),ke;case"C":return ee(te,q);case"Q":return ee(te,q)}}function Oe(ne){var q=[],ye=[],Z,te,ce=d.rePathCommand,de="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Pe="("+de+")"+d.commaWsp,ke="([01])"+d.commaWsp+"?",We=Pe+"?"+Pe+"?"+Pe+ke+ke+Pe+"?("+de+")",pe=new RegExp(We,"g"),Te,ge,ue;if(!ne||!ne.match)return q;ue=ne.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Se=0,Ce,Ee=ue.length;Se<Ee;Se++){Z=ue[Se],ge=Z.slice(1).trim(),ye.length=0;var Re=Z.charAt(0);if(Ce=[Re],Re.toLowerCase()==="a")for(var Ke;Ke=pe.exec(ge);)for(var ht=1;ht<Ke.length;ht++)ye.push(Ke[ht]);else for(;Te=ce.exec(ge);)ye.push(Te[0]);for(var ht=0,ft=ye.length;ht<ft;ht++)te=parseFloat(ye[ht]),isNaN(te)||Ce.push(te);var Be=l[Re.toLowerCase()],vt=c[Re]||Re;if(Ce.length-1>Be)for(var bt=1,Lt=Ce.length;bt<Lt;bt+=Be)q.push([Re].concat(Ce.slice(bt,bt+Be))),Re=vt;else q.push(Ce)}return q}function _e(ne,q){var ye=[],Z,te=new d.Point(ne[0].x,ne[0].y),ce=new d.Point(ne[1].x,ne[1].y),de=ne.length,Pe=1,ke=0,We=de>2;for(q=q||0,We&&(Pe=ne[2].x<ce.x?-1:ne[2].x===ce.x?0:1,ke=ne[2].y<ce.y?-1:ne[2].y===ce.y?0:1),ye.push(["M",te.x-Pe*q,te.y-ke*q]),Z=1;Z<de;Z++){if(!te.eq(ce)){var pe=te.midPointFrom(ce);ye.push(["Q",te.x,te.y,pe.x,pe.y])}te=ne[Z],Z+1<ne.length&&(ce=ne[Z+1])}return We&&(Pe=te.x>ne[Z-2].x?1:te.x===ne[Z-2].x?0:-1,ke=te.y>ne[Z-2].y?1:te.y===ne[Z-2].y?0:-1),ye.push(["L",te.x+Pe*q,te.y+ke*q]),ye}function fe(ne,q,ye){return ye&&(q=d.util.multiplyTransformMatrices(q,[1,0,0,1,-ye.x,-ye.y])),ne.map(function(Z){for(var te=Z.slice(0),ce={},de=1;de<Z.length-1;de+=2)ce.x=Z[de],ce.y=Z[de+1],ce=d.util.transformPoint(ce,q),te[de]=ce.x,te[de+1]=ce.y;return te})}function J(ne,q,ye,Z,te,ce,de,Pe,ke){for(var We=0,pe=0,Te,ge=[],ue=h(Pe-ne,ke-q,ye,Z,ce,de,te),Se=0,Ce=ue.length;Se<Ce;Se++)Te=g(We,pe,ue[Se][1],ue[Se][2],ue[Se][3],ue[Se][4],ue[Se][5],ue[Se][6]),ge.push({x:Te[0].x+ne,y:Te[0].y+q}),ge.push({x:Te[1].x+ne,y:Te[1].y+q}),We=ue[Se][5],pe=ue[Se][6];return ge}function he(ne,q,ye,Z){Z=Z.slice(0).unshift("X");var te=y(q,ye,Z);te.forEach(function(ce){ne.bezierCurveTo.apply(ne,ce.slice(1))})}d.util.joinPath=function(ne){return ne.map(function(q){return q.join(" ")}).join(" ")},d.util.parsePath=Oe,d.util.makePathSimpler=_,d.util.getSmoothPathFromPoints=_e,d.util.getPathSegmentsInfo=be,d.util.getBoundsOfCurve=g,d.util.getPointOnPath=K,d.util.transformPath=fe,d.util.fromArcToBeizers=y,d.util.getBoundsOfArc=J,d.util.drawArc=he}(),function(){var v=Array.prototype.slice;function l(g,y){for(var _=v.call(arguments,2),w=[],T=0,k=g.length;T<k;T++)w[T]=_.length?g[T][y].apply(g[T],_):g[T][y].call(g[T]);return w}function c(g,y){return p(g,y,function(_,w){return _>=w})}function f(g,y){return p(g,y,function(_,w){return _<w})}function h(g,y){for(var _=g.length;_--;)g[_]=y;return g}function p(g,y,_){if(!(!g||g.length===0)){var w=g.length-1,T=y?g[w][y]:g[w];if(y)for(;w--;)_(g[w][y],T)&&(T=g[w][y]);else for(;w--;)_(g[w],T)&&(T=g[w]);return T}}d.util.array={fill:h,invoke:l,min:f,max:c}}(),function(){function v(c,f,h){if(h)if(!d.isLikelyNode&&f instanceof Element)c=f;else if(f instanceof Array){c=[];for(var p=0,g=f.length;p<g;p++)c[p]=v({},f[p],h)}else if(f&&typeof f=="object")for(var y in f)y==="canvas"||y==="group"?c[y]=null:f.hasOwnProperty(y)&&(c[y]=v({},f[y],h));else c=f;else for(var y in f)c[y]=f[y];return c}function l(c,f){return v({},c,f)}d.util.object={extend:v,clone:l},d.util.object.extend(d.util,d.Observable)}(),function(){function v(p){return p.replace(/-+(.)?/g,function(g,y){return y?y.toUpperCase():""})}function l(p,g){return p.charAt(0).toUpperCase()+(g?p.slice(1):p.slice(1).toLowerCase())}function c(p){return p.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(p){var g=0,y,_=[];for(g=0,y;g<p.length;g++)(y=h(p,g))!==!1&&_.push(y);return _}function h(p,g){var y=p.charCodeAt(g);if(isNaN(y))return"";if(y<55296||y>57343)return p.charAt(g);if(55296<=y&&y<=56319){if(p.length<=g+1)throw"High surrogate without following low surrogate";var _=p.charCodeAt(g+1);if(56320>_||_>57343)throw"High surrogate without following low surrogate";return p.charAt(g)+p.charAt(g+1)}if(g===0)throw"Low surrogate without preceding high surrogate";var w=p.charCodeAt(g-1);if(55296>w||w>56319)throw"Low surrogate without preceding high surrogate";return!1}d.util.string={camelize:v,capitalize:l,escapeXml:c,graphemeSplit:f}}(),function(){var v=Array.prototype.slice,l=function(){},c=function(){for(var y in{toString:1})if(y==="toString")return!1;return!0}(),f=function(y,_,w){for(var T in _)T in y.prototype&&typeof y.prototype[T]=="function"&&(_[T]+"").indexOf("callSuper")>-1?y.prototype[T]=function(k){return function(){var P=this.constructor.superclass;this.constructor.superclass=w;var L=_[k].apply(this,arguments);if(this.constructor.superclass=P,k!=="initialize")return L}}(T):y.prototype[T]=_[T],c&&(_.toString!==Object.prototype.toString&&(y.prototype.toString=_.toString),_.valueOf!==Object.prototype.valueOf&&(y.prototype.valueOf=_.valueOf))};function h(){}function p(y){for(var _=null,w=this;w.constructor.superclass;){var T=w.constructor.superclass.prototype[y];if(w[y]!==T){_=T;break}w=w.constructor.superclass.prototype}return _?arguments.length>1?_.apply(this,v.call(arguments,1)):_.call(this):console.log("tried to callSuper "+y+", method not found in prototype chain",this)}function g(){var y=null,_=v.call(arguments,0);typeof _[0]=="function"&&(y=_.shift());function w(){this.initialize.apply(this,arguments)}w.superclass=y,w.subclasses=[],y&&(h.prototype=y.prototype,w.prototype=new h,y.subclasses.push(w));for(var T=0,k=_.length;T<k;T++)f(w,_[T],y);return w.prototype.initialize||(w.prototype.initialize=l),w.prototype.constructor=w,w.prototype.callSuper=p,w}d.util.createClass=g}(),function(){var v=!!d.document.createElement("div").attachEvent,l=["touchstart","touchmove","touchend"];d.util.addListener=function(f,h,p,g){f&&f.addEventListener(h,p,v?!1:g)},d.util.removeListener=function(f,h,p,g){f&&f.removeEventListener(h,p,v?!1:g)};function c(f){var h=f.changedTouches;return h&&h[0]?h[0]:f}d.util.getPointer=function(f){var h=f.target,p=d.util.getScrollLeftTop(h),g=c(f);return{x:g.clientX+p.left,y:g.clientY+p.top}},d.util.isTouchEvent=function(f){return l.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function v(g,y){var _=g.style;if(!_)return g;if(typeof y=="string")return g.style.cssText+=";"+y,y.indexOf("opacity")>-1?p(g,y.match(/opacity:\s*(\d?\.?\d*)/)[1]):g;for(var w in y)if(w==="opacity")p(g,y[w]);else{var T=w==="float"||w==="cssFloat"?typeof _.styleFloat>"u"?"cssFloat":"styleFloat":w;_[T]=y[w]}return g}var l=d.document.createElement("div"),c=typeof l.style.opacity=="string",f=typeof l.style.filter=="string",h=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,p=function(g){return g};c?p=function(g,y){return g.style.opacity=y,g}:f&&(p=function(g,y){var _=g.style;return g.currentStyle&&!g.currentStyle.hasLayout&&(_.zoom=1),h.test(_.filter)?(y=y>=.9999?"":"alpha(opacity="+y*100+")",_.filter=_.filter.replace(h,y)):_.filter+=" alpha(opacity="+y*100+")",g}),d.util.setStyle=v}(),function(){var v=Array.prototype.slice;function l(L){return typeof L=="string"?d.document.getElementById(L):L}var c,f=function(L){return v.call(L,0)};try{c=f(d.document.childNodes)instanceof Array}catch{}c||(f=function(L){for(var N=new Array(L.length),F=L.length;F--;)N[F]=L[F];return N});function h(L,N){var F=d.document.createElement(L);for(var G in N)G==="class"?F.className=N[G]:G==="for"?F.htmlFor=N[G]:F.setAttribute(G,N[G]);return F}function p(L,N){L&&(" "+L.className+" ").indexOf(" "+N+" ")===-1&&(L.className+=(L.className?" ":"")+N)}function g(L,N,F){return typeof N=="string"&&(N=h(N,F)),L.parentNode&&L.parentNode.replaceChild(N,L),N.appendChild(L),N}function y(L){for(var N=0,F=0,G=d.document.documentElement,H=d.document.body||{scrollLeft:0,scrollTop:0};L&&(L.parentNode||L.host)&&(L=L.parentNode||L.host,L===d.document?(N=H.scrollLeft||G.scrollLeft||0,F=H.scrollTop||G.scrollTop||0):(N+=L.scrollLeft||0,F+=L.scrollTop||0),!(L.nodeType===1&&L.style.position==="fixed")););return{left:N,top:F}}function _(L){var N,F=L&&L.ownerDocument,G={left:0,top:0},H={left:0,top:0},$,re={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!F)return H;for(var le in re)H[re[le]]+=parseInt(w(L,le),10)||0;return N=F.documentElement,typeof L.getBoundingClientRect<"u"&&(G=L.getBoundingClientRect()),$=y(L),{left:G.left+$.left-(N.clientLeft||0)+H.left,top:G.top+$.top-(N.clientTop||0)+H.top}}var w;d.document.defaultView&&d.document.defaultView.getComputedStyle?w=function(L,N){var F=d.document.defaultView.getComputedStyle(L,null);return F?F[N]:void 0}:w=function(L,N){var F=L.style[N];return!F&&L.currentStyle&&(F=L.currentStyle[N]),F},function(){var L=d.document.documentElement.style,N="userSelect"in L?"userSelect":"MozUserSelect"in L?"MozUserSelect":"WebkitUserSelect"in L?"WebkitUserSelect":"KhtmlUserSelect"in L?"KhtmlUserSelect":"";function F(H){return typeof H.onselectstart<"u"&&(H.onselectstart=d.util.falseFunction),N?H.style[N]="none":typeof H.unselectable=="string"&&(H.unselectable="on"),H}function G(H){return typeof H.onselectstart<"u"&&(H.onselectstart=null),N?H.style[N]="":typeof H.unselectable=="string"&&(H.unselectable=""),H}d.util.makeElementUnselectable=F,d.util.makeElementSelectable=G}();function T(L){var N=d.jsdomImplForWrapper(L);return N._canvas||N._image}function k(L){if(d.isLikelyNode){var N=d.jsdomImplForWrapper(L);N&&(N._image=null,N._canvas=null,N._currentSrc=null,N._attributes=null,N._classList=null)}}function P(L,N){L.imageSmoothingEnabled=L.imageSmoothingEnabled||L.webkitImageSmoothingEnabled||L.mozImageSmoothingEnabled||L.msImageSmoothingEnabled||L.oImageSmoothingEnabled,L.imageSmoothingEnabled=N}d.util.setImageSmoothing=P,d.util.getById=l,d.util.toArray=f,d.util.addClass=p,d.util.makeElement=h,d.util.wrapElement=g,d.util.getScrollLeftTop=y,d.util.getElementOffset=_,d.util.getNodeCanvas=T,d.util.cleanUpJsdomNode=k}(),function(){function v(f,h){return f+(/\?/.test(f)?"&":"?")+h}function l(){}function c(f,h){h||(h={});var p=h.method?h.method.toUpperCase():"GET",g=h.onComplete||function(){},y=new d.window.XMLHttpRequest,_=h.body||h.parameters;return y.onreadystatechange=function(){y.readyState===4&&(g(y),y.onreadystatechange=l)},p==="GET"&&(_=null,typeof h.parameters=="string"&&(f=v(f,h.parameters))),y.open(p,f,!0),(p==="POST"||p==="PUT")&&y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y.send(_),y}d.util.request=c}(),d.log=console.log,d.warn=console.warn,function(){function v(){return!1}function l(y,_,w,T){return-w*Math.cos(y/T*(Math.PI/2))+w+_}function c(y){var _=!1;return p(function(w){y||(y={});var T=w||+new Date,k=y.duration||500,P=T+k,L,N=y.onChange||v,F=y.abort||v,G=y.onComplete||v,H=y.easing||l,$="startValue"in y?y.startValue:0,re="endValue"in y?y.endValue:100,le=y.byValue||re-$;y.onStart&&y.onStart(),function xe(ee){L=ee||+new Date;var be=L>P?k:L-T,K=be/k,Oe=H(be,$,le,k),_e=Math.abs((Oe-$)/le);if(!_){if(F(Oe,_e,K)){G(re,1,1);return}if(L>P){N(re,1,1),G(re,1,1);return}else N(Oe,_e,K),p(xe)}}(T)}),function(){_=!0}}var f=d.window.requestAnimationFrame||d.window.webkitRequestAnimationFrame||d.window.mozRequestAnimationFrame||d.window.oRequestAnimationFrame||d.window.msRequestAnimationFrame||function(y){return d.window.setTimeout(y,1e3/60)},h=d.window.cancelAnimationFrame||d.window.clearTimeout;function p(){return f.apply(d.window,arguments)}function g(){return h.apply(d.window,arguments)}d.util.animate=c,d.util.requestAnimFrame=p,d.util.cancelAnimFrame=g}(),function(){function v(c,f,h){var p="rgba("+parseInt(c[0]+h*(f[0]-c[0]),10)+","+parseInt(c[1]+h*(f[1]-c[1]),10)+","+parseInt(c[2]+h*(f[2]-c[2]),10);return p+=","+(c&&f?parseFloat(c[3]+h*(f[3]-c[3])):1),p+=")",p}function l(c,f,h,p){var g=new d.Color(c).getSource(),y=new d.Color(f).getSource(),_=p.onComplete,w=p.onChange;return p=p||{},d.util.animate(d.util.object.extend(p,{duration:h||500,startValue:g,endValue:y,byValue:y,easing:function(T,k,P,L){var N=p.colorEasing?p.colorEasing(T,L):1-Math.cos(T/L*(Math.PI/2));return v(k,P,N)},onComplete:function(T,k,P){if(_)return _(v(y,y,0),k,P)},onChange:function(T,k,P){if(w){if(Array.isArray(T))return w(v(T,T,0),k,P);w(T,k,P)}}}))}d.util.animateColor=l}(),function(){function v(J,he,ne,q){return J<Math.abs(he)?(J=he,q=ne/4):he===0&&J===0?q=ne/(2*Math.PI)*Math.asin(1):q=ne/(2*Math.PI)*Math.asin(he/J),{a:J,c:he,p:ne,s:q}}function l(J,he,ne){return J.a*Math.pow(2,10*(he-=1))*Math.sin((he*ne-J.s)*(2*Math.PI)/J.p)}function c(J,he,ne,q){return ne*((J=J/q-1)*J*J+1)+he}function f(J,he,ne,q){return J/=q/2,J<1?ne/2*J*J*J+he:ne/2*((J-=2)*J*J+2)+he}function h(J,he,ne,q){return ne*(J/=q)*J*J*J+he}function p(J,he,ne,q){return-ne*((J=J/q-1)*J*J*J-1)+he}function g(J,he,ne,q){return J/=q/2,J<1?ne/2*J*J*J*J+he:-ne/2*((J-=2)*J*J*J-2)+he}function y(J,he,ne,q){return ne*(J/=q)*J*J*J*J+he}function _(J,he,ne,q){return ne*((J=J/q-1)*J*J*J*J+1)+he}function w(J,he,ne,q){return J/=q/2,J<1?ne/2*J*J*J*J*J+he:ne/2*((J-=2)*J*J*J*J+2)+he}function T(J,he,ne,q){return-ne*Math.cos(J/q*(Math.PI/2))+ne+he}function k(J,he,ne,q){return ne*Math.sin(J/q*(Math.PI/2))+he}function P(J,he,ne,q){return-ne/2*(Math.cos(Math.PI*J/q)-1)+he}function L(J,he,ne,q){return J===0?he:ne*Math.pow(2,10*(J/q-1))+he}function N(J,he,ne,q){return J===q?he+ne:ne*(-Math.pow(2,-10*J/q)+1)+he}function F(J,he,ne,q){return J===0?he:J===q?he+ne:(J/=q/2,J<1?ne/2*Math.pow(2,10*(J-1))+he:ne/2*(-Math.pow(2,-10*--J)+2)+he)}function G(J,he,ne,q){return-ne*(Math.sqrt(1-(J/=q)*J)-1)+he}function H(J,he,ne,q){return ne*Math.sqrt(1-(J=J/q-1)*J)+he}function $(J,he,ne,q){return J/=q/2,J<1?-ne/2*(Math.sqrt(1-J*J)-1)+he:ne/2*(Math.sqrt(1-(J-=2)*J)+1)+he}function re(J,he,ne,q){var ye=1.70158,Z=0,te=ne;if(J===0)return he;if(J/=q,J===1)return he+ne;Z||(Z=q*.3);var ce=v(te,ne,Z,ye);return-l(ce,J,q)+he}function le(J,he,ne,q){var ye=1.70158,Z=0,te=ne;if(J===0)return he;if(J/=q,J===1)return he+ne;Z||(Z=q*.3);var ce=v(te,ne,Z,ye);return ce.a*Math.pow(2,-10*J)*Math.sin((J*q-ce.s)*(2*Math.PI)/ce.p)+ce.c+he}function xe(J,he,ne,q){var ye=1.70158,Z=0,te=ne;if(J===0)return he;if(J/=q/2,J===2)return he+ne;Z||(Z=q*.44999999999999996);var ce=v(te,ne,Z,ye);return J<1?-.5*l(ce,J,q)+he:ce.a*Math.pow(2,-10*(J-=1))*Math.sin((J*q-ce.s)*(2*Math.PI)/ce.p)*.5+ce.c+he}function ee(J,he,ne,q,ye){return ye===void 0&&(ye=1.70158),ne*(J/=q)*J*((ye+1)*J-ye)+he}function be(J,he,ne,q,ye){return ye===void 0&&(ye=1.70158),ne*((J=J/q-1)*J*((ye+1)*J+ye)+1)+he}function K(J,he,ne,q,ye){return ye===void 0&&(ye=1.70158),J/=q/2,J<1?ne/2*(J*J*(((ye*=1.525)+1)*J-ye))+he:ne/2*((J-=2)*J*(((ye*=1.525)+1)*J+ye)+2)+he}function Oe(J,he,ne,q){return ne-_e(q-J,0,ne,q)+he}function _e(J,he,ne,q){return(J/=q)<.36363636363636365?ne*(7.5625*J*J)+he:J<.7272727272727273?ne*(7.5625*(J-=.5454545454545454)*J+.75)+he:J<.9090909090909091?ne*(7.5625*(J-=.8181818181818182)*J+.9375)+he:ne*(7.5625*(J-=.9545454545454546)*J+.984375)+he}function fe(J,he,ne,q){return J<q/2?Oe(J*2,0,ne,q)*.5+he:_e(J*2-q,0,ne,q)*.5+ne*.5+he}d.util.ease={easeInQuad:function(J,he,ne,q){return ne*(J/=q)*J+he},easeOutQuad:function(J,he,ne,q){return-ne*(J/=q)*(J-2)+he},easeInOutQuad:function(J,he,ne,q){return J/=q/2,J<1?ne/2*J*J+he:-ne/2*(--J*(J-2)-1)+he},easeInCubic:function(J,he,ne,q){return ne*(J/=q)*J*J+he},easeOutCubic:c,easeInOutCubic:f,easeInQuart:h,easeOutQuart:p,easeInOutQuart:g,easeInQuint:y,easeOutQuint:_,easeInOutQuint:w,easeInSine:T,easeOutSine:k,easeInOutSine:P,easeInExpo:L,easeOutExpo:N,easeInOutExpo:F,easeInCirc:G,easeOutCirc:H,easeInOutCirc:$,easeInElastic:re,easeOutElastic:le,easeInOutElastic:xe,easeInBack:ee,easeOutBack:be,easeInOutBack:K,easeInBounce:Oe,easeOutBounce:_e,easeInOutBounce:fe}}(),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.util.object.clone,h=l.util.toFixed,p=l.util.parseUnit,g=l.util.multiplyTransformMatrices,y=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],_=["symbol","image","marker","pattern","view","svg"],w=["pattern","defs","symbol","metadata","clipPath","mask","desc"],T=["symbol","g","a","svg","clipPath","defs"],k={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},P={stroke:"strokeOpacity",fill:"fillOpacity"},L="font-size",N="clip-path";l.svgValidTagNamesRegEx=H(y),l.svgViewBoxElementsRegEx=H(_),l.svgInvalidAncestorsRegEx=H(w),l.svgValidParentsRegEx=H(T),l.cssRules={},l.gradientDefs={},l.clipPaths={};function F(Z){return Z in k?k[Z]:Z}function G(Z,te,ce,de){var Pe=Object.prototype.toString.call(te)==="[object Array]",ke;if((Z==="fill"||Z==="stroke")&&te==="none")te="";else{if(Z==="strokeUniform")return te==="non-scaling-stroke";if(Z==="strokeDashArray")te==="none"?te=null:te=te.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(Z==="transformMatrix")ce&&ce.transformMatrix?te=g(ce.transformMatrix,l.parseTransformAttribute(te)):te=l.parseTransformAttribute(te);else if(Z==="visible")te=te!=="none"&&te!=="hidden",ce&&ce.visible===!1&&(te=!1);else if(Z==="opacity")te=parseFloat(te),ce&&typeof ce.opacity<"u"&&(te*=ce.opacity);else if(Z==="textAnchor")te=te==="start"?"left":te==="end"?"right":"center";else if(Z==="charSpacing")ke=p(te,de)/de*1e3;else if(Z==="paintFirst"){var We=te.indexOf("fill"),pe=te.indexOf("stroke"),te="fill";(We>-1&&pe>-1&&pe<We||We===-1&&pe>-1)&&(te="stroke")}else{if(Z==="href"||Z==="xlink:href"||Z==="font")return te;if(Z==="imageSmoothing")return te==="optimizeQuality";ke=Pe?te.map(p):p(te,de)}}return!Pe&&isNaN(ke)?te:ke}function H(Z){return new RegExp("^("+Z.join("|")+")\\b","i")}function $(Z){for(var te in P)if(!(typeof Z[P[te]]>"u"||Z[te]==="")){if(typeof Z[te]>"u"){if(!l.Object.prototype[te])continue;Z[te]=l.Object.prototype[te]}if(Z[te].indexOf("url(")!==0){var ce=new l.Color(Z[te]);Z[te]=ce.setAlpha(h(ce.getAlpha()*Z[P[te]],2)).toRgba()}}return Z}function re(Z,te){var ce,de=[],Pe,ke,We;for(ke=0,We=te.length;ke<We;ke++)ce=te[ke],Pe=Z.getElementsByTagName(ce),de=de.concat(Array.prototype.slice.call(Pe));return de}l.parseTransformAttribute=function(){function Z(Be,vt){var bt=l.util.cos(vt[0]),Lt=l.util.sin(vt[0]),fn=0,lt=0;vt.length===3&&(fn=vt[1],lt=vt[2]),Be[0]=bt,Be[1]=Lt,Be[2]=-Lt,Be[3]=bt,Be[4]=fn-(bt*fn-Lt*lt),Be[5]=lt-(Lt*fn+bt*lt)}function te(Be,vt){var bt=vt[0],Lt=vt.length===2?vt[1]:vt[0];Be[0]=bt,Be[3]=Lt}function ce(Be,vt,bt){Be[bt]=Math.tan(l.util.degreesToRadians(vt[0]))}function de(Be,vt){Be[4]=vt[0],vt.length===2&&(Be[5]=vt[1])}var Pe=l.iMatrix,ke=l.reNum,We=l.commaWsp,pe="(?:(skewX)\\s*\\(\\s*("+ke+")\\s*\\))",Te="(?:(skewY)\\s*\\(\\s*("+ke+")\\s*\\))",ge="(?:(rotate)\\s*\\(\\s*("+ke+")(?:"+We+"("+ke+")"+We+"("+ke+"))?\\s*\\))",ue="(?:(scale)\\s*\\(\\s*("+ke+")(?:"+We+"("+ke+"))?\\s*\\))",Se="(?:(translate)\\s*\\(\\s*("+ke+")(?:"+We+"("+ke+"))?\\s*\\))",Ce="(?:(matrix)\\s*\\(\\s*("+ke+")"+We+"("+ke+")"+We+"("+ke+")"+We+"("+ke+")"+We+"("+ke+")"+We+"("+ke+")\\s*\\))",Ee="(?:"+Ce+"|"+Se+"|"+ue+"|"+ge+"|"+pe+"|"+Te+")",Re="(?:"+Ee+"(?:"+We+"*"+Ee+")*)",Ke="^\\s*(?:"+Re+"?)\\s*$",ht=new RegExp(Ke),ft=new RegExp(Ee,"g");return function(Be){var vt=Pe.concat(),bt=[];if(!Be||Be&&!ht.test(Be))return vt;Be.replace(ft,function(fn){var lt=new RegExp(Ee).exec(fn).filter(function(xt){return!!xt}),wt=lt[1],yt=lt.slice(2).map(parseFloat);switch(wt){case"translate":de(vt,yt);break;case"rotate":yt[0]=l.util.degreesToRadians(yt[0]),Z(vt,yt);break;case"scale":te(vt,yt);break;case"skewX":ce(vt,yt,2);break;case"skewY":ce(vt,yt,1);break;case"matrix":vt=yt;break}bt.push(vt.concat()),vt=Pe.concat()});for(var Lt=bt[0];bt.length>1;)bt.shift(),Lt=l.util.multiplyTransformMatrices(Lt,bt[0]);return Lt}}();function le(Z,te){var ce,de;Z.replace(/;\s*$/,"").split(";").forEach(function(Pe){var ke=Pe.split(":");ce=ke[0].trim().toLowerCase(),de=ke[1].trim(),te[ce]=de})}function xe(Z,te){var ce,de;for(var Pe in Z)typeof Z[Pe]>"u"||(ce=Pe.toLowerCase(),de=Z[Pe],te[ce]=de)}function ee(Z,te){var ce={};for(var de in l.cssRules[te])if(be(Z,de.split(" ")))for(var Pe in l.cssRules[te][de])ce[Pe]=l.cssRules[te][de][Pe];return ce}function be(Z,te){var ce,de=!0;return ce=Oe(Z,te.pop()),ce&&te.length&&(de=K(Z,te)),ce&&de&&te.length===0}function K(Z,te){for(var ce,de=!0;Z.parentNode&&Z.parentNode.nodeType===1&&te.length;)de&&(ce=te.pop()),Z=Z.parentNode,de=Oe(Z,ce);return te.length===0}function Oe(Z,te){var ce=Z.nodeName,de=Z.getAttribute("class"),Pe=Z.getAttribute("id"),ke,We;if(ke=new RegExp("^"+ce,"i"),te=te.replace(ke,""),Pe&&te.length&&(ke=new RegExp("#"+Pe+"(?![a-zA-Z\\-]+)","i"),te=te.replace(ke,"")),de&&te.length)for(de=de.split(" "),We=de.length;We--;)ke=new RegExp("\\."+de[We]+"(?![a-zA-Z\\-]+)","i"),te=te.replace(ke,"");return te.length===0}function _e(Z,te){var ce;if(Z.getElementById&&(ce=Z.getElementById(te)),ce)return ce;var de,Pe,ke,We=Z.getElementsByTagName("*");for(Pe=0,ke=We.length;Pe<ke;Pe++)if(de=We[Pe],te===de.getAttribute("id"))return de}function fe(Z){for(var te=re(Z,["use","svg:use"]),ce=0;te.length&&ce<te.length;){var de=te[ce],Pe=de.getAttribute("xlink:href")||de.getAttribute("href");if(Pe===null)return;var ke=Pe.substr(1),We=de.getAttribute("x")||0,pe=de.getAttribute("y")||0,Te=_e(Z,ke).cloneNode(!0),ge=(Te.getAttribute("transform")||"")+" translate("+We+", "+pe+")",ue,Se=te.length,Ce,Ee,Re,Ke,ht=l.svgNS;if(he(Te),/^svg$/i.test(Te.nodeName)){var ft=Te.ownerDocument.createElementNS(ht,"g");for(Ee=0,Re=Te.attributes,Ke=Re.length;Ee<Ke;Ee++)Ce=Re.item(Ee),ft.setAttributeNS(ht,Ce.nodeName,Ce.nodeValue);for(;Te.firstChild;)ft.appendChild(Te.firstChild);Te=ft}for(Ee=0,Re=de.attributes,Ke=Re.length;Ee<Ke;Ee++)Ce=Re.item(Ee),!(Ce.nodeName==="x"||Ce.nodeName==="y"||Ce.nodeName==="xlink:href"||Ce.nodeName==="href")&&(Ce.nodeName==="transform"?ge=Ce.nodeValue+" "+ge:Te.setAttribute(Ce.nodeName,Ce.nodeValue));Te.setAttribute("transform",ge),Te.setAttribute("instantiated_by_use","1"),Te.removeAttribute("id"),ue=de.parentNode,ue.replaceChild(Te,de),te.length===Se&&ce++}}var J=new RegExp("^\\s*("+l.reNum+"+)\\s*,?\\s*("+l.reNum+"+)\\s*,?\\s*("+l.reNum+"+)\\s*,?\\s*("+l.reNum+"+)\\s*$");function he(Z){if(!l.svgViewBoxElementsRegEx.test(Z.nodeName))return{};var te=Z.getAttribute("viewBox"),ce=1,de=1,Pe=0,ke=0,We,pe,Te,ge,ue=Z.getAttribute("width"),Se=Z.getAttribute("height"),Ce=Z.getAttribute("x")||0,Ee=Z.getAttribute("y")||0,Re=Z.getAttribute("preserveAspectRatio")||"",Ke=!te||!(te=te.match(J)),ht=!ue||!Se||ue==="100%"||Se==="100%",ft=Ke&&ht,Be={},vt="",bt=0,Lt=0;if(Be.width=0,Be.height=0,Be.toBeParsed=ft,Ke&&(Ce||Ee)&&Z.parentNode&&Z.parentNode.nodeName!=="#document"&&(vt=" translate("+p(Ce)+" "+p(Ee)+") ",Te=(Z.getAttribute("transform")||"")+vt,Z.setAttribute("transform",Te),Z.removeAttribute("x"),Z.removeAttribute("y")),ft)return Be;if(Ke)return Be.width=p(ue),Be.height=p(Se),Be;if(Pe=-parseFloat(te[1]),ke=-parseFloat(te[2]),We=parseFloat(te[3]),pe=parseFloat(te[4]),Be.minX=Pe,Be.minY=ke,Be.viewBoxWidth=We,Be.viewBoxHeight=pe,ht?(Be.width=We,Be.height=pe):(Be.width=p(ue),Be.height=p(Se),ce=Be.width/We,de=Be.height/pe),Re=l.util.parsePreserveAspectRatioAttribute(Re),Re.alignX!=="none"&&(Re.meetOrSlice==="meet"&&(de=ce=ce>de?de:ce),Re.meetOrSlice==="slice"&&(de=ce=ce>de?ce:de),bt=Be.width-We*ce,Lt=Be.height-pe*ce,Re.alignX==="Mid"&&(bt/=2),Re.alignY==="Mid"&&(Lt/=2),Re.alignX==="Min"&&(bt=0),Re.alignY==="Min"&&(Lt=0)),ce===1&&de===1&&Pe===0&&ke===0&&Ce===0&&Ee===0)return Be;if((Ce||Ee)&&Z.parentNode.nodeName!=="#document"&&(vt=" translate("+p(Ce)+" "+p(Ee)+") "),Te=vt+" matrix("+ce+" 0 0 "+de+" "+(Pe*ce+bt)+" "+(ke*de+Lt)+") ",Z.nodeName==="svg"){for(ge=Z.ownerDocument.createElementNS(l.svgNS,"g");Z.firstChild;)ge.appendChild(Z.firstChild);Z.appendChild(ge)}else ge=Z,ge.removeAttribute("x"),ge.removeAttribute("y"),Te=ge.getAttribute("transform")+Te;return ge.setAttribute("transform",Te),Be}function ne(Z,te){for(;Z&&(Z=Z.parentNode);)if(Z.nodeName&&te.test(Z.nodeName.replace("svg:",""))&&!Z.getAttribute("instantiated_by_use"))return!0;return!1}l.parseSVGDocument=function(Z,te,ce,de){if(Z){fe(Z);var Pe=l.Object.__uid++,ke,We,pe=he(Z),Te=l.util.toArray(Z.getElementsByTagName("*"));if(pe.crossOrigin=de&&de.crossOrigin,pe.svgUid=Pe,Te.length===0&&l.isLikelyNode){Te=Z.selectNodes('//*[name(.)!="svg"]');var ge=[];for(ke=0,We=Te.length;ke<We;ke++)ge[ke]=Te[ke];Te=ge}var ue=Te.filter(function(Ce){return he(Ce),l.svgValidTagNamesRegEx.test(Ce.nodeName.replace("svg:",""))&&!ne(Ce,l.svgInvalidAncestorsRegEx)});if(!ue||ue&&!ue.length){te&&te([],{});return}var Se={};Te.filter(function(Ce){return Ce.nodeName.replace("svg:","")==="clipPath"}).forEach(function(Ce){var Ee=Ce.getAttribute("id");Se[Ee]=l.util.toArray(Ce.getElementsByTagName("*")).filter(function(Re){return l.svgValidTagNamesRegEx.test(Re.nodeName.replace("svg:",""))})}),l.gradientDefs[Pe]=l.getGradientDefs(Z),l.cssRules[Pe]=l.getCSSRules(Z),l.clipPaths[Pe]=Se,l.parseElements(ue,function(Ce,Ee){te&&(te(Ce,pe,Ee,Te),delete l.gradientDefs[Pe],delete l.cssRules[Pe],delete l.clipPaths[Pe])},f(pe),ce,de)}};function q(Z,te){var ce=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],de="xlink:href",Pe=te.getAttribute(de).substr(1),ke=_e(Z,Pe);if(ke&&ke.getAttribute(de)&&q(Z,ke),ce.forEach(function(pe){ke&&!te.hasAttribute(pe)&&ke.hasAttribute(pe)&&te.setAttribute(pe,ke.getAttribute(pe))}),!te.children.length)for(var We=ke.cloneNode(!0);We.firstChild;)te.appendChild(We.firstChild);te.removeAttribute(de)}var ye=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+l.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+l.reNum+"))?\\s+(.*)");c(l,{parseFontDeclaration:function(Z,te){var ce=Z.match(ye);if(ce){var de=ce[1],Pe=ce[3],ke=ce[4],We=ce[5],pe=ce[6];de&&(te.fontStyle=de),Pe&&(te.fontWeight=isNaN(parseFloat(Pe))?Pe:parseFloat(Pe)),ke&&(te.fontSize=p(ke)),pe&&(te.fontFamily=pe),We&&(te.lineHeight=We==="normal"?1:We)}},getGradientDefs:function(Z){var te=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],ce=re(Z,te),de,Pe=0,ke={};for(Pe=ce.length;Pe--;)de=ce[Pe],de.getAttribute("xlink:href")&&q(Z,de),ke[de.getAttribute("id")]=de;return ke},parseAttributes:function(Z,te,ce){if(Z){var de,Pe={},ke,We;typeof ce>"u"&&(ce=Z.getAttribute("svgUid")),Z.parentNode&&l.svgValidParentsRegEx.test(Z.parentNode.nodeName)&&(Pe=l.parseAttributes(Z.parentNode,te,ce));var pe=te.reduce(function(Re,Ke){return de=Z.getAttribute(Ke),de&&(Re[Ke]=de),Re},{}),Te=c(ee(Z,ce),l.parseStyleAttribute(Z));pe=c(pe,Te),Te[N]&&Z.setAttribute(N,Te[N]),ke=We=Pe.fontSize||l.Text.DEFAULT_SVG_FONT_SIZE,pe[L]&&(pe[L]=ke=p(pe[L],We));var ge,ue,Se={};for(var Ce in pe)ge=F(Ce),ue=G(ge,pe[Ce],Pe,ke),Se[ge]=ue;Se&&Se.font&&l.parseFontDeclaration(Se.font,Se);var Ee=c(Pe,Se);return l.svgValidParentsRegEx.test(Z.nodeName)?Ee:$(Ee)}},parseElements:function(Z,te,ce,de,Pe){new l.ElementsParser(Z,te,ce,de,Pe).parse()},parseStyleAttribute:function(Z){var te={},ce=Z.getAttribute("style");return ce&&(typeof ce=="string"?le(ce,te):xe(ce,te)),te},parsePointsAttribute:function(Z){if(!Z)return null;Z=Z.replace(/,/g," ").trim(),Z=Z.split(/\s+/);var te=[],ce,de;for(ce=0,de=Z.length;ce<de;ce+=2)te.push({x:parseFloat(Z[ce]),y:parseFloat(Z[ce+1])});return te},getCSSRules:function(Z){var te=Z.getElementsByTagName("style"),ce,de,Pe={},ke;for(ce=0,de=te.length;ce<de;ce++){var We=te[ce].textContent;We=We.replace(/\/\*[\s\S]*?\*\//g,""),We.trim()!==""&&(ke=We.match(/[^{]*\{[\s\S]*?\}/g),ke=ke.map(function(pe){return pe.trim()}),ke.forEach(function(pe){var Te=pe.match(/([\s\S]*?)\s*\{([^}]*)\}/),ge={},ue=Te[2].trim(),Se=ue.replace(/;$/,"").split(/\s*;\s*/);for(ce=0,de=Se.length;ce<de;ce++){var Ce=Se[ce].split(/\s*:\s*/),Ee=Ce[0],Re=Ce[1];ge[Ee]=Re}pe=Te[1],pe.split(",").forEach(function(Ke){Ke=Ke.replace(/^svg/i,"").trim(),Ke!==""&&(Pe[Ke]?l.util.object.extend(Pe[Ke],ge):Pe[Ke]=l.util.object.clone(ge))})}))}return Pe},loadSVGFromURL:function(Z,te,ce,de){Z=Z.replace(/^\n\s*/,"").trim(),new l.util.request(Z,{method:"get",onComplete:Pe});function Pe(ke){var We=ke.responseXML;if(!We||!We.documentElement)return te&&te(null),!1;l.parseSVGDocument(We.documentElement,function(pe,Te,ge,ue){te&&te(pe,Te,ge,ue)},ce,de)}},loadSVGFromString:function(Z,te,ce,de){var Pe=new l.window.DOMParser,ke=Pe.parseFromString(Z.trim(),"text/xml");l.parseSVGDocument(ke.documentElement,function(We,pe,Te,ge){te(We,pe,Te,ge)},ce,de)}})}(m),d.ElementsParser=function(v,l,c,f,h,p){this.elements=v,this.callback=l,this.options=c,this.reviver=f,this.svgUid=c&&c.svgUid||0,this.parsingOptions=h,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=p},function(v){v.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},v.createObjects=function(){var l=this;this.elements.forEach(function(c,f){c.setAttribute("svgUid",l.svgUid),l.createObject(c,f)})},v.findTag=function(l){return d[d.util.string.capitalize(l.tagName.replace("svg:",""))]},v.createObject=function(l,c){var f=this.findTag(l);if(f&&f.fromElement)try{f.fromElement(l,this.createCallback(c,l),this.options)}catch(h){d.log(h)}else this.checkIfDone()},v.createCallback=function(l,c){var f=this;return function(h){var p;f.resolveGradient(h,c,"fill"),f.resolveGradient(h,c,"stroke"),h instanceof d.Image&&h._originalElement&&(p=h.parsePreserveAspectRatioAttribute(c)),h._removeTransformMatrix(p),f.resolveClipPath(h,c),f.reviver&&f.reviver(c,h),f.instances[l]=h,f.checkIfDone()}},v.extractPropertyDefinition=function(l,c,f){var h=l[c],p=this.regexUrl;if(p.test(h)){p.lastIndex=0;var g=p.exec(h)[1];return p.lastIndex=0,d[f][this.svgUid][g]}},v.resolveGradient=function(l,c,f){var h=this.extractPropertyDefinition(l,f,"gradientDefs");if(h){var p=c.getAttribute(f+"-opacity"),g=d.Gradient.fromElement(h,l,p,this.options);l.set(f,g)}},v.createClipPathCallback=function(l,c){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,c.push(f)}},v.resolveClipPath=function(l,c){var f=this.extractPropertyDefinition(l,"clipPath","clipPaths"),h,p,g,y,_,w;if(f){y=[],g=d.util.invertTransform(l.calcTransformMatrix());for(var T=f[0].parentNode,k=c;k.parentNode&&k.getAttribute("clip-path")!==l.clipPath;)k=k.parentNode;k.parentNode.appendChild(T);for(var P=0;P<f.length;P++)h=f[P],p=this.findTag(h),p.fromElement(h,this.createClipPathCallback(l,y),this.options);y.length===1?f=y[0]:f=new d.Group(y),_=d.util.multiplyTransformMatrices(g,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,k);var w=d.util.qrDecompose(_);f.flipX=!1,f.flipY=!1,f.set("scaleX",w.scaleX),f.set("scaleY",w.scaleY),f.angle=w.angle,f.skewX=w.skewX,f.skewY=0,f.setPositionByOrigin({x:w.translateX,y:w.translateY},"center","center"),l.clipPath=f}else delete l.clipPath},v.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(l){return l!=null}),this.callback(this.instances,this.elements))}}(d.ElementsParser.prototype),function(v){var l=v.fabric||(v.fabric={});if(l.Point){l.warn("fabric.Point is already defined");return}l.Point=c;function c(f,h){this.x=f,this.y=h}c.prototype={type:"point",constructor:c,add:function(f){return new c(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new c(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new c(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new c(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new c(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new c(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,h){return typeof h>"u"&&(h=.5),h=Math.max(Math.min(1,h),0),new c(this.x+(f.x-this.x)*h,this.y+(f.y-this.y)*h)},distanceFrom:function(f){var h=this.x-f.x,p=this.y-f.y;return Math.sqrt(h*h+p*p)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new c(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new c(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,h){return this.x=f,this.y=h,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var h=this.x,p=this.y;this.x=f.x,this.y=f.y,f.x=h,f.y=p},clone:function(){return new c(this.x,this.y)}}}(m),function(v){var l=v.fabric||(v.fabric={});if(l.Intersection){l.warn("fabric.Intersection is already defined");return}function c(f){this.status=f,this.points=[]}l.Intersection=c,l.Intersection.prototype={constructor:c,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},l.Intersection.intersectLineLine=function(f,h,p,g){var y,_=(g.x-p.x)*(f.y-p.y)-(g.y-p.y)*(f.x-p.x),w=(h.x-f.x)*(f.y-p.y)-(h.y-f.y)*(f.x-p.x),T=(g.y-p.y)*(h.x-f.x)-(g.x-p.x)*(h.y-f.y);if(T!==0){var k=_/T,P=w/T;0<=k&&k<=1&&0<=P&&P<=1?(y=new c("Intersection"),y.appendPoint(new l.Point(f.x+k*(h.x-f.x),f.y+k*(h.y-f.y)))):y=new c}else _===0||w===0?y=new c("Coincident"):y=new c("Parallel");return y},l.Intersection.intersectLinePolygon=function(f,h,p){var g=new c,y=p.length,_,w,T,k;for(k=0;k<y;k++)_=p[k],w=p[(k+1)%y],T=c.intersectLineLine(f,h,_,w),g.appendPoints(T.points);return g.points.length>0&&(g.status="Intersection"),g},l.Intersection.intersectPolygonPolygon=function(f,h){var p=new c,g=f.length,y;for(y=0;y<g;y++){var _=f[y],w=f[(y+1)%g],T=c.intersectLinePolygon(_,w,h);p.appendPoints(T.points)}return p.points.length>0&&(p.status="Intersection"),p},l.Intersection.intersectPolygonRectangle=function(f,h,p){var g=h.min(p),y=h.max(p),_=new l.Point(y.x,g.y),w=new l.Point(g.x,y.y),T=c.intersectLinePolygon(g,_,f),k=c.intersectLinePolygon(_,y,f),P=c.intersectLinePolygon(y,w,f),L=c.intersectLinePolygon(w,g,f),N=new c;return N.appendPoints(T.points),N.appendPoints(k.points),N.appendPoints(P.points),N.appendPoints(L.points),N.points.length>0&&(N.status="Intersection"),N}}(m),function(v){var l=v.fabric||(v.fabric={});if(l.Color){l.warn("fabric.Color is already defined.");return}function c(h){h?this._tryParsingColor(h):this.setSource([0,0,0,1])}l.Color=c,l.Color.prototype={_tryParsingColor:function(h){var p;h in c.colorNameMap&&(h=c.colorNameMap[h]),h==="transparent"&&(p=[255,255,255,0]),p||(p=c.sourceFromHex(h)),p||(p=c.sourceFromRgb(h)),p||(p=c.sourceFromHsl(h)),p||(p=[0,0,0,1]),p&&this.setSource(p)},_rgbToHsl:function(h,p,g){h/=255,p/=255,g/=255;var y,_,w,T=l.util.array.max([h,p,g]),k=l.util.array.min([h,p,g]);if(w=(T+k)/2,T===k)y=_=0;else{var P=T-k;switch(_=w>.5?P/(2-T-k):P/(T+k),T){case h:y=(p-g)/P+(p<g?6:0);break;case p:y=(g-h)/P+2;break;case g:y=(h-p)/P+4;break}y/=6}return[Math.round(y*360),Math.round(_*100),Math.round(w*100)]},getSource:function(){return this._source},setSource:function(h){this._source=h},toRgb:function(){var h=this.getSource();return"rgb("+h[0]+","+h[1]+","+h[2]+")"},toRgba:function(){var h=this.getSource();return"rgba("+h[0]+","+h[1]+","+h[2]+","+h[3]+")"},toHsl:function(){var h=this.getSource(),p=this._rgbToHsl(h[0],h[1],h[2]);return"hsl("+p[0]+","+p[1]+"%,"+p[2]+"%)"},toHsla:function(){var h=this.getSource(),p=this._rgbToHsl(h[0],h[1],h[2]);return"hsla("+p[0]+","+p[1]+"%,"+p[2]+"%,"+h[3]+")"},toHex:function(){var h=this.getSource(),p,g,y;return p=h[0].toString(16),p=p.length===1?"0"+p:p,g=h[1].toString(16),g=g.length===1?"0"+g:g,y=h[2].toString(16),y=y.length===1?"0"+y:y,p.toUpperCase()+g.toUpperCase()+y.toUpperCase()},toHexa:function(){var h=this.getSource(),p;return p=Math.round(h[3]*255),p=p.toString(16),p=p.length===1?"0"+p:p,this.toHex()+p.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(h){var p=this.getSource();return p[3]=h,this.setSource(p),this},toGrayscale:function(){var h=this.getSource(),p=parseInt((h[0]*.3+h[1]*.59+h[2]*.11).toFixed(0),10),g=h[3];return this.setSource([p,p,p,g]),this},toBlackWhite:function(h){var p=this.getSource(),g=(p[0]*.3+p[1]*.59+p[2]*.11).toFixed(0),y=p[3];return h=h||127,g=Number(g)<Number(h)?0:255,this.setSource([g,g,g,y]),this},overlayWith:function(h){h instanceof c||(h=new c(h));var p=[],g=this.getAlpha(),y=.5,_=this.getSource(),w=h.getSource(),T;for(T=0;T<3;T++)p.push(Math.round(_[T]*(1-y)+w[T]*y));return p[3]=g,this.setSource(p),this}},l.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,l.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,l.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,l.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(h,p,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?h+(p-h)*6*g:g<.5?p:g<.6666666666666666?h+(p-h)*(.6666666666666666-g)*6:h}l.Color.fromRgb=function(h){return c.fromSource(c.sourceFromRgb(h))},l.Color.sourceFromRgb=function(h){var p=h.match(c.reRGBa);if(p){var g=parseInt(p[1],10)/(/%$/.test(p[1])?100:1)*(/%$/.test(p[1])?255:1),y=parseInt(p[2],10)/(/%$/.test(p[2])?100:1)*(/%$/.test(p[2])?255:1),_=parseInt(p[3],10)/(/%$/.test(p[3])?100:1)*(/%$/.test(p[3])?255:1);return[parseInt(g,10),parseInt(y,10),parseInt(_,10),p[4]?parseFloat(p[4]):1]}},l.Color.fromRgba=c.fromRgb,l.Color.fromHsl=function(h){return c.fromSource(c.sourceFromHsl(h))},l.Color.sourceFromHsl=function(h){var p=h.match(c.reHSLa);if(p){var g=(parseFloat(p[1])%360+360)%360/360,y=parseFloat(p[2])/(/%$/.test(p[2])?100:1),_=parseFloat(p[3])/(/%$/.test(p[3])?100:1),w,T,k;if(y===0)w=T=k=_;else{var P=_<=.5?_*(y+1):_+y-_*y,L=_*2-P;w=f(L,P,g+.3333333333333333),T=f(L,P,g),k=f(L,P,g-.3333333333333333)}return[Math.round(w*255),Math.round(T*255),Math.round(k*255),p[4]?parseFloat(p[4]):1]}},l.Color.fromHsla=c.fromHsl,l.Color.fromHex=function(h){return c.fromSource(c.sourceFromHex(h))},l.Color.sourceFromHex=function(h){if(h.match(c.reHex)){var p=h.slice(h.indexOf("#")+1),g=p.length===3||p.length===4,y=p.length===8||p.length===4,_=g?p.charAt(0)+p.charAt(0):p.substring(0,2),w=g?p.charAt(1)+p.charAt(1):p.substring(2,4),T=g?p.charAt(2)+p.charAt(2):p.substring(4,6),k=y?g?p.charAt(3)+p.charAt(3):p.substring(6,8):"FF";return[parseInt(_,16),parseInt(w,16),parseInt(T,16),parseFloat((parseInt(k,16)/255).toFixed(2))]}},l.Color.fromSource=function(h){var p=new c;return p.setSource(h),p}}(m),function(v){var l=v.fabric||(v.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],h={},p="left",g="top",y="right",_="bottom",w="center",T={top:_,bottom:g,left:y,right:p,center:w},k=l.util.radiansToDegrees,P=Math.sign||function(ge){return(ge>0)-(ge<0)||+ge};function L(ge,ue){var Se=ge.angle+k(Math.atan2(ue.y,ue.x))+360;return Math.round(Se%360/45)}function N(ge,ue){var Se=ue.transform.target,Ce=Se.canvas,Ee=l.util.object.clone(ue);Ee.target=Se,Ce&&Ce.fire("object:"+ge,Ee),Se.fire(ge,ue)}function F(ge,ue){var Se=ue.canvas,Ce=Se.uniScaleKey,Ee=ge[Ce];return Se.uniformScaling&&!Ee||!Se.uniformScaling&&Ee}function G(ge){return ge.originX===w&&ge.originY===w}function H(ge,ue,Se){var Ce=ge.lockScalingX,Ee=ge.lockScalingY;return!!(Ce&&Ee||!ue&&(Ce||Ee)&&Se||Ce&&ue==="x"||Ee&&ue==="y")}function $(ge,ue,Se){var Ce="not-allowed",Ee=F(ge,Se),Re="";if(ue.x!==0&&ue.y===0?Re="x":ue.x===0&&ue.y!==0&&(Re="y"),H(Se,Re,Ee))return Ce;var Ke=L(Se,ue);return c[Ke]+"-resize"}function re(ge,ue,Se){var Ce="not-allowed";if(ue.x!==0&&Se.lockSkewingY||ue.y!==0&&Se.lockSkewingX)return Ce;var Ee=L(Se,ue)%4;return f[Ee]+"-resize"}function le(ge,ue,Se){return ge[Se.canvas.altActionKey]?h.skewCursorStyleHandler(ge,ue,Se):h.scaleCursorStyleHandler(ge,ue,Se)}function xe(ge,ue,Se){var Ce=ge[Se.canvas.altActionKey];if(ue.x===0)return Ce?"skewX":"scaleY";if(ue.y===0)return Ce?"skewY":"scaleX"}function ee(ge,ue,Se){return Se.lockRotation?"not-allowed":ue.cursorStyle}function be(ge,ue,Se,Ce){return{e:ge,transform:ue,pointer:{x:Se,y:Ce}}}function K(ge){return function(ue,Se,Ce,Ee){var Re=Se.target,Ke=Re.getCenterPoint(),ht=Re.translateToOriginPoint(Ke,Se.originX,Se.originY),ft=ge(ue,Se,Ce,Ee);return Re.setPositionByOrigin(ht,Se.originX,Se.originY),ft}}function Oe(ge,ue){return function(Se,Ce,Ee,Re){var Ke=ue(Se,Ce,Ee,Re);return Ke&&N(ge,be(Se,Ce,Ee,Re)),Ke}}function _e(ge,ue,Se,Ce,Ee){var Re=ge.target,Ke=Re.controls[ge.corner],ht=Re.canvas.getZoom(),ft=Re.padding/ht,Be=Re.toLocalPoint(new l.Point(Ce,Ee),ue,Se);return Be.x>=ft&&(Be.x-=ft),Be.x<=-ft&&(Be.x+=ft),Be.y>=ft&&(Be.y-=ft),Be.y<=ft&&(Be.y+=ft),Be.x-=Ke.offsetX,Be.y-=Ke.offsetY,Be}function fe(ge){return ge.flipX!==ge.flipY}function J(ge,ue,Se,Ce,Ee){if(ge[ue]!==0){var Re=ge._getTransformedDimensions()[Ce],Ke=Ee/Re*ge[Se];ge.set(Se,Ke)}}function he(ge,ue,Se,Ce){var Ee=ue.target,Re=Ee._getTransformedDimensions(0,Ee.skewY),Ke=_e(ue,ue.originX,ue.originY,Se,Ce),ht=Math.abs(Ke.x*2)-Re.x,ft=Ee.skewX,Be;ht<2?Be=0:(Be=k(Math.atan2(ht/Ee.scaleX,Re.y/Ee.scaleY)),ue.originX===p&&ue.originY===_&&(Be=-Be),ue.originX===y&&ue.originY===g&&(Be=-Be),fe(Ee)&&(Be=-Be));var vt=ft!==Be;if(vt){var bt=Ee._getTransformedDimensions().y;Ee.set("skewX",Be),J(Ee,"skewY","scaleY","y",bt)}return vt}function ne(ge,ue,Se,Ce){var Ee=ue.target,Re=Ee._getTransformedDimensions(Ee.skewX,0),Ke=_e(ue,ue.originX,ue.originY,Se,Ce),ht=Math.abs(Ke.y*2)-Re.y,ft=Ee.skewY,Be;ht<2?Be=0:(Be=k(Math.atan2(ht/Ee.scaleY,Re.x/Ee.scaleX)),ue.originX===p&&ue.originY===_&&(Be=-Be),ue.originX===y&&ue.originY===g&&(Be=-Be),fe(Ee)&&(Be=-Be));var vt=ft!==Be;if(vt){var bt=Ee._getTransformedDimensions().x;Ee.set("skewY",Be),J(Ee,"skewX","scaleX","x",bt)}return vt}function q(ge,ue,Se,Ce){var Ee=ue.target,Re=Ee.skewX,Ke,ht=ue.originY;if(Ee.lockSkewingX)return!1;if(Re===0){var ft=_e(ue,w,w,Se,Ce);ft.x>0?Ke=p:Ke=y}else Re>0&&(Ke=ht===g?p:y),Re<0&&(Ke=ht===g?y:p),fe(Ee)&&(Ke=Ke===p?y:p);ue.originX=Ke;var Be=Oe("skewing",K(he));return Be(ge,ue,Se,Ce)}function ye(ge,ue,Se,Ce){var Ee=ue.target,Re=Ee.skewY,Ke,ht=ue.originX;if(Ee.lockSkewingY)return!1;if(Re===0){var ft=_e(ue,w,w,Se,Ce);ft.y>0?Ke=g:Ke=_}else Re>0&&(Ke=ht===p?g:_),Re<0&&(Ke=ht===p?_:g),fe(Ee)&&(Ke=Ke===g?_:g);ue.originY=Ke;var Be=Oe("skewing",K(ne));return Be(ge,ue,Se,Ce)}function Z(ge,ue,Se,Ce){var Ee=ue,Re=Ee.target,Ke=Re.translateToOriginPoint(Re.getCenterPoint(),Ee.originX,Ee.originY);if(Re.lockRotation)return!1;var ht=Math.atan2(Ee.ey-Ke.y,Ee.ex-Ke.x),ft=Math.atan2(Ce-Ke.y,Se-Ke.x),Be=k(ft-ht+Ee.theta),vt=!0;if(Re.snapAngle>0){var bt=Re.snapAngle,Lt=Re.snapThreshold||bt,fn=Math.ceil(Be/bt)*bt,lt=Math.floor(Be/bt)*bt;Math.abs(Be-lt)<Lt?Be=lt:Math.abs(Be-fn)<Lt&&(Be=fn)}return Be<0&&(Be=360+Be),Be%=360,vt=Re.angle!==Be,Re.angle=Be,vt}function te(ge,ue,Se,Ce,Ee){Ee=Ee||{};var Re=ue.target,Ke=Re.lockScalingX,ht=Re.lockScalingY,ft=Ee.by,Be,vt,bt,Lt,fn=F(ge,Re),lt=H(Re,ft,fn),wt,yt,xt=ue.gestureScale;if(lt)return!1;if(xt)vt=ue.scaleX*xt,bt=ue.scaleY*xt;else{if(Be=_e(ue,ue.originX,ue.originY,Se,Ce),wt=ft!=="y"?P(Be.x):1,yt=ft!=="x"?P(Be.y):1,ue.signX||(ue.signX=wt),ue.signY||(ue.signY=yt),Re.lockScalingFlip&&(ue.signX!==wt||ue.signY!==yt))return!1;if(Lt=Re._getTransformedDimensions(),fn&&!ft){var Ht=Math.abs(Be.x)+Math.abs(Be.y),Sn=ue.original,He=Math.abs(Lt.x*Sn.scaleX/Re.scaleX)+Math.abs(Lt.y*Sn.scaleY/Re.scaleY),Xe=Ht/He;vt=Sn.scaleX*Xe,bt=Sn.scaleY*Xe}else vt=Math.abs(Be.x*Re.scaleX/Lt.x),bt=Math.abs(Be.y*Re.scaleY/Lt.y);G(ue)&&(vt*=2,bt*=2),ue.signX!==wt&&ft!=="y"&&(ue.originX=T[ue.originX],vt*=-1,ue.signX=wt),ue.signY!==yt&&ft!=="x"&&(ue.originY=T[ue.originY],bt*=-1,ue.signY=yt)}var st=Re.scaleX,mt=Re.scaleY;return ft?(ft==="x"&&Re.set("scaleX",vt),ft==="y"&&Re.set("scaleY",bt)):(!Ke&&Re.set("scaleX",vt),!ht&&Re.set("scaleY",bt)),st!==Re.scaleX||mt!==Re.scaleY}function ce(ge,ue,Se,Ce){return te(ge,ue,Se,Ce)}function de(ge,ue,Se,Ce){return te(ge,ue,Se,Ce,{by:"x"})}function Pe(ge,ue,Se,Ce){return te(ge,ue,Se,Ce,{by:"y"})}function ke(ge,ue,Se,Ce){return ge[ue.target.canvas.altActionKey]?h.skewHandlerX(ge,ue,Se,Ce):h.scalingY(ge,ue,Se,Ce)}function We(ge,ue,Se,Ce){return ge[ue.target.canvas.altActionKey]?h.skewHandlerY(ge,ue,Se,Ce):h.scalingX(ge,ue,Se,Ce)}function pe(ge,ue,Se,Ce){var Ee=ue.target,Re=_e(ue,ue.originX,ue.originY,Se,Ce),Ke=Ee.strokeWidth/(Ee.strokeUniform?Ee.scaleX:1),ht=G(ue)?2:1,ft=Ee.width,Be=Math.abs(Re.x*ht/Ee.scaleX)-Ke;return Ee.set("width",Math.max(Be,0)),ft!==Be}function Te(ge,ue,Se,Ce){var Ee=ue.target,Re=Se-ue.offsetX,Ke=Ce-ue.offsetY,ht=!Ee.get("lockMovementX")&&Ee.left!==Re,ft=!Ee.get("lockMovementY")&&Ee.top!==Ke;return ht&&Ee.set("left",Re),ft&&Ee.set("top",Ke),(ht||ft)&&N("moving",be(ge,ue,Se,Ce)),ht||ft}h.scaleCursorStyleHandler=$,h.skewCursorStyleHandler=re,h.scaleSkewCursorStyleHandler=le,h.rotationWithSnapping=Oe("rotating",K(Z)),h.scalingEqually=Oe("scaling",K(ce)),h.scalingX=Oe("scaling",K(de)),h.scalingY=Oe("scaling",K(Pe)),h.scalingYOrSkewingX=ke,h.scalingXOrSkewingY=We,h.changeWidth=Oe("resizing",K(pe)),h.skewHandlerX=q,h.skewHandlerY=ye,h.dragHandler=Te,h.scaleOrSkewActionName=xe,h.rotationStyleHandler=ee,h.fireEvent=N,h.wrapWithFixedAnchor=K,h.wrapWithFireEvent=Oe,h.getLocalPoint=_e,l.controlsUtils=h}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.degreesToRadians,f=l.controlsUtils;function h(g,y,_,w,T){w=w||{};var k=this.sizeX||w.cornerSize||T.cornerSize,P=this.sizeY||w.cornerSize||T.cornerSize,L=typeof w.transparentCorners<"u"?w.transparentCorners:T.transparentCorners,N=L?"stroke":"fill",F=!L&&(w.cornerStrokeColor||T.cornerStrokeColor),G=y,H=_,$;g.save(),g.fillStyle=w.cornerColor||T.cornerColor,g.strokeStyle=w.cornerStrokeColor||T.cornerStrokeColor,k>P?($=k,g.scale(1,P/k),H=_*k/P):P>k?($=P,g.scale(k/P,1),G=y*P/k):$=k,g.lineWidth=1,g.beginPath(),g.arc(G,H,$/2,0,2*Math.PI,!1),g[N](),F&&g.stroke(),g.restore()}function p(g,y,_,w,T){w=w||{};var k=this.sizeX||w.cornerSize||T.cornerSize,P=this.sizeY||w.cornerSize||T.cornerSize,L=typeof w.transparentCorners<"u"?w.transparentCorners:T.transparentCorners,N=L?"stroke":"fill",F=!L&&(w.cornerStrokeColor||T.cornerStrokeColor),G=k/2,H=P/2;g.save(),g.fillStyle=w.cornerColor||T.cornerColor,g.strokeStyle=w.cornerStrokeColor||T.cornerStrokeColor,g.lineWidth=1,g.translate(y,_),g.rotate(c(T.angle)),g[N+"Rect"](-G,-H,k,P),F&&g.strokeRect(-G,-H,k,P),g.restore()}f.renderCircleControl=h,f.renderSquareControl=p}(m),function(v){var l=v.fabric||(v.fabric={});function c(f){for(var h in f)this[h]=f[h]}l.Control=c,l.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,h){return h.cursorStyle},getActionName:function(f,h){return h.actionName},getVisibility:function(f,h){var p=f._controlsVisibility;return p&&typeof p[h]<"u"?p[h]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,h){var p=l.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},h);return p},calcCornerCoords:function(f,h,p,g,y){var _,w,T,k,P=y?this.touchSizeX:this.sizeX,L=y?this.touchSizeY:this.sizeY;if(P&&L&&P!==L){var N=Math.atan2(L,P),F=Math.sqrt(P*P+L*L)/2,G=N-l.util.degreesToRadians(f),H=Math.PI/2-N-l.util.degreesToRadians(f);_=F*l.util.cos(G),w=F*l.util.sin(G),T=F*l.util.cos(H),k=F*l.util.sin(H)}else{var $=P&&L?P:h;F=$*.7071067812;var G=l.util.degreesToRadians(45-f);_=T=F*l.util.cos(G),w=k=F*l.util.sin(G)}return{tl:{x:p-k,y:g-T},tr:{x:p+_,y:g-w},bl:{x:p-_,y:g+w},br:{x:p+k,y:g+T}}},render:function(f,h,p,g,y){switch(g=g||{},g.cornerStyle||y.cornerStyle){case"circle":l.controlsUtils.renderCircleControl.call(this,f,h,p,g,y);break;default:l.controlsUtils.renderSquareControl.call(this,f,h,p,g,y)}}}}(m),function(){function v(p,g){var y=p.getAttribute("style"),_=p.getAttribute("offset")||0,w,T,k,P;if(_=parseFloat(_)/(/%$/.test(_)?100:1),_=_<0?0:_>1?1:_,y){var L=y.split(/\s*;\s*/);for(L[L.length-1]===""&&L.pop(),P=L.length;P--;){var N=L[P].split(/\s*:\s*/),F=N[0].trim(),G=N[1].trim();F==="stop-color"?w=G:F==="stop-opacity"&&(k=G)}}return w||(w=p.getAttribute("stop-color")||"rgb(0,0,0)"),k||(k=p.getAttribute("stop-opacity")),w=new d.Color(w),T=w.getAlpha(),k=isNaN(parseFloat(k))?1:parseFloat(k),k*=T*g,{offset:_,color:w.toRgb(),opacity:k}}function l(p){return{x1:p.getAttribute("x1")||0,y1:p.getAttribute("y1")||0,x2:p.getAttribute("x2")||"100%",y2:p.getAttribute("y2")||0}}function c(p){return{x1:p.getAttribute("fx")||p.getAttribute("cx")||"50%",y1:p.getAttribute("fy")||p.getAttribute("cy")||"50%",r1:0,x2:p.getAttribute("cx")||"50%",y2:p.getAttribute("cy")||"50%",r2:p.getAttribute("r")||"50%"}}var f=d.util.object.clone;d.Gradient=d.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(p){p||(p={}),p.coords||(p.coords={});var g,y=this;Object.keys(p).forEach(function(_){y[_]=p[_]}),this.id?this.id+="_"+d.Object.__uid++:this.id=d.Object.__uid++,g={x1:p.coords.x1||0,y1:p.coords.y1||0,x2:p.coords.x2||0,y2:p.coords.y2||0},this.type==="radial"&&(g.r1=p.coords.r1||0,g.r2=p.coords.r2||0),this.coords=g,this.colorStops=p.colorStops.slice()},addColorStop:function(p){for(var g in p){var y=new d.Color(p[g]);this.colorStops.push({offset:parseFloat(g),color:y.toRgb(),opacity:y.getAlpha()})}return this},toObject:function(p){var g={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return d.util.populateWithProperties(this,g,p),g},toSVG:function(p,T){var y=f(this.coords,!0),_,w,T=T||{},k,P,L=f(this.colorStops,!0),N=y.r1>y.r2,F=this.gradientTransform?this.gradientTransform.concat():d.iMatrix.concat(),G=-this.offsetX,H=-this.offsetY,$=!!T.additionalTransform,re=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(L.sort(function(K,Oe){return K.offset-Oe.offset}),re==="objectBoundingBox"?(G/=p.width,H/=p.height):(G+=p.width/2,H+=p.height/2),p.type==="path"&&this.gradientUnits!=="percentage"&&(G-=p.pathOffset.x,H-=p.pathOffset.y),F[4]-=G,F[5]-=H,P='id="SVGID_'+this.id+'" gradientUnits="'+re+'"',P+=' gradientTransform="'+($?T.additionalTransform+" ":"")+d.util.matrixToSVG(F)+'" ',this.type==="linear"?k=["<linearGradient ",P,' x1="',y.x1,'" y1="',y.y1,'" x2="',y.x2,'" y2="',y.y2,`">
`]:this.type==="radial"&&(k=["<radialGradient ",P,' cx="',N?y.x1:y.x2,'" cy="',N?y.y1:y.y2,'" r="',N?y.r1:y.r2,'" fx="',N?y.x2:y.x1,'" fy="',N?y.y2:y.y1,`">
`]),this.type==="radial"){if(N)for(L=L.concat(),L.reverse(),_=0,w=L.length;_<w;_++)L[_].offset=1-L[_].offset;var le=Math.min(y.r1,y.r2);if(le>0){var xe=Math.max(y.r1,y.r2),ee=le/xe;for(_=0,w=L.length;_<w;_++)L[_].offset+=ee*(1-L[_].offset)}}for(_=0,w=L.length;_<w;_++){var be=L[_];k.push("<stop ",'offset="',be.offset*100+"%",'" style="stop-color:',be.color,typeof be.opacity<"u"?";stop-opacity: "+be.opacity:";",`"/>
`)}return k.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),k.join("")},toLive:function(p){var g,y=d.util.object.clone(this.coords),_,w;if(this.type){for(this.type==="linear"?g=p.createLinearGradient(y.x1,y.y1,y.x2,y.y2):this.type==="radial"&&(g=p.createRadialGradient(y.x1,y.y1,y.r1,y.x2,y.y2,y.r2)),_=0,w=this.colorStops.length;_<w;_++){var T=this.colorStops[_].color,k=this.colorStops[_].opacity,P=this.colorStops[_].offset;typeof k<"u"&&(T=new d.Color(T).setAlpha(k).toRgba()),g.addColorStop(P,T)}return g}}}),d.util.object.extend(d.Gradient,{fromElement:function(p,g,y,_){var w=parseFloat(y)/(/%$/.test(y)?100:1);w=w<0?0:w>1?1:w,isNaN(w)&&(w=1);var T=p.getElementsByTagName("stop"),k,P=p.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",L=p.getAttribute("gradientTransform")||"",N=[],F,G,H=0,$=0,re;for(p.nodeName==="linearGradient"||p.nodeName==="LINEARGRADIENT"?(k="linear",F=l(p)):(k="radial",F=c(p)),G=T.length;G--;)N.push(v(T[G],w));re=d.parseTransformAttribute(L),h(g,F,_,P),P==="pixels"&&(H=-g.left,$=-g.top);var le=new d.Gradient({id:p.getAttribute("id"),type:k,coords:F,colorStops:N,gradientUnits:P,gradientTransform:re,offsetX:H,offsetY:$});return le}});function h(p,g,y,_){var w,T;Object.keys(g).forEach(function(k){w=g[k],w==="Infinity"?T=1:w==="-Infinity"?T=0:(T=parseFloat(g[k],10),typeof w=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(w)&&(T*=.01,_==="pixels"&&((k==="x1"||k==="x2"||k==="r2")&&(T*=y.viewBoxWidth||y.width),(k==="y1"||k==="y2")&&(T*=y.viewBoxHeight||y.height)))),g[k]=T})}}(),function(){var v=d.util.toFixed;d.Pattern=d.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(l,c){if(l||(l={}),this.id=d.Object.__uid++,this.setOptions(l),!l.source||l.source&&typeof l.source!="string"){c&&c(this);return}else{var f=this;this.source=d.util.createImage(),d.util.loadImage(l.source,function(h,p){f.source=h,c&&c(f,p)},null,this.crossOrigin)}},toObject:function(l){var c=d.Object.NUM_FRACTION_DIGITS,f,h;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),h={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:v(this.offsetX,c),offsetY:v(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},d.util.populateWithProperties(this,h,l),h},toSVG:function(l){var c=typeof this.source=="function"?this.source():this.source,f=c.width/l.width,h=c.height/l.height,p=this.offsetX/l.width,g=this.offsetY/l.height,y="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(h=1,g&&(h+=Math.abs(g))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,p&&(f+=Math.abs(p))),c.src?y=c.src:c.toDataURL&&(y=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+p+'" y="'+g+'" width="'+f+'" height="'+h+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+y+`"></image>
</pattern>
`},setOptions:function(l){for(var c in l)this[c]=l[c]},toLive:function(l){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":l.createPattern(c,this.repeat)}})}(),function(v){var l=v.fabric||(v.fabric={}),c=l.util.toFixed;if(l.Shadow){l.warn("fabric.Shadow is already defined.");return}l.Shadow=l.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var h in f)this[h]=f[h];this.id=l.Object.__uid++},_parseShadow:function(f){var h=f.trim(),p=l.Shadow.reOffsetsAndBlur.exec(h)||[],g=h.replace(l.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:g.trim(),offsetX:parseFloat(p[1],10)||0,offsetY:parseFloat(p[2],10)||0,blur:parseFloat(p[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var h=40,p=40,g=l.Object.NUM_FRACTION_DIGITS,y=l.util.rotateVector({x:this.offsetX,y:this.offsetY},l.util.degreesToRadians(-f.angle)),_=20,w=new l.Color(this.color);return f.width&&f.height&&(h=c((Math.abs(y.x)+this.blur)/f.width,g)*100+_,p=c((Math.abs(y.y)+this.blur)/f.height,g)*100+_),f.flipX&&(y.x*=-1),f.flipY&&(y.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+p+'%" height="'+(100+2*p)+'%" x="-'+h+'%" width="'+(100+2*h)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,g)+`"></feGaussianBlur>
	<feOffset dx="`+c(y.x,g)+'" dy="'+c(y.y,g)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+w.toRgb()+'" flood-opacity="'+w.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},h=l.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(p){this[p]!==h[p]&&(f[p]=this[p])},this),f}}),l.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(m),function(){if(d.StaticCanvas){d.warn("fabric.StaticCanvas is already defined.");return}var v=d.util.object.extend,l=d.util.getElementOffset,c=d.util.removeFromArray,f=d.util.toFixed,h=d.util.transformPoint,p=d.util.invertTransform,g=d.util.getNodeCanvas,y=d.util.createCanvasElement,_=new Error("Could not initialize `canvas` element");d.StaticCanvas=d.util.createClass(d.CommonMethods,{initialize:function(w,T){T||(T={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(w,T)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:d.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(w,T){var k=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(w),this._initOptions(T),this.interactive||this._initRetinaScaling(),T.overlayImage&&this.setOverlayImage(T.overlayImage,k),T.backgroundImage&&this.setBackgroundImage(T.backgroundImage,k),T.backgroundColor&&this.setBackgroundColor(T.backgroundColor,k),T.overlayColor&&this.setOverlayColor(T.overlayColor,k),this.calcOffset()},_isRetinaScaling:function(){return d.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?d.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var w=d.devicePixelRatio;this.__initRetinaScaling(w,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(w,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(w,T,k){T.setAttribute("width",this.width*w),T.setAttribute("height",this.height*w),k.scale(w,w)},calcOffset:function(){return this._offset=l(this.lowerCanvasEl),this},setOverlayImage:function(w,T,k){return this.__setBgOverlayImage("overlayImage",w,T,k)},setBackgroundImage:function(w,T,k){return this.__setBgOverlayImage("backgroundImage",w,T,k)},setOverlayColor:function(w,T){return this.__setBgOverlayColor("overlayColor",w,T)},setBackgroundColor:function(w,T){return this.__setBgOverlayColor("backgroundColor",w,T)},__setBgOverlayImage:function(w,T,k,P){return typeof T=="string"?d.util.loadImage(T,function(L,N){if(L){var F=new d.Image(L,P);this[w]=F,F.canvas=this}k&&k(L,N)},this,P&&P.crossOrigin):(P&&T.setOptions(P),this[w]=T,T&&(T.canvas=this),k&&k(T,!1)),this},__setBgOverlayColor:function(w,T,k){return this[w]=T,this._initGradient(T,w),this._initPattern(T,w,k),this},_createCanvasElement:function(){var w=y();if(!w||(w.style||(w.style={}),typeof w.getContext>"u"))throw _;return w},_initOptions:function(w){var T=this.lowerCanvasEl;this._setOptions(w),this.width=this.width||parseInt(T.width,10)||0,this.height=this.height||parseInt(T.height,10)||0,this.lowerCanvasEl.style&&(T.width=this.width,T.height=this.height,T.style.width=this.width+"px",T.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(w){w&&w.getContext?this.lowerCanvasEl=w:this.lowerCanvasEl=d.util.getById(w)||this._createCanvasElement(),d.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(w,T){return this.setDimensions({width:w},T)},setHeight:function(w,T){return this.setDimensions({height:w},T)},setDimensions:function(w,T){var k;T=T||{};for(var P in w)k=w[P],T.cssOnly||(this._setBackstoreDimension(P,w[P]),k+="px",this.hasLostContext=!0),T.backstoreOnly||this._setCssDimension(P,k);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),T.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(w,T){return this.lowerCanvasEl[w]=T,this.upperCanvasEl&&(this.upperCanvasEl[w]=T),this.cacheCanvasEl&&(this.cacheCanvasEl[w]=T),this[w]=T,this},_setCssDimension:function(w,T){return this.lowerCanvasEl.style[w]=T,this.upperCanvasEl&&(this.upperCanvasEl.style[w]=T),this.wrapperEl&&(this.wrapperEl.style[w]=T),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(w){var T=this._activeObject,k=this.backgroundImage,P=this.overlayImage,L,N,F;for(this.viewportTransform=w,N=0,F=this._objects.length;N<F;N++)L=this._objects[N],L.group||L.setCoords(!0);return T&&T.setCoords(),k&&k.setCoords(!0),P&&P.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(w,T){var k=w,P=this.viewportTransform.slice(0);w=h(w,p(this.viewportTransform)),P[0]=T,P[3]=T;var L=h(w,P);return P[4]+=k.x-L.x,P[5]+=k.y-L.y,this.setViewportTransform(P)},setZoom:function(w){return this.zoomToPoint(new d.Point(0,0),w),this},absolutePan:function(w){var T=this.viewportTransform.slice(0);return T[4]=-w.x,T[5]=-w.y,this.setViewportTransform(T)},relativePan:function(w){return this.absolutePan(new d.Point(-w.x-this.viewportTransform[4],-w.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(w){this.stateful&&w.setupState(),w._set("canvas",this),w.setCoords(),this.fire("object:added",{target:w}),w.fire("added")},_onObjectRemoved:function(w){this.fire("object:removed",{target:w}),w.fire("removed"),delete w.canvas},clearContext:function(w){return w.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var w=this.contextContainer;return this.renderCanvas(w,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=d.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var w={},T=this.width,k=this.height,P=p(this.viewportTransform);return w.tl=h({x:0,y:0},P),w.br=h({x:T,y:k},P),w.tr=new d.Point(w.br.x,w.tl.y),w.bl=new d.Point(w.tl.x,w.br.y),this.vptCoords=w,w},cancelRequestedRender:function(){this.isRendering&&(d.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(w,T){var k=this.viewportTransform,P=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(w),d.util.setImageSmoothing(w,this.imageSmoothingEnabled),this.fire("before:render",{ctx:w}),this._renderBackground(w),w.save(),w.transform(k[0],k[1],k[2],k[3],k[4],k[5]),this._renderObjects(w,T),w.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(w),P&&(P.canvas=this,P.shouldCache(),P._transformDone=!0,P.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(w)),this._renderOverlay(w),this.controlsAboveOverlay&&this.interactive&&this.drawControls(w),this.fire("after:render",{ctx:w})},drawClipPathOnCanvas:function(w){var T=this.viewportTransform,k=this.clipPath;w.save(),w.transform(T[0],T[1],T[2],T[3],T[4],T[5]),w.globalCompositeOperation="destination-in",k.transform(w),w.scale(1/k.zoomX,1/k.zoomY),w.drawImage(k._cacheCanvas,-k.cacheTranslationX,-k.cacheTranslationY),w.restore()},_renderObjects:function(w,T){var k,P;for(k=0,P=T.length;k<P;++k)T[k]&&T[k].render(w)},_renderBackgroundOrOverlay:function(w,T){var k=this[T+"Color"],P=this[T+"Image"],L=this.viewportTransform,N=this[T+"Vpt"];if(!(!k&&!P)){if(k){w.save(),w.beginPath(),w.moveTo(0,0),w.lineTo(this.width,0),w.lineTo(this.width,this.height),w.lineTo(0,this.height),w.closePath(),w.fillStyle=k.toLive?k.toLive(w,this):k,N&&w.transform(L[0],L[1],L[2],L[3],L[4],L[5]),w.transform(1,0,0,1,k.offsetX||0,k.offsetY||0);var F=k.gradientTransform||k.patternTransform;F&&w.transform(F[0],F[1],F[2],F[3],F[4],F[5]),w.fill(),w.restore()}P&&(w.save(),N&&w.transform(L[0],L[1],L[2],L[3],L[4],L[5]),P.render(w),w.restore())}},_renderBackground:function(w){this._renderBackgroundOrOverlay(w,"background")},_renderOverlay:function(w){this._renderBackgroundOrOverlay(w,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(w){return this._centerObject(w,new d.Point(this.getCenter().left,w.getCenterPoint().y))},centerObjectV:function(w){return this._centerObject(w,new d.Point(w.getCenterPoint().x,this.getCenter().top))},centerObject:function(w){var T=this.getCenter();return this._centerObject(w,new d.Point(T.left,T.top))},viewportCenterObject:function(w){var T=this.getVpCenter();return this._centerObject(w,T)},viewportCenterObjectH:function(w){var T=this.getVpCenter();return this._centerObject(w,new d.Point(T.x,w.getCenterPoint().y)),this},viewportCenterObjectV:function(w){var T=this.getVpCenter();return this._centerObject(w,new d.Point(w.getCenterPoint().x,T.y))},getVpCenter:function(){var w=this.getCenter(),T=p(this.viewportTransform);return h({x:w.left,y:w.top},T)},_centerObject:function(w,T){return w.setPositionByOrigin(T,"center","center"),w.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(w){return this.toDatalessObject(w)},toObject:function(w){return this._toObjectMethod("toObject",w)},toDatalessObject:function(w){return this._toObjectMethod("toDatalessObject",w)},_toObjectMethod:function(w,T){var k=this.clipPath,P={version:d.version,objects:this._toObjects(w,T)};return k&&!k.excludeFromExport&&(P.clipPath=this._toObject(this.clipPath,w,T)),v(P,this.__serializeBgOverlay(w,T)),d.util.populateWithProperties(this,P,T),P},_toObjects:function(w,T){return this._objects.filter(function(k){return!k.excludeFromExport}).map(function(k){return this._toObject(k,w,T)},this)},_toObject:function(w,T,k){var P;this.includeDefaultValues||(P=w.includeDefaultValues,w.includeDefaultValues=!1);var L=w[T](k);return this.includeDefaultValues||(w.includeDefaultValues=P),L},__serializeBgOverlay:function(w,T){var k={},P=this.backgroundImage,L=this.overlayImage,N=this.backgroundColor,F=this.overlayColor;return N&&N.toObject?N.excludeFromExport||(k.background=N.toObject(T)):N&&(k.background=N),F&&F.toObject?F.excludeFromExport||(k.overlay=F.toObject(T)):F&&(k.overlay=F),P&&!P.excludeFromExport&&(k.backgroundImage=this._toObject(P,w,T)),L&&!L.excludeFromExport&&(k.overlayImage=this._toObject(L,w,T)),k},svgViewportTransformation:!0,toSVG:function(w,T){w||(w={}),w.reviver=T;var k=[];return this._setSVGPreamble(k,w),this._setSVGHeader(k,w),this.clipPath&&k.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(k,"background"),this._setSVGBgOverlayImage(k,"backgroundImage",T),this._setSVGObjects(k,T),this.clipPath&&k.push(`</g>
`),this._setSVGBgOverlayColor(k,"overlay"),this._setSVGBgOverlayImage(k,"overlayImage",T),k.push("</svg>"),k.join("")},_setSVGPreamble:function(w,T){T.suppressPreamble||w.push('<?xml version="1.0" encoding="',T.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(w,T){var k=T.width||this.width,P=T.height||this.height,L,N='viewBox="0 0 '+this.width+" "+this.height+'" ',F=d.Object.NUM_FRACTION_DIGITS;T.viewBox?N='viewBox="'+T.viewBox.x+" "+T.viewBox.y+" "+T.viewBox.width+" "+T.viewBox.height+'" ':this.svgViewportTransformation&&(L=this.viewportTransform,N='viewBox="'+f(-L[4]/L[0],F)+" "+f(-L[5]/L[3],F)+" "+f(this.width/L[0],F)+" "+f(this.height/L[3],F)+'" '),w.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',k,'" ','height="',P,'" ',N,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",d.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(T),`</defs>
`)},createSVGClipPathMarkup:function(w){var T=this.clipPath;return T?(T.clipPathId="CLIPPATH_"+d.Object.__uid++,'<clipPath id="'+T.clipPathId+`" >
`+this.clipPath.toClipPathSVG(w.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var w=this,T=["background","overlay"].map(function(k){var P=w[k+"Color"];if(P&&P.toLive){var L=w[k+"Vpt"],N=w.viewportTransform,F={width:w.width/(L?N[0]:1),height:w.height/(L?N[3]:1)};return P.toSVG(F,{additionalTransform:L?d.util.matrixToSVG(N):""})}});return T.join("")},createSVGFontFacesMarkup:function(){var w="",T={},k,P,L,N,F,G,H,$,re,le=d.fontPaths,xe=[];for(this._objects.forEach(function be(K){xe.push(K),K._objects&&K._objects.forEach(be)}),$=0,re=xe.length;$<re;$++)if(k=xe[$],P=k.fontFamily,!(k.type.indexOf("text")===-1||T[P]||!le[P])&&(T[P]=!0,!!k.styles)){L=k.styles;for(F in L){N=L[F];for(H in N)G=N[H],P=G.fontFamily,!T[P]&&le[P]&&(T[P]=!0)}}for(var ee in T)w+=[`		@font-face {
`,"			font-family: '",ee,`';
`,"			src: url('",le[ee],`');
`,`		}
`].join("");return w&&(w=['	<style type="text/css">',`<![CDATA[
`,w,"]]>",`</style>
`].join("")),w},_setSVGObjects:function(w,T){var k,P,L,N=this._objects;for(P=0,L=N.length;P<L;P++)k=N[P],!k.excludeFromExport&&this._setSVGObject(w,k,T)},_setSVGObject:function(w,T,k){w.push(T.toSVG(k))},_setSVGBgOverlayImage:function(w,T,k){this[T]&&!this[T].excludeFromExport&&this[T].toSVG&&w.push(this[T].toSVG(k))},_setSVGBgOverlayColor:function(w,T){var k=this[T+"Color"],P=this.viewportTransform,L=this.width,N=this.height;if(k)if(k.toLive){var F=k.repeat,G=d.util.invertTransform(P),H=this[T+"Vpt"],$=H?d.util.matrixToSVG(G):"";w.push('<rect transform="'+$+" translate(",L/2,",",N/2,')"',' x="',k.offsetX-L/2,'" y="',k.offsetY-N/2,'" ','width="',F==="repeat-y"||F==="no-repeat"?k.source.width:L,'" height="',F==="repeat-x"||F==="no-repeat"?k.source.height:N,'" fill="url(#SVGID_'+k.id+')"',`></rect>
`)}else w.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',k,'"',`></rect>
`)},sendToBack:function(w){if(!w)return this;var T=this._activeObject,k,P,L;if(w===T&&w.type==="activeSelection")for(L=T._objects,k=L.length;k--;)P=L[k],c(this._objects,P),this._objects.unshift(P);else c(this._objects,w),this._objects.unshift(w);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(w){if(!w)return this;var T=this._activeObject,k,P,L;if(w===T&&w.type==="activeSelection")for(L=T._objects,k=0;k<L.length;k++)P=L[k],c(this._objects,P),this._objects.push(P);else c(this._objects,w),this._objects.push(w);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(w,T){if(!w)return this;var k=this._activeObject,P,L,N,F,G,H=0;if(w===k&&w.type==="activeSelection")for(G=k._objects,P=0;P<G.length;P++)L=G[P],N=this._objects.indexOf(L),N>0+H&&(F=N-1,c(this._objects,L),this._objects.splice(F,0,L)),H++;else N=this._objects.indexOf(w),N!==0&&(F=this._findNewLowerIndex(w,N,T),c(this._objects,w),this._objects.splice(F,0,w));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(w,T,k){var P,L;if(k)for(P=T,L=T-1;L>=0;--L){var N=w.intersectsWithObject(this._objects[L])||w.isContainedWithinObject(this._objects[L])||this._objects[L].isContainedWithinObject(w);if(N){P=L;break}}else P=T-1;return P},bringForward:function(w,T){if(!w)return this;var k=this._activeObject,P,L,N,F,G,H=0;if(w===k&&w.type==="activeSelection")for(G=k._objects,P=G.length;P--;)L=G[P],N=this._objects.indexOf(L),N<this._objects.length-1-H&&(F=N+1,c(this._objects,L),this._objects.splice(F,0,L)),H++;else N=this._objects.indexOf(w),N!==this._objects.length-1&&(F=this._findNewUpperIndex(w,N,T),c(this._objects,w),this._objects.splice(F,0,w));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(w,T,k){var P,L,N;if(k)for(P=T,L=T+1,N=this._objects.length;L<N;++L){var F=w.intersectsWithObject(this._objects[L])||w.isContainedWithinObject(this._objects[L])||this._objects[L].isContainedWithinObject(w);if(F){P=L;break}}else P=T+1;return P},moveTo:function(w,T){return c(this._objects,w),this._objects.splice(T,0,w),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(d.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(w){w.dispose&&w.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),d.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),v(d.StaticCanvas.prototype,d.Observable),v(d.StaticCanvas.prototype,d.Collection),v(d.StaticCanvas.prototype,d.DataURLExporter),v(d.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(w){var T=y();if(!T||!T.getContext)return null;var k=T.getContext("2d");if(!k)return null;switch(w){case"setLineDash":return typeof k.setLineDash<"u";default:return null}}}),d.StaticCanvas.prototype.toJSON=d.StaticCanvas.prototype.toObject,d.isLikelyNode&&(d.StaticCanvas.prototype.createPNGStream=function(){var w=g(this.lowerCanvasEl);return w&&w.createPNGStream()},d.StaticCanvas.prototype.createJPEGStream=function(w){var T=g(this.lowerCanvasEl);return T&&T.createJPEGStream(w)})}(),d.BaseBrush=d.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var v=this.canvas.contextTop;v.strokeStyle=this.color,v.lineWidth=this.width,v.lineCap=this.strokeLineCap,v.miterLimit=this.strokeMiterLimit,v.lineJoin=this.strokeLineJoin,v.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(v){var l=this.canvas.viewportTransform;v.save(),v.transform(l[0],l[1],l[2],l[3],l[4],l[5])},_setShadow:function(){if(this.shadow){var v=this.canvas,l=this.shadow,c=v.contextTop,f=v.getZoom();v&&v._isRetinaScaling()&&(f*=d.devicePixelRatio),c.shadowColor=l.color,c.shadowBlur=l.blur*f,c.shadowOffsetX=l.offsetX*f,c.shadowOffsetY=l.offsetY*f}},needsFullRender:function(){var v=new d.Color(this.color);return v.getAlpha()<1||!!this.shadow},_resetShadow:function(){var v=this.canvas.contextTop;v.shadowColor="",v.shadowBlur=v.shadowOffsetX=v.shadowOffsetY=0},_isOutSideCanvas:function(v){return v.x<0||v.x>this.canvas.getWidth()||v.y<0||v.y>this.canvas.getHeight()}}),function(){d.PencilBrush=d.util.createClass(d.BaseBrush,{decimate:.4,initialize:function(v){this.canvas=v,this._points=[]},_drawSegment:function(v,l,c){var f=l.midPointFrom(c);return v.quadraticCurveTo(l.x,l.y,f.x,f.y),f},onMouseDown:function(v,l){this.canvas._isMainEvent(l.e)&&(this._prepareForDrawing(v),this._captureDrawingPath(v),this._render())},onMouseMove:function(v,l){if(this.canvas._isMainEvent(l.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(v))&&this._captureDrawingPath(v)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,f=c.length,h=this.canvas.contextTop;this._saveAndTransform(h),this.oldEnd&&(h.beginPath(),h.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(h,c[f-2],c[f-1],!0),h.stroke(),h.restore()}},onMouseUp:function(v){return this.canvas._isMainEvent(v.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(v){var l=new d.Point(v.x,v.y);this._reset(),this._addPoint(l),this.canvas.contextTop.moveTo(l.x,l.y)},_addPoint:function(v){return this._points.length>1&&v.eq(this._points[this._points.length-1])?!1:(this._points.push(v),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(v){var l=new d.Point(v.x,v.y);return this._addPoint(l)},_render:function(){var v=this.canvas.contextTop,l,c,f=this._points[0],h=this._points[1];if(this._saveAndTransform(v),v.beginPath(),this._points.length===2&&f.x===h.x&&f.y===h.y){var p=this.width/1e3;f=new d.Point(f.x,f.y),h=new d.Point(h.x,h.y),f.x-=p,h.x+=p}for(v.moveTo(f.x,f.y),l=1,c=this._points.length;l<c;l++)this._drawSegment(v,f,h),f=this._points[l],h=this._points[l+1];v.lineTo(f.x,f.y),v.stroke(),v.restore()},convertPointsToSVGPath:function(v){var l=this.width/1e3;return d.util.getSmoothPathFromPoints(v,l)},_isEmptySVGPath:function(v){var l=d.util.joinPath(v);return l==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(v){var l=new d.Path(v,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,l.shadow=new d.Shadow(this.shadow)),l},decimatePoints:function(v,l){if(v.length<=2)return v;var c=this.canvas.getZoom(),f=Math.pow(l/c,2),h,p=v.length-1,g=v[0],y=[g],_;for(h=1;h<p-1;h++)_=Math.pow(g.x-v[h].x,2)+Math.pow(g.y-v[h].y,2),_>=f&&(g=v[h],y.push(g));return y.push(v[p]),y},_finalizeAndAddPath:function(){var v=this.canvas.contextTop;v.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var l=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(l)){this.canvas.requestRenderAll();return}var c=this.createPath(l);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),d.CircleBrush=d.util.createClass(d.BaseBrush,{width:10,initialize:function(v){this.canvas=v,this.points=[]},drawDot:function(v){var l=this.addPoint(v),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,l),c.restore()},dot:function(v,l){v.fillStyle=l.fill,v.beginPath(),v.arc(l.x,l.y,l.radius,0,Math.PI*2,!1),v.closePath(),v.fill()},onMouseDown:function(v){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(v)},_render:function(){var v=this.canvas.contextTop,l,c,f=this.points;for(this._saveAndTransform(v),l=0,c=f.length;l<c;l++)this.dot(v,f[l]);v.restore()},onMouseMove:function(v){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(v)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(v),this._render()):this.drawDot(v))},onMouseUp:function(){var v=this.canvas.renderOnAddRemove,l,c;this.canvas.renderOnAddRemove=!1;var f=[];for(l=0,c=this.points.length;l<c;l++){var h=this.points[l],p=new d.Circle({radius:h.radius,left:h.x,top:h.y,originX:"center",originY:"center",fill:h.fill});this.shadow&&(p.shadow=new d.Shadow(this.shadow)),f.push(p)}var g=new d.Group(f);g.canvas=this.canvas,this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=v,this.canvas.requestRenderAll()},addPoint:function(v){var l=new d.Point(v.x,v.y),c=d.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new d.Color(this.color).setAlpha(d.util.getRandomInt(0,100)/100).toRgba();return l.radius=c,l.fill=f,this.points.push(l),l}}),d.SprayBrush=d.util.createClass(d.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(v){this.canvas=v,this.sprayChunks=[]},onMouseDown:function(v){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(v),this.render(this.sprayChunkPoints)},onMouseMove:function(v){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(v)||(this.addSprayChunk(v),this.render(this.sprayChunkPoints))},onMouseUp:function(){var v=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var l=[],c=0,f=this.sprayChunks.length;c<f;c++)for(var h=this.sprayChunks[c],p=0,g=h.length;p<g;p++){var y=new d.Rect({width:h[p].width,height:h[p].width,left:h[p].x+1,top:h[p].y+1,originX:"center",originY:"center",fill:this.color});l.push(y)}this.optimizeOverlapping&&(l=this._getOptimizedRects(l));var _=new d.Group(l);this.shadow&&_.set("shadow",new d.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:_}),this.canvas.add(_),this.canvas.fire("path:created",{path:_}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=v,this.canvas.requestRenderAll()},_getOptimizedRects:function(v){var l={},c,f,h;for(f=0,h=v.length;f<h;f++)c=v[f].left+""+v[f].top,l[c]||(l[c]=v[f]);var p=[];for(c in l)p.push(l[c]);return p},render:function(v){var l=this.canvas.contextTop,c,f;for(l.fillStyle=this.color,this._saveAndTransform(l),c=0,f=v.length;c<f;c++){var h=v[c];typeof h.opacity<"u"&&(l.globalAlpha=h.opacity),l.fillRect(h.x,h.y,h.width,h.width)}l.restore()},_render:function(){var v=this.canvas.contextTop,l,c;for(v.fillStyle=this.color,this._saveAndTransform(v),l=0,c=this.sprayChunks.length;l<c;l++)this.render(this.sprayChunks[l]);v.restore()},addSprayChunk:function(v){this.sprayChunkPoints=[];var l,c,f,h=this.width/2,p;for(p=0;p<this.density;p++){l=d.util.getRandomInt(v.x-h,v.x+h),c=d.util.getRandomInt(v.y-h,v.y+h),this.dotWidthVariance?f=d.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var g=new d.Point(l,c);g.width=f,this.randomOpacity&&(g.opacity=d.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(g)}this.sprayChunks.push(this.sprayChunkPoints)}}),d.PatternBrush=d.util.createClass(d.PencilBrush,{getPatternSrc:function(){var v=20,l=5,c=d.util.createCanvasElement(),f=c.getContext("2d");return c.width=c.height=v+l,f.fillStyle=this.color,f.beginPath(),f.arc(v/2,v/2,v/2,0,Math.PI*2,!1),f.closePath(),f.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(v){var l=this.callSuper("createPath",v),c=l._getLeftTopCoords().scalarAdd(l.strokeWidth/2);return l.stroke=new d.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),l}}),function(){var v=d.util.getPointer,l=d.util.degreesToRadians,c=d.util.isTouchEvent;d.Canvas=d.util.createClass(d.StaticCanvas,{initialize:function(h,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(h,p),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=d.PencilBrush&&new d.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var h=this.getActiveObjects(),p,g,y;if(h.length>0&&!this.preserveObjectStacking){g=[],y=[];for(var _=0,w=this._objects.length;_<w;_++)p=this._objects[_],h.indexOf(p)===-1?g.push(p):y.push(p);h.length>1&&(this._activeObject._objects=y),g.push.apply(g,y)}else g=this._objects;return g},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var h=this.contextContainer;return this.renderCanvas(h,this._chooseObjectsToRender()),this},renderTopLayer:function(h){h.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(h),this.contextTopDirty=!0),h.restore()},renderTop:function(){var h=this.contextTop;return this.clearContext(h),this.renderTopLayer(h),this.fire("after:render"),this},_normalizePointer:function(h,p){var g=h.calcTransformMatrix(),y=d.util.invertTransform(g),_=this.restorePointerVpt(p);return d.util.transformPoint(_,y)},isTargetTransparent:function(h,p,g){if(h.shouldCache()&&h._cacheCanvas&&h!==this._activeObject){var y=this._normalizePointer(h,{x:p,y:g}),_=Math.max(h.cacheTranslationX+y.x*h.zoomX,0),w=Math.max(h.cacheTranslationY+y.y*h.zoomY,0),L=d.util.isTransparent(h._cacheContext,Math.round(_),Math.round(w),this.targetFindTolerance);return L}var T=this.contextCache,k=h.selectionBackgroundColor,P=this.viewportTransform;h.selectionBackgroundColor="",this.clearContext(T),T.save(),T.transform(P[0],P[1],P[2],P[3],P[4],P[5]),h.render(T),T.restore(),h.selectionBackgroundColor=k;var L=d.util.isTransparent(T,p,g,this.targetFindTolerance);return L},_isSelectionKeyPressed:function(h){var p=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?p=!!this.selectionKey.find(function(g){return h[g]===!0}):p=h[this.selectionKey],p},_shouldClearSelection:function(h,p){var g=this.getActiveObjects(),y=this._activeObject;return!p||p&&y&&g.length>1&&g.indexOf(p)===-1&&y!==p&&!this._isSelectionKeyPressed(h)||p&&!p.evented||p&&!p.selectable&&y&&y!==p},_shouldCenterTransform:function(h,p,g){if(h){var y;return p==="scale"||p==="scaleX"||p==="scaleY"||p==="resizing"?y=this.centeredScaling||h.centeredScaling:p==="rotate"&&(y=this.centeredRotation||h.centeredRotation),y?!g:g}},_getOriginFromCorner:function(h,p){var g={x:h.originX,y:h.originY};return p==="ml"||p==="tl"||p==="bl"?g.x="right":(p==="mr"||p==="tr"||p==="br")&&(g.x="left"),p==="tl"||p==="mt"||p==="tr"?g.y="bottom":(p==="bl"||p==="mb"||p==="br")&&(g.y="top"),g},_getActionFromCorner:function(h,p,g,y){if(!p||!h)return"drag";var _=y.controls[p];return _.getActionName(g,_,y)},_setupCurrentTransform:function(h,p,g){if(p){var y=this.getPointer(h),_=p.__corner,w=p.controls[_],T=g&&_?w.getActionHandler(h,p,w):d.controlsUtils.dragHandler,k=this._getActionFromCorner(g,_,h,p),P=this._getOriginFromCorner(p,_),L=h[this.centeredKey],N={target:p,action:k,actionHandler:T,corner:_,scaleX:p.scaleX,scaleY:p.scaleY,skewX:p.skewX,skewY:p.skewY,offsetX:y.x-p.left,offsetY:y.y-p.top,originX:P.x,originY:P.y,ex:y.x,ey:y.y,lastX:y.x,lastY:y.y,theta:l(p.angle),width:p.width*p.scaleX,shiftKey:h.shiftKey,altKey:L,original:d.util.saveObjectTransform(p)};this._shouldCenterTransform(p,k,L)&&(N.originX="center",N.originY="center"),N.original.originX=P.x,N.original.originY=P.y,this._currentTransform=N,this._beforeTransform(h)}},setCursor:function(h){this.upperCanvasEl.style.cursor=h},_drawSelection:function(h){var p=this._groupSelector,g=new d.Point(p.ex,p.ey),y=d.util.transformPoint(g,this.viewportTransform),_=new d.Point(p.ex+p.left,p.ey+p.top),w=d.util.transformPoint(_,this.viewportTransform),T=Math.min(y.x,w.x),k=Math.min(y.y,w.y),P=Math.max(y.x,w.x),L=Math.max(y.y,w.y),N=this.selectionLineWidth/2;this.selectionColor&&(h.fillStyle=this.selectionColor,h.fillRect(T,k,P-T,L-k)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(h.lineWidth=this.selectionLineWidth,h.strokeStyle=this.selectionBorderColor,T+=N,k+=N,P-=N,L-=N,d.Object.prototype._setLineDash.call(this,h,this.selectionDashArray),h.strokeRect(T,k,P-T,L-k))},findTarget:function(h,p){if(!this.skipTargetFind){var g=!0,y=this.getPointer(h,g),_=this._activeObject,w=this.getActiveObjects(),T,k,P=c(h),L=w.length>1&&!p||w.length===1;if(this.targets=[],L&&_._findTargetCorner(y,P)||w.length>1&&!p&&_===this._searchPossibleTargets([_],y))return _;if(w.length===1&&_===this._searchPossibleTargets([_],y))if(this.preserveObjectStacking)T=_,k=this.targets,this.targets=[];else return _;var N=this._searchPossibleTargets(this._objects,y);return h[this.altSelectionKey]&&N&&T&&N!==T&&(N=T,this.targets=k),N}},_checkTarget:function(h,p,g){if(p&&p.visible&&p.evented&&p.containsPoint(h))if((this.perPixelTargetFind||p.perPixelTargetFind)&&!p.isEditing){var y=this.isTargetTransparent(p,g.x,g.y);if(!y)return!0}else return!0},_searchPossibleTargets:function(h,p){for(var g,y=h.length,_;y--;){var w=h[y],T=w.group?this._normalizePointer(w.group,p):p;if(this._checkTarget(T,w,p)){g=h[y],g.subTargetCheck&&g instanceof d.Group&&(_=this._searchPossibleTargets(g._objects,p),_&&this.targets.push(_));break}}return g},restorePointerVpt:function(h){return d.util.transformPoint(h,d.util.invertTransform(this.viewportTransform))},getPointer:function(h,p){if(this._absolutePointer&&!p)return this._absolutePointer;if(this._pointer&&p)return this._pointer;var g=v(h),y=this.upperCanvasEl,_=y.getBoundingClientRect(),w=_.width||0,T=_.height||0,k;(!w||!T)&&("top"in _&&"bottom"in _&&(T=Math.abs(_.top-_.bottom)),"right"in _&&"left"in _&&(w=Math.abs(_.right-_.left))),this.calcOffset(),g.x=g.x-this._offset.left,g.y=g.y-this._offset.top,p||(g=this.restorePointerVpt(g));var P=this.getRetinaScaling();return P!==1&&(g.x/=P,g.y/=P),w===0||T===0?k={width:1,height:1}:k={width:y.width/w,height:y.height/T},{x:g.x*k.width,y:g.y*k.height}},_createUpperCanvas:function(){var h=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),p=this.lowerCanvasEl,g=this.upperCanvasEl;g?g.className="":(g=this._createCanvasElement(),this.upperCanvasEl=g),d.util.addClass(g,"upper-canvas "+h),this.wrapperEl.appendChild(g),this._copyCanvasStyle(p,g),this._applyCanvasStyle(g),this.contextTop=g.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=d.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),d.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),d.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(h){var p=this.width||h.width,g=this.height||h.height;d.util.setStyle(h,{position:"absolute",width:p+"px",height:g+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),h.width=p,h.height=g,d.util.makeElementUnselectable(h)},_copyCanvasStyle:function(h,p){p.style.cssText=h.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var h=this._activeObject;return h?h.type==="activeSelection"&&h._objects?h._objects.slice(0):[h]:[]},_onObjectRemoved:function(h){h===this._activeObject&&(this.fire("before:selection:cleared",{target:h}),this._discardActiveObject(),this.fire("selection:cleared",{target:h}),h.fire("deselected")),h===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",h)},_fireSelectionEvents:function(h,p){var g=!1,y=this.getActiveObjects(),_=[],w=[];h.forEach(function(T){y.indexOf(T)===-1&&(g=!0,T.fire("deselected",{e:p,target:T}),w.push(T))}),y.forEach(function(T){h.indexOf(T)===-1&&(g=!0,T.fire("selected",{e:p,target:T}),_.push(T))}),h.length>0&&y.length>0?g&&this.fire("selection:updated",{e:p,selected:_,deselected:w,updated:_[0]||w[0],target:this._activeObject}):y.length>0?this.fire("selection:created",{e:p,selected:_,target:this._activeObject}):h.length>0&&this.fire("selection:cleared",{e:p,deselected:w})},setActiveObject:function(h,p){var g=this.getActiveObjects();return this._setActiveObject(h,p),this._fireSelectionEvents(g,p),this},_setActiveObject:function(h,p){return this._activeObject===h||!this._discardActiveObject(p,h)||h.onSelect({e:p})?!1:(this._activeObject=h,!0)},_discardActiveObject:function(h,p){var g=this._activeObject;if(g){if(g.onDeselect({e:h,object:p}))return!1;this._activeObject=null}return!0},discardActiveObject:function(h){var p=this.getActiveObjects(),g=this.getActiveObject();return p.length&&this.fire("before:selection:cleared",{target:g,e:h}),this._discardActiveObject(h),this._fireSelectionEvents(p,h),this},dispose:function(){var h=this.wrapperEl;return this.removeListeners(),h.removeChild(this.upperCanvasEl),h.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(p){d.util.cleanUpJsdomNode(this[p]),this[p]=void 0}.bind(this)),h.parentNode&&h.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,d.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(h){var p=this._activeObject;p&&p._renderControls(h)},_toObject:function(h,p,g){var y=this._realizeGroupTransformOnObject(h),_=this.callSuper("_toObject",h,p,g);return this._unwindGroupTransformOnObject(h,y),_},_realizeGroupTransformOnObject:function(h){if(h.group&&h.group.type==="activeSelection"&&this._activeObject===h.group){var p=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],g={};return p.forEach(function(y){g[y]=h[y]}),d.util.addTransformToObject(h,this._activeObject.calcOwnMatrix()),g}else return null},_unwindGroupTransformOnObject:function(h,p){p&&h.set(p)},_setSVGObject:function(h,p,g){var y=this._realizeGroupTransformOnObject(p);this.callSuper("_setSVGObject",h,p,g),this._unwindGroupTransformOnObject(p,y)},setViewportTransform:function(h){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),d.StaticCanvas.prototype.setViewportTransform.call(this,h)}});for(var f in d.StaticCanvas)f!=="prototype"&&(d.Canvas[f]=d.StaticCanvas[f])}(),function(){var v=d.util.addListener,l=d.util.removeListener,c=3,f=2,h=1,p={passive:!1};function g(y,_){return y.button&&y.button===_-1}d.util.object.extend(d.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(v,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(y,_){var w=this.upperCanvasEl,T=this._getEventPrefix();y(d.window,"resize",this._onResize),y(w,T+"down",this._onMouseDown),y(w,T+"move",this._onMouseMove,p),y(w,T+"out",this._onMouseOut),y(w,T+"enter",this._onMouseEnter),y(w,"wheel",this._onMouseWheel),y(w,"contextmenu",this._onContextMenu),y(w,"dblclick",this._onDoubleClick),y(w,"dragover",this._onDragOver),y(w,"dragenter",this._onDragEnter),y(w,"dragleave",this._onDragLeave),y(w,"drop",this._onDrop),this.enablePointerEvents||y(w,"touchstart",this._onTouchStart,p),typeof eventjs<"u"&&_ in eventjs&&(eventjs[_](w,"gesture",this._onGesture),eventjs[_](w,"drag",this._onDrag),eventjs[_](w,"orientation",this._onOrientationChange),eventjs[_](w,"shake",this._onShake),eventjs[_](w,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(l,"remove");var y=this._getEventPrefix();l(d.document,y+"up",this._onMouseUp),l(d.document,"touchend",this._onTouchEnd,p),l(d.document,y+"move",this._onMouseMove,p),l(d.document,"touchmove",this._onMouseMove,p)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(y,_){this.__onTransformGesture&&this.__onTransformGesture(y,_)},_onDrag:function(y,_){this.__onDrag&&this.__onDrag(y,_)},_onMouseWheel:function(y){this.__onMouseWheel(y)},_onMouseOut:function(y){var _=this._hoveredTarget;this.fire("mouse:out",{target:_,e:y}),this._hoveredTarget=null,_&&_.fire("mouseout",{e:y});var w=this;this._hoveredTargets.forEach(function(T){w.fire("mouse:out",{target:_,e:y}),T&&_.fire("mouseout",{e:y})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(T){T.isEditing&&T.hiddenTextarea.focus()})},_onMouseEnter:function(y){!this._currentTransform&&!this.findTarget(y)&&(this.fire("mouse:over",{target:null,e:y}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(y,_){this.__onOrientationChange&&this.__onOrientationChange(y,_)},_onShake:function(y,_){this.__onShake&&this.__onShake(y,_)},_onLongPress:function(y,_){this.__onLongPress&&this.__onLongPress(y,_)},_onDragOver:function(y){y.preventDefault();var _=this._simpleEventHandler("dragover",y);this._fireEnterLeaveEvents(_,y)},_onContextMenu:function(y){return this.stopContextMenu&&(y.stopPropagation(),y.preventDefault()),!1},_onDoubleClick:function(y){this._cacheTransformEventData(y),this._handleEvent(y,"dblclick"),this._resetTransformEventData(y)},getPointerId:function(y){var _=y.changedTouches;return _?_[0]&&_[0].identifier:this.enablePointerEvents?y.pointerId:-1},_isMainEvent:function(y){return y.isPrimary===!0?!0:y.isPrimary===!1?!1:y.type==="touchend"&&y.touches.length===0?!0:y.changedTouches?y.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(y){y.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(y)),this.__onMouseDown(y),this._resetTransformEventData();var _=this.upperCanvasEl,w=this._getEventPrefix();v(d.document,"touchend",this._onTouchEnd,p),v(d.document,"touchmove",this._onMouseMove,p),l(_,w+"down",this._onMouseDown)},_onMouseDown:function(y){this.__onMouseDown(y),this._resetTransformEventData();var _=this.upperCanvasEl,w=this._getEventPrefix();l(_,w+"move",this._onMouseMove,p),v(d.document,w+"up",this._onMouseUp),v(d.document,w+"move",this._onMouseMove,p)},_onTouchEnd:function(y){if(!(y.touches.length>0)){this.__onMouseUp(y),this._resetTransformEventData(),this.mainTouchId=null;var _=this._getEventPrefix();l(d.document,"touchend",this._onTouchEnd,p),l(d.document,"touchmove",this._onMouseMove,p);var w=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){v(w.upperCanvasEl,_+"down",w._onMouseDown),w._willAddMouseDown=0},400)}},_onMouseUp:function(y){this.__onMouseUp(y),this._resetTransformEventData();var _=this.upperCanvasEl,w=this._getEventPrefix();this._isMainEvent(y)&&(l(d.document,w+"up",this._onMouseUp),l(d.document,w+"move",this._onMouseMove,p),v(_,w+"move",this._onMouseMove,p))},_onMouseMove:function(y){!this.allowTouchScrolling&&y.preventDefault&&y.preventDefault(),this.__onMouseMove(y)},_onResize:function(){this.calcOffset()},_shouldRender:function(y){var _=this._activeObject;return!!_!=!!y||_&&y&&_!==y?!0:(_&&_.isEditing,!1)},__onMouseUp:function(y){var _,w=this._currentTransform,T=this._groupSelector,k=!1,P=!T||T.left===0&&T.top===0;if(this._cacheTransformEventData(y),_=this._target,this._handleEvent(y,"up:before"),g(y,c)){this.fireRightClick&&this._handleEvent(y,"up",c,P);return}if(g(y,f)){this.fireMiddleClick&&this._handleEvent(y,"up",f,P),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(y);return}if(this._isMainEvent(y)){if(w&&(this._finalizeCurrentTransform(y),k=w.actionPerformed),!P){var L=_===this._activeObject;this._maybeGroupObjects(y),k||(k=this._shouldRender(_)||!L&&_===this._activeObject)}if(_){if(_.selectable&&_!==this._activeObject&&_.activeOn==="up")this.setActiveObject(_,y),k=!0;else{var N=_._findTargetCorner(this.getPointer(y,!0),d.util.isTouchEvent(y)),F=_.controls[N],G=F&&F.getMouseUpHandler(y,_,F);if(G){var H=this.getPointer(y);G(y,w,H.x,H.y)}}_.isMoving=!1}this._setCursorFromEvent(y,_),this._handleEvent(y,"up",h,P),this._groupSelector=null,this._currentTransform=null,_&&(_.__corner=0),k?this.requestRenderAll():P||this.renderTop()}},_simpleEventHandler:function(y,_){var w=this.findTarget(_),T=this.targets,k={e:_,target:w,subTargets:T};if(this.fire(y,k),w&&w.fire(y,k),!T)return w;for(var P=0;P<T.length;P++)T[P].fire(y,k);return w},_handleEvent:function(y,_,w,T){var k=this._target,P=this.targets||[],L={e:y,target:k,subTargets:P,button:w||h,isClick:T||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};_==="up"&&(L.currentTarget=this.findTarget(y),L.currentSubTargets=this.targets),this.fire("mouse:"+_,L),k&&k.fire("mouse"+_,L);for(var N=0;N<P.length;N++)P[N].fire("mouse"+_,L)},_finalizeCurrentTransform:function(y){var _=this._currentTransform,w=_.target,T,k={e:y,target:w,transform:_,action:_.action};w._scaling&&(w._scaling=!1),w.setCoords(),(_.actionPerformed||this.stateful&&w.hasStateChanged())&&(_.actionPerformed&&(T=this._addEventOptions(k,_),this._fire(T,k)),this._fire("modified",k))},_addEventOptions:function(y,_){var w,T;switch(_.action){case"scaleX":w="scaled",T="x";break;case"scaleY":w="scaled",T="y";break;case"skewX":w="skewed",T="x";break;case"skewY":w="skewed",T="y";break;case"scale":w="scaled",T="equally";break;case"rotate":w="rotated";break;case"drag":w="moved";break}return y.by=T,w},_onMouseDownInDrawingMode:function(y){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(y).requestRenderAll();var _=this.getPointer(y);this.freeDrawingBrush.onMouseDown(_,{e:y,pointer:_}),this._handleEvent(y,"down")},_onMouseMoveInDrawingMode:function(y){if(this._isCurrentlyDrawing){var _=this.getPointer(y);this.freeDrawingBrush.onMouseMove(_,{e:y,pointer:_})}this.setCursor(this.freeDrawingCursor),this._handleEvent(y,"move")},_onMouseUpInDrawingMode:function(y){var _=this.getPointer(y);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:y,pointer:_}),this._handleEvent(y,"up")},__onMouseDown:function(y){this._cacheTransformEventData(y),this._handleEvent(y,"down:before");var _=this._target;if(g(y,c)){this.fireRightClick&&this._handleEvent(y,"down",c);return}if(g(y,f)){this.fireMiddleClick&&this._handleEvent(y,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(y);return}if(this._isMainEvent(y)&&!this._currentTransform){var w=this._pointer;this._previousPointer=w;var T=this._shouldRender(_),k=this._shouldGroup(y,_);if(this._shouldClearSelection(y,_)?this.discardActiveObject(y):k&&(this._handleGrouping(y,_),_=this._activeObject),this.selection&&(!_||!_.selectable&&!_.isEditing&&_!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),_){var P=_===this._activeObject;_.selectable&&_.activeOn==="down"&&this.setActiveObject(_,y);var L=_._findTargetCorner(this.getPointer(y,!0),d.util.isTouchEvent(y));if(_.__corner=L,_===this._activeObject&&(L||!k)){this._setupCurrentTransform(y,_,P);var N=_.controls[L],w=this.getPointer(y),F=N&&N.getMouseDownHandler(y,_,N);F&&F(y,this._currentTransform,w.x,w.y)}}this._handleEvent(y,"down"),(T||k)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(y){this._resetTransformEventData(),this._pointer=this.getPointer(y,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(y)||null},_beforeTransform:function(y){var _=this._currentTransform;this.stateful&&_.target.saveState(),this.fire("before:transform",{e:y,transform:_})},__onMouseMove:function(y){this._handleEvent(y,"move:before"),this._cacheTransformEventData(y);var _,w;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(y);return}if(this._isMainEvent(y)){var T=this._groupSelector;T?(w=this._absolutePointer,T.left=w.x-T.ex,T.top=w.y-T.ey,this.renderTop()):this._currentTransform?this._transformObject(y):(_=this.findTarget(y)||null,this._setCursorFromEvent(y,_),this._fireOverOutEvents(_,y)),this._handleEvent(y,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(y,_){var w=this._hoveredTarget,T=this._hoveredTargets,k=this.targets,P=Math.max(T.length,k.length);this.fireSyntheticInOutEvents(y,_,{oldTarget:w,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var L=0;L<P;L++)this.fireSyntheticInOutEvents(k[L],_,{oldTarget:T[L],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=y,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(y,_){var w=this._draggedoverTarget,T=this._hoveredTargets,k=this.targets,P=Math.max(T.length,k.length);this.fireSyntheticInOutEvents(y,_,{oldTarget:w,evtOut:"dragleave",evtIn:"dragenter"});for(var L=0;L<P;L++)this.fireSyntheticInOutEvents(k[L],_,{oldTarget:T[L],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=y},fireSyntheticInOutEvents:function(y,_,w){var T,k,P=w.oldTarget,L,N,F=P!==y,G=w.canvasEvtIn,H=w.canvasEvtOut;F&&(T={e:_,target:y,previousTarget:P},k={e:_,target:P,nextTarget:y}),N=y&&F,L=P&&F,L&&(H&&this.fire(H,k),P.fire(w.evtOut,k)),N&&(G&&this.fire(G,T),y.fire(w.evtIn,T))},__onMouseWheel:function(y){this._cacheTransformEventData(y),this._handleEvent(y,"wheel"),this._resetTransformEventData()},_transformObject:function(y){var _=this.getPointer(y),w=this._currentTransform;w.reset=!1,w.shiftKey=y.shiftKey,w.altKey=y[this.centeredKey],this._performTransformAction(y,w,_),w.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(y,_,w){var T=w.x,k=w.y,P=_.action,L=!1,N=_.actionHandler;N&&(L=N(y,_,T,k)),P==="drag"&&L&&(_.target.isMoving=!0,this.setCursor(_.target.moveCursor||this.moveCursor)),_.actionPerformed=_.actionPerformed||L},_fire:d.controlsUtils.fireEvent,_setCursorFromEvent:function(y,_){if(!_)return this.setCursor(this.defaultCursor),!1;var w=_.hoverCursor||this.hoverCursor,T=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,k=(!T||!T.contains(_))&&_._findTargetCorner(this.getPointer(y,!0));k?this.setCursor(this.getCornerCursor(k,_,y)):(_.subTargetCheck&&this.targets.concat().reverse().map(function(P){w=P.hoverCursor||w}),this.setCursor(w))},getCornerCursor:function(y,_,w){var T=_.controls[y];return T.cursorStyleHandler(w,T,_)}})}(),function(){var v=Math.min,l=Math.max;d.util.object.extend(d.Canvas.prototype,{_shouldGroup:function(c,f){var h=this._activeObject;return h&&this._isSelectionKeyPressed(c)&&f&&f.selectable&&this.selection&&(h!==f||h.type==="activeSelection")&&!f.onSelect({e:c})},_handleGrouping:function(c,f){var h=this._activeObject;h.__corner||f===h&&(f=this.findTarget(c,!0),!f||!f.selectable)||(h&&h.type==="activeSelection"?this._updateActiveSelection(f,c):this._createActiveSelection(f,c))},_updateActiveSelection:function(c,f){var h=this._activeObject,p=h._objects.slice(0);h.contains(c)?(h.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),h.size()===1&&this._setActiveObject(h.item(0),f)):(h.addWithUpdate(c),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(p,f)},_createActiveSelection:function(c,f){var h=this.getActiveObjects(),p=this._createGroup(c);this._hoveredTarget=p,this._setActiveObject(p,f),this._fireSelectionEvents(h,f)},_createGroup:function(c){var f=this._objects,h=f.indexOf(this._activeObject)<f.indexOf(c),p=h?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new d.ActiveSelection(p,{canvas:this})},_groupSelectedObjects:function(c){var f=this._collectObjects(c),h;f.length===1?this.setActiveObject(f[0],c):f.length>1&&(h=new d.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(h,c))},_collectObjects:function(c){for(var f=[],h,p=this._groupSelector.ex,g=this._groupSelector.ey,y=p+this._groupSelector.left,_=g+this._groupSelector.top,w=new d.Point(v(p,y),v(g,_)),T=new d.Point(l(p,y),l(g,_)),k=!this.selectionFullyContained,P=p===y&&g===_,L=this._objects.length;L--&&(h=this._objects[L],!(!(!h||!h.selectable||!h.visible)&&(k&&h.intersectsWithRect(w,T,!0)||h.isContainedWithinRect(w,T,!0)||k&&h.containsPoint(w,null,!0)||k&&h.containsPoint(T,null,!0))&&(f.push(h),P))););return f.length>1&&(f=f.filter(function(N){return!N.onSelect({e:c})})),f},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){d.util.object.extend(d.StaticCanvas.prototype,{toDataURL:function(v){v||(v={});var l=v.format||"png",c=v.quality||1,f=(v.multiplier||1)*(v.enableRetinaScaling?this.getRetinaScaling():1),h=this.toCanvasElement(f,v);return d.util.toDataURL(h,l,c)},toCanvasElement:function(v,l){v=v||1,l=l||{};var c=(l.width||this.width)*v,f=(l.height||this.height)*v,h=this.getZoom(),p=this.width,g=this.height,y=h*v,_=this.viewportTransform,w=(_[4]-(l.left||0))*v,T=(_[5]-(l.top||0))*v,k=this.interactive,P=[y,0,0,y,w,T],L=this.enableRetinaScaling,N=d.util.createCanvasElement(),F=this.contextTop;return N.width=c,N.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=P,this.width=c,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(N.getContext("2d"),this._objects),this.viewportTransform=_,this.width=p,this.height=g,this.calcViewportBoundaries(),this.interactive=k,this.enableRetinaScaling=L,this.contextTop=F,N}})}(),d.util.object.extend(d.StaticCanvas.prototype,{loadFromJSON:function(v,l,c){if(v){var f=typeof v=="string"?JSON.parse(v):d.util.object.clone(v),h=this,p=f.clipPath,g=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(y){h.clear(),h._setBgOverlay(f,function(){p?h._enlivenObjects([p],function(_){h.clipPath=_[0],h.__setupCanvas.call(h,f,y,g,l)}):h.__setupCanvas.call(h,f,y,g,l)})},c),this}},__setupCanvas:function(v,l,c,f){var h=this;l.forEach(function(p,g){h.insertAt(p,g)}),this.renderOnAddRemove=c,delete v.objects,delete v.backgroundImage,delete v.overlayImage,delete v.background,delete v.overlay,this._setOptions(v),this.renderAll(),f&&f()},_setBgOverlay:function(v,l){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!v.backgroundImage&&!v.overlayImage&&!v.background&&!v.overlay){l&&l();return}var f=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&l&&l()};this.__setBgOverlay("backgroundImage",v.backgroundImage,c,f),this.__setBgOverlay("overlayImage",v.overlayImage,c,f),this.__setBgOverlay("backgroundColor",v.background,c,f),this.__setBgOverlay("overlayColor",v.overlay,c,f)},__setBgOverlay:function(v,l,c,f){var h=this;if(!l){c[v]=!0,f&&f();return}v==="backgroundImage"||v==="overlayImage"?d.util.enlivenObjects([l],function(p){h[v]=p[0],c[v]=!0,f&&f()}):this["set"+d.util.string.capitalize(v,!0)](l,function(){c[v]=!0,f&&f()})},_enlivenObjects:function(v,l,c){if(!v||v.length===0){l&&l([]);return}d.util.enlivenObjects(v,function(f){l&&l(f)},null,c)},_toDataURL:function(v,l){this.clone(function(c){l(c.toDataURL(v))})},_toDataURLWithMultiplier:function(v,l,c){this.clone(function(f){c(f.toDataURLWithMultiplier(v,l))})},clone:function(v,l){var c=JSON.stringify(this.toJSON(l));this.cloneWithoutData(function(f){f.loadFromJSON(c,function(){v&&v(f)})})},cloneWithoutData:function(v){var l=d.util.createCanvasElement();l.width=this.width,l.height=this.height;var c=new d.Canvas(l);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),v&&v(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):v&&v(c)}}),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.util.object.clone,h=l.util.toFixed,p=l.util.string.capitalize,g=l.util.degreesToRadians,y=!l.isLikelyNode,_=2;l.Object||(l.Object=l.util.createClass(l.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:y,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(w){w&&this.setOptions(w)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=l.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(w){var T=l.perfLimitSizeTotal,k=w.width,P=w.height,L=l.maxCacheSideLimit,N=l.minCacheSideLimit;if(k<=L&&P<=L&&k*P<=T)return k<N&&(w.width=N),P<N&&(w.height=N),w;var F=k/P,G=l.util.limitDimsByArea(F,T),H=l.util.capValue,$=H(N,G.x,L),re=H(N,G.y,L);return k>$&&(w.zoomX/=k/$,w.width=$,w.capped=!0),P>re&&(w.zoomY/=P/re,w.height=re,w.capped=!0),w},_getCacheCanvasDimensions:function(){var w=this.getTotalObjectScaling(),T=this._getTransformedDimensions(0,0),k=T.x*w.scaleX/this.scaleX,P=T.y*w.scaleY/this.scaleY;return{width:k+_,height:P+_,zoomX:w.scaleX,zoomY:w.scaleY,x:k,y:P}},_updateCacheCanvas:function(){var w=this.canvas;if(this.noScaleCache&&w&&w._currentTransform){var T=w._currentTransform.target,k=w._currentTransform.action;if(this===T&&k.slice&&k.slice(0,5)==="scale")return!1}var P=this._cacheCanvas,L=this._limitCacheSize(this._getCacheCanvasDimensions()),N=l.minCacheSideLimit,F=L.width,G=L.height,H,$,re=L.zoomX,le=L.zoomY,xe=F!==this.cacheWidth||G!==this.cacheHeight,ee=this.zoomX!==re||this.zoomY!==le,be=xe||ee,K=0,Oe=0,_e=!1;if(xe){var fe=this._cacheCanvas.width,J=this._cacheCanvas.height,he=F>fe||G>J,ne=(F<fe*.9||G<J*.9)&&fe>N&&J>N;_e=he||ne,he&&!L.capped&&(F>N||G>N)&&(K=F*.1,Oe=G*.1)}return this instanceof l.Text&&this.path&&(be=!0,_e=!0,K+=this.getHeightOfLine(0)*this.zoomX,Oe+=this.getHeightOfLine(0)*this.zoomY),be?(_e?(P.width=Math.ceil(F+K),P.height=Math.ceil(G+Oe)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,P.width,P.height)),H=L.x/2,$=L.y/2,this.cacheTranslationX=Math.round(P.width/2-H)+H,this.cacheTranslationY=Math.round(P.height/2-$)+$,this.cacheWidth=F,this.cacheHeight=G,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(re,le),this.zoomX=re,this.zoomY=le,!0):!1},setOptions:function(w){this._setOptions(w),this._initGradient(w.fill,"fill"),this._initGradient(w.stroke,"stroke"),this._initPattern(w.fill,"fill"),this._initPattern(w.stroke,"stroke")},transform:function(w){var T=this.group&&!this.group._transformDone||this.group&&this.canvas&&w===this.canvas.contextTop,k=this.calcTransformMatrix(!T);w.transform(k[0],k[1],k[2],k[3],k[4],k[5])},toObject:function(w){var T=l.Object.NUM_FRACTION_DIGITS,k={type:this.type,version:l.version,originX:this.originX,originY:this.originY,left:h(this.left,T),top:h(this.top,T),width:h(this.width,T),height:h(this.height,T),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:h(this.strokeWidth,T),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:h(this.strokeMiterLimit,T),scaleX:h(this.scaleX,T),scaleY:h(this.scaleY,T),angle:h(this.angle,T),flipX:this.flipX,flipY:this.flipY,opacity:h(this.opacity,T),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:h(this.skewX,T),skewY:h(this.skewY,T)};return this.clipPath&&!this.clipPath.excludeFromExport&&(k.clipPath=this.clipPath.toObject(w),k.clipPath.inverted=this.clipPath.inverted,k.clipPath.absolutePositioned=this.clipPath.absolutePositioned),l.util.populateWithProperties(this,k,w),this.includeDefaultValues||(k=this._removeDefaultValues(k)),k},toDatalessObject:function(w){return this.toObject(w)},_removeDefaultValues:function(w){var T=l.util.getKlass(w.type).prototype,k=T.stateProperties;return k.forEach(function(P){if(!(P==="left"||P==="top")){w[P]===T[P]&&delete w[P];var L=Object.prototype.toString.call(w[P])==="[object Array]"&&Object.prototype.toString.call(T[P])==="[object Array]";L&&w[P].length===0&&T[P].length===0&&delete w[P]}}),w},toString:function(){return"#<fabric."+p(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var w=l.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(w.scaleX),scaleY:Math.abs(w.scaleY)}},getTotalObjectScaling:function(){var w=this.getObjectScaling(),T=w.scaleX,k=w.scaleY;if(this.canvas){var P=this.canvas.getZoom(),L=this.canvas.getRetinaScaling();T*=P*L,k*=P*L}return{scaleX:T,scaleY:k}},getObjectOpacity:function(){var w=this.opacity;return this.group&&(w*=this.group.getObjectOpacity()),w},_set:function(w,T){var k=w==="scaleX"||w==="scaleY",P=this[w]!==T,L=!1;return k&&(T=this._constrainScale(T)),w==="scaleX"&&T<0?(this.flipX=!this.flipX,T*=-1):w==="scaleY"&&T<0?(this.flipY=!this.flipY,T*=-1):w==="shadow"&&T&&!(T instanceof l.Shadow)?T=new l.Shadow(T):w==="dirty"&&this.group&&this.group.set("dirty",T),this[w]=T,P&&(L=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(w)>-1?(this.dirty=!0,L&&this.group.set("dirty",!0)):L&&this.stateProperties.indexOf(w)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:l.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(w){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(w.save(),this._setupCompositeOperation(w),this.drawSelectionBackground(w),this.transform(w),this._setOpacity(w),this._setShadow(w,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(w)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(w),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),w.restore())},renderCache:function(w){w=w||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,w.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(w){var T=this.clipPath;if(w.save(),T.inverted?w.globalCompositeOperation="destination-out":w.globalCompositeOperation="destination-in",T.absolutePositioned){var k=l.util.invertTransform(this.calcTransformMatrix());w.transform(k[0],k[1],k[2],k[3],k[4],k[5])}T.transform(w),w.scale(1/T.zoomX,1/T.zoomY),w.drawImage(T._cacheCanvas,-T.cacheTranslationX,-T.cacheTranslationY),w.restore()},drawObject:function(w,T){var k=this.fill,P=this.stroke;T?(this.fill="black",this.stroke="",this._setClippingProperties(w)):this._renderBackground(w),this._render(w),this._drawClipPath(w),this.fill=k,this.stroke=P},_drawClipPath:function(w){var T=this.clipPath;T&&(T.canvas=this.canvas,T.shouldCache(),T._transformDone=!0,T.renderCache({forClipping:!0}),this.drawClipPathOnCache(w))},drawCacheOnCanvas:function(w){w.scale(1/this.zoomX,1/this.zoomY),w.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(w){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!w&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!w){var T=this.cacheWidth/this.zoomX,k=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-T/2,-k/2,T,k)}return!0}return!1},_renderBackground:function(w){if(this.backgroundColor){var T=this._getNonTransformedDimensions();w.fillStyle=this.backgroundColor,w.fillRect(-T.x/2,-T.y/2,T.x,T.y),this._removeShadow(w)}},_setOpacity:function(w){this.group&&!this.group._transformDone?w.globalAlpha=this.getObjectOpacity():w.globalAlpha*=this.opacity},_setStrokeStyles:function(w,T){var k=T.stroke;k&&(w.lineWidth=T.strokeWidth,w.lineCap=T.strokeLineCap,w.lineDashOffset=T.strokeDashOffset,w.lineJoin=T.strokeLineJoin,w.miterLimit=T.strokeMiterLimit,k.toLive?k.gradientUnits==="percentage"||k.gradientTransform||k.patternTransform?this._applyPatternForTransformedGradient(w,k):(w.strokeStyle=k.toLive(w,this),this._applyPatternGradientTransform(w,k)):w.strokeStyle=T.stroke)},_setFillStyles:function(w,T){var k=T.fill;k&&(k.toLive?(w.fillStyle=k.toLive(w,this),this._applyPatternGradientTransform(w,T.fill)):w.fillStyle=k)},_setClippingProperties:function(w){w.globalAlpha=1,w.strokeStyle="transparent",w.fillStyle="#000000"},_setLineDash:function(w,T){!T||T.length===0||(1&T.length&&T.push.apply(T,T),w.setLineDash(T))},_renderControls:function(w,T){var k=this.getViewportTransform(),P=this.calcTransformMatrix(),L,N,F;T=T||{},N=typeof T.hasBorders<"u"?T.hasBorders:this.hasBorders,F=typeof T.hasControls<"u"?T.hasControls:this.hasControls,P=l.util.multiplyTransformMatrices(k,P),L=l.util.qrDecompose(P),w.save(),w.translate(L.translateX,L.translateY),w.lineWidth=1*this.borderScaleFactor,this.group||(w.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),w.rotate(g(L.angle)),T.forActiveSelection||this.group?N&&this.drawBordersInGroup(w,L,T):N&&this.drawBorders(w,T),F&&this.drawControls(w,T),w.restore()},_setShadow:function(w){if(this.shadow){var T=this.shadow,k=this.canvas,P,L=k&&k.viewportTransform[0]||1,N=k&&k.viewportTransform[3]||1;T.nonScaling?P={scaleX:1,scaleY:1}:P=this.getObjectScaling(),k&&k._isRetinaScaling()&&(L*=l.devicePixelRatio,N*=l.devicePixelRatio),w.shadowColor=T.color,w.shadowBlur=T.blur*l.browserShadowBlurConstant*(L+N)*(P.scaleX+P.scaleY)/4,w.shadowOffsetX=T.offsetX*L*P.scaleX,w.shadowOffsetY=T.offsetY*N*P.scaleY}},_removeShadow:function(w){this.shadow&&(w.shadowColor="",w.shadowBlur=w.shadowOffsetX=w.shadowOffsetY=0)},_applyPatternGradientTransform:function(w,T){if(!T||!T.toLive)return{offsetX:0,offsetY:0};var k=T.gradientTransform||T.patternTransform,P=-this.width/2+T.offsetX||0,L=-this.height/2+T.offsetY||0;return T.gradientUnits==="percentage"?w.transform(this.width,0,0,this.height,P,L):w.transform(1,0,0,1,P,L),k&&w.transform(k[0],k[1],k[2],k[3],k[4],k[5]),{offsetX:P,offsetY:L}},_renderPaintInOrder:function(w){this.paintFirst==="stroke"?(this._renderStroke(w),this._renderFill(w)):(this._renderFill(w),this._renderStroke(w))},_render:function(){},_renderFill:function(w){this.fill&&(w.save(),this._setFillStyles(w,this),this.fillRule==="evenodd"?w.fill("evenodd"):w.fill(),w.restore())},_renderStroke:function(w){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(w),w.save(),this.strokeUniform&&this.group){var T=this.getObjectScaling();w.scale(1/T.scaleX,1/T.scaleY)}else this.strokeUniform&&w.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(w,this.strokeDashArray),this._setStrokeStyles(w,this),w.stroke(),w.restore()}},_applyPatternForTransformedGradient:function(w,T){var k=this._limitCacheSize(this._getCacheCanvasDimensions()),P=l.util.createCanvasElement(),L,N=this.canvas.getRetinaScaling(),F=k.x/this.scaleX/N,G=k.y/this.scaleY/N;P.width=F,P.height=G,L=P.getContext("2d"),L.beginPath(),L.moveTo(0,0),L.lineTo(F,0),L.lineTo(F,G),L.lineTo(0,G),L.closePath(),L.translate(F/2,G/2),L.scale(k.zoomX/this.scaleX/N,k.zoomY/this.scaleY/N),this._applyPatternGradientTransform(L,T),L.fillStyle=T.toLive(w),L.fill(),w.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),w.scale(N*this.scaleX/k.zoomX,N*this.scaleY/k.zoomY),w.strokeStyle=L.createPattern(P,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var w=l.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",w.scaleX),this.set("scaleY",w.scaleY),this.angle=w.angle,this.skewX=w.skewX,this.skewY=0}},_removeTransformMatrix:function(w){var T=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),T=l.util.transformPoint(T,this.transformMatrix)),this.transformMatrix=null,w&&(this.scaleX*=w.scaleX,this.scaleY*=w.scaleY,this.cropX=w.cropX,this.cropY=w.cropY,T.x+=w.offsetLeft,T.y+=w.offsetTop,this.width=w.width,this.height=w.height),this.setPositionByOrigin(T,"center","center")},clone:function(w,T){var k=this.toObject(T);this.constructor.fromObject?this.constructor.fromObject(k,w):l.Object._fromObject("Object",k,w)},cloneAsImage:function(w,T){var k=this.toCanvasElement(T);return w&&w(new l.Image(k)),this},toCanvasElement:function(w){w||(w={});var T=l.util,k=T.saveObjectTransform(this),P=this.group,L=this.shadow,N=Math.abs,F=(w.multiplier||1)*(w.enableRetinaScaling?l.devicePixelRatio:1);delete this.group,w.withoutTransform&&T.resetObjectTransform(this),w.withoutShadow&&(this.shadow=null);var G=l.util.createCanvasElement(),H=this.getBoundingRect(!0,!0),$=this.shadow,re,le={x:0,y:0},xe,ee,be;$&&(xe=$.blur,$.nonScaling?re={scaleX:1,scaleY:1}:re=this.getObjectScaling(),le.x=2*Math.round(N($.offsetX)+xe)*N(re.scaleX),le.y=2*Math.round(N($.offsetY)+xe)*N(re.scaleY)),ee=H.width+le.x,be=H.height+le.y,G.width=Math.ceil(ee),G.height=Math.ceil(be);var K=new l.StaticCanvas(G,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});w.format==="jpeg"&&(K.backgroundColor="#fff"),this.setPositionByOrigin(new l.Point(K.width/2,K.height/2),"center","center");var Oe=this.canvas;K.add(this);var _e=K.toCanvasElement(F||1,w);return this.shadow=L,this.set("canvas",Oe),P&&(this.group=P),this.set(k).setCoords(),K._objects=[],K.dispose(),K=null,_e},toDataURL:function(w){return w||(w={}),l.util.toDataURL(this.toCanvasElement(w),w.format||"png",w.quality||1)},isType:function(w){return this.type===w},complexity:function(){return 1},toJSON:function(w){return this.toObject(w)},rotate:function(w){var T=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return T&&this._setOriginToCenter(),this.set("angle",w),T&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(w,T){T=T||this.canvas.getPointer(w);var k=new l.Point(T.x,T.y),P=this._getLeftTopCoords();return this.angle&&(k=l.util.rotatePoint(k,P,g(-this.angle))),{x:k.x-P.x,y:k.y-P.y}},_setupCompositeOperation:function(w){this.globalCompositeOperation&&(w.globalCompositeOperation=this.globalCompositeOperation)}}),l.util.createAccessors&&l.util.createAccessors(l.Object),c(l.Object.prototype,l.Observable),l.Object.NUM_FRACTION_DIGITS=2,l.Object._fromObject=function(w,T,k,P){var L=l[w];T=f(T,!0),l.util.enlivenPatterns([T.fill,T.stroke],function(N){typeof N[0]<"u"&&(T.fill=N[0]),typeof N[1]<"u"&&(T.stroke=N[1]),l.util.enlivenObjects([T.clipPath],function(F){T.clipPath=F[0];var G=P?new L(T[P],T):new L(T);k&&k(G)})})},l.Object.__uid=0)}(m),function(){var v=d.util.degreesToRadians,l={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};d.util.object.extend(d.Object.prototype,{translateToGivenOrigin:function(f,h,p,g,y){var _=f.x,w=f.y,T,k,P;return typeof h=="string"?h=l[h]:h-=.5,typeof g=="string"?g=l[g]:g-=.5,T=g-h,typeof p=="string"?p=c[p]:p-=.5,typeof y=="string"?y=c[y]:y-=.5,k=y-p,(T||k)&&(P=this._getTransformedDimensions(),_=f.x+T*P.x,w=f.y+k*P.y),new d.Point(_,w)},translateToCenterPoint:function(f,h,p){var g=this.translateToGivenOrigin(f,h,p,"center","center");return this.angle?d.util.rotatePoint(g,f,v(this.angle)):g},translateToOriginPoint:function(f,h,p){var g=this.translateToGivenOrigin(f,"center","center",h,p);return this.angle?d.util.rotatePoint(g,f,v(this.angle)):g},getCenterPoint:function(){var f=new d.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,h){var p=this.getCenterPoint();return this.translateToOriginPoint(p,f,h)},toLocalPoint:function(f,h,p){var g=this.getCenterPoint(),y,_;return typeof h<"u"&&typeof p<"u"?y=this.translateToGivenOrigin(g,"center","center",h,p):y=new d.Point(this.left,this.top),_=new d.Point(f.x,f.y),this.angle&&(_=d.util.rotatePoint(_,g,-v(this.angle))),_.subtractEquals(y)},setPositionByOrigin:function(f,h,p){var g=this.translateToCenterPoint(f,h,p),y=this.translateToOriginPoint(g,this.originX,this.originY);this.set("left",y.x),this.set("top",y.y)},adjustPosition:function(f){var h=v(this.angle),p=this.getScaledWidth(),g=d.util.cos(h)*p,y=d.util.sin(h)*p,_,w;typeof this.originX=="string"?_=l[this.originX]:_=this.originX-.5,typeof f=="string"?w=l[f]:w=f-.5,this.left+=g*(w-_),this.top+=y*(w-_),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function v(p){return[new d.Point(p.tl.x,p.tl.y),new d.Point(p.tr.x,p.tr.y),new d.Point(p.br.x,p.br.y),new d.Point(p.bl.x,p.bl.y)]}var l=d.util,c=l.degreesToRadians,f=l.multiplyTransformMatrices,h=l.transformPoint;l.object.extend(d.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(p,g){return g?p?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),p?this.aCoords:this.lineCoords)},getCoords:function(p,g){return v(this._getCoords(p,g))},intersectsWithRect:function(p,g,y,_){var w=this.getCoords(y,_),T=d.Intersection.intersectPolygonRectangle(w,p,g);return T.status==="Intersection"},intersectsWithObject:function(p,g,y){var _=d.Intersection.intersectPolygonPolygon(this.getCoords(g,y),p.getCoords(g,y));return _.status==="Intersection"||p.isContainedWithinObject(this,g,y)||this.isContainedWithinObject(p,g,y)},isContainedWithinObject:function(p,g,y){for(var _=this.getCoords(g,y),w=g?p.aCoords:p.lineCoords,T=0,k=p._getImageLines(w);T<4;T++)if(!p.containsPoint(_[T],k))return!1;return!0},isContainedWithinRect:function(p,g,y,_){var w=this.getBoundingRect(y,_);return w.left>=p.x&&w.left+w.width<=g.x&&w.top>=p.y&&w.top+w.height<=g.y},containsPoint:function(p,T,y,_){var w=this._getCoords(y,_),T=T||this._getImageLines(w),k=this._findCrossPoints(p,T);return k!==0&&k%2===1},isOnScreen:function(p){if(!this.canvas)return!1;var g=this.canvas.vptCoords.tl,y=this.canvas.vptCoords.br,_=this.getCoords(!0,p);return _.some(function(w){return w.x<=y.x&&w.x>=g.x&&w.y<=y.y&&w.y>=g.y})||this.intersectsWithRect(g,y,!0,p)?!0:this._containsCenterOfCanvas(g,y,p)},_containsCenterOfCanvas:function(p,g,y){var _={x:(p.x+g.x)/2,y:(p.y+g.y)/2};return!!this.containsPoint(_,null,!0,y)},isPartiallyOnScreen:function(p){if(!this.canvas)return!1;var g=this.canvas.vptCoords.tl,y=this.canvas.vptCoords.br;if(this.intersectsWithRect(g,y,!0,p))return!0;var _=this.getCoords(!0,p).every(function(w){return(w.x>=y.x||w.x<=g.x)&&(w.y>=y.y||w.y<=g.y)});return _&&this._containsCenterOfCanvas(g,y,p)},_getImageLines:function(p){var g={topline:{o:p.tl,d:p.tr},rightline:{o:p.tr,d:p.br},bottomline:{o:p.br,d:p.bl},leftline:{o:p.bl,d:p.tl}};return g},_findCrossPoints:function(p,g){var y,_,w,T,k,P=0,L;for(var N in g)if(L=g[N],!(L.o.y<p.y&&L.d.y<p.y)&&!(L.o.y>=p.y&&L.d.y>=p.y)&&(L.o.x===L.d.x&&L.o.x>=p.x?k=L.o.x:(y=0,_=(L.d.y-L.o.y)/(L.d.x-L.o.x),w=p.y-y*p.x,T=L.o.y-_*L.o.x,k=-(w-T)/(y-_)),k>=p.x&&(P+=1),P===2))break;return P},getBoundingRect:function(p,g){var y=this.getCoords(p,g);return l.makeBoundingBoxFromPoints(y)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(p){return Math.abs(p)<this.minScaleLimit?p<0?-this.minScaleLimit:this.minScaleLimit:p===0?1e-4:p},scale:function(p){return this._set("scaleX",p),this._set("scaleY",p),this.setCoords()},scaleToWidth:function(p,g){var y=this.getBoundingRect(g).width/this.getScaledWidth();return this.scale(p/this.width/y)},scaleToHeight:function(p,g){var y=this.getBoundingRect(g).height/this.getScaledHeight();return this.scale(p/this.height/y)},calcCoords:function(p){return p?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var p=this.getViewportTransform(),g=this.padding,y=c(this.angle),_=l.cos(y),w=l.sin(y),T=_*g,k=w*g,P=T+k,L=T-k,N=this.calcACoords(),F={tl:h(N.tl,p),tr:h(N.tr,p),bl:h(N.bl,p),br:h(N.br,p)};return g&&(F.tl.x-=L,F.tl.y-=P,F.tr.x+=P,F.tr.y-=L,F.bl.x-=P,F.bl.y+=L,F.br.x+=L,F.br.y+=P),F},calcOCoords:function(){var p=this._calcRotateMatrix(),g=this._calcTranslateMatrix(),y=this.getViewportTransform(),_=f(y,g),w=f(_,p),w=f(w,[1/y[0],0,0,1/y[3],0,0]),T=this._calculateCurrentDimensions(),k={};return this.forEachControl(function(P,L,N){k[L]=P.positionHandler(T,w,N)}),k},calcACoords:function(){var p=this._calcRotateMatrix(),g=this._calcTranslateMatrix(),y=f(g,p),_=this._getTransformedDimensions(),w=_.x/2,T=_.y/2;return{tl:h({x:-w,y:-T},y),tr:h({x:w,y:-T},y),bl:h({x:-w,y:T},y),br:h({x:w,y:T},y)}},setCoords:function(p){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),p?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return l.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var p=this.getCenterPoint();return[1,0,0,1,p.x,p.y]},transformMatrixKey:function(p){var g="_",y="";return!p&&this.group&&(y=this.group.transformMatrixKey(p)+g),y+this.top+g+this.left+g+this.scaleX+g+this.scaleY+g+this.skewX+g+this.skewY+g+this.angle+g+this.originX+g+this.originY+g+this.width+g+this.height+g+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(p){var g=this.calcOwnMatrix();if(p||!this.group)return g;var y=this.transformMatrixKey(p),_=this.matrixCache||(this.matrixCache={});return _.key===y?_.value:(this.group&&(g=f(this.group.calcTransformMatrix(!1),g)),_.key=y,_.value=g,g)},calcOwnMatrix:function(){var p=this.transformMatrixKey(!0),g=this.ownMatrixCache||(this.ownMatrixCache={});if(g.key===p)return g.value;var y=this._calcTranslateMatrix(),_={angle:this.angle,translateX:y[4],translateY:y[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return g.key=p,g.value=l.composeMatrix(_),g.value},_calcDimensionsTransformMatrix:function(p,g,y){return l.calcDimensionsMatrix({skewX:p,skewY:g,scaleX:this.scaleX*(y&&this.flipX?-1:1),scaleY:this.scaleY*(y&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var p=this.strokeWidth,g=this.width+p,y=this.height+p;return{x:g,y}},_getTransformedDimensions:function(p,g){typeof p>"u"&&(p=this.skewX),typeof g>"u"&&(g=this.skewY);var y,_,w,T=p===0&&g===0;if(this.strokeUniform?(_=this.width,w=this.height):(y=this._getNonTransformedDimensions(),_=y.x,w=y.y),T)return this._finalizeDimensions(_*this.scaleX,w*this.scaleY);var k=l.sizeAfterTransform(_,w,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:p,skewY:g});return this._finalizeDimensions(k.x,k.y)},_finalizeDimensions:function(p,g){return this.strokeUniform?{x:p+this.strokeWidth,y:g+this.strokeWidth}:{x:p,y:g}},_calculateCurrentDimensions:function(){var p=this.getViewportTransform(),g=this._getTransformedDimensions(),y=h(g,p,!0);return y.scalarAdd(2*this.padding)}})}(),d.util.object.extend(d.Object.prototype,{sendToBack:function(){return this.group?d.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?d.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(v){return this.group?d.StaticCanvas.prototype.sendBackwards.call(this.group,this,v):this.canvas&&this.canvas.sendBackwards(this,v),this},bringForward:function(v){return this.group?d.StaticCanvas.prototype.bringForward.call(this.group,this,v):this.canvas&&this.canvas.bringForward(this,v),this},moveTo:function(v){return this.group&&this.group.type!=="activeSelection"?d.StaticCanvas.prototype.moveTo.call(this.group,this,v):this.canvas&&this.canvas.moveTo(this,v),this}}),function(){function v(c,f){if(f){if(f.toLive)return c+": url(#SVGID_"+f.id+"); ";var h=new d.Color(f),p=c+": "+h.toRgb()+"; ",g=h.getAlpha();return g!==1&&(p+=c+"-opacity: "+g.toString()+"; "),p}else return c+": none; "}var l=d.util.toFixed;d.util.object.extend(d.Object.prototype,{getSvgStyles:function(c){var f=this.fillRule?this.fillRule:"nonzero",h=this.strokeWidth?this.strokeWidth:"0",p=this.strokeDashArray?this.strokeDashArray.join(" "):"none",g=this.strokeDashOffset?this.strokeDashOffset:"0",y=this.strokeLineCap?this.strokeLineCap:"butt",_=this.strokeLineJoin?this.strokeLineJoin:"miter",w=this.strokeMiterLimit?this.strokeMiterLimit:"4",T=typeof this.opacity<"u"?this.opacity:"1",k=this.visible?"":" visibility: hidden;",P=c?"":this.getSvgFilter(),L=v("fill",this.fill),N=v("stroke",this.stroke);return[N,"stroke-width: ",h,"; ","stroke-dasharray: ",p,"; ","stroke-linecap: ",y,"; ","stroke-dashoffset: ",g,"; ","stroke-linejoin: ",_,"; ","stroke-miterlimit: ",w,"; ",L,"fill-rule: ",f,"; ","opacity: ",T,";",P,k].join("")},getSvgSpanStyles:function(c,f){var h="; ",g=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+h:"",p=c.strokeWidth?"stroke-width: "+c.strokeWidth+h:"",g=g,y=c.fontSize?"font-size: "+c.fontSize+"px"+h:"",_=c.fontStyle?"font-style: "+c.fontStyle+h:"",w=c.fontWeight?"font-weight: "+c.fontWeight+h:"",T=c.fill?v("fill",c.fill):"",k=c.stroke?v("stroke",c.stroke):"",P=this.getSvgTextDecoration(c),L=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return P&&(P="text-decoration: "+P+h),[k,p,g,y,_,w,P,T,L,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(f){return c[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,f){var h=c?this.calcTransformMatrix():this.calcOwnMatrix(),p='transform="'+d.util.matrixToSVG(h);return p+(f||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var f=d.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',l(-this.width/2,f),'" y="',l(-this.height/2,f),'" width="',l(this.width,f),'" height="',l(this.height,f),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,f){f=f||{};var h=f.reviver,p=f.additionalTransform||"",g=[this.getSvgTransform(!0,p),this.getSvgCommons()].join(""),y=c.indexOf("COMMON_PARTS");return c[y]=g,h?h(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,f){f=f||{};var h=f.noStyle,p=f.reviver,g=h?"":'style="'+this.getSvgStyles()+'" ',y=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",_=this.clipPath,w=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",T=_&&_.absolutePositioned,k=this.stroke,P=this.fill,L=this.shadow,N,F=[],G,H=c.indexOf("COMMON_PARTS"),$=f.additionalTransform;return _&&(_.clipPathId="CLIPPATH_"+d.Object.__uid++,G='<clipPath id="'+_.clipPathId+`" >
`+_.toClipPathSVG(p)+`</clipPath>
`),T&&F.push("<g ",y,this.getSvgCommons(),` >
`),F.push("<g ",this.getSvgTransform(!1),T?"":y+this.getSvgCommons(),` >
`),N=[g,w,h?"":this.addPaintOrder()," ",$?'transform="'+$+'" ':""].join(""),c[H]=N,P&&P.toLive&&F.push(P.toSVG(this)),k&&k.toLive&&F.push(k.toSVG(this)),L&&F.push(L.toSVG(this)),_&&F.push(G),F.push(c.join("")),F.push(`</g>
`),T&&F.push(`</g>
`),p?p(F.join("")):F.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var v=d.util.object.extend,l="stateProperties";function c(h,p,g){var y={},_=!0;g.forEach(function(w){y[w]=h[w]}),v(h[p],y,_)}function f(h,p,g){if(h===p)return!0;if(Array.isArray(h)){if(!Array.isArray(p)||h.length!==p.length)return!1;for(var y=0,_=h.length;y<_;y++)if(!f(h[y],p[y]))return!1;return!0}else if(h&&typeof h=="object"){var w=Object.keys(h),T;if(!p||typeof p!="object"||!g&&w.length!==Object.keys(p).length)return!1;for(var y=0,_=w.length;y<_;y++)if(T=w[y],!(T==="canvas"||T==="group")&&!f(h[T],p[T]))return!1;return!0}}d.util.object.extend(d.Object.prototype,{hasStateChanged:function(h){h=h||l;var p="_"+h;return Object.keys(this[p]).length<this[h].length?!0:!f(this[p],this,!0)},saveState:function(h){var p=h&&h.propertySet||l,g="_"+p;return this[g]?(c(this,g,this[p]),h&&h.stateProperties&&c(this,g,h.stateProperties),this):this.setupState(h)},setupState:function(h){h=h||{};var p=h.propertySet||l;return h.propertySet=p,this["_"+p]={},this.saveState(h),this}})}(),function(){var v=d.util.degreesToRadians;d.util.object.extend(d.Object.prototype,{_findTargetCorner:function(l,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=l.x,h=l.y,p,g,y=Object.keys(this.oCoords),_=y.length-1,w;for(this.__corner=0;_>=0;_--)if(w=y[_],!!this.isControlVisible(w)&&(g=this._getImageLines(c?this.oCoords[w].touchCorner:this.oCoords[w].corner),p=this._findCrossPoints({x:f,y:h},g),p!==0&&p%2===1))return this.__corner=w,w;return!1},forEachControl:function(l){for(var c in this.controls)l(this.controls[c],c,this)},_setCornerCoords:function(){var l=this.oCoords;for(var c in l){var f=this.controls[c];l[c].corner=f.calcCornerCoords(this.angle,this.cornerSize,l[c].x,l[c].y,!1),l[c].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,l[c].x,l[c].y,!0)}},drawSelectionBackground:function(l){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;l.save();var c=this.getCenterPoint(),f=this._calculateCurrentDimensions(),h=this.canvas.viewportTransform;return l.translate(c.x,c.y),l.scale(1/h[0],1/h[3]),l.rotate(v(this.angle)),l.fillStyle=this.selectionBackgroundColor,l.fillRect(-f.x/2,-f.y/2,f.x,f.y),l.restore(),this},drawBorders:function(l,c){c=c||{};var f=this._calculateCurrentDimensions(),h=this.borderScaleFactor,p=f.x+h,g=f.y+h,y=typeof c.hasControls<"u"?c.hasControls:this.hasControls,_=!1;return l.save(),l.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(l,c.borderDashArray||this.borderDashArray),l.strokeRect(-p/2,-g/2,p,g),y&&(l.beginPath(),this.forEachControl(function(w,T,k){w.withConnection&&w.getVisibility(k,T)&&(_=!0,l.moveTo(w.x*p,w.y*g),l.lineTo(w.x*p+w.offsetX,w.y*g+w.offsetY))}),_&&l.stroke()),l.restore(),this},drawBordersInGroup:function(l,c,f){f=f||{};var h=d.util.sizeAfterTransform(this.width,this.height,c),p=this.strokeWidth,g=this.strokeUniform,y=this.borderScaleFactor,_=h.x+p*(g?this.canvas.getZoom():c.scaleX)+y,w=h.y+p*(g?this.canvas.getZoom():c.scaleY)+y;return l.save(),this._setLineDash(l,f.borderDashArray||this.borderDashArray),l.strokeStyle=f.borderColor||this.borderColor,l.strokeRect(-_/2,-w/2,_,w),l.restore(),this},drawControls:function(l,c){c=c||{},l.save();var f=this.canvas.getRetinaScaling(),h,p;return l.setTransform(f,0,0,f,0,0),l.strokeStyle=l.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(l.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(l,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(h=this.group.calcTransformMatrix()),this.forEachControl(function(g,y,_){p=_.oCoords[y],g.getVisibility(_,y)&&(h&&(p=d.util.transformPoint(p,h)),g.render(l,p.x,p.y,c,_))}),l.restore(),this},isControlVisible:function(l){return this.controls[l]&&this.controls[l].getVisibility(this,l)},setControlVisible:function(l,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[l]=c,this},setControlsVisibility:function(l){l||(l={});for(var c in l)this.setControlVisible(c,l[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),d.util.object.extend(d.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(v,l){l=l||{};var c=function(){},f=l.onComplete||c,h=l.onChange||c,p=this;return d.util.animate({startValue:v.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(g){v.set("left",g),p.requestRenderAll(),h()},onComplete:function(){v.setCoords(),f()}}),this},fxCenterObjectV:function(v,l){l=l||{};var c=function(){},f=l.onComplete||c,h=l.onChange||c,p=this;return d.util.animate({startValue:v.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(g){v.set("top",g),p.requestRenderAll(),h()},onComplete:function(){v.setCoords(),f()}}),this},fxRemove:function(v,l){l=l||{};var c=function(){},f=l.onComplete||c,h=l.onChange||c,p=this;return d.util.animate({startValue:v.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(g){v.set("opacity",g),p.requestRenderAll(),h()},onComplete:function(){p.remove(v),f()}}),this}}),d.util.object.extend(d.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var v=[],l,c;for(l in arguments[0])v.push(l);for(var f=0,h=v.length;f<h;f++)l=v[f],c=f!==h-1,this._animate(l,arguments[0][l],arguments[1],c)}else this._animate.apply(this,arguments);return this},_animate:function(v,l,c,f){var h=this,p;l=l.toString(),c?c=d.util.object.clone(c):c={},~v.indexOf(".")&&(p=v.split("."));var g=h.colorProperties.indexOf(v)>-1||p&&h.colorProperties.indexOf(p[1])>-1,y=p?this.get(p[0])[p[1]]:this.get(v);"from"in c||(c.from=y),g||(~l.indexOf("=")?l=y+parseFloat(l.replace("=","")):l=parseFloat(l));var _={startValue:c.from,endValue:l,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(w,T,k){return c.abort.call(h,w,T,k)},onChange:function(w,T,k){p?h[p[0]][p[1]]=w:h.set(v,w),!f&&c.onChange&&c.onChange(w,T,k)},onComplete:function(w,T,k){f||(h.setCoords(),c.onComplete&&c.onComplete(w,T,k))}};return g?d.util.animateColor(_.startValue,_.endValue,_.duration,_):d.util.animate(_)}}),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.util.object.clone,h={x1:1,x2:1,y1:1,y2:1};if(l.Line){l.warn("fabric.Line is already defined");return}l.Line=l.util.createClass(l.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:l.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(g,y){g||(g=[0,0,0,0]),this.callSuper("initialize",y),this.set("x1",g[0]),this.set("y1",g[1]),this.set("x2",g[2]),this.set("y2",g[3]),this._setWidthHeight(y)},_setWidthHeight:function(g){g||(g={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in g?g.left:this._getLeftToOriginX(),this.top="top"in g?g.top:this._getTopToOriginY()},_set:function(g,y){return this.callSuper("_set",g,y),typeof h[g]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:p({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:p({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(g){g.beginPath();var y=this.calcLinePoints();g.moveTo(y.x1,y.y1),g.lineTo(y.x2,y.y2),g.lineWidth=this.strokeWidth;var _=g.strokeStyle;g.strokeStyle=this.stroke||g.fillStyle,this.stroke&&this._renderStroke(g),g.strokeStyle=_},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(g){return c(this.callSuper("toObject",g),this.calcLinePoints())},_getNonTransformedDimensions:function(){var g=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(g.y-=this.strokeWidth),this.height===0&&(g.x-=this.strokeWidth)),g},calcLinePoints:function(){var g=this.x1<=this.x2?-1:1,y=this.y1<=this.y2?-1:1,_=g*this.width*.5,w=y*this.height*.5,T=g*this.width*-.5,k=y*this.height*-.5;return{x1:_,x2:T,y1:w,y2:k}},_toSVG:function(){var g=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,`" />
`]}}),l.Line.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),l.Line.fromElement=function(g,y,_){_=_||{};var w=l.parseAttributes(g,l.Line.ATTRIBUTE_NAMES),T=[w.x1||0,w.y1||0,w.x2||0,w.y2||0];y(new l.Line(T,c(w,_)))},l.Line.fromObject=function(g,y){function _(T){delete T.points,y&&y(T)}var w=f(g,!0);w.points=[g.x1,g.y1,g.x2,g.y2],l.Object._fromObject("Line",w,_,"points")};function p(g,y){var _=g.origin,w=g.axis1,T=g.axis2,k=g.dimension,P=y.nearest,L=y.center,N=y.farthest;return function(){switch(this.get(_)){case P:return Math.min(this.get(w),this.get(T));case L:return Math.min(this.get(w),this.get(T))+.5*this.get(k);case N:return Math.max(this.get(w),this.get(T))}}}}(m),function(v){var l=v.fabric||(v.fabric={}),c=Math.PI;if(l.Circle){l.warn("fabric.Circle is already defined.");return}l.Circle=l.util.createClass(l.Object,{type:"circle",radius:0,startAngle:0,endAngle:c*2,cacheProperties:l.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(h,p){return this.callSuper("_set",h,p),h==="radius"&&this.setRadius(p),this},toObject:function(h){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(h))},_toSVG:function(){var h,p=0,g=0,y=(this.endAngle-this.startAngle)%(2*c);if(y===0)h=["<circle ","COMMON_PARTS",'cx="'+p+'" cy="'+g+'" ','r="',this.radius,`" />
`];else{var _=l.util.cos(this.startAngle)*this.radius,w=l.util.sin(this.startAngle)*this.radius,T=l.util.cos(this.endAngle)*this.radius,k=l.util.sin(this.endAngle)*this.radius,P=y>c?"1":"0";h=['<path d="M '+_+" "+w," A "+this.radius+" "+this.radius," 0 ",+P+" 1"," "+T+" "+k,'" ',"COMMON_PARTS",` />
`]}return h},_render:function(h){h.beginPath(),h.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(h)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(h){return this.radius=h,this.set("width",h*2).set("height",h*2)}}),l.Circle.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),l.Circle.fromElement=function(h,p){var g=l.parseAttributes(h,l.Circle.ATTRIBUTE_NAMES);if(!f(g))throw new Error("value of `r` attribute is required and can not be negative");g.left=(g.left||0)-g.radius,g.top=(g.top||0)-g.radius,p(new l.Circle(g))};function f(h){return"radius"in h&&h.radius>=0}l.Circle.fromObject=function(h,p){l.Object._fromObject("Circle",h,p)}}(m),function(v){var l=v.fabric||(v.fabric={});if(l.Triangle){l.warn("fabric.Triangle is already defined");return}l.Triangle=l.util.createClass(l.Object,{type:"triangle",width:100,height:100,_render:function(c){var f=this.width/2,h=this.height/2;c.beginPath(),c.moveTo(-f,h),c.lineTo(0,-h),c.lineTo(f,h),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,f=this.height/2,h=[-c+" "+f,"0 "+-f,c+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',h,'" />']}}),l.Triangle.fromObject=function(c,f){return l.Object._fromObject("Triangle",c,f)}}(m),function(v){var l=v.fabric||(v.fabric={}),c=Math.PI*2;if(l.Ellipse){l.warn("fabric.Ellipse is already defined.");return}l.Ellipse=l.util.createClass(l.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:l.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,h){switch(this.callSuper("_set",f,h),f){case"rx":this.rx=h,this.set("width",h*2);break;case"ry":this.ry=h,this.set("height",h*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,c,!1),f.restore(),this._renderPaintInOrder(f)}}),l.Ellipse.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),l.Ellipse.fromElement=function(f,h){var p=l.parseAttributes(f,l.Ellipse.ATTRIBUTE_NAMES);p.left=(p.left||0)-p.rx,p.top=(p.top||0)-p.ry,h(new l.Ellipse(p))},l.Ellipse.fromObject=function(f,h){l.Object._fromObject("Ellipse",f,h)}}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend;if(l.Rect){l.warn("fabric.Rect is already defined");return}l.Rect=l.util.createClass(l.Object,{stateProperties:l.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:l.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var h=this.rx?Math.min(this.rx,this.width/2):0,p=this.ry?Math.min(this.ry,this.height/2):0,g=this.width,y=this.height,_=-this.width/2,w=-this.height/2,T=h!==0||p!==0,k=1-.5522847498;f.beginPath(),f.moveTo(_+h,w),f.lineTo(_+g-h,w),T&&f.bezierCurveTo(_+g-k*h,w,_+g,w+k*p,_+g,w+p),f.lineTo(_+g,w+y-p),T&&f.bezierCurveTo(_+g,w+y-k*p,_+g-k*h,w+y,_+g-h,w+y),f.lineTo(_+h,w+y),T&&f.bezierCurveTo(_+k*h,w+y,_,w+y-k*p,_,w+y-p),f.lineTo(_,w+p),T&&f.bezierCurveTo(_,w+k*p,_+k*h,w,_+h,w),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,h=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',h,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),l.Rect.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),l.Rect.fromElement=function(f,h,p){if(!f)return h(null);p=p||{};var g=l.parseAttributes(f,l.Rect.ATTRIBUTE_NAMES);g.left=g.left||0,g.top=g.top||0,g.height=g.height||0,g.width=g.width||0;var y=new l.Rect(c(p?l.util.object.clone(p):{},g));y.visible=y.visible&&y.width>0&&y.height>0,h(y)},l.Rect.fromObject=function(f,h){return l.Object._fromObject("Rect",f,h)}}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.util.array.min,h=l.util.array.max,p=l.util.toFixed;if(l.Polyline){l.warn("fabric.Polyline is already defined");return}l.Polyline=l.util.createClass(l.Object,{type:"polyline",points:null,cacheProperties:l.Object.prototype.cacheProperties.concat("points"),initialize:function(g,y){y=y||{},this.points=g||[],this.callSuper("initialize",y),this._setPositionDimensions(y)},_setPositionDimensions:function(g){var y=this._calcDimensions(g),_;this.width=y.width,this.height=y.height,g.fromSVG||(_=this.translateToGivenOrigin({x:y.left-this.strokeWidth/2,y:y.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof g.left>"u"&&(this.left=g.fromSVG?y.left:_.x),typeof g.top>"u"&&(this.top=g.fromSVG?y.top:_.y),this.pathOffset={x:y.left+this.width/2,y:y.top+this.height/2}},_calcDimensions:function(){var g=this.points,y=f(g,"x")||0,_=f(g,"y")||0,w=h(g,"x")||0,T=h(g,"y")||0,k=w-y,P=T-_;return{left:y,top:_,width:k,height:P}},toObject:function(g){return c(this.callSuper("toObject",g),{points:this.points.concat()})},_toSVG:function(){for(var g=[],y=this.pathOffset.x,_=this.pathOffset.y,w=l.Object.NUM_FRACTION_DIGITS,T=0,k=this.points.length;T<k;T++)g.push(p(this.points[T].x-y,w),",",p(this.points[T].y-_,w)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',g.join(""),`" />
`]},commonRender:function(g){var y,_=this.points.length,w=this.pathOffset.x,T=this.pathOffset.y;if(!_||isNaN(this.points[_-1].y))return!1;g.beginPath(),g.moveTo(this.points[0].x-w,this.points[0].y-T);for(var k=0;k<_;k++)y=this.points[k],g.lineTo(y.x-w,y.y-T);return!0},_render:function(g){this.commonRender(g)&&this._renderPaintInOrder(g)},complexity:function(){return this.get("points").length}}),l.Polyline.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat(),l.Polyline.fromElementGenerator=function(g){return function(y,_,w){if(!y)return _(null);w||(w={});var T=l.parsePointsAttribute(y.getAttribute("points")),k=l.parseAttributes(y,l[g].ATTRIBUTE_NAMES);k.fromSVG=!0,_(new l[g](T,c(k,w)))}},l.Polyline.fromElement=l.Polyline.fromElementGenerator("Polyline"),l.Polyline.fromObject=function(g,y){return l.Object._fromObject("Polyline",g,y,"points")}}(m),function(v){var l=v.fabric||(v.fabric={});if(l.Polygon){l.warn("fabric.Polygon is already defined");return}l.Polygon=l.util.createClass(l.Polyline,{type:"polygon",_render:function(c){this.commonRender(c)&&(c.closePath(),this._renderPaintInOrder(c))}}),l.Polygon.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat(),l.Polygon.fromElement=l.Polyline.fromElementGenerator("Polygon"),l.Polygon.fromObject=function(c,f){l.Object._fromObject("Polygon",c,f,"points")}}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.array.min,f=l.util.array.max,h=l.util.object.extend,p=Object.prototype.toString,g=l.util.toFixed;if(l.Path){l.warn("fabric.Path is already defined");return}l.Path=l.util.createClass(l.Object,{type:"path",path:null,cacheProperties:l.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:l.Object.prototype.stateProperties.concat("path"),initialize:function(y,_){_=_||{},this.callSuper("initialize",_),y||(y=[]);var w=p.call(y)==="[object Array]";this.path=l.util.makePathSimpler(w?y:l.util.parsePath(y)),this.path&&l.Polyline.prototype._setPositionDimensions.call(this,_)},_renderPathCommands:function(y){var _,w=0,T=0,k=0,P=0,L=0,N=0,F=-this.pathOffset.x,G=-this.pathOffset.y;y.beginPath();for(var H=0,$=this.path.length;H<$;++H)switch(_=this.path[H],_[0]){case"L":k=_[1],P=_[2],y.lineTo(k+F,P+G);break;case"M":k=_[1],P=_[2],w=k,T=P,y.moveTo(k+F,P+G);break;case"C":k=_[5],P=_[6],L=_[3],N=_[4],y.bezierCurveTo(_[1]+F,_[2]+G,L+F,N+G,k+F,P+G);break;case"Q":y.quadraticCurveTo(_[1]+F,_[2]+G,_[3]+F,_[4]+G),k=_[3],P=_[4],L=_[1],N=_[2];break;case"z":case"Z":k=w,P=T,y.closePath();break}},_render:function(y){this._renderPathCommands(y),this._renderPaintInOrder(y)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(y){return h(this.callSuper("toObject",y),{path:this.path.map(function(_){return _.slice()})})},toDatalessObject:function(y){var _=this.toObject(["sourcePath"].concat(y));return _.sourcePath&&delete _.path,_},_toSVG:function(){var y=l.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',y,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var y=l.Object.NUM_FRACTION_DIGITS;return" translate("+g(-this.pathOffset.x,y)+", "+g(-this.pathOffset.y,y)+")"},toClipPathSVG:function(y){var _=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:y,additionalTransform:_})},toSVG:function(y){var _=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:y,additionalTransform:_})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var y=[],_=[],w,T=0,k=0,P=0,L=0,N,F=0,G=this.path.length;F<G;++F){switch(w=this.path[F],w[0]){case"L":P=w[1],L=w[2],N=[];break;case"M":P=w[1],L=w[2],T=P,k=L,N=[];break;case"C":N=l.util.getBoundsOfCurve(P,L,w[1],w[2],w[3],w[4],w[5],w[6]),P=w[5],L=w[6];break;case"Q":N=l.util.getBoundsOfCurve(P,L,w[1],w[2],w[1],w[2],w[3],w[4]),P=w[3],L=w[4];break;case"z":case"Z":P=T,L=k;break}N.forEach(function(be){y.push(be.x),_.push(be.y)}),y.push(P),_.push(L)}var H=c(y)||0,$=c(_)||0,re=f(y)||0,le=f(_)||0,xe=re-H,ee=le-$;return{left:H,top:$,width:xe,height:ee}}}),l.Path.fromObject=function(y,_){if(typeof y.sourcePath=="string"){var w=y.sourcePath;l.loadSVGFromURL(w,function(T){var k=T[0];k.setOptions(y),_&&_(k)})}else l.Object._fromObject("Path",y,_,"path")},l.Path.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat(["d"]),l.Path.fromElement=function(y,_,w){var T=l.parseAttributes(y,l.Path.ATTRIBUTE_NAMES);T.fromSVG=!0,_(new l.Path(T.d,h(T,w)))}}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.array.min,f=l.util.array.max;l.Group||(l.Group=l.util.createClass(l.Object,l.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(h,p,g){p=p||{},this._objects=[],g&&this.callSuper("initialize",p),this._objects=h||[];for(var y=this._objects.length;y--;)this._objects[y].group=this;if(g)this._updateObjectsACoords();else{var _=p&&p.centerPoint;p.originX!==void 0&&(this.originX=p.originX),p.originY!==void 0&&(this.originY=p.originY),_||this._calcBounds(),this._updateObjectsCoords(_),delete p.centerPoint,this.callSuper("initialize",p)}this.setCoords()},_updateObjectsACoords:function(){for(var h=!0,p=this._objects.length;p--;)this._objects[p].setCoords(h)},_updateObjectsCoords:function(p){for(var p=p||this.getCenterPoint(),g=this._objects.length;g--;)this._updateObjectCoords(this._objects[g],p)},_updateObjectCoords:function(h,p){var g=h.left,y=h.top,_=!0;h.set({left:g-p.x,top:y-p.y}),h.group=this,h.setCoords(_)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(h){var p=!!this.group;return this._restoreObjectsState(),l.util.resetObjectTransform(this),h&&(p&&l.util.removeTransformFromObject(h,this.group.calcTransformMatrix()),this._objects.push(h),h.group=this,h._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,p?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(h){return this._restoreObjectsState(),l.util.resetObjectTransform(this),this.remove(h),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(h){this.dirty=!0,h.group=this,h._set("canvas",this.canvas)},_onObjectRemoved:function(h){this.dirty=!0,delete h.group},_set:function(h,p){var g=this._objects.length;if(this.useSetOnGroup)for(;g--;)this._objects[g].setOnGroup(h,p);if(h==="canvas")for(;g--;)this._objects[g]._set(h,p);l.Object.prototype._set.call(this,h,p)},toObject:function(h){var p=this.includeDefaultValues,g=this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){var w=_.includeDefaultValues;_.includeDefaultValues=p;var T=_.toObject(h);return _.includeDefaultValues=w,T}),y=l.Object.prototype.toObject.call(this,h);return y.objects=g,y},toDatalessObject:function(h){var p,g=this.sourcePath;if(g)p=g;else{var y=this.includeDefaultValues;p=this._objects.map(function(w){var T=w.includeDefaultValues;w.includeDefaultValues=y;var k=w.toDatalessObject(h);return w.includeDefaultValues=T,k})}var _=l.Object.prototype.toDatalessObject.call(this,h);return _.objects=p,_},render:function(h){this._transformDone=!0,this.callSuper("render",h),this._transformDone=!1},shouldCache:function(){var h=l.Object.prototype.shouldCache.call(this);if(h){for(var p=0,g=this._objects.length;p<g;p++)if(this._objects[p].willDrawShadow())return this.ownCaching=!1,!1}return h},willDrawShadow:function(){if(l.Object.prototype.willDrawShadow.call(this))return!0;for(var h=0,p=this._objects.length;h<p;h++)if(this._objects[h].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(h){for(var p=0,g=this._objects.length;p<g;p++)this._objects[p].render(h);this._drawClipPath(h)},isCacheDirty:function(h){if(this.callSuper("isCacheDirty",h))return!0;if(!this.statefullCache)return!1;for(var p=0,g=this._objects.length;p<g;p++)if(this._objects[p].isCacheDirty(!0)){if(this._cacheCanvas){var y=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-_/2,y,_)}return!0}return!1},_restoreObjectsState:function(){var h=this.calcOwnMatrix();return this._objects.forEach(function(p){l.util.addTransformToObject(p,h),delete p.group,p.setCoords()}),this},realizeTransform:function(h,p){return l.util.addTransformToObject(h,p),h},destroy:function(){return this._objects.forEach(function(h){h.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var h=this._objects,p=this.canvas;this._objects=[];var g=this.toObject();delete g.objects;var y=new l.ActiveSelection([]);return y.set(g),y.type="activeSelection",p.remove(this),h.forEach(function(_){_.group=y,_.dirty=!0,p.add(_)}),y.canvas=p,y._objects=h,p._activeObject=y,y.setCoords(),y}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var h=!0;return this.forEachObject(function(p){p.setCoords(h)}),this},_calcBounds:function(h){for(var p=[],g=[],y,_,w,T=["tr","br","bl","tl"],k=0,P=this._objects.length,L,N=T.length;k<P;++k){for(y=this._objects[k],w=y.calcACoords(),L=0;L<N;L++)_=T[L],p.push(w[_].x),g.push(w[_].y);y.aCoords=w}this._getBounds(p,g,h)},_getBounds:function(h,p,g){var y=new l.Point(c(h),c(p)),_=new l.Point(f(h),f(p)),w=y.y||0,T=y.x||0,k=_.x-y.x||0,P=_.y-y.y||0;this.width=k,this.height=P,g||this.setPositionByOrigin({x:T,y:w},"left","top")},_toSVG:function(h){for(var p=["<g ","COMMON_PARTS",` >
`],g=0,y=this._objects.length;g<y;g++)p.push("		",this._objects[g].toSVG(h));return p.push(`</g>
`),p},getSvgStyles:function(){var h=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",p=this.visible?"":" visibility: hidden;";return[h,this.getSvgFilter(),p].join("")},toClipPathSVG:function(h){for(var p=[],g=0,y=this._objects.length;g<y;g++)p.push("	",this._objects[g].toClipPathSVG(h));return this._createBaseClipPathSVGMarkup(p,{reviver:h})}}),l.Group.fromObject=function(h,p){var g=h.objects,y=l.util.object.clone(h,!0);if(delete y.objects,typeof g=="string"){l.loadSVGFromURL(g,function(_){var w=l.util.groupSVGElements(_,h,g);w.set(y),p&&p(w)});return}l.util.enlivenObjects(g,function(_){l.util.enlivenObjects([h.clipPath],function(w){var T=l.util.object.clone(h,!0);T.clipPath=w[0],delete T.objects,p&&p(new l.Group(_,T,!0))})})})}(m),function(v){var l=v.fabric||(v.fabric={});l.ActiveSelection||(l.ActiveSelection=l.util.createClass(l.Group,{type:"activeSelection",initialize:function(c,f){f=f||{},this._objects=c||[];for(var h=this._objects.length;h--;)this._objects[h].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),l.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var f=l.Object.prototype.toObject.call(this),h=new l.Group([]);if(delete f.type,h.set(f),c.forEach(function(g){g.canvas.remove(g),g.group=h}),h._objects=c,!this.canvas)return h;var p=this.canvas;return p.add(h),p._activeObject=h,h.setCoords(),h},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,f,h){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,f),h=h||{},typeof h.hasControls>"u"&&(h.hasControls=!1),h.forActiveSelection=!0;for(var p=0,g=this._objects.length;p<g;p++)this._objects[p]._renderControls(c,h);c.restore()}}),l.ActiveSelection.fromObject=function(c,f){l.util.enlivenObjects(c.objects,function(h){delete c.objects,f&&f(new l.ActiveSelection(h,c,!0))})})}(m),function(v){var l=d.util.object.extend;if(v.fabric||(v.fabric={}),v.fabric.Image){d.warn("fabric.Image is already defined.");return}d.Image=d.util.createClass(d.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:d.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:d.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,f){f||(f={}),this.filters=[],this.cacheKey="texture"+d.Object.__uid++,this.callSuper("initialize",f),this._initElement(c,f)},getElement:function(){return this._element||{}},setElement:function(c,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var f=d.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(c)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(c){d.util.cleanUpJsdomNode(this[c]),this[c]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,h=this.height/2;c.beginPath(),c.moveTo(-f,-h),c.lineTo(f,-h),c.lineTo(f,h),c.lineTo(-f,h),c.lineTo(-f,-h),c.closePath()}},toObject:function(c){var f=[];this.filters.forEach(function(p){p&&f.push(p.toObject())});var h=l(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(h.resizeFilter=this.resizeFilter.toObject()),h},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],f=[],h,p=this._element,g=-this.width/2,y=-this.height/2,_="",w="";if(!p)return[];if(this.hasCrop()){var T=d.Object.__uid++;c.push('<clipPath id="imageCrop_'+T+`">
`,'	<rect x="'+g+'" y="'+y+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),_=' clip-path="url(#imageCrop_'+T+')" '}if(this.imageSmoothing||(w='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',g-this.cropX,'" y="',y-this.cropY,'" width="',p.width||p.naturalWidth,'" height="',p.height||p.height,w,'"',_,`></image>
`),this.stroke||this.strokeDashArray){var k=this.fill;this.fill=null,h=["	<rect ",'x="',g,'" y="',y,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=k}return this.paintFirst!=="fill"?c=c.concat(h,f):c=c.concat(f,h),c},getSrc:function(c){var f=c?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(c,f,h){return d.util.loadImage(c,function(p,g){this.setElement(p,h),this._setWidthHeight(),f&&f(this,g)},this,h&&h.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,f=this.minimumScaleTrigger,h=this.getTotalObjectScaling(),p=h.scaleX,g=h.scaleY,y=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||p>f&&g>f){this._element=y,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=p,this._lastScaleY=g;return}d.filterBackend||(d.filterBackend=d.initFilterBackend());var _=d.util.createCanvasElement(),w=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,T=y.width,k=y.height;_.width=T,_.height=k,this._element=_,this._lastScaleX=c.scaleX=p,this._lastScaleY=c.scaleY=g,d.filterBackend.applyFilters([c],y,T,k,this._element,w),this._filterScalingX=_.width/this._originalElement.width,this._filterScalingY=_.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(y){return y&&!y.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,h=f.naturalWidth||f.width,p=f.naturalHeight||f.height;if(this._element===this._originalElement){var g=d.util.createCanvasElement();g.width=h,g.height=p,this._element=g,this._filteredEl=g}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,h,p),this._lastScaleX=1,this._lastScaleY=1;return d.filterBackend||(d.filterBackend=d.initFilterBackend()),d.filterBackend.applyFilters(c,this._originalElement,h,p,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){d.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){d.util.setImageSmoothing(c,this.imageSmoothing),d.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var f=this._element;if(f){var h=this._filterScalingX,p=this._filterScalingY,g=this.width,y=this.height,_=Math.min,w=Math.max,T=w(this.cropX,0),k=w(this.cropY,0),P=f.naturalWidth||f.width,L=f.naturalHeight||f.height,N=T*h,F=k*p,G=_(g*h,P-N),H=_(y*p,L-F),$=-g/2,re=-y/2,le=_(g,P/h-T),xe=_(y,L/p-k);f&&c.drawImage(f,N,F,G,H,$,re,le,xe)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,f){this.setElement(d.util.getById(c),f),d.util.addClass(this.getElement(),d.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,f){c&&c.length?d.util.enlivenObjects(c,function(h){f&&f(h)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(c){c||(c={});var f=this.getElement();this.width=c.width||f.naturalWidth||f.width||0,this.height=c.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var c=d.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,h=this._element.height,p=1,g=1,y=0,_=0,w=0,T=0,k,P=this.width,L=this.height,N={width:P,height:L};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(p=g=d.util.findScaleToFit(this._element,N),k=(P-f*p)/2,c.alignX==="Min"&&(y=-k),c.alignX==="Max"&&(y=k),k=(L-h*g)/2,c.alignY==="Min"&&(_=-k),c.alignY==="Max"&&(_=k)),c.meetOrSlice==="slice"&&(p=g=d.util.findScaleToCover(this._element,N),k=f-P/p,c.alignX==="Mid"&&(w=k/2),c.alignX==="Max"&&(w=k),k=h-L/g,c.alignY==="Mid"&&(T=k/2),c.alignY==="Max"&&(T=k),f=P/p,h=L/g)):(p=P/f,g=L/h),{width:f,height:h,scaleX:p,scaleY:g,offsetLeft:y,offsetTop:_,cropX:w,cropY:T}}}),d.Image.CSS_CANVAS="canvas-img",d.Image.prototype.getSvgSrc=d.Image.prototype.getSrc,d.Image.fromObject=function(c,f){var h=d.util.object.clone(c);d.util.loadImage(h.src,function(p,g){if(g){f&&f(null,!0);return}d.Image.prototype._initFilters.call(h,h.filters,function(y){h.filters=y||[],d.Image.prototype._initFilters.call(h,[h.resizeFilter],function(_){h.resizeFilter=_[0],d.util.enlivenObjects([h.clipPath],function(w){h.clipPath=w[0];var T=new d.Image(p,h);f(T,!1)})})})},null,h.crossOrigin)},d.Image.fromURL=function(c,f,h){d.util.loadImage(c,function(p,g){f&&f(new d.Image(p,h),g)},null,h&&h.crossOrigin)},d.Image.ATTRIBUTE_NAMES=d.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),d.Image.fromElement=function(c,f,h){var p=d.parseAttributes(c,d.Image.ATTRIBUTE_NAMES);d.Image.fromURL(p["xlink:href"],f,l(h?d.util.object.clone(h):{},p))}}(m),d.util.object.extend(d.Object.prototype,{_getAngleValueForStraighten:function(){var v=this.angle%360;return v>0?Math.round((v-1)/90)*90:Math.round(v/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(v){v=v||{};var l=function(){},c=v.onComplete||l,f=v.onChange||l,h=this;return d.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(p){h.rotate(p),f()},onComplete:function(){h.setCoords(),c()}}),this}}),d.util.object.extend(d.StaticCanvas.prototype,{straightenObject:function(v){return v.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(v){return v.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function v(c,f){var h="precision "+f+` float;
void main(){}`,p=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(p,h),c.compileShader(p),!!c.getShaderParameter(p,c.COMPILE_STATUS)}d.isWebglSupported=function(c){if(d.isLikelyNode)return!1;c=c||d.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),h=f.getContext("webgl")||f.getContext("experimental-webgl"),p=!1;if(h){d.maxTextureSize=h.getParameter(h.MAX_TEXTURE_SIZE),p=d.maxTextureSize>=c;for(var g=["highp","mediump","lowp"],y=0;y<3;y++)if(v(h,g[y])){d.webGlPrecision=g[y];break}}return this.isSupported=p,p},d.WebglFilterBackend=l;function l(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}l.prototype={tileSize:2048,resources:{},setupGLContext:function(c,f){this.dispose(),this.createWebGLCanvas(c,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,f)},chooseFastestCopyGLTo2DMethod:function(c,f){var h=typeof window.performance<"u",p;try{new ImageData(1,1),p=!0}catch{p=!1}var g=typeof ArrayBuffer<"u",y=typeof Uint8ClampedArray<"u";if(h&&p&&g&&y){var _=d.util.createCanvasElement(),w=new ArrayBuffer(c*f*4);if(d.forceGLPutImageData){this.imageBuffer=w,this.copyGLTo2D=D;return}var T={imageBuffer:w,destinationWidth:c,destinationHeight:f,targetCanvas:_},k,P,L;_.width=c,_.height=f,k=window.performance.now(),A.call(T,this.gl,T),P=window.performance.now()-k,k=window.performance.now(),D.call(T,this.gl,T),L=window.performance.now()-k,P>L?(this.imageBuffer=w,this.copyGLTo2D=D):this.copyGLTo2D=A}},createWebGLCanvas:function(c,f){var h=d.util.createCanvasElement();h.width=c,h.height=f;var p={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},g=h.getContext("webgl",p);g||(g=h.getContext("experimental-webgl",p)),g&&(g.clearColor(0,0,0,0),this.canvas=h,this.gl=g)},applyFilters:function(c,f,h,p,g,y){var _=this.gl,w;y&&(w=this.getCachedTexture(y,f));var T={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:h,sourceHeight:p,destinationWidth:h,destinationHeight:p,context:_,sourceTexture:this.createTexture(_,h,p,!w&&f),targetTexture:this.createTexture(_,h,p),originalTexture:w||this.createTexture(_,h,p,!w&&f),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:g},k=_.createFramebuffer();return _.bindFramebuffer(_.FRAMEBUFFER,k),c.forEach(function(P){P&&P.applyTo(T)}),O(T),this.copyGLTo2D(_,T),_.bindTexture(_.TEXTURE_2D,null),_.deleteTexture(T.sourceTexture),_.deleteTexture(T.targetTexture),_.deleteFramebuffer(k),g.getContext("2d").setTransform(1,0,0,1,0,0),T},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,f,h,p){var g=c.createTexture();return c.bindTexture(c.TEXTURE_2D,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),p?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,p):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,h,0,c.RGBA,c.UNSIGNED_BYTE,null),g},getCachedTexture:function(c,f){if(this.textureCache[c])return this.textureCache[c];var h=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[c]=h,h},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:A,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,f={renderer:"",vendor:""};if(!c)return f;var h=c.getExtension("WEBGL_debug_renderer_info");if(h){var p=c.getParameter(h.UNMASKED_RENDERER_WEBGL),g=c.getParameter(h.UNMASKED_VENDOR_WEBGL);p&&(f.renderer=p.toLowerCase()),g&&(f.vendor=g.toLowerCase())}return this.gpuInfo=f,f}}}();function O(v){var l=v.targetCanvas,c=l.width,f=l.height,h=v.destinationWidth,p=v.destinationHeight;(c!==h||f!==p)&&(l.width=h,l.height=p)}function A(v,l){var c=v.canvas,f=l.targetCanvas,h=f.getContext("2d");h.translate(0,f.height),h.scale(1,-1);var p=c.height-f.height;h.drawImage(c,0,p,f.width,f.height,0,0,f.width,f.height)}function D(v,l){var c=l.targetCanvas,f=c.getContext("2d"),h=l.destinationWidth,p=l.destinationHeight,g=h*p*4,y=new Uint8Array(this.imageBuffer,0,g),_=new Uint8ClampedArray(this.imageBuffer,0,g);v.readPixels(0,0,h,p,v.RGBA,v.UNSIGNED_BYTE,y);var w=new ImageData(_,h,p);f.putImageData(w,0,0)}(function(){var v=function(){};d.Canvas2dFilterBackend=l;function l(){}l.prototype={evictCachesForKey:v,dispose:v,clearWebGLCaches:v,resources:{},applyFilters:function(c,f,h,p,g){var y=g.getContext("2d");y.drawImage(f,0,0,h,p);var _=y.getImageData(0,0,h,p),w=y.getImageData(0,0,h,p),T={sourceWidth:h,sourceHeight:p,imageData:_,originalEl:f,originalImageData:w,canvasEl:g,ctx:y,filterBackend:this};return c.forEach(function(k){k.applyTo(T)}),(T.imageData.width!==h||T.imageData.height!==p)&&(g.width=T.imageData.width,g.height=T.imageData.height),y.putImageData(T.imageData,0,0),T}}})(),d.Image=d.Image||{},d.Image.filters=d.Image.filters||{},d.Image.filters.BaseFilter=d.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(v){v&&this.setOptions(v)},setOptions:function(v){for(var l in v)this[l]=v[l]},createProgram:function(v,l,c){l=l||this.fragmentSource,c=c||this.vertexSource,d.webGlPrecision!=="highp"&&(l=l.replace(/precision highp float/g,"precision "+d.webGlPrecision+" float"));var f=v.createShader(v.VERTEX_SHADER);if(v.shaderSource(f,c),v.compileShader(f),!v.getShaderParameter(f,v.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+v.getShaderInfoLog(f));var h=v.createShader(v.FRAGMENT_SHADER);if(v.shaderSource(h,l),v.compileShader(h),!v.getShaderParameter(h,v.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+v.getShaderInfoLog(h));var p=v.createProgram();if(v.attachShader(p,f),v.attachShader(p,h),v.linkProgram(p),!v.getProgramParameter(p,v.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+v.getProgramInfoLog(p));var g=this.getAttributeLocations(v,p),y=this.getUniformLocations(v,p)||{};return y.uStepW=v.getUniformLocation(p,"uStepW"),y.uStepH=v.getUniformLocation(p,"uStepH"),{program:p,attributeLocations:g,uniformLocations:y}},getAttributeLocations:function(v,l){return{aPosition:v.getAttribLocation(l,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(v,l,c){var f=l.aPosition,h=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,h),v.enableVertexAttribArray(f),v.vertexAttribPointer(f,2,v.FLOAT,!1,0,0),v.bufferData(v.ARRAY_BUFFER,c,v.STATIC_DRAW)},_setupFrameBuffer:function(v){var l=v.context,c,f;v.passes>1?(c=v.destinationWidth,f=v.destinationHeight,(v.sourceWidth!==c||v.sourceHeight!==f)&&(l.deleteTexture(v.targetTexture),v.targetTexture=v.filterBackend.createTexture(l,c,f)),l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,v.targetTexture,0)):(l.bindFramebuffer(l.FRAMEBUFFER,null),l.finish())},_swapTextures:function(v){v.passes--,v.pass++;var l=v.targetTexture;v.targetTexture=v.sourceTexture,v.sourceTexture=l},isNeutralState:function(){var v=this.mainParameter,l=d.Image.filters[this.type].prototype;if(v)if(Array.isArray(l[v])){for(var c=l[v].length;c--;)if(this[v][c]!==l[v][c])return!1;return!0}else return l[v]===this[v];else return!1},applyTo:function(v){v.webgl?(this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v)):this.applyTo2d(v)},retrieveShader:function(v){return v.programCache.hasOwnProperty(this.type)||(v.programCache[this.type]=this.createProgram(v.context)),v.programCache[this.type]},applyToWebGL:function(v){var l=v.context,c=this.retrieveShader(v);v.pass===0&&v.originalTexture?l.bindTexture(l.TEXTURE_2D,v.originalTexture):l.bindTexture(l.TEXTURE_2D,v.sourceTexture),l.useProgram(c.program),this.sendAttributeData(l,c.attributeLocations,v.aPosition),l.uniform1f(c.uniformLocations.uStepW,1/v.sourceWidth),l.uniform1f(c.uniformLocations.uStepH,1/v.sourceHeight),this.sendUniformData(l,c.uniformLocations),l.viewport(0,0,v.destinationWidth,v.destinationHeight),l.drawArrays(l.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(v,l,c){v.activeTexture(c),v.bindTexture(v.TEXTURE_2D,l),v.activeTexture(v.TEXTURE0)},unbindAdditionalTexture:function(v,l){v.activeTexture(l),v.bindTexture(v.TEXTURE_2D,null),v.activeTexture(v.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(v){this[this.mainParameter]=v},sendUniformData:function(){},createHelpLayer:function(v){if(!v.helpLayer){var l=document.createElement("canvas");l.width=v.sourceWidth,l.height=v.sourceHeight,v.helpLayer=l}},toObject:function(){var v={type:this.type},l=this.mainParameter;return l&&(v[l]=this[l]),v},toJSON:function(){return this.toObject()}}),d.Image.filters.BaseFilter.fromObject=function(v,l){var c=new d.Image.filters[v.type](v);return l&&l(c),c},function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.ColorMatrix=f(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(h){this.callSuper("initialize",h),this.matrix=this.matrix.slice(0)},applyTo2d:function(h){var p=h.imageData,g=p.data,y=g.length,_=this.matrix,w,T,k,P,L,N=this.colorsOnly;for(L=0;L<y;L+=4)w=g[L],T=g[L+1],k=g[L+2],N?(g[L]=w*_[0]+T*_[1]+k*_[2]+_[4]*255,g[L+1]=w*_[5]+T*_[6]+k*_[7]+_[9]*255,g[L+2]=w*_[10]+T*_[11]+k*_[12]+_[14]*255):(P=g[L+3],g[L]=w*_[0]+T*_[1]+k*_[2]+P*_[3]+_[4]*255,g[L+1]=w*_[5]+T*_[6]+k*_[7]+P*_[8]+_[9]*255,g[L+2]=w*_[10]+T*_[11]+k*_[12]+P*_[13]+_[14]*255,g[L+3]=w*_[15]+T*_[16]+k*_[17]+P*_[18]+_[19]*255)},getUniformLocations:function(h,p){return{uColorMatrix:h.getUniformLocation(p,"uColorMatrix"),uConstants:h.getUniformLocation(p,"uConstants")}},sendUniformData:function(h,p){var g=this.matrix,y=[g[0],g[1],g[2],g[3],g[5],g[6],g[7],g[8],g[10],g[11],g[12],g[13],g[15],g[16],g[17],g[18]],_=[g[4],g[9],g[14],g[19]];h.uniformMatrix4fv(p.uColorMatrix,!1,y),h.uniform4fv(p.uConstants,_)}}),l.Image.filters.ColorMatrix.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Brightness=f(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(h){if(this.brightness!==0){var p=h.imageData,g=p.data,y,_=g.length,w=Math.round(this.brightness*255);for(y=0;y<_;y+=4)g[y]=g[y]+w,g[y+1]=g[y+1]+w,g[y+2]=g[y+2]+w}},getUniformLocations:function(h,p){return{uBrightness:h.getUniformLocation(p,"uBrightness")}},sendUniformData:function(h,p){h.uniform1f(p.uBrightness,this.brightness)}}),l.Image.filters.Brightness.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.Image.filters,h=l.util.createClass;f.Convolute=h(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(p){var g=Math.sqrt(this.matrix.length),y=this.type+"_"+g+"_"+(this.opaque?1:0),_=this.fragmentSource[y];return p.programCache.hasOwnProperty(y)||(p.programCache[y]=this.createProgram(p.context,_)),p.programCache[y]},applyTo2d:function(p){var g=p.imageData,y=g.data,_=this.matrix,w=Math.round(Math.sqrt(_.length)),T=Math.floor(w/2),k=g.width,P=g.height,L=p.ctx.createImageData(k,P),N=L.data,F=this.opaque?1:0,G,H,$,re,le,xe,ee,be,K,Oe,_e,fe,J;for(_e=0;_e<P;_e++)for(Oe=0;Oe<k;Oe++){for(le=(_e*k+Oe)*4,G=0,H=0,$=0,re=0,J=0;J<w;J++)for(fe=0;fe<w;fe++)ee=_e+J-T,xe=Oe+fe-T,!(ee<0||ee>=P||xe<0||xe>=k)&&(be=(ee*k+xe)*4,K=_[J*w+fe],G+=y[be]*K,H+=y[be+1]*K,$+=y[be+2]*K,F||(re+=y[be+3]*K));N[le]=G,N[le+1]=H,N[le+2]=$,F?N[le+3]=y[le+3]:N[le+3]=re}p.imageData=L},getUniformLocations:function(p,g){return{uMatrix:p.getUniformLocation(g,"uMatrix"),uOpaque:p.getUniformLocation(g,"uOpaque"),uHalfSize:p.getUniformLocation(g,"uHalfSize"),uSize:p.getUniformLocation(g,"uSize")}},sendUniformData:function(p,g){p.uniform1fv(g.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),l.Image.filters.Convolute.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Grayscale=f(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(h){var p=h.imageData,g=p.data,y,_=g.length,w,T=this.mode;for(y=0;y<_;y+=4)T==="average"?w=(g[y]+g[y+1]+g[y+2])/3:T==="lightness"?w=(Math.min(g[y],g[y+1],g[y+2])+Math.max(g[y],g[y+1],g[y+2]))/2:T==="luminosity"&&(w=.21*g[y]+.72*g[y+1]+.07*g[y+2]),g[y]=w,g[y+1]=w,g[y+2]=w},retrieveShader:function(h){var p=this.type+"_"+this.mode;if(!h.programCache.hasOwnProperty(p)){var g=this.fragmentSource[this.mode];h.programCache[p]=this.createProgram(h.context,g)}return h.programCache[p]},getUniformLocations:function(h,p){return{uMode:h.getUniformLocation(p,"uMode")}},sendUniformData:function(h,p){var g=1;h.uniform1i(p.uMode,g)},isNeutralState:function(){return!1}}),l.Image.filters.Grayscale.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Invert=f(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(h){var p=h.imageData,g=p.data,y,_=g.length;for(y=0;y<_;y+=4)g[y]=255-g[y],g[y+1]=255-g[y+1],g[y+2]=255-g[y+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(h,p){return{uInvert:h.getUniformLocation(p,"uInvert")}},sendUniformData:function(h,p){h.uniform1i(p.uInvert,this.invert)}}),l.Image.filters.Invert.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.Image.filters,h=l.util.createClass;f.Noise=h(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(p){if(this.noise!==0){var g=p.imageData,y=g.data,_,w=y.length,T=this.noise,k;for(_=0,w=y.length;_<w;_+=4)k=(.5-Math.random())*T,y[_]+=k,y[_+1]+=k,y[_+2]+=k}},getUniformLocations:function(p,g){return{uNoise:p.getUniformLocation(g,"uNoise"),uSeed:p.getUniformLocation(g,"uSeed")}},sendUniformData:function(p,g){p.uniform1f(g.uNoise,this.noise/255),p.uniform1f(g.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),l.Image.filters.Noise.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Pixelate=f(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(h){var p=h.imageData,g=p.data,y=p.height,_=p.width,w,T,k,P,L,N,F,G,H,$,re;for(T=0;T<y;T+=this.blocksize)for(k=0;k<_;k+=this.blocksize)for(w=T*4*_+k*4,P=g[w],L=g[w+1],N=g[w+2],F=g[w+3],$=Math.min(T+this.blocksize,y),re=Math.min(k+this.blocksize,_),G=T;G<$;G++)for(H=k;H<re;H++)w=G*4*_+H*4,g[w]=P,g[w+1]=L,g[w+2]=N,g[w+3]=F},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(h,p){return{uBlocksize:h.getUniformLocation(p,"uBlocksize"),uStepW:h.getUniformLocation(p,"uStepW"),uStepH:h.getUniformLocation(p,"uStepH")}},sendUniformData:function(h,p){h.uniform1f(p.uBlocksize,this.blocksize)}}),l.Image.filters.Pixelate.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.extend,f=l.Image.filters,h=l.util.createClass;f.RemoveColor=h(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(p){var g=p.imageData,y=g.data,_,w=this.distance*255,T,k,P,L=new l.Color(this.color).getSource(),N=[L[0]-w,L[1]-w,L[2]-w],F=[L[0]+w,L[1]+w,L[2]+w];for(_=0;_<y.length;_+=4)T=y[_],k=y[_+1],P=y[_+2],T>N[0]&&k>N[1]&&P>N[2]&&T<F[0]&&k<F[1]&&P<F[2]&&(y[_+3]=0)},getUniformLocations:function(p,g){return{uLow:p.getUniformLocation(g,"uLow"),uHigh:p.getUniformLocation(g,"uHigh")}},sendUniformData:function(p,g){var y=new l.Color(this.color).getSource(),_=parseFloat(this.distance),w=[0+y[0]/255-_,0+y[1]/255-_,0+y[2]/255-_,1],T=[y[0]/255+_,y[1]/255+_,y[2]/255+_,1];p.uniform4fv(g.uLow,w),p.uniform4fv(g.uHigh,T)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),l.Image.filters.RemoveColor.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass,h={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var p in h)c[p]=f(c.ColorMatrix,{type:p,matrix:h[p],mainParameter:!1,colorsOnly:!0}),l.Image.filters[p].fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric,c=l.Image.filters,f=l.util.createClass;c.BlendColor=f(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(h){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[h]+`}
}`},retrieveShader:function(h){var p=this.type+"_"+this.mode,g;return h.programCache.hasOwnProperty(p)||(g=this.buildSource(this.mode),h.programCache[p]=this.createProgram(h.context,g)),h.programCache[p]},applyTo2d:function(h){var p=h.imageData,g=p.data,y=g.length,_,w,T,k,P,L,N,F=1-this.alpha;N=new l.Color(this.color).getSource(),_=N[0]*this.alpha,w=N[1]*this.alpha,T=N[2]*this.alpha;for(var G=0;G<y;G+=4)switch(k=g[G],P=g[G+1],L=g[G+2],this.mode){case"multiply":g[G]=k*_/255,g[G+1]=P*w/255,g[G+2]=L*T/255;break;case"screen":g[G]=255-(255-k)*(255-_)/255,g[G+1]=255-(255-P)*(255-w)/255,g[G+2]=255-(255-L)*(255-T)/255;break;case"add":g[G]=k+_,g[G+1]=P+w,g[G+2]=L+T;break;case"diff":case"difference":g[G]=Math.abs(k-_),g[G+1]=Math.abs(P-w),g[G+2]=Math.abs(L-T);break;case"subtract":g[G]=k-_,g[G+1]=P-w,g[G+2]=L-T;break;case"darken":g[G]=Math.min(k,_),g[G+1]=Math.min(P,w),g[G+2]=Math.min(L,T);break;case"lighten":g[G]=Math.max(k,_),g[G+1]=Math.max(P,w),g[G+2]=Math.max(L,T);break;case"overlay":g[G]=_<128?2*k*_/255:255-2*(255-k)*(255-_)/255,g[G+1]=w<128?2*P*w/255:255-2*(255-P)*(255-w)/255,g[G+2]=T<128?2*L*T/255:255-2*(255-L)*(255-T)/255;break;case"exclusion":g[G]=_+k-2*_*k/255,g[G+1]=w+P-2*w*P/255,g[G+2]=T+L-2*T*L/255;break;case"tint":g[G]=_+k*F,g[G+1]=w+P*F,g[G+2]=T+L*F}},getUniformLocations:function(h,p){return{uColor:h.getUniformLocation(p,"uColor")}},sendUniformData:function(h,p){var g=new l.Color(this.color).getSource();g[0]=this.alpha*g[0]/255,g[1]=this.alpha*g[1]/255,g[2]=this.alpha*g[2]/255,g[3]=this.alpha,h.uniform4fv(p.uColor,g)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),l.Image.filters.BlendColor.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric,c=l.Image.filters,f=l.util.createClass;c.BlendImage=f(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(h){var p=this.type+"_"+this.mode,g=this.fragmentSource[this.mode];return h.programCache.hasOwnProperty(p)||(h.programCache[p]=this.createProgram(h.context,g)),h.programCache[p]},applyToWebGL:function(h){var p=h.context,g=this.createTexture(h.filterBackend,this.image);this.bindAdditionalTexture(p,g,p.TEXTURE1),this.callSuper("applyToWebGL",h),this.unbindAdditionalTexture(p,p.TEXTURE1)},createTexture:function(h,p){return h.getCachedTexture(p.cacheKey,p._element)},calculateMatrix:function(){var h=this.image,p=h._element.width,g=h._element.height;return[1/h.scaleX,0,0,0,1/h.scaleY,0,-h.left/p,-h.top/g,1]},applyTo2d:function(h){var p=h.imageData,g=h.filterBackend.resources,y=p.data,_=y.length,w=p.width,T=p.height,k,P,L,N,F,G,H,$,re,le,xe=this.image,ee;g.blendImage||(g.blendImage=l.util.createCanvasElement()),re=g.blendImage,le=re.getContext("2d"),re.width!==w||re.height!==T?(re.width=w,re.height=T):le.clearRect(0,0,w,T),le.setTransform(xe.scaleX,0,0,xe.scaleY,xe.left,xe.top),le.drawImage(xe._element,0,0,w,T),ee=le.getImageData(0,0,w,T).data;for(var be=0;be<_;be+=4)switch(F=y[be],G=y[be+1],H=y[be+2],$=y[be+3],k=ee[be],P=ee[be+1],L=ee[be+2],N=ee[be+3],this.mode){case"multiply":y[be]=F*k/255,y[be+1]=G*P/255,y[be+2]=H*L/255,y[be+3]=$*N/255;break;case"mask":y[be+3]=N;break}},getUniformLocations:function(h,p){return{uTransformMatrix:h.getUniformLocation(p,"uTransformMatrix"),uImage:h.getUniformLocation(p,"uImage")}},sendUniformData:function(h,p){var g=this.calculateMatrix();h.uniform1i(p.uImage,1),h.uniformMatrix3fv(p.uTransformMatrix,!1,g)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),l.Image.filters.BlendImage.fromObject=function(h,p){l.Image.fromObject(h.image,function(g){var y=l.util.object.clone(h);y.image=g,p(new l.Image.filters.BlendImage(y))})}}(m),function(v){var l=v.fabric||(v.fabric={}),c=Math.pow,f=Math.floor,h=Math.sqrt,p=Math.abs,g=Math.round,y=Math.sin,_=Math.ceil,w=l.Image.filters,T=l.util.createClass;w.Resize=T(w.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(k,P){return{uDelta:k.getUniformLocation(P,"uDelta"),uTaps:k.getUniformLocation(P,"uTaps")}},sendUniformData:function(k,P){k.uniform2fv(P.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),k.uniform1fv(P.uTaps,this.taps)},retrieveShader:function(k){var P=this.getFilterWindow(),L=this.type+"_"+P;if(!k.programCache.hasOwnProperty(L)){var N=this.generateShader(P);k.programCache[L]=this.createProgram(k.context,N)}return k.programCache[L]},getFilterWindow:function(){var k=this.tempScale;return Math.ceil(this.lanczosLobes/k)},getTaps:function(){for(var k=this.lanczosCreate(this.lanczosLobes),P=this.tempScale,L=this.getFilterWindow(),N=new Array(L),F=1;F<=L;F++)N[F-1]=k(F*P);return N},generateShader:function(N){for(var P=new Array(N),L=this.fragmentSourceTOP,N,F=1;F<=N;F++)P[F-1]=F+".0 * uDelta";return L+="uniform float uTaps["+N+`];
`,L+=`void main() {
`,L+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,L+=`  float sum = 1.0;
`,P.forEach(function(G,H){L+="  color += texture2D(uTexture, vTexCoord + "+G+") * uTaps["+H+`];
`,L+="  color += texture2D(uTexture, vTexCoord - "+G+") * uTaps["+H+`];
`,L+="  sum += 2.0 * uTaps["+H+`];
`}),L+=`  gl_FragColor = color / sum;
`,L+="}",L},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(k){k.webgl?(k.passes++,this.width=k.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=k.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),k.destinationWidth=this.dW,this._setupFrameBuffer(k),this.applyToWebGL(k),this._swapTextures(k),k.sourceWidth=k.destinationWidth,this.height=k.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),k.destinationHeight=this.dH,this._setupFrameBuffer(k),this.applyToWebGL(k),this._swapTextures(k),k.sourceHeight=k.destinationHeight):this.applyTo2d(k)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(k){return function(P){if(P>=k||P<=-k)return 0;if(P<11920929e-14&&P>-11920929e-14)return 1;P*=Math.PI;var L=P/k;return y(P)/P*y(L)/L}},applyTo2d:function(k){var P=k.imageData,L=this.scaleX,N=this.scaleY;this.rcpScaleX=1/L,this.rcpScaleY=1/N;var F=P.width,G=P.height,H=g(F*L),$=g(G*N),re;this.resizeType==="sliceHack"?re=this.sliceByTwo(k,F,G,H,$):this.resizeType==="hermite"?re=this.hermiteFastResize(k,F,G,H,$):this.resizeType==="bilinear"?re=this.bilinearFiltering(k,F,G,H,$):this.resizeType==="lanczos"&&(re=this.lanczosResize(k,F,G,H,$)),k.imageData=re},sliceByTwo:function(k,P,L,N,F){var G=k.imageData,H=.5,$=!1,re=!1,le=P*H,xe=L*H,ee=l.filterBackend.resources,be,K,Oe=0,_e=0,fe=P,J=0;for(ee.sliceByTwo||(ee.sliceByTwo=document.createElement("canvas")),be=ee.sliceByTwo,(be.width<P*1.5||be.height<L)&&(be.width=P*1.5,be.height=L),K=be.getContext("2d"),K.clearRect(0,0,P*1.5,L),K.putImageData(G,0,0),N=f(N),F=f(F);!$||!re;)P=le,L=xe,N<f(le*H)?le=f(le*H):(le=N,$=!0),F<f(xe*H)?xe=f(xe*H):(xe=F,re=!0),K.drawImage(be,Oe,_e,P,L,fe,J,le,xe),Oe=fe,_e=J,J+=xe;return K.getImageData(Oe,_e,N,F)},lanczosResize:function(k,P,L,N,F){function G(ne){var q,ye,Z,te,ce,de,Pe,ke,We,pe,Te;for(J.x=(ne+.5)*xe,he.x=f(J.x),q=0;q<F;q++){for(J.y=(q+.5)*ee,he.y=f(J.y),ce=0,de=0,Pe=0,ke=0,We=0,ye=he.x-Oe;ye<=he.x+Oe;ye++)if(!(ye<0||ye>=P)){pe=f(1e3*p(ye-J.x)),fe[pe]||(fe[pe]={});for(var ge=he.y-_e;ge<=he.y+_e;ge++)ge<0||ge>=L||(Te=f(1e3*p(ge-J.y)),fe[pe][Te]||(fe[pe][Te]=le(h(c(pe*be,2)+c(Te*K,2))/1e3)),Z=fe[pe][Te],Z>0&&(te=(ge*P+ye)*4,ce+=Z,de+=Z*H[te],Pe+=Z*H[te+1],ke+=Z*H[te+2],We+=Z*H[te+3]))}te=(q*N+ne)*4,re[te]=de/ce,re[te+1]=Pe/ce,re[te+2]=ke/ce,re[te+3]=We/ce}return++ne<N?G(ne):$}var H=k.imageData.data,$=k.ctx.createImageData(N,F),re=$.data,le=this.lanczosCreate(this.lanczosLobes),xe=this.rcpScaleX,ee=this.rcpScaleY,be=2/this.rcpScaleX,K=2/this.rcpScaleY,Oe=_(xe*this.lanczosLobes/2),_e=_(ee*this.lanczosLobes/2),fe={},J={},he={};return G(0)},bilinearFiltering:function(k,P,L,N,F){var G,H,$,re,le,xe,ee,be,K,Oe,_e,fe,J=0,he,ne=this.rcpScaleX,q=this.rcpScaleY,ye=4*(P-1),Z=k.imageData,te=Z.data,ce=k.ctx.createImageData(N,F),de=ce.data;for(ee=0;ee<F;ee++)for(be=0;be<N;be++)for(le=f(ne*be),xe=f(q*ee),K=ne*be-le,Oe=q*ee-xe,he=4*(xe*P+le),_e=0;_e<4;_e++)G=te[he+_e],H=te[he+4+_e],$=te[he+ye+_e],re=te[he+ye+4+_e],fe=G*(1-K)*(1-Oe)+H*K*(1-Oe)+$*Oe*(1-K)+re*K*Oe,de[J++]=fe;return ce},hermiteFastResize:function(k,P,L,N,F){for(var G=this.rcpScaleX,H=this.rcpScaleY,$=_(G/2),re=_(H/2),le=k.imageData,xe=le.data,ee=k.ctx.createImageData(N,F),be=ee.data,K=0;K<F;K++)for(var Oe=0;Oe<N;Oe++){for(var _e=(Oe+K*N)*4,fe=0,J=0,he=0,ne=0,q=0,ye=0,Z=0,te=(K+.5)*H,ce=f(K*H);ce<(K+1)*H;ce++)for(var de=p(te-(ce+.5))/re,Pe=(Oe+.5)*G,ke=de*de,We=f(Oe*G);We<(Oe+1)*G;We++){var pe=p(Pe-(We+.5))/$,Te=h(ke+pe*pe);Te>1&&Te<-1||(fe=2*Te*Te*Te-3*Te*Te+1,fe>0&&(pe=4*(We+ce*P),Z+=fe*xe[pe+3],he+=fe,xe[pe+3]<255&&(fe=fe*xe[pe+3]/250),ne+=fe*xe[pe],q+=fe*xe[pe+1],ye+=fe*xe[pe+2],J+=fe))}be[_e]=ne/J,be[_e+1]=q/J,be[_e+2]=ye/J,be[_e+3]=Z/he}return ee},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),l.Image.filters.Resize.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Contrast=f(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(h){if(this.contrast!==0){var p=h.imageData,g,_,y=p.data,_=y.length,w=Math.floor(this.contrast*255),T=259*(w+255)/(255*(259-w));for(g=0;g<_;g+=4)y[g]=T*(y[g]-128)+128,y[g+1]=T*(y[g+1]-128)+128,y[g+2]=T*(y[g+2]-128)+128}},getUniformLocations:function(h,p){return{uContrast:h.getUniformLocation(p,"uContrast")}},sendUniformData:function(h,p){h.uniform1f(p.uContrast,this.contrast)}}),l.Image.filters.Contrast.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Saturation=f(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(h){if(this.saturation!==0){var p=h.imageData,g=p.data,y=g.length,_=-this.saturation,w,T;for(w=0;w<y;w+=4)T=Math.max(g[w],g[w+1],g[w+2]),g[w]+=T!==g[w]?(T-g[w])*_:0,g[w+1]+=T!==g[w+1]?(T-g[w+1])*_:0,g[w+2]+=T!==g[w+2]?(T-g[w+2])*_:0}},getUniformLocations:function(h,p){return{uSaturation:h.getUniformLocation(p,"uSaturation")}},sendUniformData:function(h,p){h.uniform1f(p.uSaturation,-this.saturation)}}),l.Image.filters.Saturation.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Vibrance=f(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(h){if(this.vibrance!==0){var p=h.imageData,g=p.data,y=g.length,_=-this.vibrance,w,T,k,P;for(w=0;w<y;w+=4)T=Math.max(g[w],g[w+1],g[w+2]),k=(g[w]+g[w+1]+g[w+2])/3,P=Math.abs(T-k)*2/255*_,g[w]+=T!==g[w]?(T-g[w])*P:0,g[w+1]+=T!==g[w+1]?(T-g[w+1])*P:0,g[w+2]+=T!==g[w+2]?(T-g[w+2])*P:0}},getUniformLocations:function(h,p){return{uVibrance:h.getUniformLocation(p,"uVibrance")}},sendUniformData:function(h,p){h.uniform1f(p.uVibrance,-this.vibrance)}}),l.Image.filters.Vibrance.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Blur=f(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(h){h.webgl?(this.aspectRatio=h.sourceWidth/h.sourceHeight,h.passes++,this._setupFrameBuffer(h),this.horizontal=!0,this.applyToWebGL(h),this._swapTextures(h),this._setupFrameBuffer(h),this.horizontal=!1,this.applyToWebGL(h),this._swapTextures(h)):this.applyTo2d(h)},applyTo2d:function(h){h.imageData=this.simpleBlur(h)},simpleBlur:function(h){var p=h.filterBackend.resources,g,y,_=h.imageData.width,w=h.imageData.height;p.blurLayer1||(p.blurLayer1=l.util.createCanvasElement(),p.blurLayer2=l.util.createCanvasElement()),g=p.blurLayer1,y=p.blurLayer2,(g.width!==_||g.height!==w)&&(y.width=g.width=_,y.height=g.height=w);var T=g.getContext("2d"),k=y.getContext("2d"),P=15,L,N,F,G,H=this.blur*.06*.5;for(T.putImageData(h.imageData,0,0),k.clearRect(0,0,_,w),G=-P;G<=P;G++)L=(Math.random()-.5)/4,N=G/P,F=H*N*_+L,k.globalAlpha=1-Math.abs(N),k.drawImage(g,F,L),T.drawImage(y,0,0),k.globalAlpha=1,k.clearRect(0,0,y.width,y.height);for(G=-P;G<=P;G++)L=(Math.random()-.5)/4,N=G/P,F=H*N*w+L,k.globalAlpha=1-Math.abs(N),k.drawImage(g,L,F),T.drawImage(y,0,0),k.globalAlpha=1,k.clearRect(0,0,y.width,y.height);h.ctx.drawImage(g,0,0);var $=h.ctx.getImageData(0,0,g.width,g.height);return T.globalAlpha=1,T.clearRect(0,0,g.width,g.height),$},getUniformLocations:function(h,p){return{delta:h.getUniformLocation(p,"uDelta")}},sendUniformData:function(h,p){var g=this.chooseRightDelta();h.uniform2fv(p.delta,g)},chooseRightDelta:function(){var h=1,p=[0,0],g;return this.horizontal?this.aspectRatio>1&&(h=1/this.aspectRatio):this.aspectRatio<1&&(h=this.aspectRatio),g=h*this.blur*.12,this.horizontal?p[0]=g:p[1]=g,p}}),c.Blur.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Gamma=f(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(h){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,h)},applyTo2d:function(h){var p=h.imageData,g=p.data,y=this.gamma,_=g.length,w=1/y[0],T=1/y[1],k=1/y[2],P;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),P=0,_=256;P<_;P++)this.rVals[P]=Math.pow(P/255,w)*255,this.gVals[P]=Math.pow(P/255,T)*255,this.bVals[P]=Math.pow(P/255,k)*255;for(P=0,_=g.length;P<_;P+=4)g[P]=this.rVals[g[P]],g[P+1]=this.gVals[g[P+1]],g[P+2]=this.bVals[g[P+2]]},getUniformLocations:function(h,p){return{uGamma:h.getUniformLocation(p,"uGamma")}},sendUniformData:function(h,p){h.uniform3fv(p.uGamma,this.gamma)}}),l.Image.filters.Gamma.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.Composed=f(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(h){this.callSuper("initialize",h),this.subFilters=this.subFilters.slice(0)},applyTo:function(h){h.passes+=this.subFilters.length-1,this.subFilters.forEach(function(p){p.applyTo(h)})},toObject:function(){return l.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(h){return h.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(h){return!h.isNeutralState()})}}),l.Image.filters.Composed.fromObject=function(h,p){var g=h.subFilters||[],y=g.map(function(w){return new l.Image.filters[w.type](w)}),_=new l.Image.filters.Composed({subFilters:y});return p&&p(_),_}}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.Image.filters,f=l.util.createClass;c.HueRotation=f(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var h=this.rotation*Math.PI,p=l.util.cos(h),g=l.util.sin(h),y=1/3,_=Math.sqrt(y)*g,w=1-p;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=p+w/3,this.matrix[1]=y*w-_,this.matrix[2]=y*w+_,this.matrix[5]=y*w+_,this.matrix[6]=p+y*w,this.matrix[7]=y*w-_,this.matrix[10]=y*w-_,this.matrix[11]=y*w+_,this.matrix[12]=p+y*w},isNeutralState:function(h){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,h)},applyTo:function(h){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,h)}}),l.Image.filters.HueRotation.fromObject=l.Image.filters.BaseFilter.fromObject}(m),function(v){var l=v.fabric||(v.fabric={}),c=l.util.object.clone;if(l.Text){l.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");l.Text=l.util.createClass(l.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:l.Object.prototype.stateProperties.concat(f),cacheProperties:l.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(h,p){this.styles=p?p.styles||{}:{},this.text=h,this.__skipDimension=!0,this.callSuper("initialize",p),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var h=this.path;h&&(h.segmentsInfo=l.util.getPathSegmentsInfo(h.path))},getMeasuringContext:function(){return l._measuringContext||(l._measuringContext=this.canvas&&this.canvas.contextCache||l.util.createCanvasElement().getContext("2d")),l._measuringContext},_splitText:function(){var h=this._splitTextIntoLines(this.text);return this.textLines=h.lines,this._textLines=h.graphemeLines,this._unwrappedTextLines=h._unwrappedLines,this._text=h.graphemeText,h},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var h,p,g,y,_,w,T,k=0,P=this._textLines.length;k<P;k++)if(!(this.textAlign!=="justify"&&(k===P-1||this.isEndOfWrapping(k)))&&(y=0,_=this._textLines[k],p=this.getLineWidth(k),p<this.width&&(T=this.textLines[k].match(this._reSpacesAndTabs)))){g=T.length,h=(this.width-p)/g;for(var L=0,N=_.length;L<=N;L++)w=this.__charBounds[k][L],this._reSpaceAndTab.test(_[L])?(w.width+=h,w.kernedWidth+=h,w.left+=y,y+=h):w.left+=y}},isEndOfWrapping:function(h){return h===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var h=this.callSuper("_getCacheCanvasDimensions"),p=this.fontSize;return h.width+=p*h.zoomX,h.height+=p*h.zoomY,h},_render:function(h){var p=this.path;p&&!p.isNotVisible()&&p._render(h),this._setTextStyles(h),this._renderTextLinesBackground(h),this._renderTextDecoration(h,"underline"),this._renderText(h),this._renderTextDecoration(h,"overline"),this._renderTextDecoration(h,"linethrough")},_renderText:function(h){this.paintFirst==="stroke"?(this._renderTextStroke(h),this._renderTextFill(h)):(this._renderTextFill(h),this._renderTextStroke(h))},_setTextStyles:function(h,p,g){h.textBaseline="alphabetic",h.font=this._getFontDeclaration(p,g)},calcTextWidth:function(){for(var h=this.getLineWidth(0),p=1,g=this._textLines.length;p<g;p++){var y=this.getLineWidth(p);y>h&&(h=y)}return h},_renderTextLine:function(h,p,g,y,_,w){this._renderChars(h,p,g,y,_,w)},_renderTextLinesBackground:function(h){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var p,g,y=h.fillStyle,_,w,T=this._getLeftOffset(),k=this._getTopOffset(),P=0,L=0,N,F,G=this.path,H,$=0,re=this._textLines.length;$<re;$++){if(p=this.getHeightOfLine($),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",$)){k+=p;continue}_=this._textLines[$],g=this._getLineLeftOffset($),L=0,P=0,w=this.getValueOfPropertyAt($,0,"textBackgroundColor");for(var le=0,xe=_.length;le<xe;le++)N=this.__charBounds[$][le],F=this.getValueOfPropertyAt($,le,"textBackgroundColor"),G?(h.save(),h.translate(N.renderLeft,N.renderTop),h.rotate(N.angle),h.fillStyle=F,F&&h.fillRect(-N.width/2,-p/this.lineHeight*(1-this._fontSizeFraction),N.width,p/this.lineHeight),h.restore()):F!==w?(H=T+g+P,this.direction==="rtl"&&(H=this.width-H-L),h.fillStyle=w,w&&h.fillRect(H,k,L,p/this.lineHeight),P=N.left,L=N.width,w=F):L+=N.kernedWidth;F&&!G&&(H=T+g+P,this.direction==="rtl"&&(H=this.width-H-L),h.fillStyle=F,h.fillRect(H,k,L,p/this.lineHeight)),k+=p}h.fillStyle=y,this._removeShadow(h)}},getFontCache:function(h){var p=h.fontFamily.toLowerCase();l.charWidthsCache[p]||(l.charWidthsCache[p]={});var g=l.charWidthsCache[p],y=h.fontStyle.toLowerCase()+"_"+(h.fontWeight+"").toLowerCase();return g[y]||(g[y]={}),g[y]},_measureChar:function(h,p,g,y){var _=this.getFontCache(p),w=this._getFontDeclaration(p),T=this._getFontDeclaration(y),k=g+h,P=w===T,L,N,F,G=p.fontSize/this.CACHE_FONT_SIZE,H;if(g&&_[g]!==void 0&&(F=_[g]),_[h]!==void 0&&(H=L=_[h]),P&&_[k]!==void 0&&(N=_[k],H=N-F),L===void 0||F===void 0||N===void 0){var $=this.getMeasuringContext();this._setTextStyles($,p,!0)}return L===void 0&&(H=L=$.measureText(h).width,_[h]=L),F===void 0&&P&&g&&(F=$.measureText(g).width,_[g]=F),P&&N===void 0&&(N=$.measureText(k).width,_[k]=N,H=N-F),{width:L*G,kernedWidth:H*G}},getHeightOfChar:function(h,p){return this.getValueOfPropertyAt(h,p,"fontSize")},measureLine:function(h){var p=this._measureLine(h);return this.charSpacing!==0&&(p.width-=this._getWidthOfCharSpacing()),p.width<0&&(p.width=0),p},_measureLine:function(h){var p=0,g,y,_=this._textLines[h],w,T,k=0,P=new Array(_.length),L=0,N,F,G=this.path,H=this.pathSide==="right";for(this.__charBounds[h]=P,g=0;g<_.length;g++)y=_[g],T=this._getGraphemeBox(y,h,g,w),P[g]=T,p+=T.kernedWidth,w=y;if(P[g]={left:T?T.left+T.width:0,width:0,kernedWidth:0,height:this.fontSize},G){switch(F=G.segmentsInfo[G.segmentsInfo.length-1].length,N=l.util.getPointOnPath(G.path,0,G.segmentsInfo),N.x+=G.pathOffset.x,N.y+=G.pathOffset.y,this.textAlign){case"left":L=H?F-p:0;break;case"center":L=(F-p)/2;break;case"right":L=H?0:F-p;break}for(L+=this.pathStartOffset*(H?-1:1),g=H?_.length-1:0;H?g>=0:g<_.length;H?g--:g++)T=P[g],L>F?L%=F:L<0&&(L+=F),this._setGraphemeOnPath(L,T,N),L+=T.kernedWidth}return{width:p,numOfSpaces:k}},_setGraphemeOnPath:function(h,p,g){var y=h+p.kernedWidth/2,_=this.path,w=l.util.getPointOnPath(_.path,y,_.segmentsInfo);p.renderLeft=w.x-g.x,p.renderTop=w.y-g.y,p.angle=w.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(h,p,g,y,_){var w=this.getCompleteStyleDeclaration(p,g),T=y?this.getCompleteStyleDeclaration(p,g-1):{},k=this._measureChar(h,w,y,T),P=k.kernedWidth,L=k.width,N;this.charSpacing!==0&&(N=this._getWidthOfCharSpacing(),L+=N,P+=N);var F={width:L,left:0,height:w.fontSize,kernedWidth:P,deltaY:w.deltaY};if(g>0&&!_){var G=this.__charBounds[p][g-1];F.left=G.left+G.width+k.kernedWidth-k.width}return F},getHeightOfLine:function(h){if(this.__lineHeights[h])return this.__lineHeights[h];for(var p=this._textLines[h],g=this.getHeightOfChar(h,0),y=1,_=p.length;y<_;y++)g=Math.max(this.getHeightOfChar(h,y),g);return this.__lineHeights[h]=g*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var h,p=0,g=0,y=this._textLines.length;g<y;g++)h=this.getHeightOfLine(g),p+=g===y-1?h/this.lineHeight:h;return p},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(h,p){h.save();for(var g=0,y=this._getLeftOffset(),_=this._getTopOffset(),w=0,T=this._textLines.length;w<T;w++){var k=this.getHeightOfLine(w),P=k/this.lineHeight,L=this._getLineLeftOffset(w);this._renderTextLine(p,h,this._textLines[w],y+L,_+g+P,w),g+=k}h.restore()},_renderTextFill:function(h){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(h,"fillText")},_renderTextStroke:function(h){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(h),h.save(),this._setLineDash(h,this.strokeDashArray),h.beginPath(),this._renderTextCommon(h,"strokeText"),h.closePath(),h.restore())},_renderChars:function(h,p,g,y,_,w){var T=this.getHeightOfLine(w),k=this.textAlign.indexOf("justify")!==-1,P,L,N="",F,G=0,H,$=this.path,re=!k&&this.charSpacing===0&&this.isEmptyStyles(w)&&!$,le=this.direction==="ltr",xe=this.direction==="ltr"?1:-1,ee;if(p.save(),_-=T*this._fontSizeFraction/this.lineHeight,re){p.canvas.setAttribute("dir",le?"ltr":"rtl"),p.direction=le?"ltr":"rtl",p.textAlign=le?"left":"right",this._renderChar(h,p,w,0,g.join(""),y,_,T),p.restore();return}for(var be=0,K=g.length-1;be<=K;be++)H=be===K||this.charSpacing||$,N+=g[be],F=this.__charBounds[w][be],G===0?(y+=xe*(F.kernedWidth-F.width),G+=F.width):G+=F.kernedWidth,k&&!H&&this._reSpaceAndTab.test(g[be])&&(H=!0),H||(P=P||this.getCompleteStyleDeclaration(w,be),L=this.getCompleteStyleDeclaration(w,be+1),H=this._hasStyleChanged(P,L)),H&&($?(p.save(),p.translate(F.renderLeft,F.renderTop),p.rotate(F.angle),this._renderChar(h,p,w,be,N,-G/2,0,T),p.restore()):(ee=y,p.canvas.setAttribute("dir",le?"ltr":"rtl"),p.direction=le?"ltr":"rtl",p.textAlign=le?"left":"right",this._renderChar(h,p,w,be,N,ee,_,T)),N="",P=L,y+=xe*G,G=0);p.restore()},_applyPatternGradientTransformText:function(h){var p=l.util.createCanvasElement(),g,y=this.width+this.strokeWidth,_=this.height+this.strokeWidth;return p.width=y,p.height=_,g=p.getContext("2d"),g.beginPath(),g.moveTo(0,0),g.lineTo(y,0),g.lineTo(y,_),g.lineTo(0,_),g.closePath(),g.translate(y/2,_/2),g.fillStyle=h.toLive(g),this._applyPatternGradientTransform(g,h),g.fill(),g.createPattern(p,"no-repeat")},handleFiller:function(h,p,g){var y,_;return g.toLive?g.gradientUnits==="percentage"||g.gradientTransform||g.patternTransform?(y=-this.width/2,_=-this.height/2,h.translate(y,_),h[p]=this._applyPatternGradientTransformText(g),{offsetX:y,offsetY:_}):(h[p]=g.toLive(h,this),this._applyPatternGradientTransform(h,g)):(h[p]=g,{offsetX:0,offsetY:0})},_setStrokeStyles:function(h,p){return h.lineWidth=p.strokeWidth,h.lineCap=this.strokeLineCap,h.lineDashOffset=this.strokeDashOffset,h.lineJoin=this.strokeLineJoin,h.miterLimit=this.strokeMiterLimit,this.handleFiller(h,"strokeStyle",p.stroke)},_setFillStyles:function(h,p){return this.handleFiller(h,"fillStyle",p.fill)},_renderChar:function(h,p,g,y,_,w,T){var k=this._getStyleDeclaration(g,y),P=this.getCompleteStyleDeclaration(g,y),L=h==="fillText"&&P.fill,N=h==="strokeText"&&P.stroke&&P.strokeWidth,F,G;!N&&!L||(p.save(),L&&(F=this._setFillStyles(p,P)),N&&(G=this._setStrokeStyles(p,P)),p.font=this._getFontDeclaration(P),k&&k.textBackgroundColor&&this._removeShadow(p),k&&k.deltaY&&(T+=k.deltaY),L&&p.fillText(_,w-F.offsetX,T-F.offsetY),N&&p.strokeText(_,w-G.offsetX,T-G.offsetY),p.restore())},setSuperscript:function(h,p){return this._setScript(h,p,this.superscript)},setSubscript:function(h,p){return this._setScript(h,p,this.subscript)},_setScript:function(h,p,g){var y=this.get2DCursorLocation(h,!0),_=this.getValueOfPropertyAt(y.lineIndex,y.charIndex,"fontSize"),w=this.getValueOfPropertyAt(y.lineIndex,y.charIndex,"deltaY"),T={fontSize:_*g.size,deltaY:w+_*g.baseline};return this.setSelectionStyles(T,h,p),this},_hasStyleChanged:function(h,p){return h.fill!==p.fill||h.stroke!==p.stroke||h.strokeWidth!==p.strokeWidth||h.fontSize!==p.fontSize||h.fontFamily!==p.fontFamily||h.fontWeight!==p.fontWeight||h.fontStyle!==p.fontStyle||h.deltaY!==p.deltaY},_hasStyleChangedForSvg:function(h,p){return this._hasStyleChanged(h,p)||h.overline!==p.overline||h.underline!==p.underline||h.linethrough!==p.linethrough},_getLineLeftOffset:function(h){var p=this.getLineWidth(h),g=this.width-p,y=this.textAlign,_=this.direction,T,w=0,T=this.isEndOfWrapping(h);return y==="justify"||y==="justify-center"&&!T||y==="justify-right"&&!T||y==="justify-left"&&!T?0:(y==="center"&&(w=g/2),y==="right"&&(w=g),y==="justify-center"&&(w=g/2),y==="justify-right"&&(w=g),_==="rtl"&&(w-=g),w)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var h=this._forceClearCache;return h||(h=this.hasStateChanged("_dimensionAffectingProps")),h&&(this.dirty=!0,this._forceClearCache=!1),h},getLineWidth:function(h){if(this.__lineWidths[h])return this.__lineWidths[h];var p,g=this._textLines[h],y;return g===""?p=0:(y=this.measureLine(h),p=y.width),this.__lineWidths[h]=p,p},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(h,p,g){var y=this._getStyleDeclaration(h,p);return y&&typeof y[g]<"u"?y[g]:this[g]},_renderTextDecoration:function(h,p){if(!(!this[p]&&!this.styleHas(p))){for(var g,y,_,w,T,k,P,L,N=this._getLeftOffset(),F=this._getTopOffset(),G,H,$,re,le,xe,ee,be,K=this.path,Oe=this._getWidthOfCharSpacing(),_e=this.offsets[p],fe=0,J=this._textLines.length;fe<J;fe++){if(g=this.getHeightOfLine(fe),!this[p]&&!this.styleHas(p,fe)){F+=g;continue}P=this._textLines[fe],xe=g/this.lineHeight,w=this._getLineLeftOffset(fe),H=0,$=0,L=this.getValueOfPropertyAt(fe,0,p),be=this.getValueOfPropertyAt(fe,0,"fill"),G=F+xe*(1-this._fontSizeFraction),y=this.getHeightOfChar(fe,0),T=this.getValueOfPropertyAt(fe,0,"deltaY");for(var he=0,ne=P.length;he<ne;he++)if(re=this.__charBounds[fe][he],le=this.getValueOfPropertyAt(fe,he,p),ee=this.getValueOfPropertyAt(fe,he,"fill"),_=this.getHeightOfChar(fe,he),k=this.getValueOfPropertyAt(fe,he,"deltaY"),K&&le&&ee)h.save(),h.fillStyle=be,h.translate(re.renderLeft,re.renderTop),h.rotate(re.angle),h.fillRect(-re.kernedWidth/2,_e*_+k,re.kernedWidth,this.fontSize/15),h.restore();else if((le!==L||ee!==be||_!==y||k!==T)&&$>0){var q=N+w+H;this.direction==="rtl"&&(q=this.width-q-$),L&&be&&(h.fillStyle=be,h.fillRect(q,G+_e*y+T,$,this.fontSize/15)),H=re.left,$=re.width,L=le,be=ee,y=_,T=k}else $+=re.kernedWidth;var q=N+w+H;this.direction==="rtl"&&(q=this.width-q-$),h.fillStyle=ee,le&&ee&&h.fillRect(q,G+_e*y+T,$-Oe,this.fontSize/15),F+=g}this._removeShadow(h)}},_getFontDeclaration:function(h,p){var g=h||this,y=this.fontFamily,_=l.Text.genericFonts.indexOf(y.toLowerCase())>-1,w=y===void 0||y.indexOf("'")>-1||y.indexOf(",")>-1||y.indexOf('"')>-1||_?g.fontFamily:'"'+g.fontFamily+'"';return[l.isLikelyNode?g.fontWeight:g.fontStyle,l.isLikelyNode?g.fontStyle:g.fontWeight,p?this.CACHE_FONT_SIZE+"px":g.fontSize+"px",w].join(" ")},render:function(h){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",h)))},_splitTextIntoLines:function(h){for(var p=h.split(this._reNewline),g=new Array(p.length),y=[`
`],_=[],w=0;w<p.length;w++)g[w]=l.util.string.graphemeSplit(p[w]),_=_.concat(g[w],y);return _.pop(),{_unwrappedLines:g,lines:p,graphemeText:_,graphemeLines:g}},toObject:function(h){var p=f.concat(h),g=this.callSuper("toObject",p);return g.styles=c(this.styles,!0),g.path&&(g.path=this.path.toObject()),g},set:function(h,p){this.callSuper("set",h,p);var g=!1,y=!1;if(typeof h=="object")for(var _ in h)_==="path"&&this.setPathInfo(),g=g||this._dimensionAffectingProps.indexOf(_)!==-1,y=y||_==="path";else g=this._dimensionAffectingProps.indexOf(h)!==-1,y=h==="path";return y&&this.setPathInfo(),g&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),l.Text.ATTRIBUTE_NAMES=l.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),l.Text.DEFAULT_SVG_FONT_SIZE=16,l.Text.fromElement=function(h,p,g){if(!h)return p(null);var y=l.parseAttributes(h,l.Text.ATTRIBUTE_NAMES),_=y.textAnchor||"left";if(g=l.util.object.extend(g?c(g):{},y),g.top=g.top||0,g.left=g.left||0,y.textDecoration){var w=y.textDecoration;w.indexOf("underline")!==-1&&(g.underline=!0),w.indexOf("overline")!==-1&&(g.overline=!0),w.indexOf("line-through")!==-1&&(g.linethrough=!0),delete g.textDecoration}"dx"in y&&(g.left+=y.dx),"dy"in y&&(g.top+=y.dy),"fontSize"in g||(g.fontSize=l.Text.DEFAULT_SVG_FONT_SIZE);var T="";"textContent"in h?T=h.textContent:"firstChild"in h&&h.firstChild!==null&&"data"in h.firstChild&&h.firstChild.data!==null&&(T=h.firstChild.data),T=T.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var k=g.strokeWidth;g.strokeWidth=0;var P=new l.Text(T,g),L=P.getScaledHeight()/P.height,N=(P.height+P.strokeWidth)*P.lineHeight-P.height,F=N*L,G=P.getScaledHeight()+F,H=0;_==="center"&&(H=P.getScaledWidth()/2),_==="right"&&(H=P.getScaledWidth()),P.set({left:P.left-H,top:P.top-(G-P.fontSize*(.07+P._fontSizeFraction))/P.lineHeight,strokeWidth:typeof k<"u"?k:1}),p(P)},l.Text.fromObject=function(h,p){var g=c(h),y=h.path;return delete g.path,l.Object._fromObject("Text",g,function(_){y?l.Object._fromObject("Path",y,function(w){_.set("path",w),p(_)},"path"):p(_)},"text")},l.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],l.util.createAccessors&&l.util.createAccessors(l.Text)}(m),function(){d.util.object.extend(d.Text.prototype,{isEmptyStyles:function(v){if(!this.styles||typeof v<"u"&&!this.styles[v])return!0;var l=typeof v>"u"?this.styles:{line:this.styles[v]};for(var c in l)for(var f in l[c])for(var h in l[c][f])return!1;return!0},styleHas:function(v,l){if(!this.styles||!v||v===""||typeof l<"u"&&!this.styles[l])return!1;var c=typeof l>"u"?this.styles:{0:this.styles[l]};for(var f in c)for(var h in c[f])if(typeof c[f][h][v]<"u")return!0;return!1},cleanStyle:function(v){if(!this.styles||!v||v==="")return!1;var l=this.styles,c=0,f,h,p=!0,g=0,y;for(var _ in l){f=0;for(var w in l[_]){var y=l[_][w],T=y.hasOwnProperty(v);c++,T?(h?y[v]!==h&&(p=!1):h=y[v],y[v]===this[v]&&delete y[v]):p=!1,Object.keys(y).length!==0?f++:delete l[_][w]}f===0&&delete l[_]}for(var k=0;k<this._textLines.length;k++)g+=this._textLines[k].length;p&&c===g&&(this[v]=h,this.removeStyle(v))},removeStyle:function(v){if(!(!this.styles||!v||v==="")){var l=this.styles,c,f,h;for(f in l){c=l[f];for(h in c)delete c[h][v],Object.keys(c[h]).length===0&&delete c[h];Object.keys(c).length===0&&delete l[f]}}},_extendStyles:function(v,l){var c=this.get2DCursorLocation(v);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),d.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),l)},get2DCursorLocation:function(v,l){typeof v>"u"&&(v=this.selectionStart);for(var c=l?this._unwrappedTextLines:this._textLines,f=c.length,h=0;h<f;h++){if(v<=c[h].length)return{lineIndex:h,charIndex:v};v-=c[h].length+this.missingNewlineOffset(h)}return{lineIndex:h-1,charIndex:c[h-1].length<v?c[h-1].length:v}},getSelectionStyles:function(v,l,c){typeof v>"u"&&(v=this.selectionStart||0),typeof l>"u"&&(l=this.selectionEnd||v);for(var f=[],h=v;h<l;h++)f.push(this.getStyleAtPosition(h,c));return f},getStyleAtPosition:function(v,l){var c=this.get2DCursorLocation(v),f=l?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return f||{}},setSelectionStyles:function(v,l,c){typeof l>"u"&&(l=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||l);for(var f=l;f<c;f++)this._extendStyles(f,v);return this._forceClearCache=!0,this},_getStyleDeclaration:function(v,l){var c=this.styles&&this.styles[v];return c?c[l]:null},getCompleteStyleDeclaration:function(v,l){for(var c=this._getStyleDeclaration(v,l)||{},f={},h,p=0;p<this._styleProperties.length;p++)h=this._styleProperties[p],f[h]=typeof c[h]>"u"?this[h]:c[h];return f},_setStyleDeclaration:function(v,l,c){this.styles[v][l]=c},_deleteStyleDeclaration:function(v,l){delete this.styles[v][l]},_getLineStyle:function(v){return!!this.styles[v]},_setLineStyle:function(v){this.styles[v]={}},_deleteLineStyle:function(v){delete this.styles[v]}})}(),function(){function v(l){l.textDecoration&&(l.textDecoration.indexOf("underline")>-1&&(l.underline=!0),l.textDecoration.indexOf("line-through")>-1&&(l.linethrough=!0),l.textDecoration.indexOf("overline")>-1&&(l.overline=!0),delete l.textDecoration)}d.IText=d.util.createClass(d.Text,d.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(l,c){this.callSuper("initialize",l,c),this.initBehavior()},setSelectionStart:function(l){l=Math.max(l,0),this._updateAndFire("selectionStart",l)},setSelectionEnd:function(l){l=Math.min(l,this.text.length),this._updateAndFire("selectionEnd",l)},_updateAndFire:function(l,c){this[l]!==c&&(this._fireSelectionChanged(),this[l]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(l){this.clearContextTop(),this.callSuper("render",l),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(l){this.callSuper("_render",l)},clearContextTop:function(l){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,f=this.canvas.viewportTransform;c.save(),c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(c),this._clearTextArea(c),l||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var l=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(l,c):this.renderSelection(l,c),c.restore()}},_clearTextArea:function(l){var c=this.width+4,f=this.height+4;l.clearRect(-c/2,-f/2,c,f)},_getCursorBoundaries:function(l){typeof l>"u"&&(l=this.selectionStart);var c=this._getLeftOffset(),f=this._getTopOffset(),h=this._getCursorBoundariesOffsets(l);return{left:c,top:f,leftOffset:h.left,topOffset:h.top}},_getCursorBoundariesOffsets:function(l){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,f,h,p=0,g=0,y,_=this.get2DCursorLocation(l);h=_.charIndex,f=_.lineIndex;for(var w=0;w<f;w++)p+=this.getHeightOfLine(w);c=this._getLineLeftOffset(f);var T=this.__charBounds[f][h];return T&&(g=T.left),this.charSpacing!==0&&h===this._textLines[f].length&&(g-=this._getWidthOfCharSpacing()),y={top:p,left:c+(g>0?g:0)},this.direction==="rtl"&&(y.left*=-1),this.cursorOffsetCache=y,this.cursorOffsetCache},renderCursor:function(l,c){var f=this.get2DCursorLocation(),h=f.lineIndex,p=f.charIndex>0?f.charIndex-1:0,g=this.getValueOfPropertyAt(h,p,"fontSize"),y=this.scaleX*this.canvas.getZoom(),_=this.cursorWidth/y,w=l.topOffset,T=this.getValueOfPropertyAt(h,p,"deltaY");w+=(1-this._fontSizeFraction)*this.getHeightOfLine(h)/this.lineHeight-g*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(l,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(h,p,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(l.left+l.leftOffset-_/2,w+l.top+T,_,g)},renderSelection:function(l,c){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,h=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,p=this.textAlign.indexOf("justify")!==-1,g=this.get2DCursorLocation(f),y=this.get2DCursorLocation(h),_=g.lineIndex,w=y.lineIndex,T=g.charIndex<0?0:g.charIndex,k=y.charIndex<0?0:y.charIndex,P=_;P<=w;P++){var L=this._getLineLeftOffset(P)||0,N=this.getHeightOfLine(P),F=0,G=0,H=0;if(P===_&&(G=this.__charBounds[_][T].left),P>=_&&P<w)H=p&&!this.isEndOfWrapping(P)?this.width:this.getLineWidth(P)||5;else if(P===w)if(k===0)H=this.__charBounds[w][k].left;else{var $=this._getWidthOfCharSpacing();H=this.__charBounds[w][k-1].left+this.__charBounds[w][k-1].width-$}F=N,(this.lineHeight<1||P===w&&this.lineHeight>1)&&(N/=this.lineHeight);var re=l.left+L+G,le=H-G,xe=N,ee=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",xe=1,ee=N):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(re=this.width-re-le),c.fillRect(re,l.top+l.topOffset+ee,le,xe),l.topOffset+=F}},getCurrentCharFontSize:function(){var l=this._getCurrentCharIndex();return this.getValueOfPropertyAt(l.l,l.c,"fontSize")},getCurrentCharColor:function(){var l=this._getCurrentCharIndex();return this.getValueOfPropertyAt(l.l,l.c,"fill")},_getCurrentCharIndex:function(){var l=this.get2DCursorLocation(this.selectionStart,!0),c=l.charIndex>0?l.charIndex-1:0;return{l:l.lineIndex,c}}}),d.IText.fromObject=function(l,c){if(v(l),l.styles)for(var f in l.styles)for(var h in l.styles[f])v(l.styles[f][h]);d.Object._fromObject("IText",l,c,"text")}}(),function(){var v=d.util.object.clone;d.util.object.extend(d.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var l=this;this.on("added",function(){var c=l.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,l._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(l))})},initRemovedHandler:function(){var l=this;this.on("removed",function(){var c=l.canvas;c&&(c._iTextInstances=c._iTextInstances||[],d.util.removeFromArray(c._iTextInstances,l),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,l._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(l){l._mouseUpITextHandler=function(){l._iTextInstances&&l._iTextInstances.forEach(function(c){c.__isMousedown=!1})},l.on("mouse:up",l._mouseUpITextHandler)},_removeCanvasHandlers:function(l){l.off("mouse:up",l._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(l,c,f,h){var p;return p={isAborted:!1,abort:function(){this.isAborted=!0}},l.animate("_currentCursorOpacity",c,{duration:f,onComplete:function(){p.isAborted||l[h]()},onChange:function(){l.canvas&&l.selectionStart===l.selectionEnd&&l.renderCursorOrSelection()},abort:function(){return p.isAborted}}),p},_onTickComplete:function(){var l=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){l._currentTickCompleteState=l._animateCursor(l,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(l){var c=this,f=l?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},f)},abortCursorAnimation:function(){var l=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,l&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(l){var c=0,f=l-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f--;for(;/\S/.test(this._text[f])&&f>-1;)c++,f--;return l-c},findWordBoundaryRight:function(l){var c=0,f=l;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)c++,f++;return l+c},findLineBoundaryLeft:function(l){for(var c=0,f=l-1;!/\n/.test(this._text[f])&&f>-1;)c++,f--;return l-c},findLineBoundaryRight:function(l){for(var c=0,f=l;!/\n/.test(this._text[f])&&f<this._text.length;)c++,f++;return l+c},searchWordBoundary:function(l,c){for(var f=this._text,h=this._reSpace.test(f[l])?l-1:l,p=f[h],g=d.reNonWord;!g.test(p)&&h>0&&h<f.length;)h+=c,p=f[h];return g.test(p)&&(h+=c===1?0:1),h},selectWord:function(l){l=l||this.selectionStart;var c=this.searchWordBoundary(l,-1),f=this.searchWordBoundary(l,1);this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(l){l=l||this.selectionStart;var c=this.findLineBoundaryLeft(l),f=this.findLineBoundaryRight(l);return this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(l){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(l),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(l){l._iTextInstances&&l._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(l){if(!(!this.__isMousedown||!this.isEditing)){var c=this.getSelectionStartFromPointer(l.e),f=this.selectionStart,h=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||f===h)&&(f===c||h===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==h)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(l,c,f){var h=f.slice(0,l),p=d.util.string.graphemeSplit(h).length;if(l===c)return{selectionStart:p,selectionEnd:p};var g=f.slice(l,c),y=d.util.string.graphemeSplit(g).length;return{selectionStart:p,selectionEnd:p+y}},fromGraphemeToStringSelection:function(l,c,f){var h=f.slice(0,l),p=h.join("").length;if(l===c)return{selectionStart:p,selectionEnd:p};var g=f.slice(l,c),y=g.join("").length;return{selectionStart:p,selectionEnd:p+y}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var l=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=l.selectionStart,this.hiddenTextarea.selectionEnd=l.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=l.selectionEnd,this.inCompositionMode||(this.selectionStart=l.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var l=this._calcTextareaPosition();this.hiddenTextarea.style.left=l.left,this.hiddenTextarea.style.top=l.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var l=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(l),f=this.get2DCursorLocation(l),h=f.lineIndex,p=f.charIndex,g=this.getValueOfPropertyAt(h,p,"fontSize")*this.lineHeight,y=c.leftOffset,_=this.calcTransformMatrix(),w={x:c.left+y,y:c.top+c.topOffset+g},T=this.canvas.getRetinaScaling(),k=this.canvas.upperCanvasEl,P=k.width/T,L=k.height/T,N=P-g,F=L-g,G=k.clientWidth/P,H=k.clientHeight/L;return w=d.util.transformPoint(w,_),w=d.util.transformPoint(w,this.canvas.viewportTransform),w.x*=G,w.y*=H,w.x<0&&(w.x=0),w.x>N&&(w.x=N),w.y<0&&(w.y=0),w.y>F&&(w.y=F),w.x+=this.canvas._offset.left,w.y+=this.canvas._offset.top,{left:w.x+"px",top:w.y+"px",fontSize:g+"px",charHeight:g}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var l=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),l&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),l&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var l in this.styles)this._textLines[l]||delete this.styles[l]},removeStyleFromTo:function(l,c){var f=this.get2DCursorLocation(l,!0),h=this.get2DCursorLocation(c,!0),p=f.lineIndex,g=f.charIndex,y=h.lineIndex,_=h.charIndex,w,T;if(p!==y){if(this.styles[p])for(w=g;w<this._unwrappedTextLines[p].length;w++)delete this.styles[p][w];if(this.styles[y])for(w=_;w<this._unwrappedTextLines[y].length;w++)T=this.styles[y][w],T&&(this.styles[p]||(this.styles[p]={}),this.styles[p][g+w-_]=T);for(w=p+1;w<=y;w++)delete this.styles[w];this.shiftLineStyles(y,p-y)}else if(this.styles[p]){T=this.styles[p];var k=_-g,P,L;for(w=g;w<_;w++)delete T[w];for(L in this.styles[p])P=parseInt(L,10),P>=_&&(T[P-k]=T[L],delete T[L])}},shiftLineStyles:function(l,c){var f=v(this.styles);for(var h in this.styles){var p=parseInt(h,10);p>l&&(this.styles[p+c]=f[p],f[p-c]||delete this.styles[p])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(l,c,f,h){var p,g={},y=!1,_=this._unwrappedTextLines[l].length===c;f||(f=1),this.shiftLineStyles(l,f),this.styles[l]&&(p=this.styles[l][c===0?c:c-1]);for(var w in this.styles[l]){var T=parseInt(w,10);T>=c&&(y=!0,g[T-c]=this.styles[l][w],_&&c===0||delete this.styles[l][w])}var k=!1;for(y&&!_&&(this.styles[l+f]=g,k=!0),k&&f--;f>0;)h&&h[f-1]?this.styles[l+f]={0:v(h[f-1])}:p?this.styles[l+f]={0:v(p)}:delete this.styles[l+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(l,c,f,h){this.styles||(this.styles={});var p=this.styles[l],g=p?v(p):{};f||(f=1);for(var y in g){var _=parseInt(y,10);_>=c&&(p[_+f]=g[_],g[_-f]||delete p[_])}if(this._forceClearCache=!0,h){for(;f--;)Object.keys(h[f]).length&&(this.styles[l]||(this.styles[l]={}),this.styles[l][c+f]=v(h[f]));return}if(p)for(var w=p[c?c-1:1];w&&f--;)this.styles[l][c+f]=v(w)},insertNewStyleBlock:function(l,c,f){for(var h=this.get2DCursorLocation(c,!0),p=[0],g=0,y=0;y<l.length;y++)l[y]===`
`?(g++,p[g]=0):p[g]++;p[0]>0&&(this.insertCharStyleObject(h.lineIndex,h.charIndex,p[0],f),f=f&&f.slice(p[0]+1)),g&&this.insertNewlineStyleObject(h.lineIndex,h.charIndex+p[0],g);for(var y=1;y<g;y++)p[y]>0?this.insertCharStyleObject(h.lineIndex+y,0,p[y],f):f&&(this.styles[h.lineIndex+y][0]=f[0]),f=f&&f.slice(p[y]+1);p[y]>0&&this.insertCharStyleObject(h.lineIndex+y,0,p[y],f)},setSelectionStartEndWithShift:function(l,c,f){f<=l?(c===l?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=l),this.selectionStart=f):f>l&&f<c?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(c===l?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=f)},setSelectionInBoundaries:function(){var l=this.text.length;this.selectionStart>l?this.selectionStart=l:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>l?this.selectionEnd=l:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),d.util.object.extend(d.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(v){if(this.canvas){this.__newClickTime=+new Date;var l=v.pointer;this.isTripleClick(l)&&(this.fire("tripleclick",v),this._stopEvent(v.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=l,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(v){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===v.x&&this.__lastPointer.y===v.y},_stopEvent:function(v){v.preventDefault&&v.preventDefault(),v.stopPropagation&&v.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(v){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(v.e))},tripleClickHandler:function(v){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(v.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(v){!this.canvas||!this.editable||v.e.button&&v.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(v.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(v){!this.canvas||!this.editable||v.e.button&&v.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(v){if(this.__isMousedown=!1,!(!this.editable||this.group||v.transform&&v.transform.actionPerformed||v.e.button&&v.e.button!==1)){if(this.canvas){var l=this.canvas._activeObject;if(l&&l!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(v.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(v){var l=this.getSelectionStartFromPointer(v),c=this.selectionStart,f=this.selectionEnd;v.shiftKey?this.setSelectionStartEndWithShift(c,f,l):(this.selectionStart=l,this.selectionEnd=l),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(v){for(var l=this.getLocalPointer(v),c=0,f=0,h=0,p=0,g=0,y,_,w=0,T=this._textLines.length;w<T&&h<=l.y;w++)h+=this.getHeightOfLine(w)*this.scaleY,g=w,w>0&&(p+=this._textLines[w-1].length+this.missingNewlineOffset(w-1));y=this._getLineLeftOffset(g),f=y*this.scaleX,_=this._textLines[g],this.direction==="rtl"&&(l.x=this.width*this.scaleX-l.x+f);for(var k=0,P=_.length;k<P&&(c=f,f+=this.__charBounds[g][k].kernedWidth*this.scaleX,f<=l.x);k++)p++;return this._getNewSelectionStartFromOffset(l,c,f,p,P)},_getNewSelectionStartFromOffset:function(v,l,c,f,h){var p=v.x-l,g=c-v.x,y=g>p||g<0?0:1,_=f+y;return this.flipX&&(_=h-_),_>this._text.length&&(_=this._text.length),_}}),d.util.object.extend(d.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=d.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var v=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+v.top+"; left: "+v.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+v.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):d.document.body.appendChild(this.hiddenTextarea),d.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),d.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),d.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),d.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),d.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),d.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),d.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),d.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),d.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(d.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(v){if(this.isEditing){var l=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(v.keyCode in l)this[l[v.keyCode]](v);else if(v.keyCode in this.ctrlKeysMapDown&&(v.ctrlKey||v.metaKey))this[this.ctrlKeysMapDown[v.keyCode]](v);else return;v.stopImmediatePropagation(),v.preventDefault(),v.keyCode>=33&&v.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(v){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(v.keyCode in this.ctrlKeysMapUp&&(v.ctrlKey||v.metaKey))this[this.ctrlKeysMapUp[v.keyCode]](v);else return;v.stopImmediatePropagation(),v.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(v){var l=this.fromPaste;if(this.fromPaste=!1,v&&v.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,h=c.length,p,g,y=h-f,_=this.selectionStart,w=this.selectionEnd,T=_!==w,k,P,L;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var N=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),F=_>N.selectionStart;T?(p=this._text.slice(_,w),y+=w-_):h<f&&(F?p=this._text.slice(w+y,w):p=this._text.slice(_,_-y)),g=c.slice(N.selectionEnd-y,N.selectionEnd),p&&p.length&&(g.length&&(k=this.getSelectionStyles(_,_+1,!1),k=g.map(function(){return k[0]})),T?(P=_,L=w):F?(P=w-p.length,L=w):(P=w,L=w+p.length),this.removeStyleFromTo(P,L)),g.length&&(l&&g.join("")===d.copiedText&&!d.disableStyleCopyPaste&&(k=d.copiedTextStyle),this.insertNewStyleBlock(g,_,k)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(v){this.compositionStart=v.target.selectionStart,this.compositionEnd=v.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(d.copiedText=this.getSelectedText(),d.disableStyleCopyPaste?d.copiedTextStyle=null:d.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(v){return v&&v.clipboardData||d.window.clipboardData},_getWidthBeforeCursor:function(v,l){var c=this._getLineLeftOffset(v),f;return l>0&&(f=this.__charBounds[v][l-1],c+=f.left+f.width),c},getDownCursorOffset:function(v,l){var c=this._getSelectionForOffset(v,l),f=this.get2DCursorLocation(c),h=f.lineIndex;if(h===this._textLines.length-1||v.metaKey||v.keyCode===34)return this._text.length-c;var p=f.charIndex,g=this._getWidthBeforeCursor(h,p),y=this._getIndexOnLine(h+1,g),_=this._textLines[h].slice(p);return _.length+y+1+this.missingNewlineOffset(h)},_getSelectionForOffset:function(v,l){return v.shiftKey&&this.selectionStart!==this.selectionEnd&&l?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(v,l){var c=this._getSelectionForOffset(v,l),f=this.get2DCursorLocation(c),h=f.lineIndex;if(h===0||v.metaKey||v.keyCode===33)return-c;var p=f.charIndex,g=this._getWidthBeforeCursor(h,p),y=this._getIndexOnLine(h-1,g),_=this._textLines[h].slice(0,p),w=this.missingNewlineOffset(h-1);return-this._textLines[h-1].length+y-_.length+(1-w)},_getIndexOnLine:function(v,l){for(var c=this._textLines[v],f=this._getLineLeftOffset(v),h=f,p=0,g,y,_=0,w=c.length;_<w;_++)if(g=this.__charBounds[v][_].width,h+=g,h>l){y=!0;var T=h-g,k=h,P=Math.abs(T-l),L=Math.abs(k-l);p=L<P?_:_-1;break}return y||(p=c.length-1),p},moveCursorDown:function(v){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",v)},moveCursorUp:function(v){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",v)},_moveCursorUpOrDown:function(v,l){var c="get"+v+"CursorOffset",f=this[c](l,this._selectionDirection==="right");l.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(v){var l=this._selectionDirection==="left"?this.selectionStart+v:this.selectionEnd+v;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,l),v!==0},moveCursorWithoutShift:function(v){return v<0?(this.selectionStart+=v,this.selectionEnd=this.selectionStart):(this.selectionEnd+=v,this.selectionStart=this.selectionEnd),v!==0},moveCursorLeft:function(v){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",v)},_move:function(v,l,c){var f;if(v.altKey)f=this["findWordBoundary"+c](this[l]);else if(v.metaKey||v.keyCode===35||v.keyCode===36)f=this["findLineBoundary"+c](this[l]);else return this[l]+=c==="Left"?-1:1,!0;if(typeof f!==void 0&&this[l]!==f)return this[l]=f,!0},_moveLeft:function(v,l){return this._move(v,l,"Left")},_moveRight:function(v,l){return this._move(v,l,"Right")},moveCursorLeftWithoutShift:function(v){var l=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(l=this._moveLeft(v,"selectionStart")),this.selectionEnd=this.selectionStart,l},moveCursorLeftWithShift:function(v){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(v,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(v,"selectionStart")},moveCursorRight:function(v){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",v)},_moveCursorLeftOrRight:function(v,l){var c="moveCursor"+v+"With";this._currentCursorOpacity=1,l.shiftKey?c+="Shift":c+="outShift",this[c](l)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(v){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(v,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(v,"selectionEnd")},moveCursorRightWithoutShift:function(v){var l=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(l=this._moveRight(v,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,l},removeChars:function(v,l){typeof l>"u"&&(l=v+1),this.removeStyleFromTo(v,l),this._text.splice(v,l-v),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(v,l,c,f){typeof f>"u"&&(f=c),f>c&&this.removeStyleFromTo(c,f);var h=d.util.string.graphemeSplit(v);this.insertNewStyleBlock(h,c,l),this._text=[].concat(this._text.slice(0,c),h,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var v=d.util.toFixed,l=/  +/g;d.util.object.extend(d.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var f=!0,h=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",h?'text-decoration="'+h+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,f){var h=[],p=[],g=c,y;this._setSVGBg(p);for(var _=0,w=this._textLines.length;_<w;_++)y=this._getLineLeftOffset(_),(this.textBackgroundColor||this.styleHas("textBackgroundColor",_))&&this._setSVGTextLineBg(p,_,f+y,g),this._setSVGTextLineText(h,_,f+y,g),g+=this.getHeightOfLine(_);return{textSpans:h,textBgRects:p}},_createTextCharSpan:function(c,f,h,p){var g=c!==c.trim()||c.match(l),y=this.getSvgSpanStyles(f,g),_=y?'style="'+y+'"':"",w=f.deltaY,T="",k=d.Object.NUM_FRACTION_DIGITS;return w&&(T=' dy="'+v(w,k)+'" '),['<tspan x="',v(h,k),'" y="',v(p,k),'" ',T,_,">",d.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,f,h,p){var g=this.getHeightOfLine(f),y=this.textAlign.indexOf("justify")!==-1,_,w,T="",k,P,L=0,N=this._textLines[f],F;p+=g*(1-this._fontSizeFraction)/this.lineHeight;for(var G=0,H=N.length-1;G<=H;G++)F=G===H||this.charSpacing,T+=N[G],k=this.__charBounds[f][G],L===0?(h+=k.kernedWidth-k.width,L+=k.width):L+=k.kernedWidth,y&&!F&&this._reSpaceAndTab.test(N[G])&&(F=!0),F||(_=_||this.getCompleteStyleDeclaration(f,G),w=this.getCompleteStyleDeclaration(f,G+1),F=this._hasStyleChangedForSvg(_,w)),F&&(P=this._getStyleDeclaration(f,G)||{},c.push(this._createTextCharSpan(T,P,h,p)),T="",_=w,h+=L,L=0)},_pushTextBgRect:function(c,f,h,p,g,y){var _=d.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(f),' x="',v(h,_),'" y="',v(p,_),'" width="',v(g,_),'" height="',v(y,_),`"></rect>
`)},_setSVGTextLineBg:function(c,f,h,p){for(var g=this._textLines[f],y=this.getHeightOfLine(f)/this.lineHeight,_=0,w=0,T,k,P=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),L=0,N=g.length;L<N;L++)T=this.__charBounds[f][L],k=this.getValueOfPropertyAt(f,L,"textBackgroundColor"),k!==P?(P&&this._pushTextBgRect(c,P,h+w,p,_,y),w=T.left,_=T.width,P=k):_+=T.kernedWidth;k&&this._pushTextBgRect(c,k,h+w,p,_,y)},_getFillAttributes:function(c){var f=c&&typeof c=="string"?new d.Color(c):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+c+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var f=0,h=0,p=0;p<c;p++)f+=this.getHeightOfLine(p);return h=this.getHeightOfLine(p),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*h/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var f=d.Object.prototype.getSvgStyles.call(this,c);return f+" white-space: pre;"}})}(),function(v){var l=v.fabric||(v.fabric={});l.Textbox=l.util.createClass(l.IText,l.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:l.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var f=0,h=0,p=0,g={},y=0;y<c.graphemeLines.length;y++)c.graphemeText[p]===`
`&&y>0?(h=0,p++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[p])&&y>0&&(h++,p++),g[y]={line:f,offset:h},p+=c.graphemeLines[y].length,h+=c.graphemeLines[y].length;return g},styleHas:function(c,f){if(this._styleMap&&!this.isWrapping){var h=this._styleMap[f];h&&(f=h.line)}return l.Text.prototype.styleHas.call(this,c,f)},isEmptyStyles:function(c){if(!this.styles)return!0;var f=0,h=c+1,p,g,y=!1,_=this._styleMap[c],w=this._styleMap[c+1];_&&(c=_.line,f=_.offset),w&&(h=w.line,y=h===c,p=w.offset),g=typeof c>"u"?this.styles:{line:this.styles[c]};for(var T in g)for(var k in g[T])if(k>=f&&(!y||k<p))for(var P in g[T][k])return!1;return!0},_getStyleDeclaration:function(c,f){if(this._styleMap&&!this.isWrapping){var h=this._styleMap[c];if(!h)return null;c=h.line,f=h.offset+f}return this.callSuper("_getStyleDeclaration",c,f)},_setStyleDeclaration:function(c,f,h){var p=this._styleMap[c];c=p.line,f=p.offset+f,this.styles[c][f]=h},_deleteStyleDeclaration:function(c,f){var h=this._styleMap[c];c=h.line,f=h.offset+f,delete this.styles[c][f]},_getLineStyle:function(c){var f=this._styleMap[c];return!!this.styles[f.line]},_setLineStyle:function(c){var f=this._styleMap[c];this.styles[f.line]={}},_wrapText:function(c,f){var h=[],p;for(this.isWrapping=!0,p=0;p<c.length;p++)h=h.concat(this._wrapLine(c[p],p,f));return this.isWrapping=!1,h},_measureWord:function(c,f,h){var p=0,g,y=!0;h=h||0;for(var _=0,w=c.length;_<w;_++){var T=this._getGraphemeBox(c[_],f,_+h,g,y);p+=T.kernedWidth,g=c[_]}return p},_wrapLine:function(c,f,h,re){var g=0,y=this.splitByGrapheme,_=[],w=[],T=y?l.util.string.graphemeSplit(c):c.split(this._wordJoiners),k="",P=0,L=y?"":" ",N=0,F=0,G=0,H=!0,$=this._getWidthOfCharSpacing(),re=re||0;T.length===0&&T.push([]),h-=re;for(var le=0;le<T.length;le++)k=y?T[le]:l.util.string.graphemeSplit(T[le]),N=this._measureWord(k,f,P),P+=k.length,g+=F+N-$,g>h&&!H?(_.push(w),w=[],g=N,H=!0):g+=$,!H&&!y&&w.push(L),w=w.concat(k),F=y?0:this._measureWord([L],f,P),P++,H=!1,N>G&&(G=N);return le&&_.push(w),G+re>this.dynamicMinWidth&&(this.dynamicMinWidth=G-$+re),_},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var f=l.Text.prototype._splitTextIntoLines.call(this,c),h=this._wrapText(f.lines,this.width),p=new Array(h.length),g=0;g<h.length;g++)p[g]=h[g].join("");return f.lines=p,f.graphemeLines=h,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var f in this._styleMap)this._textLines[f]&&(c[this._styleMap[f].line]=1);for(var f in this.styles)c[f]||delete this.styles[f]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),l.Textbox.fromObject=function(c,f){return l.Object._fromObject("Textbox",c,f,"text")}}(m),function(){var v=d.controlsUtils,l=v.scaleSkewCursorStyleHandler,c=v.scaleCursorStyleHandler,f=v.scalingEqually,h=v.scalingYOrSkewingX,p=v.scalingXOrSkewingY,g=v.scaleOrSkewActionName,y=d.Object.prototype.controls;if(y.ml=new d.Control({x:-.5,y:0,cursorStyleHandler:l,actionHandler:p,getActionName:g}),y.mr=new d.Control({x:.5,y:0,cursorStyleHandler:l,actionHandler:p,getActionName:g}),y.mb=new d.Control({x:0,y:.5,cursorStyleHandler:l,actionHandler:h,getActionName:g}),y.mt=new d.Control({x:0,y:-.5,cursorStyleHandler:l,actionHandler:h,getActionName:g}),y.tl=new d.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),y.tr=new d.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),y.bl=new d.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:f}),y.br=new d.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:f}),y.mtr=new d.Control({x:0,y:-.5,actionHandler:v.rotationWithSnapping,cursorStyleHandler:v.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),d.Textbox){var _=d.Textbox.prototype.controls={};_.mtr=y.mtr,_.tr=y.tr,_.br=y.br,_.tl=y.tl,_.bl=y.bl,_.mt=y.mt,_.mb=y.mb,_.mr=new d.Control({x:.5,y:0,actionHandler:v.changeWidth,cursorStyleHandler:l,actionName:"resizing"}),_.ml=new d.Control({x:-.5,y:0,actionHandler:v.changeWidth,cursorStyleHandler:l,actionName:"resizing"})}}()},3053:function(a,m,u){var d=u(602);function E(I,O,A){var D,v;if(A=A||0,!d(O))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(O,I,A);for(v=O.length,D=A;A>=0&&D<v;D+=1)if(O[D]===I)return D;return-1}a.exports=E},8592:function(a,m,u){var d=u(602),E=u(6092),I=u(5573);function O(A,D,v){d(A)?E(A,D,v):I(A,D,v)}a.exports=O},6092:function(a){function m(u,d,E){var I=0,O=u.length;for(E=E||null;I<O&&d.call(E,u[I],I,u)!==!1;I+=1);}a.exports=m},5573:function(a){function m(u,d,E){var I;E=E||null;for(I in u)if(u.hasOwnProperty(I)&&d.call(E,u[I],I,u)===!1)break}a.exports=m},9052:function(a,m,u){var d=u(961),E=u(9886),I=u(2560),O=u(5393),A=u(602),D=u(5183),v=u(8592),l=/\s+/g;function c(){this.events=null,this.contexts=null}c.mixin=function(f){d(f.prototype,c.prototype)},c.prototype._getHandlerItem=function(f,h){var p={handler:f};return h&&(p.context=h),p},c.prototype._safeEvent=function(f){var h=this.events,p;return h||(h=this.events={}),f&&(p=h[f],p||(p=[],h[f]=p),h=p),h},c.prototype._safeContext=function(){var f=this.contexts;return f||(f=this.contexts=[]),f},c.prototype._indexOfContext=function(f){for(var h=this._safeContext(),p=0;h[p];){if(f===h[p][0])return p;p+=1}return-1},c.prototype._memorizeContext=function(f){var h,p;E(f)&&(h=this._safeContext(),p=this._indexOfContext(f),p>-1?h[p][1]+=1:h.push([f,1]))},c.prototype._forgetContext=function(f){var h,p;E(f)&&(h=this._safeContext(),p=this._indexOfContext(f),p>-1&&(h[p][1]-=1,h[p][1]<=0&&h.splice(p,1)))},c.prototype._bindEvent=function(f,h,p){var g=this._safeEvent(f);this._memorizeContext(p),g.push(this._getHandlerItem(h,p))},c.prototype.on=function(f,h,p){var g=this;I(f)?(f=f.split(l),v(f,function(y){g._bindEvent(y,h,p)})):O(f)&&(p=h,v(f,function(y,_){g.on(_,y,p)}))},c.prototype.once=function(f,h,p){var g=this;if(O(f)){p=h,v(f,function(_,w){g.once(w,_,p)});return}function y(){h.apply(p,arguments),g.off(f,y,p)}this.on(f,y,p)},c.prototype._spliceMatches=function(f,h){var p=0,g;if(A(f))for(g=f.length;p<g;p+=1)h(f[p])===!0&&(f.splice(p,1),g-=1,p-=1)},c.prototype._matchHandler=function(f){var h=this;return function(p){var g=f===p.handler;return g&&h._forgetContext(p.context),g}},c.prototype._matchContext=function(f){var h=this;return function(p){var g=f===p.context;return g&&h._forgetContext(p.context),g}},c.prototype._matchHandlerAndContext=function(f,h){var p=this;return function(g){var y=f===g.handler,_=h===g.context,w=y&&_;return w&&p._forgetContext(g.context),w}},c.prototype._offByEventName=function(f,h){var p=this,g=D(h),y=p._matchHandler(h);f=f.split(l),v(f,function(_){var w=p._safeEvent(_);g?p._spliceMatches(w,y):(v(w,function(T){p._forgetContext(T.context)}),p.events[_]=[])})},c.prototype._offByHandler=function(f){var h=this,p=this._matchHandler(f);v(this._safeEvent(),function(g){h._spliceMatches(g,p)})},c.prototype._offByObject=function(f,h){var p=this,g;this._indexOfContext(f)<0?v(f,function(y,_){p.off(_,y)}):I(h)?(g=this._matchContext(f),p._spliceMatches(this._safeEvent(h),g)):D(h)?(g=this._matchHandlerAndContext(h,f),v(this._safeEvent(),function(y){p._spliceMatches(y,g)})):(g=this._matchContext(f),v(this._safeEvent(),function(y){p._spliceMatches(y,g)}))},c.prototype.off=function(f,h){I(f)?this._offByEventName(f,h):arguments.length?D(f)?this._offByHandler(f):O(f)&&this._offByObject(f,h):(this.events={},this.contexts=[])},c.prototype.fire=function(f){this.invoke.apply(this,arguments)},c.prototype.invoke=function(f){var h,p,g,y;if(!this.hasListener(f))return!0;for(h=this._safeEvent(f),p=Array.prototype.slice.call(arguments,1),g=0;h[g];){if(y=h[g],y.handler.apply(y.context,p)===!1)return!1;g+=1}return!0},c.prototype.hasListener=function(f){return this.getListenerLength(f)>0},c.prototype.getListenerLength=function(f){var h=this._safeEvent(f);return h.length},a.exports=c},961:function(a){function m(u,d){var E=Object.prototype.hasOwnProperty,I,O,A,D;for(A=1,D=arguments.length;A<D;A+=1){I=arguments[A];for(O in I)E.call(I,O)&&(u[O]=I[O])}return u}a.exports=m},1610:function(a,m,u){var d=u(5695),E=u(3778);function I(O,A){for(var D=arguments,v=D[0],l=1,c=D.length;l<c;l+=1){if(d(v)||E(v))return;v=v[D[l]]}return v}a.exports=I},4564:function(a,m,u){var d=u(5573);function E(I,O){var A=document.createElement("img"),D="";return d(O,function(v,l){D+="&"+l+"="+v}),D=D.substring(1),A.src=I+"?"+D,A.style.display="none",document.body.appendChild(A),document.body.removeChild(A),A}a.exports=E},4729:function(a,m,u){var d=u(5695),E=u(4564),I=7*24*60*60*1e3;function O(D){var v=new Date().getTime();return v-D>I}function A(D,v){var l="https://www.google-analytics.com/collect",c=location.hostname,f="event",h="use",p="TOAST UI "+D+" for "+c+": Statistics",g=window.localStorage.getItem(p);!d(window.tui)&&window.tui.usageStatistics===!1||g&&!O(g)||(window.localStorage.setItem(p,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&E(l,{v:1,t:f,tid:v,cid:c,dp:c,dh:D,el:D,ec:h})},1e3))}a.exports=A},602:function(a){function m(u){return u instanceof Array}a.exports=m},9886:function(a,m,u){var d=u(5695),E=u(3778);function I(O){return!d(O)&&!E(O)}a.exports=I},5183:function(a){function m(u){return u instanceof Function}a.exports=m},3778:function(a){function m(u){return u===null}a.exports=m},5393:function(a){function m(u){return u===Object(u)}a.exports=m},2560:function(a){function m(u){return typeof u=="string"||u instanceof String}a.exports=m},5695:function(a){function m(u){return u===void 0}a.exports=m},4426:function(a,m,u){a.exports=u(4486)},9406:function(a,m,u){a.exports=u(4877)},789:function(a,m,u){a.exports=u(7178)},381:function(a,m,u){a.exports=u(5603)},7636:function(a,m,u){a.exports=u(1206)},1899:function(a,m,u){a.exports=u(6174)},899:function(a,m,u){a.exports=u(57)},8005:function(a,m,u){a.exports=u(4741)},6562:function(a,m,u){a.exports=u(8368)},9131:function(a,m,u){a.exports=u(3739)},4383:function(a,m,u){a.exports=u(172)},6065:function(a,m,u){a.exports=u(4963)},1734:function(a,m,u){a.exports=u(7820)},2461:function(a,m,u){a.exports=u(5636)},5214:function(a,m,u){a.exports=u(5059)},6397:function(a,m,u){a.exports=u(3969)},8189:function(a,m,u){a.exports=u(6618)},9146:function(a,m,u){a.exports=u(5279)},4496:function(a,m,u){a.exports=u(9562)},3972:function(a,m,u){a.exports=u(652)},7172:function(a,m,u){a.exports=u(2813)},1845:function(a,m,u){a.exports=u(8664)},662:function(a,m,u){a.exports=u(1457)},711:function(a,m,u){a.exports=u(2937)},6623:function(a,m,u){a.exports=u(9297)},7077:function(a,m,u){a.exports=u(8026)},9856:function(a,m,u){a.exports=u(2044)},4230:function(a,m,u){a.exports=u(2214)},184:function(a,m,u){a.exports=u(9256)},3742:function(a,m,u){a.exports=u(5659)},1801:function(a){var m={rect:1,circle:2,triangle:1},u={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function d(l){var c=l.originX,f=l.originY,h=c.substring(0,1)+f.substring(0,1);l.startPoint=l.origins[h]}function E(l,c,f){var h=l.x,p=l.y,g=c.x,y=c.y,_=f*Math.PI/180,w=(g-h)*Math.cos(_)-(y-p)*Math.sin(_)+h,T=(g-h)*Math.sin(_)+(y-p)*Math.cos(_)+p;return{originX:h>w?"right":"left",originY:p>T?"bottom":"top"}}function I(l){return l.originX==="center"&&l.originY==="center"}function O(l,c){var f=c.getPointByOrigin("center","center"),h=-c.angle,p=E(f,l,h),g=p.originX,y=p.originY,_=c.getPointByOrigin(g,y),w=c.left-(f.x-_.x),T=c.top-(f.y-_.y);c.set({originX:g,originY:y,left:w,top:T}),c.setCoords()}function A(l,c){var f=c.startPoint,h=-c.angle,p=E(f,l,h),g=p.originX,y=p.originY;c.setPositionByOrigin(f,g,y),c.setCoords()}function D(l){var c=l.type,f=l.scaleX,h=l.scaleY,p=u[c],g=l[p.w]*f,y=l[p.h]*h;if(l.isRegular){var _=Math.max(f,h);g=l[p.w]*_,y=l[p.h]*_}var w={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};w[p.w]=g,w[p.h]=y,l.set(w)}function v(l,c){var f=c.type,h=c.strokeWidth,p=c.startPoint,g=m[f],y=u[f],_=c.type==="triangle",w={},T=Math.abs(p.x-l.x)/g,k=Math.abs(p.y-l.y)/g;T>h&&(T-=h/g),k>h&&(k-=h/g),c.isRegular&&(T=k=Math.max(T,k),_&&(k=Math.sqrt(3)/2*T)),w[y.w]=T,w[y.h]=k,c.set(w)}a.exports={setOrigins:function(c){var f=c.getPointByOrigin("left","top"),h=c.getPointByOrigin("right","top"),p=c.getPointByOrigin("right","bottom"),g=c.getPointByOrigin("left","bottom");c.origins={lt:f,rt:h,rb:p,lb:g}},resize:function(c,f,h){I(c)&&(O(f,c),d(c)),h?D(c):v(f,c),A(f,c)},adjustOriginToCenter:function(c){var f=c.getPointByOrigin("center","center"),h=c.originX,p=c.originY,g=c.getPointByOrigin(h,p),y=c.left+(f.x-g.x),_=c.top+(f.y-g.y);c.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:y,top:_}),c.setCoords()}}},2221:function(a,m,u){u(5454),u(9173);var d=u(7545);a.exports=d.Array.from},5078:function(a,m,u){u(8118);var d=u(7545);a.exports=d.Array.isArray},6135:function(a,m,u){u(9106);var d=u(5607);a.exports=d("Array").concat},9510:function(a,m,u){u(1710);var d=u(5607);a.exports=d("Array").fill},3971:function(a,m,u){u(3436);var d=u(5607);a.exports=d("Array").filter},98:function(a,m,u){u(9823);var d=u(5607);a.exports=d("Array").forEach},2089:function(a,m,u){u(2276);var d=u(5607);a.exports=d("Array").indexOf},6209:function(a,m,u){u(3838);var d=u(5607);a.exports=d("Array").map},2671:function(a,m,u){u(5818);var d=u(5607);a.exports=d("Array").slice},1375:function(a,m,u){u(2178);var d=u(5607);a.exports=d("Array").splice},3528:function(a,m,u){u(665);var d=u(5607);a.exports=d("Function").bind},5739:function(a,m,u){u(8939),u(5454);var d=u(8703);a.exports=d},278:function(a,m,u){var d=u(3528),E=Function.prototype;a.exports=function(I){var O=I.bind;return I===E||I instanceof Function&&O===E.bind?d:O}},1484:function(a,m,u){var d=u(6135),E=Array.prototype;a.exports=function(I){var O=I.concat;return I===E||I instanceof Array&&O===E.concat?d:O}},7731:function(a,m,u){var d=u(9510),E=Array.prototype;a.exports=function(I){var O=I.fill;return I===E||I instanceof Array&&O===E.fill?d:O}},3669:function(a,m,u){var d=u(3971),E=Array.prototype;a.exports=function(I){var O=I.filter;return I===E||I instanceof Array&&O===E.filter?d:O}},2604:function(a,m,u){var d=u(2089),E=Array.prototype;a.exports=function(I){var O=I.indexOf;return I===E||I instanceof Array&&O===E.indexOf?d:O}},263:function(a,m,u){var d=u(6209),E=Array.prototype;a.exports=function(I){var O=I.map;return I===E||I instanceof Array&&O===E.map?d:O}},7663:function(a,m,u){var d=u(2671),E=Array.prototype;a.exports=function(I){var O=I.slice;return I===E||I instanceof Array&&O===E.slice?d:O}},5063:function(a,m,u){var d=u(1375),E=Array.prototype;a.exports=function(I){var O=I.splice;return I===E||I instanceof Array&&O===E.splice?d:O}},6813:function(a,m,u){var d=u(3842),E=String.prototype;a.exports=function(I){var O=I.trim;return typeof I=="string"||I===E||I instanceof String&&O===E.trim?d:O}},6285:function(a,m,u){u(2666);var d=u(7545);a.exports=d.Number.parseInt},3213:function(a,m,u){u(3113);var d=u(7545),E=d.Object;a.exports=function(O,A){return E.create(O,A)}},3512:function(a,m,u){u(297);var d=u(7545),E=d.Object,I=a.exports=function(A,D,v){return E.defineProperty(A,D,v)};E.defineProperty.sham&&(I.sham=!0)},8168:function(a,m,u){u(9234);var d=u(7545);a.exports=d.Object.getPrototypeOf},8651:function(a,m,u){u(2647);var d=u(7545);a.exports=d.Object.keys},3083:function(a,m,u){u(3222);var d=u(7545);a.exports=d.Object.setPrototypeOf},2987:function(a,m,u){u(4859);var d=u(7545);a.exports=d.parseFloat},2239:function(a,m,u){u(5706);var d=u(7545);a.exports=d.parseInt},3154:function(a,m,u){u(4242),u(8939),u(6663),u(9021),u(7884),u(8885),u(1868),u(5454);var d=u(7545);a.exports=d.Promise},6577:function(a,m,u){u(5397);var d=u(7545);a.exports=d.Reflect.construct},3842:function(a,m,u){u(957);var d=u(5607);a.exports=d("String").trim},5008:function(a,m,u){u(9106),u(6663),u(6187),u(9781),u(492),u(6681),u(9594),u(3665),u(9017),u(1250),u(9786),u(503),u(6565),u(9322),u(3610),u(6886),u(3514),u(8671),u(8556),u(1367);var d=u(7545);a.exports=d.Symbol},994:function(a,m,u){u(8939),u(6663),u(5454),u(3665);var d=u(9207);a.exports=d.f("iterator")},2813:function(a,m,u){var d=u(3822);a.exports=d},8664:function(a,m,u){var d=u(1434);a.exports=d},1457:function(a,m,u){var d=u(7710);a.exports=d},2937:function(a,m,u){var d=u(4741);a.exports=d},9297:function(a,m,u){var d=u(4963);a.exports=d},8026:function(a,m,u){var d=u(7820);a.exports=d},2044:function(a,m,u){var d=u(8980);a.exports=d},2214:function(a,m,u){var d=u(6672);a.exports=d},9256:function(a,m,u){var d=u(2285);u(177),u(9031),u(6658),u(1875),u(8658),u(4592),u(6680),a.exports=d},5659:function(a,m,u){var d=u(8535);a.exports=d},6235:function(a,m,u){var d=u(6447),E=u(9288);a.exports=function(I){if(d(I))return I;throw TypeError(E(I)+" is not a function")}},1404:function(a,m,u){var d=u(2091),E=u(9288);a.exports=function(I){if(d(I))return I;throw TypeError(E(I)+" is not a constructor")}},7757:function(a,m,u){var d=u(6447);a.exports=function(E){if(typeof E=="object"||d(E))return E;throw TypeError("Can't set "+String(E)+" as a prototype")}},7423:function(a){a.exports=function(){}},6961:function(a){a.exports=function(m,u,d){if(m instanceof u)return m;throw TypeError("Incorrect "+(d?d+" ":"")+"invocation")}},1138:function(a,m,u){var d=u(5744);a.exports=function(E){if(d(E))return E;throw TypeError(String(E)+" is not an object")}},2724:function(a,m,u){var d=u(1795),E=u(7739),I=u(4104);a.exports=function(A){for(var D=d(this),v=I(D),l=arguments.length,c=E(l>1?arguments[1]:void 0,v),f=l>2?arguments[2]:void 0,h=f===void 0?v:E(f,v);h>c;)D[c++]=A;return D}},7397:function(a,m,u){var d=u(454).forEach,E=u(424),I=E("forEach");a.exports=I?[].forEach:function(A){return d(this,A,arguments.length>1?arguments[1]:void 0)}},841:function(a,m,u){var d=u(8043),E=u(1795),I=u(1635),O=u(6109),A=u(2091),D=u(4104),v=u(9361),l=u(1669),c=u(8703);a.exports=function(h){var p=E(h),g=A(this),y=arguments.length,_=y>1?arguments[1]:void 0,w=_!==void 0;w&&(_=d(_,y>2?arguments[2]:void 0,2));var T=c(p),k=0,P,L,N,F,G,H;if(T&&!(this==Array&&O(T)))for(F=l(p,T),G=F.next,L=g?new this:[];!(N=G.call(F)).done;k++)H=w?I(F,_,[N.value,k],!0):N.value,v(L,k,H);else for(P=D(p),L=g?new this(P):Array(P);P>k;k++)H=w?_(p[k],k):p[k],v(L,k,H);return L.length=k,L}},8180:function(a,m,u){var d=u(101),E=u(7739),I=u(4104),O=function(A){return function(D,v,l){var c=d(D),f=I(c),h=E(l,f),p;if(A&&v!=v){for(;f>h;)if(p=c[h++],p!=p)return!0}else for(;f>h;h++)if((A||h in c)&&c[h]===v)return A||h||0;return!A&&-1}};a.exports={includes:O(!0),indexOf:O(!1)}},454:function(a,m,u){var d=u(8043),E=u(2202),I=u(1795),O=u(4104),A=u(1321),D=[].push,v=function(l){var c=l==1,f=l==2,h=l==3,p=l==4,g=l==6,y=l==7,_=l==5||g;return function(w,T,k,P){for(var L=I(w),N=E(L),F=d(T,k,3),G=O(N),H=0,$=P||A,re=c?$(w,G):f||y?$(w,0):void 0,le,xe;G>H;H++)if((_||H in N)&&(le=N[H],xe=F(le,H,L),l))if(c)re[H]=xe;else if(xe)switch(l){case 3:return!0;case 5:return le;case 6:return H;case 2:D.call(re,le)}else switch(l){case 4:return!1;case 7:D.call(re,le)}return g?-1:h||p?p:re}};a.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},242:function(a,m,u){var d=u(6192),E=u(8182),I=u(4218),O=E("species");a.exports=function(A){return I>=51||!d(function(){var D=[],v=D.constructor={};return v[O]=function(){return{foo:1}},D[A](Boolean).foo!==1})}},424:function(a,m,u){var d=u(6192);a.exports=function(E,I){var O=[][E];return!!O&&d(function(){O.call(null,I||function(){throw 1},1)})}},3712:function(a,m,u){var d=u(4770),E=u(2091),I=u(5744),O=u(8182),A=O("species");a.exports=function(D){var v;return d(D)&&(v=D.constructor,E(v)&&(v===Array||d(v.prototype))?v=void 0:I(v)&&(v=v[A],v===null&&(v=void 0))),v===void 0?Array:v}},1321:function(a,m,u){var d=u(3712);a.exports=function(E,I){return new(d(E))(I===0?0:I)}},1635:function(a,m,u){var d=u(1138),E=u(6639);a.exports=function(I,O,A,D){try{return D?O(d(A)[0],A[1]):O(A)}catch(v){E(I,"throw",v)}}},9770:function(a,m,u){var d=u(8182),E=d("iterator"),I=!1;try{var O=0,A={next:function(){return{done:!!O++}},return:function(){I=!0}};A[E]=function(){return this},Array.from(A,function(){throw 2})}catch{}a.exports=function(D,v){if(!v&&!I)return!1;var l=!1;try{var c={};c[E]=function(){return{next:function(){return{done:l=!0}}}},D(c)}catch{}return l}},9272:function(a){var m={}.toString;a.exports=function(u){return m.call(u).slice(8,-1)}},4696:function(a,m,u){var d=u(3471),E=u(6447),I=u(9272),O=u(8182),A=O("toStringTag"),D=I(function(){return arguments}())=="Arguments",v=function(l,c){try{return l[c]}catch{}};a.exports=d?I:function(l){var c,f,h;return l===void 0?"Undefined":l===null?"Null":typeof(f=v(c=Object(l),A))=="string"?f:D?I(c):(h=I(c))=="Object"&&E(c.callee)?"Arguments":h}},4635:function(a,m,u){var d=u(6192);a.exports=!d(function(){function E(){}return E.prototype.constructor=null,Object.getPrototypeOf(new E)!==E.prototype})},5148:function(a,m,u){var d=u(4413).IteratorPrototype,E=u(2853),I=u(774),O=u(1284),A=u(7771),D=function(){return this};a.exports=function(v,l,c){var f=l+" Iterator";return v.prototype=E(d,{next:I(1,c)}),O(v,f,!1,!0),A[f]=D,v}},8711:function(a,m,u){var d=u(69),E=u(2760),I=u(774);a.exports=d?function(O,A,D){return E.f(O,A,I(1,D))}:function(O,A,D){return O[A]=D,O}},774:function(a){a.exports=function(m,u){return{enumerable:!(m&1),configurable:!(m&2),writable:!(m&4),value:u}}},9361:function(a,m,u){var d=u(77),E=u(2760),I=u(774);a.exports=function(O,A,D){var v=d(A);v in O?E.f(O,v,I(0,D)):O[v]=D}},7218:function(a,m,u){var d=u(3085),E=u(5546),I=u(2282),O=u(6447),A=u(5148),D=u(9341),v=u(4469),l=u(1284),c=u(8711),f=u(9482),h=u(8182),p=u(7771),g=u(4413),y=I.PROPER,_=I.CONFIGURABLE,w=g.IteratorPrototype,T=g.BUGGY_SAFARI_ITERATORS,k=h("iterator"),P="keys",L="values",N="entries",F=function(){return this};a.exports=function(G,H,$,re,le,xe,ee){A($,H,re);var be=function(Z){if(Z===le&&J)return J;if(!T&&Z in _e)return _e[Z];switch(Z){case P:return function(){return new $(this,Z)};case L:return function(){return new $(this,Z)};case N:return function(){return new $(this,Z)}}return function(){return new $(this)}},K=H+" Iterator",Oe=!1,_e=G.prototype,fe=_e[k]||_e["@@iterator"]||le&&_e[le],J=!T&&fe||be(le),he=H=="Array"&&_e.entries||fe,ne,q,ye;if(he&&(ne=D(he.call(new G)),ne!==Object.prototype&&ne.next&&(!E&&D(ne)!==w&&(v?v(ne,w):O(ne[k])||f(ne,k,F)),l(ne,K,!0,!0),E&&(p[K]=F))),y&&le==L&&fe&&fe.name!==L&&(!E&&_?c(_e,"name",L):(Oe=!0,J=function(){return fe.call(this)})),le)if(q={values:be(L),keys:xe?J:be(P),entries:be(N)},ee)for(ye in q)(T||Oe||!(ye in _e))&&f(_e,ye,q[ye]);else d({target:H,proto:!0,forced:T||Oe},q);return(!E||ee)&&_e[k]!==J&&f(_e,k,J,{name:le}),p[H]=J,q}},1488:function(a,m,u){var d=u(7545),E=u(4500),I=u(9207),O=u(2760).f;a.exports=function(A){var D=d.Symbol||(d.Symbol={});E(D,A)||O(D,A,{value:I.f(A)})}},69:function(a,m,u){var d=u(6192);a.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},7449:function(a,m,u){var d=u(8576),E=u(5744),I=d.document,O=E(I)&&E(I.createElement);a.exports=function(A){return O?I.createElement(A):{}}},7365:function(a){a.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(a){a.exports=typeof window=="object"},9347:function(a,m,u){var d=u(8989),E=u(8576);a.exports=/ipad|iphone|ipod/i.test(d)&&E.Pebble!==void 0},9536:function(a,m,u){var d=u(8989);a.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)},224:function(a,m,u){var d=u(9272),E=u(8576);a.exports=d(E.process)=="process"},5914:function(a,m,u){var d=u(8989);a.exports=/web0s(?!.*chrome)/i.test(d)},8989:function(a,m,u){var d=u(150);a.exports=d("navigator","userAgent")||""},4218:function(a,m,u){var d=u(8576),E=u(8989),I=d.process,O=d.Deno,A=I&&I.versions||O&&O.version,D=A&&A.v8,v,l;D?(v=D.split("."),l=v[0]<4?1:v[0]+v[1]):E&&(v=E.match(/Edge\/(\d+)/),(!v||v[1]>=74)&&(v=E.match(/Chrome\/(\d+)/),v&&(l=v[1]))),a.exports=l&&+l},5607:function(a,m,u){var d=u(7545);a.exports=function(E){return d[E+"Prototype"]}},2952:function(a){a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(a,m,u){var d=u(8576),E=u(6447),I=u(5141).f,O=u(9245),A=u(7545),D=u(8043),v=u(8711),l=u(4500),c=function(f){var h=function(p,g,y){if(this instanceof f){switch(arguments.length){case 0:return new f;case 1:return new f(p);case 2:return new f(p,g)}return new f(p,g,y)}return f.apply(this,arguments)};return h.prototype=f.prototype,h};a.exports=function(f,h){var p=f.target,g=f.global,y=f.stat,_=f.proto,w=g?d:y?d[p]:(d[p]||{}).prototype,T=g?A:A[p]||v(A,p,{})[p],k=T.prototype,P,L,N,F,G,H,$,re,le;for(F in h)P=O(g?F:p+(y?".":"#")+F,f.forced),L=!P&&w&&l(w,F),H=T[F],L&&(f.noTargetGet?(le=I(w,F),$=le&&le.value):$=w[F]),G=L&&$?$:h[F],!(L&&typeof H==typeof G)&&(f.bind&&L?re=D(G,d):f.wrap&&L?re=c(G):_&&E(G)?re=D(Function.call,G):re=G,(f.sham||G&&G.sham||H&&H.sham)&&v(re,"sham",!0),v(T,F,re),_&&(N=p+"Prototype",l(A,N)||v(A,N,{}),v(A[N],F,G),f.real&&k&&!k[F]&&v(k,F,G)))}},6192:function(a){a.exports=function(m){try{return!!m()}catch{return!0}}},8043:function(a,m,u){var d=u(6235);a.exports=function(E,I,O){if(d(E),I===void 0)return E;switch(O){case 0:return function(){return E.call(I)};case 1:return function(A){return E.call(I,A)};case 2:return function(A,D){return E.call(I,A,D)};case 3:return function(A,D,v){return E.call(I,A,D,v)}}return function(){return E.apply(I,arguments)}}},6782:function(a,m,u){var d=u(6235),E=u(5744),I=[].slice,O={},A=function(D,v,l){if(!(v in O)){for(var c=[],f=0;f<v;f++)c[f]="a["+f+"]";O[v]=Function("C,a","return new C("+c.join(",")+")")}return O[v](D,l)};a.exports=Function.bind||function(v){var l=d(this),c=I.call(arguments,1),f=function(){var p=c.concat(I.call(arguments));return this instanceof f?A(l,p.length,p):l.apply(v,p)};return E(l.prototype)&&(f.prototype=l.prototype),f}},2282:function(a,m,u){var d=u(69),E=u(4500),I=Function.prototype,O=d&&Object.getOwnPropertyDescriptor,A=E(I,"name"),D=A&&function(){}.name==="something",v=A&&(!d||d&&O(I,"name").configurable);a.exports={EXISTS:A,PROPER:D,CONFIGURABLE:v}},150:function(a,m,u){var d=u(7545),E=u(8576),I=u(6447),O=function(A){return I(A)?A:void 0};a.exports=function(A,D){return arguments.length<2?O(d[A])||O(E[A]):d[A]&&d[A][D]||E[A]&&E[A][D]}},8703:function(a,m,u){var d=u(4696),E=u(5037),I=u(7771),O=u(8182),A=O("iterator");a.exports=function(D){if(D!=null)return E(D,A)||E(D,"@@iterator")||I[d(D)]}},1669:function(a,m,u){var d=u(6235),E=u(1138),I=u(8703);a.exports=function(O,A){var D=arguments.length<2?I(O):A;if(d(D))return E(D.call(O));throw TypeError(String(O)+" is not iterable")}},5037:function(a,m,u){var d=u(6235);a.exports=function(E,I){var O=E[I];return O==null?void 0:d(O)}},8576:function(a,m,u){var d=function(E){return E&&E.Math==Math&&E};a.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof u.g=="object"&&u.g)||function(){return this}()||Function("return this")()},4500:function(a,m,u){var d=u(1795),E={}.hasOwnProperty;a.exports=Object.hasOwn||function(O,A){return E.call(d(O),A)}},4535:function(a){a.exports={}},3681:function(a,m,u){var d=u(8576);a.exports=function(E,I){var O=d.console;O&&O.error&&(arguments.length===1?O.error(E):O.error(E,I))}},7403:function(a,m,u){var d=u(150);a.exports=d("document","documentElement")},188:function(a,m,u){var d=u(69),E=u(6192),I=u(7449);a.exports=!d&&!E(function(){return Object.defineProperty(I("div"),"a",{get:function(){return 7}}).a!=7})},2202:function(a,m,u){var d=u(6192),E=u(9272),I="".split;a.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(O){return E(O)=="String"?I.call(O,""):Object(O)}:Object},9516:function(a,m,u){var d=u(6447),E=u(6434),I=Function.toString;d(E.inspectSource)||(E.inspectSource=function(O){return I.call(O)}),a.exports=E.inspectSource},273:function(a,m,u){var d=u(5744),E=u(8711);a.exports=function(I,O){d(O)&&"cause"in O&&E(I,"cause",I.cause)}},3326:function(a,m,u){var d=u(8921),E=u(8576),I=u(5744),O=u(8711),A=u(4500),D=u(6434),v=u(9766),l=u(4535),c="Object already initialized",f=E.WeakMap,h,p,g,y=function(N){return g(N)?p(N):h(N,{})},_=function(N){return function(F){var G;if(!I(F)||(G=p(F)).type!==N)throw TypeError("Incompatible receiver, "+N+" required");return G}};if(d||D.state){var w=D.state||(D.state=new f),T=w.get,k=w.has,P=w.set;h=function(N,F){if(k.call(w,N))throw new TypeError(c);return F.facade=N,P.call(w,N,F),F},p=function(N){return T.call(w,N)||{}},g=function(N){return k.call(w,N)}}else{var L=v("state");l[L]=!0,h=function(N,F){if(A(N,L))throw new TypeError(c);return F.facade=N,O(N,L,F),F},p=function(N){return A(N,L)?N[L]:{}},g=function(N){return A(N,L)}}a.exports={set:h,get:p,has:g,enforce:y,getterFor:_}},6109:function(a,m,u){var d=u(8182),E=u(7771),I=d("iterator"),O=Array.prototype;a.exports=function(A){return A!==void 0&&(E.Array===A||O[I]===A)}},4770:function(a,m,u){var d=u(9272);a.exports=Array.isArray||function(I){return d(I)=="Array"}},6447:function(a){a.exports=function(m){return typeof m=="function"}},2091:function(a,m,u){var d=u(6192),E=u(6447),I=u(4696),O=u(150),A=u(9516),D=[],v=O("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=l.exec,f=!l.exec(function(){}),h=function(g){if(!E(g))return!1;try{return v(Object,D,g),!0}catch{return!1}},p=function(g){if(!E(g))return!1;switch(I(g)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return f||!!c.call(l,A(g))};a.exports=!v||d(function(){var g;return h(h.call)||!h(Object)||!h(function(){g=!0})||g})?p:h},9245:function(a,m,u){var d=u(6192),E=u(6447),I=/#|\.prototype\./,O=function(c,f){var h=D[A(c)];return h==l?!0:h==v?!1:E(f)?d(f):!!f},A=O.normalize=function(c){return String(c).replace(I,".").toLowerCase()},D=O.data={},v=O.NATIVE="N",l=O.POLYFILL="P";a.exports=O},5744:function(a,m,u){var d=u(6447);a.exports=function(E){return typeof E=="object"?E!==null:d(E)}},5546:function(a){a.exports=!0},3236:function(a,m,u){var d=u(6447),E=u(150),I=u(615);a.exports=I?function(O){return typeof O=="symbol"}:function(O){var A=E("Symbol");return d(A)&&Object(O)instanceof A}},3442:function(a,m,u){var d=u(1138),E=u(6109),I=u(4104),O=u(8043),A=u(1669),D=u(8703),v=u(6639),l=function(c,f){this.stopped=c,this.result=f};a.exports=function(c,f,h){var p=h&&h.that,g=!!(h&&h.AS_ENTRIES),y=!!(h&&h.IS_ITERATOR),_=!!(h&&h.INTERRUPTED),w=O(f,p,1+g+_),T,k,P,L,N,F,G,H=function(re){return T&&v(T,"normal",re),new l(!0,re)},$=function(re){return g?(d(re),_?w(re[0],re[1],H):w(re[0],re[1])):_?w(re,H):w(re)};if(y)T=c;else{if(k=D(c),!k)throw TypeError(String(c)+" is not iterable");if(E(k)){for(P=0,L=I(c);L>P;P++)if(N=$(c[P]),N&&N instanceof l)return N;return new l(!1)}T=A(c,k)}for(F=T.next;!(G=F.call(T)).done;){try{N=$(G.value)}catch(re){v(T,"throw",re)}if(typeof N=="object"&&N&&N instanceof l)return N}return new l(!1)}},6639:function(a,m,u){var d=u(1138),E=u(5037);a.exports=function(I,O,A){var D,v;d(I);try{if(D=E(I,"return"),!D){if(O==="throw")throw A;return A}D=D.call(I)}catch(l){v=!0,D=l}if(O==="throw")throw A;if(v)throw D;return d(D),A}},4413:function(a,m,u){var d=u(6192),E=u(6447),I=u(2853),O=u(9341),A=u(9482),D=u(8182),v=u(5546),l=D("iterator"),c=!1,f,h,p;[].keys&&(p=[].keys(),"next"in p?(h=O(O(p)),h!==Object.prototype&&(f=h)):c=!0);var g=f==null||d(function(){var y={};return f[l].call(y)!==y});g?f={}:v&&(f=I(f)),E(f[l])||A(f,l,function(){return this}),a.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:c}},7771:function(a){a.exports={}},4104:function(a,m,u){var d=u(8445);a.exports=function(E){return d(E.length)}},2950:function(a,m,u){var d=u(8576),E=u(5141).f,I=u(7160).set,O=u(9536),A=u(9347),D=u(5914),v=u(224),l=d.MutationObserver||d.WebKitMutationObserver,c=d.document,f=d.process,h=d.Promise,p=E(d,"queueMicrotask"),g=p&&p.value,y,_,w,T,k,P,L,N;g||(y=function(){var F,G;for(v&&(F=f.domain)&&F.exit();_;){G=_.fn,_=_.next;try{G()}catch(H){throw _?T():w=void 0,H}}w=void 0,F&&F.enter()},!O&&!v&&!D&&l&&c?(k=!0,P=c.createTextNode(""),new l(y).observe(P,{characterData:!0}),T=function(){P.data=k=!k}):!A&&h&&h.resolve?(L=h.resolve(void 0),L.constructor=h,N=L.then,T=function(){N.call(L,y)}):v?T=function(){f.nextTick(y)}:T=function(){I.call(d,y)}),a.exports=g||function(F){var G={fn:F,next:void 0};w&&(w.next=G),_||(_=G,T()),w=G}},4471:function(a,m,u){var d=u(8576);a.exports=d.Promise},3045:function(a,m,u){var d=u(4218),E=u(6192);a.exports=!!Object.getOwnPropertySymbols&&!E(function(){var I=Symbol();return!String(I)||!(Object(I)instanceof Symbol)||!Symbol.sham&&d&&d<41})},4551:function(a,m,u){var d=u(6192),E=u(8182),I=u(5546),O=E("iterator");a.exports=!d(function(){var A=new URL("b?a=1&b=2&c=3","http://a"),D=A.searchParams,v="";return A.pathname="c%20d",D.forEach(function(l,c){D.delete("b"),v+=c+l}),I&&!A.toJSON||!D.sort||A.href!=="http://a/c%20d?a=1&c=3"||D.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!D[O]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||v!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8921:function(a,m,u){var d=u(8576),E=u(6447),I=u(9516),O=d.WeakMap;a.exports=E(O)&&/native code/.test(I(O))},9438:function(a,m,u){var d=u(6235),E=function(I){var O,A;this.promise=new I(function(D,v){if(O!==void 0||A!==void 0)throw TypeError("Bad Promise constructor");O=D,A=v}),this.resolve=d(O),this.reject=d(A)};a.exports.f=function(I){return new E(I)}},15:function(a,m,u){var d=u(8576),E=u(6192),I=u(4845),O=u(4277).trim,A=u(1450),D=d.parseFloat,v=d.Symbol,l=v&&v.iterator,c=1/D(A+"-0")!==-1/0||l&&!E(function(){D(Object(l))});a.exports=c?function(h){var p=O(I(h)),g=D(p);return g===0&&p.charAt(0)=="-"?-0:g}:D},2558:function(a,m,u){var d=u(8576),E=u(6192),I=u(4845),O=u(4277).trim,A=u(1450),D=d.parseInt,v=d.Symbol,l=v&&v.iterator,c=/^[+-]?0[Xx]/,f=D(A+"08")!==8||D(A+"0x16")!==22||l&&!E(function(){D(Object(l))});a.exports=f?function(p,g){var y=O(I(p));return D(y,g>>>0||(c.test(y)?16:10))}:D},2503:function(a,m,u){var d=u(69),E=u(6192),I=u(7653),O=u(4750),A=u(6007),D=u(1795),v=u(2202),l=Object.assign,c=Object.defineProperty;a.exports=!l||E(function(){if(d&&l({b:1},l(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},h={},p=Symbol(),g="abcdefghijklmnopqrst";return f[p]=7,g.split("").forEach(function(y){h[y]=y}),l({},f)[p]!=7||I(l({},h)).join("")!=g})?function(h,p){for(var g=D(h),y=arguments.length,_=1,w=O.f,T=A.f;y>_;)for(var k=v(arguments[_++]),P=w?I(k).concat(w(k)):I(k),L=P.length,N=0,F;L>N;)F=P[N++],(!d||T.call(k,F))&&(g[F]=k[F]);return g}:l},2853:function(a,m,u){var d=u(1138),E=u(1187),I=u(2952),O=u(4535),A=u(7403),D=u(7449),v=u(9766),l=">",c="<",f="prototype",h="script",p=v("IE_PROTO"),g=function(){},y=function(P){return c+h+l+P+c+"/"+h+l},_=function(P){P.write(y("")),P.close();var L=P.parentWindow.Object;return P=null,L},w=function(){var P=D("iframe"),L="java"+h+":",N;return P.style.display="none",A.appendChild(P),P.src=String(L),N=P.contentWindow.document,N.open(),N.write(y("document.F=Object")),N.close(),N.F},T,k=function(){try{T=new ActiveXObject("htmlfile")}catch{}k=typeof document<"u"?document.domain&&T?_(T):w():_(T);for(var P=I.length;P--;)delete k[f][I[P]];return k()};O[p]=!0,a.exports=Object.create||function(L,N){var F;return L!==null?(g[f]=d(L),F=new g,g[f]=null,F[p]=L):F=k(),N===void 0?F:E(F,N)}},1187:function(a,m,u){var d=u(69),E=u(2760),I=u(1138),O=u(7653);a.exports=d?Object.defineProperties:function(D,v){I(D);for(var l=O(v),c=l.length,f=0,h;c>f;)E.f(D,h=l[f++],v[h]);return D}},2760:function(a,m,u){var d=u(69),E=u(188),I=u(1138),O=u(77),A=Object.defineProperty;m.f=d?A:function(v,l,c){if(I(v),l=O(l),I(c),E)try{return A(v,l,c)}catch{}if("get"in c||"set"in c)throw TypeError("Accessors not supported");return"value"in c&&(v[l]=c.value),v}},5141:function(a,m,u){var d=u(69),E=u(6007),I=u(774),O=u(101),A=u(77),D=u(4500),v=u(188),l=Object.getOwnPropertyDescriptor;m.f=d?l:function(f,h){if(f=O(f),h=A(h),v)try{return l(f,h)}catch{}if(D(f,h))return I(!E.f.call(f,h),f[h])}},4052:function(a,m,u){var d=u(101),E=u(2092).f,I={}.toString,O=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],A=function(D){try{return E(D)}catch{return O.slice()}};a.exports.f=function(v){return O&&I.call(v)=="[object Window]"?A(v):E(d(v))}},2092:function(a,m,u){var d=u(7934),E=u(2952),I=E.concat("length","prototype");m.f=Object.getOwnPropertyNames||function(A){return d(A,I)}},4750:function(a,m){m.f=Object.getOwnPropertySymbols},9341:function(a,m,u){var d=u(4500),E=u(6447),I=u(1795),O=u(9766),A=u(4635),D=O("IE_PROTO"),v=Object.prototype;a.exports=A?Object.getPrototypeOf:function(l){var c=I(l);if(d(c,D))return c[D];var f=c.constructor;return E(f)&&c instanceof f?f.prototype:c instanceof Object?v:null}},7934:function(a,m,u){var d=u(4500),E=u(101),I=u(8180).indexOf,O=u(4535);a.exports=function(A,D){var v=E(A),l=0,c=[],f;for(f in v)!d(O,f)&&d(v,f)&&c.push(f);for(;D.length>l;)d(v,f=D[l++])&&(~I(c,f)||c.push(f));return c}},7653:function(a,m,u){var d=u(7934),E=u(2952);a.exports=Object.keys||function(O){return d(O,E)}},6007:function(a,m){var u={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,E=d&&!u.call({1:2},1);m.f=E?function(O){var A=d(this,O);return!!A&&A.enumerable}:u},4469:function(a,m,u){var d=u(1138),E=u(7757);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var I=!1,O={},A;try{A=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,A.call(O,[]),I=O instanceof Array}catch{}return function(v,l){return d(v),E(l),I?A.call(v,l):v.__proto__=l,v}}():void 0)},158:function(a,m,u){var d=u(3471),E=u(4696);a.exports=d?{}.toString:function(){return"[object "+E(this)+"]"}},380:function(a,m,u){var d=u(6447),E=u(5744);a.exports=function(I,O){var A,D;if(O==="string"&&d(A=I.toString)&&!E(D=A.call(I))||d(A=I.valueOf)&&!E(D=A.call(I))||O!=="string"&&d(A=I.toString)&&!E(D=A.call(I)))return D;throw TypeError("Can't convert object to primitive value")}},7545:function(a){a.exports={}},892:function(a){a.exports=function(m){try{return{error:!1,value:m()}}catch(u){return{error:!0,value:u}}}},9126:function(a,m,u){var d=u(1138),E=u(5744),I=u(9438);a.exports=function(O,A){if(d(O),E(A)&&A.constructor===O)return A;var D=I.f(O),v=D.resolve;return v(A),D.promise}},533:function(a,m,u){var d=u(9482);a.exports=function(E,I,O){for(var A in I)O&&O.unsafe&&E[A]?E[A]=I[A]:d(E,A,I[A],O);return E}},9482:function(a,m,u){var d=u(8711);a.exports=function(E,I,O,A){A&&A.enumerable?E[I]=O:d(E,I,O)}},3209:function(a){a.exports=function(m){if(m==null)throw TypeError("Can't call method on "+m);return m}},7613:function(a,m,u){var d=u(8576);a.exports=function(E,I){try{Object.defineProperty(d,E,{value:I,configurable:!0,writable:!0})}catch{d[E]=I}return I}},3656:function(a,m,u){var d=u(150),E=u(2760),I=u(8182),O=u(69),A=I("species");a.exports=function(D){var v=d(D),l=E.f;O&&v&&!v[A]&&l(v,A,{configurable:!0,get:function(){return this}})}},1284:function(a,m,u){var d=u(3471),E=u(2760).f,I=u(8711),O=u(4500),A=u(158),D=u(8182),v=D("toStringTag");a.exports=function(l,c,f,h){if(l){var p=f?l:l.prototype;O(p,v)||E(p,v,{configurable:!0,value:c}),h&&!d&&I(p,"toString",A)}}},9766:function(a,m,u){var d=u(8717),E=u(2759),I=d("keys");a.exports=function(O){return I[O]||(I[O]=E(O))}},6434:function(a,m,u){var d=u(8576),E=u(7613),I="__core-js_shared__",O=d[I]||E(I,{});a.exports=O},8717:function(a,m,u){var d=u(5546),E=u(6434);(a.exports=function(I,O){return E[I]||(E[I]=O!==void 0?O:{})})("versions",[]).push({version:"3.18.2",mode:d?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(a,m,u){var d=u(1138),E=u(1404),I=u(8182),O=I("species");a.exports=function(A,D){var v=d(A).constructor,l;return v===void 0||(l=d(v)[O])==null?D:E(l)}},863:function(a,m,u){var d=u(1941),E=u(4845),I=u(3209),O=function(A){return function(D,v){var l=E(I(D)),c=d(v),f=l.length,h,p;return c<0||c>=f?A?"":void 0:(h=l.charCodeAt(c),h<55296||h>56319||c+1===f||(p=l.charCodeAt(c+1))<56320||p>57343?A?l.charAt(c):h:A?l.slice(c,c+2):(h-55296<<10)+(p-56320)+65536)}};a.exports={codeAt:O(!1),charAt:O(!0)}},7977:function(a){var m=2147483647,u=36,d=1,E=26,I=38,O=700,A=72,D=128,v="-",l=/[^\0-\u007E]/,c=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",h=u-d,p=Math.floor,g=String.fromCharCode,y=function(k){for(var P=[],L=0,N=k.length;L<N;){var F=k.charCodeAt(L++);if(F>=55296&&F<=56319&&L<N){var G=k.charCodeAt(L++);(G&64512)==56320?P.push(((F&1023)<<10)+(G&1023)+65536):(P.push(F),L--)}else P.push(F)}return P},_=function(k){return k+22+75*(k<26)},w=function(k,P,L){var N=0;for(k=L?p(k/O):k>>1,k+=p(k/P);k>h*E>>1;N+=u)k=p(k/h);return p(N+(h+1)*k/(k+I))},T=function(k){var P=[];k=y(k);var L=k.length,N=D,F=0,G=A,H,$;for(H=0;H<k.length;H++)$=k[H],$<128&&P.push(g($));var re=P.length,le=re;for(re&&P.push(v);le<L;){var xe=m;for(H=0;H<k.length;H++)$=k[H],$>=N&&$<xe&&(xe=$);var ee=le+1;if(xe-N>p((m-F)/ee))throw RangeError(f);for(F+=(xe-N)*ee,N=xe,H=0;H<k.length;H++){if($=k[H],$<N&&++F>m)throw RangeError(f);if($==N){for(var be=F,K=u;;K+=u){var Oe=K<=G?d:K>=G+E?E:K-G;if(be<Oe)break;var _e=be-Oe,fe=u-Oe;P.push(g(_(Oe+_e%fe))),be=p(_e/fe)}P.push(g(_(be))),G=w(F,ee,le==re),F=0,++le}}++F,++N}return P.join("")};a.exports=function(k){var P=[],L=k.toLowerCase().replace(c,".").split("."),N,F;for(N=0;N<L.length;N++)F=L[N],P.push(l.test(F)?"xn--"+T(F):F);return P.join(".")}},6815:function(a,m,u){var d=u(2282).PROPER,E=u(6192),I=u(1450),O="";a.exports=function(A){return E(function(){return!!I[A]()||O[A]()!==O||d&&I[A].name!==A})}},4277:function(a,m,u){var d=u(3209),E=u(4845),I=u(1450),O="["+I+"]",A=RegExp("^"+O+O+"*"),D=RegExp(O+O+"*$"),v=function(l){return function(c){var f=E(d(c));return l&1&&(f=f.replace(A,"")),l&2&&(f=f.replace(D,"")),f}};a.exports={start:v(1),end:v(2),trim:v(3)}},7160:function(a,m,u){var d=u(8576),E=u(6447),I=u(6192),O=u(8043),A=u(7403),D=u(7449),v=u(9536),l=u(224),c=d.setImmediate,f=d.clearImmediate,h=d.process,p=d.MessageChannel,g=d.Dispatch,y=0,_={},w="onreadystatechange",T,k,P,L;try{T=d.location}catch{}var N=function($){if(_.hasOwnProperty($)){var re=_[$];delete _[$],re()}},F=function($){return function(){N($)}},G=function($){N($.data)},H=function($){d.postMessage(String($),T.protocol+"//"+T.host)};(!c||!f)&&(c=function(re){for(var le=[],xe=arguments.length,ee=1;xe>ee;)le.push(arguments[ee++]);return _[++y]=function(){(E(re)?re:Function(re)).apply(void 0,le)},k(y),y},f=function(re){delete _[re]},l?k=function($){h.nextTick(F($))}:g&&g.now?k=function($){g.now(F($))}:p&&!v?(P=new p,L=P.port2,P.port1.onmessage=G,k=O(L.postMessage,L,1)):d.addEventListener&&E(d.postMessage)&&!d.importScripts&&T&&T.protocol!=="file:"&&!I(H)?(k=H,d.addEventListener("message",G,!1)):w in D("script")?k=function($){A.appendChild(D("script"))[w]=function(){A.removeChild(this),N($)}}:k=function($){setTimeout(F($),0)}),a.exports={set:c,clear:f}},7739:function(a,m,u){var d=u(1941),E=Math.max,I=Math.min;a.exports=function(O,A){var D=d(O);return D<0?E(D+A,0):I(D,A)}},101:function(a,m,u){var d=u(2202),E=u(3209);a.exports=function(I){return d(E(I))}},1941:function(a){var m=Math.ceil,u=Math.floor;a.exports=function(d){var E=+d;return E!==E||E===0?0:(E>0?u:m)(E)}},8445:function(a,m,u){var d=u(1941),E=Math.min;a.exports=function(I){return I>0?E(d(I),9007199254740991):0}},1795:function(a,m,u){var d=u(3209);a.exports=function(E){return Object(d(E))}},7888:function(a,m,u){var d=u(5744),E=u(3236),I=u(5037),O=u(380),A=u(8182),D=A("toPrimitive");a.exports=function(v,l){if(!d(v)||E(v))return v;var c=I(v,D),f;if(c){if(l===void 0&&(l="default"),f=c.call(v,l),!d(f)||E(f))return f;throw TypeError("Can't convert object to primitive value")}return l===void 0&&(l="number"),O(v,l)}},77:function(a,m,u){var d=u(7888),E=u(3236);a.exports=function(I){var O=d(I,"string");return E(O)?O:String(O)}},3471:function(a,m,u){var d=u(8182),E=d("toStringTag"),I={};I[E]="z",a.exports=String(I)==="[object z]"},4845:function(a,m,u){var d=u(4696);a.exports=function(E){if(d(E)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(E)}},9288:function(a){a.exports=function(m){try{return String(m)}catch{return"Object"}}},2759:function(a){var m=0,u=Math.random();a.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++m+u).toString(36)}},615:function(a,m,u){var d=u(3045);a.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},9207:function(a,m,u){var d=u(8182);m.f=d},8182:function(a,m,u){var d=u(8576),E=u(8717),I=u(4500),O=u(2759),A=u(3045),D=u(615),v=E("wks"),l=d.Symbol,c=D?l:l&&l.withoutSetter||O;a.exports=function(f){return(!I(v,f)||!(A||typeof v[f]=="string"))&&(A&&I(l,f)?v[f]=l[f]:v[f]=c("Symbol."+f)),v[f]}},1450:function(a){a.exports=`	
\v\f\r \u2028\u2029\uFEFF`},4242:function(a,m,u){var d=u(3085),E=u(9341),I=u(4469),O=u(2853),A=u(8711),D=u(774),v=u(273),l=u(3442),c=u(4845),f=function(p,g){var y=this,_=arguments.length>2?arguments[2]:void 0;if(!(y instanceof f))return new f(p,g,_);I&&(y=I(new Error(void 0),E(y))),g!==void 0&&A(y,"message",c(g)),v(y,_);var w=[];return l(p,w.push,{that:w}),A(y,"errors",w),y};f.prototype=O(Error.prototype,{constructor:D(5,f),message:D(5,""),name:D(5,"AggregateError")}),d({global:!0},{AggregateError:f})},9106:function(a,m,u){var d=u(3085),E=u(6192),I=u(4770),O=u(5744),A=u(1795),D=u(4104),v=u(9361),l=u(1321),c=u(242),f=u(8182),h=u(4218),p=f("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",_=h>=51||!E(function(){var P=[];return P[p]=!1,P.concat()[0]!==P}),w=c("concat"),T=function(P){if(!O(P))return!1;var L=P[p];return L!==void 0?!!L:I(P)},k=!_||!w;d({target:"Array",proto:!0,forced:k},{concat:function(L){var N=A(this),F=l(N,0),G=0,H,$,re,le,xe;for(H=-1,re=arguments.length;H<re;H++)if(xe=H===-1?N:arguments[H],T(xe)){if(le=D(xe),G+le>g)throw TypeError(y);for($=0;$<le;$++,G++)$ in xe&&v(F,G,xe[$])}else{if(G>=g)throw TypeError(y);v(F,G++,xe)}return F.length=G,F}})},1710:function(a,m,u){var d=u(3085),E=u(2724),I=u(7423);d({target:"Array",proto:!0},{fill:E}),I("fill")},3436:function(a,m,u){var d=u(3085),E=u(454).filter,I=u(242),O=I("filter");d({target:"Array",proto:!0,forced:!O},{filter:function(D){return E(this,D,arguments.length>1?arguments[1]:void 0)}})},9823:function(a,m,u){var d=u(3085),E=u(7397);d({target:"Array",proto:!0,forced:[].forEach!=E},{forEach:E})},9173:function(a,m,u){var d=u(3085),E=u(841),I=u(9770),O=!I(function(A){Array.from(A)});d({target:"Array",stat:!0,forced:O},{from:E})},2276:function(a,m,u){var d=u(3085),E=u(8180).indexOf,I=u(424),O=[].indexOf,A=!!O&&1/[1].indexOf(1,-0)<0,D=I("indexOf");d({target:"Array",proto:!0,forced:A||!D},{indexOf:function(l){return A?O.apply(this,arguments)||0:E(this,l,arguments.length>1?arguments[1]:void 0)}})},8118:function(a,m,u){var d=u(3085),E=u(4770);d({target:"Array",stat:!0},{isArray:E})},8939:function(a,m,u){var d=u(101),E=u(7423),I=u(7771),O=u(3326),A=u(7218),D="Array Iterator",v=O.set,l=O.getterFor(D);a.exports=A(Array,"Array",function(c,f){v(this,{type:D,target:d(c),index:0,kind:f})},function(){var c=l(this),f=c.target,h=c.kind,p=c.index++;return!f||p>=f.length?(c.target=void 0,{value:void 0,done:!0}):h=="keys"?{value:p,done:!1}:h=="values"?{value:f[p],done:!1}:{value:[p,f[p]],done:!1}},"values"),I.Arguments=I.Array,E("keys"),E("values"),E("entries")},3838:function(a,m,u){var d=u(3085),E=u(454).map,I=u(242),O=I("map");d({target:"Array",proto:!0,forced:!O},{map:function(D){return E(this,D,arguments.length>1?arguments[1]:void 0)}})},5818:function(a,m,u){var d=u(3085),E=u(4770),I=u(2091),O=u(5744),A=u(7739),D=u(4104),v=u(101),l=u(9361),c=u(8182),f=u(242),h=f("slice"),p=c("species"),g=[].slice,y=Math.max;d({target:"Array",proto:!0,forced:!h},{slice:function(w,T){var k=v(this),P=D(k),L=A(w,P),N=A(T===void 0?P:T,P),F,G,H;if(E(k)&&(F=k.constructor,I(F)&&(F===Array||E(F.prototype))?F=void 0:O(F)&&(F=F[p],F===null&&(F=void 0)),F===Array||F===void 0))return g.call(k,L,N);for(G=new(F===void 0?Array:F)(y(N-L,0)),H=0;L<N;L++,H++)L in k&&l(G,H,k[L]);return G.length=H,G}})},2178:function(a,m,u){var d=u(3085),E=u(7739),I=u(1941),O=u(4104),A=u(1795),D=u(1321),v=u(9361),l=u(242),c=l("splice"),f=Math.max,h=Math.min,p=9007199254740991,g="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!c},{splice:function(_,w){var T=A(this),k=O(T),P=E(_,k),L=arguments.length,N,F,G,H,$,re;if(L===0?N=F=0:L===1?(N=0,F=k-P):(N=L-2,F=h(f(I(w),0),k-P)),k+N-F>p)throw TypeError(g);for(G=D(T,F),H=0;H<F;H++)$=P+H,$ in T&&v(G,H,T[$]);if(G.length=F,N<F){for(H=P;H<k-F;H++)$=H+F,re=H+N,$ in T?T[re]=T[$]:delete T[re];for(H=k;H>k-F+N;H--)delete T[H-1]}else if(N>F)for(H=k-F;H>P;H--)$=H+F-1,re=H+N-1,$ in T?T[re]=T[$]:delete T[re];for(H=0;H<N;H++)T[H+P]=arguments[H+2];return T.length=k-F+N,G}})},665:function(a,m,u){var d=u(3085),E=u(6782);d({target:"Function",proto:!0},{bind:E})},8671:function(a,m,u){var d=u(8576),E=u(1284);E(d.JSON,"JSON",!0)},8556:function(){},2666:function(a,m,u){var d=u(3085),E=u(2558);d({target:"Number",stat:!0,forced:Number.parseInt!=E},{parseInt:E})},3113:function(a,m,u){var d=u(3085),E=u(69),I=u(2853);d({target:"Object",stat:!0,sham:!E},{create:I})},297:function(a,m,u){var d=u(3085),E=u(69),I=u(2760);d({target:"Object",stat:!0,forced:!E,sham:!E},{defineProperty:I.f})},9234:function(a,m,u){var d=u(3085),E=u(6192),I=u(1795),O=u(9341),A=u(4635),D=E(function(){O(1)});d({target:"Object",stat:!0,forced:D,sham:!A},{getPrototypeOf:function(l){return O(I(l))}})},2647:function(a,m,u){var d=u(3085),E=u(1795),I=u(7653),O=u(6192),A=O(function(){I(1)});d({target:"Object",stat:!0,forced:A},{keys:function(v){return I(E(v))}})},3222:function(a,m,u){var d=u(3085),E=u(4469);d({target:"Object",stat:!0},{setPrototypeOf:E})},6663:function(){},4859:function(a,m,u){var d=u(3085),E=u(15);d({global:!0,forced:parseFloat!=E},{parseFloat:E})},5706:function(a,m,u){var d=u(3085),E=u(2558);d({global:!0,forced:parseInt!=E},{parseInt:E})},7884:function(a,m,u){var d=u(3085),E=u(6235),I=u(9438),O=u(892),A=u(3442);d({target:"Promise",stat:!0},{allSettled:function(v){var l=this,c=I.f(l),f=c.resolve,h=c.reject,p=O(function(){var g=E(l.resolve),y=[],_=0,w=1;A(v,function(T){var k=_++,P=!1;y.push(void 0),w++,g.call(l,T).then(function(L){P||(P=!0,y[k]={status:"fulfilled",value:L},--w||f(y))},function(L){P||(P=!0,y[k]={status:"rejected",reason:L},--w||f(y))})}),--w||f(y)});return p.error&&h(p.value),c.promise}})},8885:function(a,m,u){var d=u(3085),E=u(6235),I=u(150),O=u(9438),A=u(892),D=u(3442),v="No one promise resolved";d({target:"Promise",stat:!0},{any:function(c){var f=this,h=O.f(f),p=h.resolve,g=h.reject,y=A(function(){var _=E(f.resolve),w=[],T=0,k=1,P=!1;D(c,function(L){var N=T++,F=!1;w.push(void 0),k++,_.call(f,L).then(function(G){F||P||(P=!0,p(G))},function(G){F||P||(F=!0,w[N]=G,--k||g(new(I("AggregateError"))(w,v)))})}),--k||g(new(I("AggregateError"))(w,v))});return y.error&&g(y.value),h.promise}})},1868:function(a,m,u){var d=u(3085),E=u(5546),I=u(4471),O=u(6192),A=u(150),D=u(6447),v=u(4743),l=u(9126),c=u(9482),f=!!I&&O(function(){I.prototype.finally.call({then:function(){}},function(){})});if(d({target:"Promise",proto:!0,real:!0,forced:f},{finally:function(p){var g=v(this,A("Promise")),y=D(p);return this.then(y?function(_){return l(g,p()).then(function(){return _})}:p,y?function(_){return l(g,p()).then(function(){throw _})}:p)}}),!E&&D(I)){var h=A("Promise").prototype.finally;I.prototype.finally!==h&&c(I.prototype,"finally",h,{unsafe:!0})}},9021:function(a,m,u){var d=u(3085),E=u(5546),I=u(8576),O=u(150),A=u(4471),D=u(9482),v=u(533),l=u(4469),c=u(1284),f=u(3656),h=u(6235),p=u(6447),g=u(5744),y=u(6961),_=u(9516),w=u(3442),T=u(9770),k=u(4743),P=u(7160).set,L=u(2950),N=u(9126),F=u(3681),G=u(9438),H=u(892),$=u(3326),re=u(9245),le=u(8182),xe=u(2957),ee=u(224),be=u(4218),K=le("species"),Oe="Promise",_e=$.get,fe=$.set,J=$.getterFor(Oe),he=A&&A.prototype,ne=A,q=he,ye=I.TypeError,Z=I.document,te=I.process,ce=G.f,de=ce,Pe=!!(Z&&Z.createEvent&&I.dispatchEvent),ke=p(I.PromiseRejectionEvent),We="unhandledrejection",pe="rejectionhandled",Te=0,ge=1,ue=2,Se=1,Ce=2,Ee=!1,Re,Ke,ht,ft,Be=re(Oe,function(){var He=_(ne),Xe=He!==String(ne);if(!Xe&&be===66||E&&!q.finally)return!0;if(be>=51&&/native code/.test(He))return!1;var st=new ne(function(nt){nt(1)}),mt=function(nt){nt(function(){},function(){})},St=st.constructor={};return St[K]=mt,Ee=st.then(function(){})instanceof mt,Ee?!Xe&&xe&&!ke:!0}),vt=Be||!T(function(He){ne.all(He).catch(function(){})}),bt=function(He){var Xe;return g(He)&&p(Xe=He.then)?Xe:!1},Lt=function(He,Xe){if(!He.notified){He.notified=!0;var st=He.reactions;L(function(){for(var mt=He.value,St=He.state==ge,nt=0;st.length>nt;){var an=st[nt++],Mn=St?an.ok:an.fail,Ct=an.resolve,$e=an.reject,ln=an.domain,Zt,en,gr;try{Mn?(St||(He.rejection===Ce&&yt(He),He.rejection=Se),Mn===!0?Zt=mt:(ln&&ln.enter(),Zt=Mn(mt),ln&&(ln.exit(),gr=!0)),Zt===an.promise?$e(ye("Promise-chain cycle")):(en=bt(Zt))?en.call(Zt,Ct,$e):Ct(Zt)):$e(mt)}catch(ur){ln&&!gr&&ln.exit(),$e(ur)}}He.reactions=[],He.notified=!1,Xe&&!He.rejection&&lt(He)})}},fn=function(He,Xe,st){var mt,St;Pe?(mt=Z.createEvent("Event"),mt.promise=Xe,mt.reason=st,mt.initEvent(He,!1,!0),I.dispatchEvent(mt)):mt={promise:Xe,reason:st},!ke&&(St=I["on"+He])?St(mt):He===We&&F("Unhandled promise rejection",st)},lt=function(He){P.call(I,function(){var Xe=He.facade,st=He.value,mt=wt(He),St;if(mt&&(St=H(function(){ee?te.emit("unhandledRejection",st,Xe):fn(We,Xe,st)}),He.rejection=ee||wt(He)?Ce:Se,St.error))throw St.value})},wt=function(He){return He.rejection!==Se&&!He.parent},yt=function(He){P.call(I,function(){var Xe=He.facade;ee?te.emit("rejectionHandled",Xe):fn(pe,Xe,He.value)})},xt=function(He,Xe,st){return function(mt){He(Xe,mt,st)}},Ht=function(He,Xe,st){He.done||(He.done=!0,st&&(He=st),He.value=Xe,He.state=ue,Lt(He,!0))},Sn=function(He,Xe,st){if(!He.done){He.done=!0,st&&(He=st);try{if(He.facade===Xe)throw ye("Promise can't be resolved itself");var mt=bt(Xe);mt?L(function(){var St={done:!1};try{mt.call(Xe,xt(Sn,St,He),xt(Ht,St,He))}catch(nt){Ht(St,nt,He)}}):(He.value=Xe,He.state=ge,Lt(He,!1))}catch(St){Ht({done:!1},St,He)}}};if(Be&&(ne=function(Xe){y(this,ne,Oe),h(Xe),Re.call(this);var st=_e(this);try{Xe(xt(Sn,st),xt(Ht,st))}catch(mt){Ht(st,mt)}},q=ne.prototype,Re=function(Xe){fe(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Te,value:void 0})},Re.prototype=v(q,{then:function(Xe,st){var mt=J(this),St=ce(k(this,ne));return St.ok=p(Xe)?Xe:!0,St.fail=p(st)&&st,St.domain=ee?te.domain:void 0,mt.parent=!0,mt.reactions.push(St),mt.state!=Te&&Lt(mt,!1),St.promise},catch:function(He){return this.then(void 0,He)}}),Ke=function(){var He=new Re,Xe=_e(He);this.promise=He,this.resolve=xt(Sn,Xe),this.reject=xt(Ht,Xe)},G.f=ce=function(He){return He===ne||He===ht?new Ke(He):de(He)},!E&&p(A)&&he!==Object.prototype)){ft=he.then,Ee||(D(he,"then",function(Xe,st){var mt=this;return new ne(function(St,nt){ft.call(mt,St,nt)}).then(Xe,st)},{unsafe:!0}),D(he,"catch",q.catch,{unsafe:!0}));try{delete he.constructor}catch{}l&&l(he,q)}d({global:!0,wrap:!0,forced:Be},{Promise:ne}),c(ne,Oe,!1,!0),f(Oe),ht=O(Oe),d({target:Oe,stat:!0,forced:Be},{reject:function(Xe){var st=ce(this);return st.reject.call(void 0,Xe),st.promise}}),d({target:Oe,stat:!0,forced:E||Be},{resolve:function(Xe){return N(E&&this===ht?ne:this,Xe)}}),d({target:Oe,stat:!0,forced:vt},{all:function(Xe){var st=this,mt=ce(st),St=mt.resolve,nt=mt.reject,an=H(function(){var Mn=h(st.resolve),Ct=[],$e=0,ln=1;w(Xe,function(Zt){var en=$e++,gr=!1;Ct.push(void 0),ln++,Mn.call(st,Zt).then(function(ur){gr||(gr=!0,Ct[en]=ur,--ln||St(Ct))},nt)}),--ln||St(Ct)});return an.error&&nt(an.value),mt.promise},race:function(Xe){var st=this,mt=ce(st),St=mt.reject,nt=H(function(){var an=h(st.resolve);w(Xe,function(Mn){an.call(st,Mn).then(mt.resolve,St)})});return nt.error&&St(nt.value),mt.promise}})},5397:function(a,m,u){var d=u(3085),E=u(150),I=u(1404),O=u(1138),A=u(5744),D=u(2853),v=u(6782),l=u(6192),c=E("Reflect","construct"),f=l(function(){function g(){}return!(c(function(){},[],g)instanceof g)}),h=!l(function(){c(function(){})}),p=f||h;d({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(y,_){I(y),O(_);var w=arguments.length<3?y:I(arguments[2]);if(h&&!f)return c(y,_,w);if(y==w){switch(_.length){case 0:return new y;case 1:return new y(_[0]);case 2:return new y(_[0],_[1]);case 3:return new y(_[0],_[1],_[2]);case 4:return new y(_[0],_[1],_[2],_[3])}var T=[null];return T.push.apply(T,_),new(v.apply(y,T))}var k=w.prototype,P=D(A(k)?k:Object.prototype),L=Function.apply.call(y,P,_);return A(L)?L:P}})},1367:function(){},5454:function(a,m,u){var d=u(863).charAt,E=u(4845),I=u(3326),O=u(7218),A="String Iterator",D=I.set,v=I.getterFor(A);O(String,"String",function(l){D(this,{type:A,string:E(l),index:0})},function(){var c=v(this),f=c.string,h=c.index,p;return h>=f.length?{value:void 0,done:!0}:(p=d(f,h),c.index+=p.length,{value:p,done:!1})})},957:function(a,m,u){var d=u(3085),E=u(4277).trim,I=u(6815);d({target:"String",proto:!0,forced:I("trim")},{trim:function(){return E(this)}})},9781:function(a,m,u){var d=u(1488);d("asyncIterator")},492:function(){},6681:function(a,m,u){var d=u(1488);d("hasInstance")},9594:function(a,m,u){var d=u(1488);d("isConcatSpreadable")},3665:function(a,m,u){var d=u(1488);d("iterator")},6187:function(a,m,u){var d=u(3085),E=u(8576),I=u(150),O=u(5546),A=u(69),D=u(3045),v=u(6192),l=u(4500),c=u(4770),f=u(6447),h=u(5744),p=u(3236),g=u(1138),y=u(1795),_=u(101),w=u(77),T=u(4845),k=u(774),P=u(2853),L=u(7653),N=u(2092),F=u(4052),G=u(4750),H=u(5141),$=u(2760),re=u(6007),le=u(9482),xe=u(8717),ee=u(9766),be=u(4535),K=u(2759),Oe=u(8182),_e=u(9207),fe=u(1488),J=u(1284),he=u(3326),ne=u(454).forEach,q=ee("hidden"),ye="Symbol",Z="prototype",te=Oe("toPrimitive"),ce=he.set,de=he.getterFor(ye),Pe=Object[Z],ke=E.Symbol,We=I("JSON","stringify"),pe=H.f,Te=$.f,ge=F.f,ue=re.f,Se=xe("symbols"),Ce=xe("op-symbols"),Ee=xe("string-to-symbol-registry"),Re=xe("symbol-to-string-registry"),Ke=xe("wks"),ht=E.QObject,ft=!ht||!ht[Z]||!ht[Z].findChild,Be=A&&v(function(){return P(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a!=7})?function(He,Xe,st){var mt=pe(Pe,Xe);mt&&delete Pe[Xe],Te(He,Xe,st),mt&&He!==Pe&&Te(Pe,Xe,mt)}:Te,vt=function(He,Xe){var st=Se[He]=P(ke[Z]);return ce(st,{type:ye,tag:He,description:Xe}),A||(st.description=Xe),st},bt=function(Xe,st,mt){Xe===Pe&&bt(Ce,st,mt),g(Xe);var St=w(st);return g(mt),l(Se,St)?(mt.enumerable?(l(Xe,q)&&Xe[q][St]&&(Xe[q][St]=!1),mt=P(mt,{enumerable:k(0,!1)})):(l(Xe,q)||Te(Xe,q,k(1,{})),Xe[q][St]=!0),Be(Xe,St,mt)):Te(Xe,St,mt)},Lt=function(Xe,st){g(Xe);var mt=_(st),St=L(mt).concat(xt(mt));return ne(St,function(nt){(!A||lt.call(mt,nt))&&bt(Xe,nt,mt[nt])}),Xe},fn=function(Xe,st){return st===void 0?P(Xe):Lt(P(Xe),st)},lt=function(Xe){var st=w(Xe),mt=ue.call(this,st);return this===Pe&&l(Se,st)&&!l(Ce,st)?!1:mt||!l(this,st)||!l(Se,st)||l(this,q)&&this[q][st]?mt:!0},wt=function(Xe,st){var mt=_(Xe),St=w(st);if(!(mt===Pe&&l(Se,St)&&!l(Ce,St))){var nt=pe(mt,St);return nt&&l(Se,St)&&!(l(mt,q)&&mt[q][St])&&(nt.enumerable=!0),nt}},yt=function(Xe){var st=ge(_(Xe)),mt=[];return ne(st,function(St){!l(Se,St)&&!l(be,St)&&mt.push(St)}),mt},xt=function(Xe){var st=Xe===Pe,mt=ge(st?Ce:_(Xe)),St=[];return ne(mt,function(nt){l(Se,nt)&&(!st||l(Pe,nt))&&St.push(Se[nt])}),St};if(D||(ke=function(){if(this instanceof ke)throw TypeError("Symbol is not a constructor");var Xe=!arguments.length||arguments[0]===void 0?void 0:T(arguments[0]),st=K(Xe),mt=function(St){this===Pe&&mt.call(Ce,St),l(this,q)&&l(this[q],st)&&(this[q][st]=!1),Be(this,st,k(1,St))};return A&&ft&&Be(Pe,st,{configurable:!0,set:mt}),vt(st,Xe)},le(ke[Z],"toString",function(){return de(this).tag}),le(ke,"withoutSetter",function(He){return vt(K(He),He)}),re.f=lt,$.f=bt,H.f=wt,N.f=F.f=yt,G.f=xt,_e.f=function(He){return vt(Oe(He),He)},A&&(Te(ke[Z],"description",{configurable:!0,get:function(){return de(this).description}}),O||le(Pe,"propertyIsEnumerable",lt,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!D,sham:!D},{Symbol:ke}),ne(L(Ke),function(He){fe(He)}),d({target:ye,stat:!0,forced:!D},{for:function(He){var Xe=T(He);if(l(Ee,Xe))return Ee[Xe];var st=ke(Xe);return Ee[Xe]=st,Re[st]=Xe,st},keyFor:function(Xe){if(!p(Xe))throw TypeError(Xe+" is not a symbol");if(l(Re,Xe))return Re[Xe]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),d({target:"Object",stat:!0,forced:!D,sham:!A},{create:fn,defineProperty:bt,defineProperties:Lt,getOwnPropertyDescriptor:wt}),d({target:"Object",stat:!0,forced:!D},{getOwnPropertyNames:yt,getOwnPropertySymbols:xt}),d({target:"Object",stat:!0,forced:v(function(){G.f(1)})},{getOwnPropertySymbols:function(Xe){return G.f(y(Xe))}}),We){var Ht=!D||v(function(){var He=ke();return We([He])!="[null]"||We({a:He})!="{}"||We(Object(He))!="{}"});d({target:"JSON",stat:!0,forced:Ht},{stringify:function(Xe,st,mt){for(var St=[Xe],nt=1,an;arguments.length>nt;)St.push(arguments[nt++]);if(an=st,!(!h(st)&&Xe===void 0||p(Xe)))return c(st)||(st=function(Mn,Ct){if(f(an)&&(Ct=an.call(this,Mn,Ct)),!p(Ct))return Ct}),St[1]=st,We.apply(null,St)}})}if(!ke[Z][te]){var Sn=ke[Z].valueOf;le(ke[Z],te,function(){return Sn.apply(this,arguments)})}J(ke,ye),be[q]=!0},1250:function(a,m,u){var d=u(1488);d("matchAll")},9017:function(a,m,u){var d=u(1488);d("match")},9786:function(a,m,u){var d=u(1488);d("replace")},503:function(a,m,u){var d=u(1488);d("search")},6565:function(a,m,u){var d=u(1488);d("species")},9322:function(a,m,u){var d=u(1488);d("split")},3610:function(a,m,u){var d=u(1488);d("toPrimitive")},6886:function(a,m,u){var d=u(1488);d("toStringTag")},3514:function(a,m,u){var d=u(1488);d("unscopables")},177:function(a,m,u){var d=u(1488);d("asyncDispose")},9031:function(a,m,u){var d=u(1488);d("dispose")},6658:function(a,m,u){var d=u(1488);d("matcher")},1875:function(a,m,u){var d=u(1488);d("metadata")},8658:function(a,m,u){var d=u(1488);d("observable")},4592:function(a,m,u){var d=u(1488);d("patternMatch")},6680:function(a,m,u){var d=u(1488);d("replaceAll")},162:function(a,m,u){u(8939);var d=u(7365),E=u(8576),I=u(4696),O=u(8711),A=u(7771),D=u(8182),v=D("toStringTag");for(var l in d){var c=E[l],f=c&&c.prototype;f&&I(f)!==v&&O(f,v,l),A[l]=A.Array}},2906:function(a,m,u){var d=u(3085),E=u(8576),I=u(6447),O=u(8989),A=[].slice,D=/MSIE .\./.test(O),v=function(l){return function(c,f){var h=arguments.length>2,p=h?A.call(arguments,2):void 0;return l(h?function(){(I(c)?c:Function(c)).apply(this,p)}:c,f)}};d({global:!0,bind:!0,forced:D},{setTimeout:v(E.setTimeout),setInterval:v(E.setInterval)})},9336:function(a,m,u){u(8939);var d=u(3085),E=u(150),I=u(4551),O=u(9482),A=u(533),D=u(1284),v=u(5148),l=u(3326),c=u(6961),f=u(6447),h=u(4500),p=u(8043),g=u(4696),y=u(1138),_=u(5744),w=u(4845),T=u(2853),k=u(774),P=u(1669),L=u(8703),N=u(8182),F=E("fetch"),G=E("Request"),H=G&&G.prototype,$=E("Headers"),re=N("iterator"),le="URLSearchParams",xe=le+"Iterator",ee=l.set,be=l.getterFor(le),K=l.getterFor(xe),Oe=/\+/g,_e=Array(4),fe=function(ge){return _e[ge-1]||(_e[ge-1]=RegExp("((?:%[\\da-f]{2}){"+ge+"})","gi"))},J=function(ge){try{return decodeURIComponent(ge)}catch{return ge}},he=function(ge){var ue=ge.replace(Oe," "),Se=4;try{return decodeURIComponent(ue)}catch{for(;Se;)ue=ue.replace(fe(Se--),J);return ue}},ne=/[!'()~]|%20/g,q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ye=function(ge){return q[ge]},Z=function(ge){return encodeURIComponent(ge).replace(ne,ye)},te=function(ge,ue){if(ue)for(var Se=ue.split("&"),Ce=0,Ee,Re;Ce<Se.length;)Ee=Se[Ce++],Ee.length&&(Re=Ee.split("="),ge.push({key:he(Re.shift()),value:he(Re.join("="))}))},ce=function(ge){this.entries.length=0,te(this.entries,ge)},de=function(ge,ue){if(ge<ue)throw TypeError("Not enough arguments")},Pe=v(function(ue,Se){ee(this,{type:xe,iterator:P(be(ue).entries),kind:Se})},"Iterator",function(){var ue=K(this),Se=ue.kind,Ce=ue.iterator.next(),Ee=Ce.value;return Ce.done||(Ce.value=Se==="keys"?Ee.key:Se==="values"?Ee.value:[Ee.key,Ee.value]),Ce}),ke=function(){c(this,ke,le);var ue=arguments.length>0?arguments[0]:void 0,Se=this,Ce=[],Ee,Re,Ke,ht,ft,Be,vt,bt,Lt;if(ee(Se,{type:le,entries:Ce,updateURL:function(){},updateSearchParams:ce}),ue!==void 0)if(_(ue))if(Ee=L(ue),Ee)for(Re=P(ue,Ee),Ke=Re.next;!(ht=Ke.call(Re)).done;){if(ft=P(y(ht.value)),Be=ft.next,(vt=Be.call(ft)).done||(bt=Be.call(ft)).done||!Be.call(ft).done)throw TypeError("Expected sequence with length 2");Ce.push({key:w(vt.value),value:w(bt.value)})}else for(Lt in ue)h(ue,Lt)&&Ce.push({key:Lt,value:w(ue[Lt])});else te(Ce,typeof ue=="string"?ue.charAt(0)==="?"?ue.slice(1):ue:w(ue))},We=ke.prototype;if(A(We,{append:function(ue,Se){de(arguments.length,2);var Ce=be(this);Ce.entries.push({key:w(ue),value:w(Se)}),Ce.updateURL()},delete:function(ge){de(arguments.length,1);for(var ue=be(this),Se=ue.entries,Ce=w(ge),Ee=0;Ee<Se.length;)Se[Ee].key===Ce?Se.splice(Ee,1):Ee++;ue.updateURL()},get:function(ue){de(arguments.length,1);for(var Se=be(this).entries,Ce=w(ue),Ee=0;Ee<Se.length;Ee++)if(Se[Ee].key===Ce)return Se[Ee].value;return null},getAll:function(ue){de(arguments.length,1);for(var Se=be(this).entries,Ce=w(ue),Ee=[],Re=0;Re<Se.length;Re++)Se[Re].key===Ce&&Ee.push(Se[Re].value);return Ee},has:function(ue){de(arguments.length,1);for(var Se=be(this).entries,Ce=w(ue),Ee=0;Ee<Se.length;)if(Se[Ee++].key===Ce)return!0;return!1},set:function(ue,Se){de(arguments.length,1);for(var Ce=be(this),Ee=Ce.entries,Re=!1,Ke=w(ue),ht=w(Se),ft=0,Be;ft<Ee.length;ft++)Be=Ee[ft],Be.key===Ke&&(Re?Ee.splice(ft--,1):(Re=!0,Be.value=ht));Re||Ee.push({key:Ke,value:ht}),Ce.updateURL()},sort:function(){var ue=be(this),Se=ue.entries,Ce=Se.slice(),Ee,Re,Ke;for(Se.length=0,Ke=0;Ke<Ce.length;Ke++){for(Ee=Ce[Ke],Re=0;Re<Ke;Re++)if(Se[Re].key>Ee.key){Se.splice(Re,0,Ee);break}Re===Ke&&Se.push(Ee)}ue.updateURL()},forEach:function(ue){for(var Se=be(this).entries,Ce=p(ue,arguments.length>1?arguments[1]:void 0,3),Ee=0,Re;Ee<Se.length;)Re=Se[Ee++],Ce(Re.value,Re.key,this)},keys:function(){return new Pe(this,"keys")},values:function(){return new Pe(this,"values")},entries:function(){return new Pe(this,"entries")}},{enumerable:!0}),O(We,re,We.entries,{name:"entries"}),O(We,"toString",function(){for(var ue=be(this).entries,Se=[],Ce=0,Ee;Ce<ue.length;)Ee=ue[Ce++],Se.push(Z(Ee.key)+"="+Z(Ee.value));return Se.join("&")},{enumerable:!0}),D(ke,le),d({global:!0,forced:!I},{URLSearchParams:ke}),!I&&f($)){var pe=function(ge){if(_(ge)){var ue=ge.body,Se;if(g(ue)===le)return Se=ge.headers?new $(ge.headers):new $,Se.has("content-type")||Se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),T(ge,{body:k(0,String(ue)),headers:k(0,Se)})}return ge};if(f(F)&&d({global:!0,enumerable:!0,forced:!0},{fetch:function(ue){return F(ue,arguments.length>1?pe(arguments[1]):{})}}),f(G)){var Te=function(ue){return c(this,Te,"Request"),new G(ue,arguments.length>1?pe(arguments[1]):{})};H.constructor=Te,Te.prototype=H,d({global:!0,forced:!0},{Request:Te})}}a.exports={URLSearchParams:ke,getState:be}},4948:function(a,m,u){u(5454);var d=u(3085),E=u(69),I=u(4551),O=u(8576),A=u(1187),D=u(9482),v=u(6961),l=u(4500),c=u(2503),f=u(841),h=u(863).codeAt,p=u(7977),g=u(4845),y=u(1284),_=u(9336),w=u(3326),T=O.URL,k=_.URLSearchParams,P=_.getState,L=w.set,N=w.getterFor("URL"),F=Math.floor,G=Math.pow,H="Invalid authority",$="Invalid scheme",re="Invalid host",le="Invalid port",xe=/[A-Za-z]/,ee=/[\d+-.A-Za-z]/,be=/\d/,K=/^0x/i,Oe=/^[0-7]+$/,_e=/^\d+$/,fe=/^[\dA-Fa-f]+$/,J=/[\0\t\n\r #%/:<>?@[\\\]^|]/,he=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,q=/[\t\n\r]/g,ye,Z=function(ve,Ye){var Ze,tt,ot;if(Ye.charAt(0)=="["){if(Ye.charAt(Ye.length-1)!="]"||(Ze=ce(Ye.slice(1,-1)),!Ze))return re;ve.host=Ze}else if(Se(ve)){if(Ye=p(Ye),J.test(Ye)||(Ze=te(Ye),Ze===null))return re;ve.host=Ze}else{if(he.test(Ye))return re;for(Ze="",tt=f(Ye),ot=0;ot<tt.length;ot++)Ze+=ge(tt[ot],ke);ve.host=Ze}},te=function(ve){var Ye=ve.split("."),Ze,tt,ot,kt,It,Qt,Jt;if(Ye.length&&Ye[Ye.length-1]==""&&Ye.pop(),Ze=Ye.length,Ze>4)return ve;for(tt=[],ot=0;ot<Ze;ot++){if(kt=Ye[ot],kt=="")return ve;if(It=10,kt.length>1&&kt.charAt(0)=="0"&&(It=K.test(kt)?16:8,kt=kt.slice(It==8?1:2)),kt==="")Qt=0;else{if(!(It==10?_e:It==8?Oe:fe).test(kt))return ve;Qt=parseInt(kt,It)}tt.push(Qt)}for(ot=0;ot<Ze;ot++)if(Qt=tt[ot],ot==Ze-1){if(Qt>=G(256,5-Ze))return null}else if(Qt>255)return null;for(Jt=tt.pop(),ot=0;ot<tt.length;ot++)Jt+=tt[ot]*G(256,3-ot);return Jt},ce=function(ve){var Ye=[0,0,0,0,0,0,0,0],Ze=0,tt=null,ot=0,kt,It,Qt,Jt,wn,Rn,it,kn=function(){return ve.charAt(ot)};if(kn()==":"){if(ve.charAt(1)!=":")return;ot+=2,Ze++,tt=Ze}for(;kn();){if(Ze==8)return;if(kn()==":"){if(tt!==null)return;ot++,Ze++,tt=Ze;continue}for(kt=It=0;It<4&&fe.test(kn());)kt=kt*16+parseInt(kn(),16),ot++,It++;if(kn()=="."){if(It==0||(ot-=It,Ze>6))return;for(Qt=0;kn();){if(Jt=null,Qt>0)if(kn()=="."&&Qt<4)ot++;else return;if(!be.test(kn()))return;for(;be.test(kn());){if(wn=parseInt(kn(),10),Jt===null)Jt=wn;else{if(Jt==0)return;Jt=Jt*10+wn}if(Jt>255)return;ot++}Ye[Ze]=Ye[Ze]*256+Jt,Qt++,(Qt==2||Qt==4)&&Ze++}if(Qt!=4)return;break}else if(kn()==":"){if(ot++,!kn())return}else if(kn())return;Ye[Ze++]=kt}if(tt!==null)for(Rn=Ze-tt,Ze=7;Ze!=0&&Rn>0;)it=Ye[Ze],Ye[Ze--]=Ye[tt+Rn-1],Ye[tt+--Rn]=it;else if(Ze!=8)return;return Ye},de=function(ve){for(var Ye=null,Ze=1,tt=null,ot=0,kt=0;kt<8;kt++)ve[kt]!==0?(ot>Ze&&(Ye=tt,Ze=ot),tt=null,ot=0):(tt===null&&(tt=kt),++ot);return ot>Ze&&(Ye=tt,Ze=ot),Ye},Pe=function(ve){var Ye,Ze,tt,ot;if(typeof ve=="number"){for(Ye=[],Ze=0;Ze<4;Ze++)Ye.unshift(ve%256),ve=F(ve/256);return Ye.join(".")}else if(typeof ve=="object"){for(Ye="",tt=de(ve),Ze=0;Ze<8;Ze++)ot&&ve[Ze]===0||(ot&&(ot=!1),tt===Ze?(Ye+=Ze?":":"::",ot=!0):(Ye+=ve[Ze].toString(16),Ze<7&&(Ye+=":")));return"["+Ye+"]"}return ve},ke={},We=c({},ke,{" ":1,'"':1,"<":1,">":1,"`":1}),pe=c({},We,{"#":1,"?":1,"{":1,"}":1}),Te=c({},pe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ge=function(ve,Ye){var Ze=h(ve,0);return Ze>32&&Ze<127&&!l(Ye,ve)?ve:encodeURIComponent(ve)},ue={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Se=function(ve){return l(ue,ve.scheme)},Ce=function(ve){return ve.username!=""||ve.password!=""},Ee=function(ve){return!ve.host||ve.cannotBeABaseURL||ve.scheme=="file"},Re=function(ve,Ye){var Ze;return ve.length==2&&xe.test(ve.charAt(0))&&((Ze=ve.charAt(1))==":"||!Ye&&Ze=="|")},Ke=function(ve){var Ye;return ve.length>1&&Re(ve.slice(0,2))&&(ve.length==2||(Ye=ve.charAt(2))==="/"||Ye==="\\"||Ye==="?"||Ye==="#")},ht=function(ve){var Ye=ve.path,Ze=Ye.length;Ze&&(ve.scheme!="file"||Ze!=1||!Re(Ye[0],!0))&&Ye.pop()},ft=function(ve){return ve==="."||ve.toLowerCase()==="%2e"},Be=function(ve){return ve=ve.toLowerCase(),ve===".."||ve==="%2e."||ve===".%2e"||ve==="%2e%2e"},vt={},bt={},Lt={},fn={},lt={},wt={},yt={},xt={},Ht={},Sn={},He={},Xe={},st={},mt={},St={},nt={},an={},Mn={},Ct={},$e={},ln={},Zt=function(ve,Ye,Ze,tt){var ot=Ze||vt,kt=0,It="",Qt=!1,Jt=!1,wn=!1,Rn,it,kn,Pr;for(Ze||(ve.scheme="",ve.username="",ve.password="",ve.host=null,ve.port=null,ve.path=[],ve.query=null,ve.fragment=null,ve.cannotBeABaseURL=!1,Ye=Ye.replace(ne,"")),Ye=Ye.replace(q,""),Rn=f(Ye);kt<=Rn.length;){switch(it=Rn[kt],ot){case vt:if(it&&xe.test(it))It+=it.toLowerCase(),ot=bt;else{if(Ze)return $;ot=Lt;continue}break;case bt:if(it&&(ee.test(it)||it=="+"||it=="-"||it=="."))It+=it.toLowerCase();else if(it==":"){if(Ze&&(Se(ve)!=l(ue,It)||It=="file"&&(Ce(ve)||ve.port!==null)||ve.scheme=="file"&&!ve.host))return;if(ve.scheme=It,Ze){Se(ve)&&ue[ve.scheme]==ve.port&&(ve.port=null);return}It="",ve.scheme=="file"?ot=mt:Se(ve)&&tt&&tt.scheme==ve.scheme?ot=fn:Se(ve)?ot=xt:Rn[kt+1]=="/"?(ot=lt,kt++):(ve.cannotBeABaseURL=!0,ve.path.push(""),ot=Ct)}else{if(Ze)return $;It="",ot=Lt,kt=0;continue}break;case Lt:if(!tt||tt.cannotBeABaseURL&&it!="#")return $;if(tt.cannotBeABaseURL&&it=="#"){ve.scheme=tt.scheme,ve.path=tt.path.slice(),ve.query=tt.query,ve.fragment="",ve.cannotBeABaseURL=!0,ot=ln;break}ot=tt.scheme=="file"?mt:wt;continue;case fn:if(it=="/"&&Rn[kt+1]=="/")ot=Ht,kt++;else{ot=wt;continue}break;case lt:if(it=="/"){ot=Sn;break}else{ot=Mn;continue}case wt:if(ve.scheme=tt.scheme,it==ye)ve.username=tt.username,ve.password=tt.password,ve.host=tt.host,ve.port=tt.port,ve.path=tt.path.slice(),ve.query=tt.query;else if(it=="/"||it=="\\"&&Se(ve))ot=yt;else if(it=="?")ve.username=tt.username,ve.password=tt.password,ve.host=tt.host,ve.port=tt.port,ve.path=tt.path.slice(),ve.query="",ot=$e;else if(it=="#")ve.username=tt.username,ve.password=tt.password,ve.host=tt.host,ve.port=tt.port,ve.path=tt.path.slice(),ve.query=tt.query,ve.fragment="",ot=ln;else{ve.username=tt.username,ve.password=tt.password,ve.host=tt.host,ve.port=tt.port,ve.path=tt.path.slice(),ve.path.pop(),ot=Mn;continue}break;case yt:if(Se(ve)&&(it=="/"||it=="\\"))ot=Ht;else if(it=="/")ot=Sn;else{ve.username=tt.username,ve.password=tt.password,ve.host=tt.host,ve.port=tt.port,ot=Mn;continue}break;case xt:if(ot=Ht,it!="/"||It.charAt(kt+1)!="/")continue;kt++;break;case Ht:if(it!="/"&&it!="\\"){ot=Sn;continue}break;case Sn:if(it=="@"){Qt&&(It="%40"+It),Qt=!0,kn=f(It);for(var qi=0;qi<kn.length;qi++){var _s=kn[qi];if(_s==":"&&!wn){wn=!0;continue}var Cs=ge(_s,Te);wn?ve.password+=Cs:ve.username+=Cs}It=""}else if(it==ye||it=="/"||it=="?"||it=="#"||it=="\\"&&Se(ve)){if(Qt&&It=="")return H;kt-=f(It).length+1,It="",ot=He}else It+=it;break;case He:case Xe:if(Ze&&ve.scheme=="file"){ot=nt;continue}else if(it==":"&&!Jt){if(It=="")return re;if(Pr=Z(ve,It),Pr)return Pr;if(It="",ot=st,Ze==Xe)return}else if(it==ye||it=="/"||it=="?"||it=="#"||it=="\\"&&Se(ve)){if(Se(ve)&&It=="")return re;if(Ze&&It==""&&(Ce(ve)||ve.port!==null))return;if(Pr=Z(ve,It),Pr)return Pr;if(It="",ot=an,Ze)return;continue}else it=="["?Jt=!0:it=="]"&&(Jt=!1),It+=it;break;case st:if(be.test(it))It+=it;else if(it==ye||it=="/"||it=="?"||it=="#"||it=="\\"&&Se(ve)||Ze){if(It!=""){var Qn=parseInt(It,10);if(Qn>65535)return le;ve.port=Se(ve)&&Qn===ue[ve.scheme]?null:Qn,It=""}if(Ze)return;ot=an;continue}else return le;break;case mt:if(ve.scheme="file",it=="/"||it=="\\")ot=St;else if(tt&&tt.scheme=="file")if(it==ye)ve.host=tt.host,ve.path=tt.path.slice(),ve.query=tt.query;else if(it=="?")ve.host=tt.host,ve.path=tt.path.slice(),ve.query="",ot=$e;else if(it=="#")ve.host=tt.host,ve.path=tt.path.slice(),ve.query=tt.query,ve.fragment="",ot=ln;else{Ke(Rn.slice(kt).join(""))||(ve.host=tt.host,ve.path=tt.path.slice(),ht(ve)),ot=Mn;continue}else{ot=Mn;continue}break;case St:if(it=="/"||it=="\\"){ot=nt;break}tt&&tt.scheme=="file"&&!Ke(Rn.slice(kt).join(""))&&(Re(tt.path[0],!0)?ve.path.push(tt.path[0]):ve.host=tt.host),ot=Mn;continue;case nt:if(it==ye||it=="/"||it=="\\"||it=="?"||it=="#"){if(!Ze&&Re(It))ot=Mn;else if(It==""){if(ve.host="",Ze)return;ot=an}else{if(Pr=Z(ve,It),Pr)return Pr;if(ve.host=="localhost"&&(ve.host=""),Ze)return;It="",ot=an}continue}else It+=it;break;case an:if(Se(ve)){if(ot=Mn,it!="/"&&it!="\\")continue}else if(!Ze&&it=="?")ve.query="",ot=$e;else if(!Ze&&it=="#")ve.fragment="",ot=ln;else if(it!=ye&&(ot=Mn,it!="/"))continue;break;case Mn:if(it==ye||it=="/"||it=="\\"&&Se(ve)||!Ze&&(it=="?"||it=="#")){if(Be(It)?(ht(ve),it!="/"&&!(it=="\\"&&Se(ve))&&ve.path.push("")):ft(It)?it!="/"&&!(it=="\\"&&Se(ve))&&ve.path.push(""):(ve.scheme=="file"&&!ve.path.length&&Re(It)&&(ve.host&&(ve.host=""),It=It.charAt(0)+":"),ve.path.push(It)),It="",ve.scheme=="file"&&(it==ye||it=="?"||it=="#"))for(;ve.path.length>1&&ve.path[0]==="";)ve.path.shift();it=="?"?(ve.query="",ot=$e):it=="#"&&(ve.fragment="",ot=ln)}else It+=ge(it,pe);break;case Ct:it=="?"?(ve.query="",ot=$e):it=="#"?(ve.fragment="",ot=ln):it!=ye&&(ve.path[0]+=ge(it,ke));break;case $e:!Ze&&it=="#"?(ve.fragment="",ot=ln):it!=ye&&(it=="'"&&Se(ve)?ve.query+="%27":it=="#"?ve.query+="%23":ve.query+=ge(it,ke));break;case ln:it!=ye&&(ve.fragment+=ge(it,We));break}kt++}},en=function(Ye){var Ze=v(this,en,"URL"),tt=arguments.length>1?arguments[1]:void 0,ot=g(Ye),kt=L(Ze,{type:"URL"}),It,Qt;if(tt!==void 0){if(tt instanceof en)It=N(tt);else if(Qt=Zt(It={},g(tt)),Qt)throw TypeError(Qt)}if(Qt=Zt(kt,ot,null,It),Qt)throw TypeError(Qt);var Jt=kt.searchParams=new k,wn=P(Jt);wn.updateSearchParams(kt.query),wn.updateURL=function(){kt.query=String(Jt)||null},E||(Ze.href=ur.call(Ze),Ze.origin=mn.call(Ze),Ze.protocol=Yr.call(Ze),Ze.username=tn.call(Ze),Ze.password=zo.call(Ze),Ze.host=qs.call(Ze),Ze.hostname=Ji.call(Ze),Ze.port=Ss.call(Ze),Ze.pathname=Bo.call(Ze),Ze.search=Dr.call(Ze),Ze.searchParams=oi.call(Ze),Ze.hash=Xr.call(Ze))},gr=en.prototype,ur=function(){var ve=N(this),Ye=ve.scheme,Ze=ve.username,tt=ve.password,ot=ve.host,kt=ve.port,It=ve.path,Qt=ve.query,Jt=ve.fragment,wn=Ye+":";return ot!==null?(wn+="//",Ce(ve)&&(wn+=Ze+(tt?":"+tt:"")+"@"),wn+=Pe(ot),kt!==null&&(wn+=":"+kt)):Ye=="file"&&(wn+="//"),wn+=ve.cannotBeABaseURL?It[0]:It.length?"/"+It.join("/"):"",Qt!==null&&(wn+="?"+Qt),Jt!==null&&(wn+="#"+Jt),wn},mn=function(){var ve=N(this),Ye=ve.scheme,Ze=ve.port;if(Ye=="blob")try{return new en(Ye.path[0]).origin}catch{return"null"}return Ye=="file"||!Se(ve)?"null":Ye+"://"+Pe(ve.host)+(Ze!==null?":"+Ze:"")},Yr=function(){return N(this).scheme+":"},tn=function(){return N(this).username},zo=function(){return N(this).password},qs=function(){var ve=N(this),Ye=ve.host,Ze=ve.port;return Ye===null?"":Ze===null?Pe(Ye):Pe(Ye)+":"+Ze},Ji=function(){var ve=N(this).host;return ve===null?"":Pe(ve)},Ss=function(){var ve=N(this).port;return ve===null?"":String(ve)},Bo=function(){var ve=N(this),Ye=ve.path;return ve.cannotBeABaseURL?Ye[0]:Ye.length?"/"+Ye.join("/"):""},Dr=function(){var ve=N(this).query;return ve?"?"+ve:""},oi=function(){return N(this).searchParams},Xr=function(){var ve=N(this).fragment;return ve?"#"+ve:""},mr=function(ve,Ye){return{get:ve,set:Ye,configurable:!0,enumerable:!0}};if(E&&A(gr,{href:mr(ur,function(ve){var Ye=N(this),Ze=g(ve),tt=Zt(Ye,Ze);if(tt)throw TypeError(tt);P(Ye.searchParams).updateSearchParams(Ye.query)}),origin:mr(mn),protocol:mr(Yr,function(ve){var Ye=N(this);Zt(Ye,g(ve)+":",vt)}),username:mr(tn,function(ve){var Ye=N(this),Ze=f(g(ve));if(!Ee(Ye)){Ye.username="";for(var tt=0;tt<Ze.length;tt++)Ye.username+=ge(Ze[tt],Te)}}),password:mr(zo,function(ve){var Ye=N(this),Ze=f(g(ve));if(!Ee(Ye)){Ye.password="";for(var tt=0;tt<Ze.length;tt++)Ye.password+=ge(Ze[tt],Te)}}),host:mr(qs,function(ve){var Ye=N(this);Ye.cannotBeABaseURL||Zt(Ye,g(ve),He)}),hostname:mr(Ji,function(ve){var Ye=N(this);Ye.cannotBeABaseURL||Zt(Ye,g(ve),Xe)}),port:mr(Ss,function(ve){var Ye=N(this);Ee(Ye)||(ve=g(ve),ve==""?Ye.port=null:Zt(Ye,ve,st))}),pathname:mr(Bo,function(ve){var Ye=N(this);Ye.cannotBeABaseURL||(Ye.path=[],Zt(Ye,g(ve),an))}),search:mr(Dr,function(ve){var Ye=N(this);ve=g(ve),ve==""?Ye.query=null:(ve.charAt(0)=="?"&&(ve=ve.slice(1)),Ye.query="",Zt(Ye,ve,$e)),P(Ye.searchParams).updateSearchParams(Ye.query)}),searchParams:mr(oi),hash:mr(Xr,function(ve){var Ye=N(this);if(ve=g(ve),ve==""){Ye.fragment=null;return}ve.charAt(0)=="#"&&(ve=ve.slice(1)),Ye.fragment="",Zt(Ye,ve,ln)})}),D(gr,"toJSON",function(){return ur.call(this)},{enumerable:!0}),D(gr,"toString",function(){return ur.call(this)},{enumerable:!0}),T){var Uo=T.createObjectURL,bs=T.revokeObjectURL;Uo&&D(en,"createObjectURL",function(Ye){return Uo.apply(T,arguments)}),bs&&D(en,"revokeObjectURL",function(Ye){return bs.apply(T,arguments)})}y(en,"URL"),d({global:!0,forced:!I,sham:!E},{URL:en})},9801:function(){},3822:function(a,m,u){var d=u(2221);a.exports=d},1434:function(a,m,u){var d=u(5078);a.exports=d},6899:function(a,m,u){var d=u(98);a.exports=d},7710:function(a,m,u){var d=u(5739);u(162),a.exports=d},4486:function(a,m,u){var d=u(278);a.exports=d},4877:function(a,m,u){var d=u(1484);a.exports=d},7178:function(a,m,u){var d=u(7731);a.exports=d},5603:function(a,m,u){var d=u(3669);a.exports=d},1206:function(a,m,u){u(162);var d=u(6899),E=u(4696),I=Array.prototype,O={DOMTokenList:!0,NodeList:!0};a.exports=function(A){var D=A.forEach;return A===I||A instanceof Array&&D===I.forEach||O.hasOwnProperty(E(A))?d:D}},6174:function(a,m,u){var d=u(2604);a.exports=d},57:function(a,m,u){var d=u(263);a.exports=d},4741:function(a,m,u){var d=u(7663);a.exports=d},8368:function(a,m,u){var d=u(5063);a.exports=d},3739:function(a,m,u){var d=u(6813);a.exports=d},172:function(a,m,u){var d=u(6285);a.exports=d},4963:function(a,m,u){var d=u(3213);a.exports=d},7820:function(a,m,u){var d=u(3512);a.exports=d},8980:function(a,m,u){var d=u(8168);a.exports=d},5636:function(a,m,u){var d=u(8651);a.exports=d},6672:function(a,m,u){var d=u(3083);a.exports=d},5059:function(a,m,u){var d=u(2987);a.exports=d},3969:function(a,m,u){var d=u(2239);a.exports=d},6618:function(a,m,u){var d=u(3154);u(162),a.exports=d},5279:function(a,m,u){var d=u(6577);a.exports=d},9562:function(a,m,u){u(2906);var d=u(7545);a.exports=d.setTimeout},2285:function(a,m,u){var d=u(5008);u(162),a.exports=d},8535:function(a,m,u){var d=u(994);u(162),a.exports=d},652:function(a,m,u){var d=u(5668);a.exports=d},5668:function(a,m,u){u(4948),u(9801),u(9336);var d=u(7545);a.exports=d.URL},2534:function(a){a.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(a){a.exports=n},4960:function(){},6759:function(){},6272:function(){}},i={};function o(a){var m=i[a];if(m!==void 0)return m.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,o),u.exports}(function(){o.n=function(a){var m=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(m,{a:m}),m}})(),function(){o.d=function(a,m){for(var u in m)o.o(m,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:m[u]})}}(),function(){o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){o.o=function(a,m){return Object.prototype.hasOwnProperty.call(a,m)}}();var s={};return function(){o.d(s,{default:function(){return xz}});var a=o(9131),m=o.n(a),u=o(1899),d=o.n(u),E=o(6562),I=o.n(E),O=o(1734),A=o.n(O),D=o(8005),v=o.n(D),l=o(6065),c=o.n(l),f=o(4496),h=o.n(f);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(z){var M=this;do{if(Element.prototype.matches.call(M,z))return M;M=M.parentElement||M.parentNode}while(M!==null&&M.nodeType===1);return null});/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(z){if("Element"in z){var M="classList",b="prototype",C=z.Element[b],S=Object,x=m()(String[b])||function(){return this.replace(/^\s+|\s+$/g,"")},R=d()(Array[b])||function(Me){for(var Ne=0,De=this.length;Ne<De;Ne++)if(Ne in this&&this[Ne]===Me)return Ne;return-1},j=function(Ne,De){this.name=Ne,this.code=DOMException[Ne],this.message=De},V=function(Ne,De){if(De==="")throw new j("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(De))throw new j("INVALID_CHARACTER_ERR","The token must not contain space characters.");return R.call(Ne,De)},W=function(Ne){for(var De=x.call(Ne.getAttribute("class")||""),Le=De?De.split(/\s+/):[],et=0,Dt=Le.length;et<Dt;et++)this.push(Le[et]);this._updateClassName=function(){Ne.setAttribute("class",this.toString())}},Q=W[b]=[],oe=function(){return new W(this)};if(j[b]=Error[b],Q.item=function(Me){return this[Me]||null},Q.contains=function(Me){return~V(this,Me+"")},Q.add=function(){var Me=arguments,Ne=0,De=Me.length,Le,et=!1;do Le=Me[Ne]+"",~V(this,Le)||(this.push(Le),et=!0);while(++Ne<De);et&&this._updateClassName()},Q.remove=function(){var Me=arguments,Ne=0,De=Me.length,Le,et=!1,Dt;do for(Le=Me[Ne]+"",Dt=V(this,Le);~Dt;){var Pt;I()(Pt=this).call(Pt,Dt,1),et=!0,Dt=V(this,Le)}while(++Ne<De);et&&this._updateClassName()},Q.toggle=function(Me,Ne){var De=this.contains(Me),Le=De?Ne!==!0&&"remove":Ne!==!1&&"add";return Le&&this[Le](Me),Ne===!0||Ne===!1?Ne:!De},Q.replace=function(Me,Ne){var De=V(Me+"");if(~De){var Le;I()(Le=this).call(Le,De,1,Ne),this._updateClassName()}},Q.toString=function(){return this.join(" ")},A()){var Ie={get:oe,enumerable:!0,configurable:!0};try{A()(C,M,Ie)}catch(Me){(Me.number===void 0||Me.number===-2146823252)&&(Ie.enumerable=!1,A()(C,M,Ie))}}else S[b].__defineGetter__&&C.__defineGetter__(M,oe)}}(self),function(){var z=document.createElement("_");if(z.classList.add("c1","c2"),!z.classList.contains("c2")){var M=function(S){var x=DOMTokenList.prototype[S];DOMTokenList.prototype[S]=function(R){var j,V=arguments.length;for(j=0;j<V;j++)R=arguments[j],x.call(this,R)}};M("add"),M("remove")}if(z.classList.toggle("c3",!1),z.classList.contains("c3")){var b=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(C,S){return 1 in arguments&&!this.contains(C)==!S?S:b.call(this,C)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(C,S){var x=this.toString().split(" "),R=d()(x).call(x,C+"");~R&&(x=v()(x).call(x,R),this.remove.apply(this,x),this.add(S),this.add.apply(this,v()(x).call(x,1)))}),z=null}());/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */(function(){if(typeof window<"u"&&window.addEventListener){var z=c()(null),M,b,C=function(){clearTimeout(b),b=h()(M,100)},S=function(){},x=function(){var Q;window.addEventListener("resize",C,!1),window.addEventListener("orientationchange",C,!1),window.MutationObserver?(Q=new MutationObserver(C),Q.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),S=function(){try{Q.disconnect(),window.removeEventListener("resize",C,!1),window.removeEventListener("orientationchange",C,!1)}catch{}}):(document.documentElement.addEventListener("DOMSubtreeModified",C,!1),S=function(){document.documentElement.removeEventListener("DOMSubtreeModified",C,!1),window.removeEventListener("resize",C,!1),window.removeEventListener("orientationchange",C,!1)})},R=function(Q){function oe(De){var Le;return De.protocol!==void 0?Le=De:(Le=document.createElement("a"),Le.href=De),Le.protocol.replace(/:/g,"")+Le.host}var Ie,Me,Ne;return window.XMLHttpRequest&&(Ie=new XMLHttpRequest,Me=oe(location),Ne=oe(Q),Ie.withCredentials===void 0&&Ne!==""&&Ne!==Me?Ie=XDomainRequest||void 0:Ie=XMLHttpRequest),Ie},j="http://www.w3.org/1999/xlink";M=function(){var Q,oe,Ie,Me,Ne,De=0,Le,et,Dt,Pt,Ft;function dt(){De-=1,De===0&&(S(),x())}function vn(qn){return function(){z[qn.base]!==!0&&(qn.useEl.setAttributeNS(j,"xlink:href","#"+qn.hash),qn.useEl.hasAttribute("href")&&qn.useEl.setAttribute("href","#"+qn.hash))}}function Nr(qn){return function(){var yo=document.body,ta=document.createElement("x"),Si;qn.onload=null,ta.innerHTML=qn.responseText,Si=ta.getElementsByTagName("svg")[0],Si&&(Si.setAttribute("aria-hidden","true"),Si.style.position="absolute",Si.style.width=0,Si.style.height=0,Si.style.overflow="hidden",yo.insertBefore(Si,yo.firstChild)),dt()}}function wi(qn){return function(){qn.onerror=null,qn.ontimeout=null,dt()}}for(S(),Pt=document.getElementsByTagName("use"),Ne=0;Ne<Pt.length;Ne+=1){try{oe=Pt[Ne].getBoundingClientRect()}catch{oe=!1}Me=Pt[Ne].getAttribute("href")||Pt[Ne].getAttributeNS(j,"href")||Pt[Ne].getAttribute("xlink:href"),Me&&Me.split?Dt=Me.split("#"):Dt=["",""],Q=Dt[0],Ie=Dt[1],Le=oe&&oe.left===0&&oe.right===0&&oe.top===0&&oe.bottom===0,oe&&oe.width===0&&oe.height===0&&!Le?(Pt[Ne].hasAttribute("href")&&Pt[Ne].setAttributeNS(j,"xlink:href",Me),Q.length&&(Ft=z[Q],Ft!==!0&&h()(vn({useEl:Pt[Ne],base:Q,hash:Ie}),0),Ft===void 0&&(et=R(Q),et!==void 0&&(Ft=new et,z[Q]=Ft,Ft.onload=Nr(Ft),Ft.onerror=wi(Ft),Ft.ontimeout=wi(Ft),Ft.open("GET",Q),Ft.send(),De+=1)))):Le?Q.length&&z[Q]&&h()(vn({useEl:Pt[Ne],base:Q,hash:Ie}),0):z[Q]===void 0?z[Q]=!0:z[Q].onload&&(z[Q].abort(),delete z[Q].onload,z[Q]=!0)}Pt="",De+=1,dt()};var V;V=function(){window.removeEventListener("load",V,!1),b=h()(M,0)},document.readyState!=="complete"?window.addEventListener("load",V,!1):V()}})();var p=o(1845);function g(z,M){(M==null||M>z.length)&&(M=z.length);for(var b=0,C=new Array(M);b<M;b++)C[b]=z[b];return C}function y(z){if(p(z))return g(z)}var _=o(184),w=o(662),T=o(7172);function k(z){if(typeof _<"u"&&w(z)!=null||z["@@iterator"]!=null)return T(z)}var P=o(711);function L(z,M){var b;if(z){if(typeof z=="string")return g(z,M);var C=P(b=Object.prototype.toString.call(z)).call(b,8,-1);if(C==="Object"&&z.constructor&&(C=z.constructor.name),C==="Map"||C==="Set")return T(z);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return g(z,M)}}function N(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F(z){return y(z)||k(z)||L(z)||N()}var G=o(7077);function H(z,M,b){return M in z?G(z,M,{value:b,enumerable:!0,configurable:!0,writable:!0}):z[M]=b,z}function $(z,M){if(!(z instanceof M))throw new TypeError("Cannot call a class as a function")}function re(z,M){for(var b=0;b<M.length;b++){var C=M[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),G(z,C.key,C)}}function le(z,M,b){return M&&re(z.prototype,M),b&&re(z,b),z}var xe=o(4426),ee=o.n(xe),be=o(9406),K=o.n(be),Oe=o(8189),_e=o.n(Oe),fe=o(3972),J=o.n(fe),he=o(2777),ne=o(961),q=o.n(ne),ye=o(5695),Z=o.n(ye),te=o(8592),ce=o.n(te),de=o(9052),Pe=o.n(de),ke=o(2560),We=o.n(ke),pe=o(2461),Te=o.n(pe);function ge(z){if(p(z))return z}function ue(z,M){var b=z==null?null:typeof _<"u"&&w(z)||z["@@iterator"];if(b!=null){var C=[],S=!0,x=!1,R,j;try{for(b=b.call(z);!(S=(R=b.next()).done)&&(C.push(R.value),!(M&&C.length===M));S=!0);}catch(V){x=!0,j=V}finally{try{!S&&b.return!=null&&b.return()}finally{if(x)throw j}}return C}}function Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(z,M){return ge(z)||ue(z,M)||L(z,M)||Se()}var Ee=o(6397),Re=o.n(Ee),Ke=o(7636),ht=o.n(Ke),ft=o(789),Be=o.n(ft),vt=o(4729),bt=o.n(vt),Lt=o(1610),fn=o.n(Lt),lt=o(3053),wt=o.n(lt),yt,xt=["zoomIn","zoomOut","hand"],Ht=["history","undo","redo","reset"],Sn=["delete","deleteAll"],He=K()(yt=[]).call(yt,xt,Ht,Sn),Xe={FILTER:"filter",COLOR:"color"},st=["rect","circle","triangle"],mt={CROPZONE:"cropzone"},St={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},nt=It("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),an={lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1},Mn={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},Ct={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection",RESIZE_IMAGE:"resize"},$e={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_CREATED:"objectCreated",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur",IMAGE_RESIZED:"imageResized"},ln={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},Zt={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",RESIZE:"Resize",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},en=It("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),gr={TEXT:"text",CROP:"crop",RESIZE:"resize",SHAPE:"shape",ZOOM:"zoom"},ur={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},mn={Z:90,Y:89,C:67,V:86,SHIFT:16,BACKSPACE:8,DEL:46,ARROW_DOWN:40,ARROW_UP:38,SPACE:32,DIGIT_0:48,DIGIT_9:57},Yr={SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}},tn={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidDrawingMode:"This operation is not supported in the drawing mode.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noActiveObject:"There is no active object.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",rotation:"The current angle is same the old angle.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},zo={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},qs={realTimeEvent:!0,min:-360,max:360,value:0},Ji={min:5,max:30,value:12},Ss={realTimeEvent:!0,min:2,max:300,value:3},Bo={realTimeEvent:!0,min:10,max:100,value:50},Dr={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},oi={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5},Xr={realTimeEvent:!0,min:32,max:4088,value:800},mr=2,Uo="tui-image-editor-",bs=Math.min,ve=Math.max,Ye=!1,Ze=0;function tt(z){return z.__fe_id||(Ze+=1,z.__fe_id=Ze),z.__fe_id}function ot(z){return typeof z=="function"}function kt(z,M,b){if(M>b){var C=[b,M];M=C[0],b=C[1]}return ve(M,bs(z,b))}function It(){for(var z={},M=arguments.length,b=new Array(M),C=0;C<M;C++)b[C]=arguments[C];return ce()(b,function(S){z[S]=S}),z}function Qt(z,M){var b={},C=M.length,S=0,x;for(S=0;S<C;S+=1)x=M[S],b[x]=z[x];return b}function Jt(z){return Re()(z,10)}function wn(z){return z.replace(/-([a-z])/g,function(M,b){return b.toUpperCase()})}function Rn(){return!!(window.File&&window.FileList&&window.FileReader)}function it(z,M){var b,C,S;if(z.length===4){var x;z=K()(x="".concat(z)).call(x,v()(z).call(z,1,4))}var R=Re()(v()(z).call(z,1,3),16),j=Re()(v()(z).call(z,3,5),16),V=Re()(v()(z).call(z,5,7),16),W=M||1;return K()(b=K()(C=K()(S="rgba(".concat(R,", ")).call(S,j,", ")).call(C,V,", ")).call(b,W,")")}function kn(){Ye||(Ye=!0,bt()("image-editor","UA-129999381-1"))}function Pr(z,M){var b=document.getElementsByTagName("head"),C=Ce(b,1),S=C[0],x=document.createElement("link"),R=encodeURIComponent(z);M&&(x.id=M),x.setAttribute("rel","stylesheet"),x.setAttribute("type","text/css"),x.setAttribute("href","data:text/css;charset=UTF-8,".concat(R)),S.appendChild(x)}function qi(z){return function(M){return z.querySelector(M)}}function _s(z){var M=/data:(image\/.+);base64,/,b="",C,S,x;C=z.replace(M,function(j,V){return b=V,""}),C=atob(C);var R=C.length;for(S=new Uint8Array(R),x=0;x<R;x+=1)S[x]=C.charCodeAt(x);return new Blob([S],{type:b})}function Cs(z){return Number(z.toFixed(mr))}function Qn(z){ce()(z,function(M,b){z[b]=null})}function B(){var z,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(M.charAt(0)==="."){var C;return K()(C=".".concat(Uo).concat(b)).call(C,v()(M).call(M,1))}return K()(z="".concat(Uo).concat(b)).call(z,M)}function X(z,M){var b=M.originX,C=M.originY,S=z.getPointByOrigin(b,C),x=S.x,R=S.y;z.set({left:x,top:R,originX:b,originY:C}),z.setCoords()}function ae(z){var M,b={};return ht()(M=Te()(z)).call(M,function(C){b[z[C]]=C}),b}function we(z,M){z.customProps=z.customProps||{},q()(z.customProps,M)}function ze(z,M){var b={};return We()(M)&&(M=[M]),ce()(M,function(C){b[C]=z.customProps[C]}),b}function je(z){return z.charAt(0).toUpperCase()+v()(z).call(z,1)}function Qe(z,M){return d()(z).call(z,M)>=0}function gt(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fn()(z,"type")||Xe.COLOR}function jt(z){var M=Be()(z),b=M===void 0?{}:M;return b.source?Xe.FILTER:Xe.COLOR}function Ut(z){return wt()(z.get("type"),st)>=0}function Wt(z){if(Qe(st,z))return"Shape";switch(z){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return Ho(z)}}function An(z){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=M.useAlpha,C=b===void 0?!0:b,S=M.mode,x=St.VINTAGE,R=St.REMOVE_COLOR,j=St.BLEND_COLOR,V=St.SEPIA2,W=St.COLOR_FILTER,Q=St.REMOVE_WHITE,oe=St.BLEND,Ie;switch(z){case x:Ie=V;break;case R:Ie=C?W:Q;break;case j:Ie=S==="add"?oe:S;break;default:Ie=z}return Ho(Ie)}function Pi(z){var M=Ct.LOAD_IMAGE;return typeof z=="string"?M===z:M===z.name}function Ni(z){var M,b,C=Ct.FLIP_IMAGE,S=Ct.ROTATE_IMAGE,x=Ct.ADD_TEXT,R=Ct.APPLY_FILTER,j=Ct.REMOVE_FILTER,V=Ct.CHANGE_SHAPE,W=Ct.CHANGE_ICON_COLOR,Q=Ct.CHANGE_TEXT_STYLE,oe=Ct.CLEAR_OBJECTS,Ie=Ct.ADD_IMAGE_OBJECT,Me=Ct.REMOVE_OBJECT,Ne=Ct.RESIZE_IMAGE,De=z.name,Le=z.args,et;switch(De){case C:et={name:De,detail:Le[1]==="reset"?Le[1]:v()(M=Le[1]).call(M,4)};break;case S:et={name:De,detail:Le[2]};break;case R:et={name:Zt.APPLY_FILTER,detail:An(Le[1],Le[2])};break;case j:et={name:Zt.REMOVE_FILTER,detail:"Remove"};break;case V:et={name:Zt.CHANGE_SHAPE,detail:"Change"};break;case W:et={name:Zt.CHANGE_ICON_COLOR,detail:"Change"};break;case Q:et={name:Zt.CHANGE_TEXT_STYLE,detail:"Change"};break;case Me:et={name:Zt.REMOVE_OBJECT,detail:Le[2]};break;case oe:et={name:Zt.CLEAR_OBJECTS,detail:"All"};break;case Ie:et={name:Zt.ADD_IMAGE_OBJECT,detail:"Add"};break;case x:et={name:Zt.ADD_TEXT};break;case Ne:et={name:Zt.RESIZE,detail:K()(b="".concat(~~Le[1].width,"x")).call(b,~~Le[1].height)};break;default:et={name:De};break}return Le[1]==="mask"&&(et={name:Zt.LOAD_MASK_IMAGE,detail:"Apply"}),et}function si(z){return z==="top"?"bottom":z==="left"?"right":z==="right"?"left":"top"}function Ho(z){return z.replace(/[a-z]/,function(M){return M.toUpperCase()})}function mo(z){var M=z.left,b=z.top,C=z.width,S=z.height,x=oi.LEFT,R=oi.TOP,j=oi.WIDTH,V=oi.HEIGHT;return M===x&&b===R&&C===j&&S===V}var cl=It("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),Wo={UN_IMPLEMENTATION:"Should implement a method: ",NO_COMPONENT_NAME:"Should set a component name"},ju={UN_IMPLEMENTATION:function(M){return Wo.UN_IMPLEMENTATION+M},NO_COMPONENT_NAME:function(){return Wo.NO_COMPONENT_NAME}},Ri={types:q()({},cl),create:function(M){M=M.toLowerCase();for(var b=ju[M],C=arguments.length,S=new Array(C>1?C-1:0),x=1;x<C;x++)S[x-1]=arguments[x];return b.apply(void 0,S)}},hl=Ri.create,Mp=Ri.types,m0=function(){function z(M,b){$(this,z),this.name=M.name,this.args=b,this.execute=M.execute,this.undo=M.undo,this.executeCallback=M.executeCallback||null,this.undoCallback=M.undoCallback||null,this.undoData={}}return le(z,[{key:"execute",value:function(){throw new Error(hl(Mp.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(hl(Mp.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return Te()(this.undoData).length>0}},{key:"setUndoData",value:function(b,C,S){return C&&(b=C),S?C||(C=b):(q()(this.undoData,b),C=null),C}},{key:"setExecuteCallback",value:function(b){return this.executeCallback=b,this}},{key:"setUndoCallback",value:function(b){return this.undoCallback=b,this}}]),z}(),v0=m0,Op={};function y0(z){var M=Op[z];if(M){for(var b=arguments.length,C=new Array(b>1?b-1:0),S=1;S<b;S++)C[S-1]=arguments[S];return new v0(M,C)}return null}function vo(z){Op[z.name]=z}var bn={create:y0,register:vo},fl=function(){function z(){$(this,z),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return le(z,[{key:"_invokeExecution",value:function(b){var C=this,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.lock();var x=b.args;return x||(x=[]),b.execute.apply(b,F(x)).then(function(R){return C._isSilent||(C.pushUndoStack(b),C.fire(S?$e.AFTER_REDO:$e.EXECUTE_COMMAND,b)),C.unlock(),ot(b.executeCallback)&&b.executeCallback(R),R}).catch(function(R){return C.unlock(),_e().reject(R)})}},{key:"_invokeUndo",value:function(b){var C=this;this.lock();var S=b.args;return S||(S=[]),b.undo.apply(b,F(S)).then(function(x){return C.pushRedoStack(b),C.fire($e.AFTER_UNDO,b),C.unlock(),ot(b.undoCallback)&&b.undoCallback(x),x}).catch(function(x){return C.unlock(),_e().reject(x)})}},{key:"_fireRedoStackChanged",value:function(){this.fire($e.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire($e.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var b=this;this._isSilent=!0;for(var C=arguments.length,S=new Array(C),x=0;x<C;x++)S[x]=arguments[x];return this.execute.apply(this,K()(S).call(S,[this._isSilent])).then(function(){b._isSilent=!1})}},{key:"execute",value:function(){var b=this;if(this._isLocked)return _e().reject(tn.isLock);for(var C=arguments.length,S=new Array(C),x=0;x<C;x++)S[x]=arguments[x];var R=S[0];return We()(R)&&(R=bn.create.apply(bn,S)),this._invokeExecution(R).then(function(j){return b.clearRedoStack(),j})}},{key:"undo",value:function(){var b=this._undoStack.pop(),C,S="";if(b&&this._isLocked&&(this.pushUndoStack(b,!0),b=null),b)this.isEmptyUndoStack()&&this._fireUndoStackChanged(),C=this._invokeUndo(b);else{if(S=tn.undo,this._isLocked){var x;S=K()(x="".concat(S," Because ")).call(x,tn.isLock)}C=_e().reject(S)}return C}},{key:"redo",value:function(){var b=this._redoStack.pop(),C,S="";if(b&&this._isLocked&&(this.pushRedoStack(b,!0),b=null),b)this.isEmptyRedoStack()&&this._fireRedoStackChanged(),C=this._invokeExecution(b,!0);else{if(S=tn.redo,this._isLocked){var x;S=K()(x="".concat(S," Because ")).call(x,tn.isLock)}C=_e().reject(S)}return C}},{key:"pushUndoStack",value:function(b,C){this._undoStack.push(b),C||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(b,C){this._redoStack.push(b),C||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return this._redoStack.length===0}},{key:"isEmptyUndoStack",value:function(){return this._undoStack.length===0}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),z}();Pe().mixin(fl);var En=fl,dl=o(5214),Li=o.n(dl),pl=function(z){var M,b,C,S,x,R,j,V=z.locale,W=z.biImage,Q=z.commonStyle,oe=z.headerStyle,Ie=z.loadButtonStyle,Me=z.downloadButtonStyle,Ne=z.submenuStyle;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=`
    <div class="tui-image-editor-main-container" style="`.concat(Q,`">
        <div class="tui-image-editor-header" style="`)).call(j,oe,`">
            <div class="tui-image-editor-header-logo">
                <img src="`)).call(R,W,`" />
            </div>
            <div class="tui-image-editor-header-buttons">
                <div style="`)).call(x,Ie,`">
                    `)).call(S,V.localize("Load"),`
                    <input type="file" class="tui-image-editor-load-btn" />
                </div>
                <button class="tui-image-editor-download-btn" style="`)).call(C,Me,`">
                    `)).call(b,V.localize("Download"),`
                </button>
            </div>
        </div>
        <div class="tui-image-editor-main">
            <div class="tui-image-editor-submenu">
                <div class="tui-image-editor-submenu-style" style="`)).call(M,Ne,`"></div>
            </div>
            <div class="tui-image-editor-wrap">
                <div class="tui-image-editor-size-wrap">
                    <div class="tui-image-editor-align-wrap">
                        <div class="tui-image-editor"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
`)},Vo=function(z){var M,b,C,S,x,R=z.locale,j=z.biImage,V=z.loadButtonStyle,W=z.downloadButtonStyle,Q=z.menuBarPosition;return K()(M=K()(b=K()(C=K()(S=K()(x=`
    <ul class="tui-image-editor-help-menu `.concat(si(Q),`"></ul>
    <div class="tui-image-editor-controls">
        <div class="tui-image-editor-controls-logo">
            <img src="`)).call(x,j,`" />
        </div>
        <ul class="tui-image-editor-menu"></ul>

        <div class="tui-image-editor-controls-buttons">
            <div style="`)).call(S,V,`">
                `)).call(C,R.localize("Load"),`
                <input type="file" class="tui-image-editor-load-btn" />
            </div>
            <button class="tui-image-editor-download-btn" style="`)).call(b,W,`">
                `)).call(M,R.localize("Download"),`
            </button>
        </div>
    </div>
`)},Fu=o(899),br=o.n(Fu),kp=function(z){var M,b,C,S,x,R,j,V,W,Q,oe,Ie,Me,Ne,De,Le,et,Dt,Pt,Ft,dt,vn,Nr,wi,qn,yo,ta,Si,Rh,Qp=z.subMenuLabelActive,Jp=z.subMenuLabelNormal,qp=z.subMenuRangeTitle,eg=z.submenuPartitionVertical,tg=z.submenuPartitionHorizontal,ng=z.submenuCheckbox,rg=z.submenuRangePointer,ig=z.submenuRangeValue,og=z.submenuColorpickerTitle,sg=z.submenuColorpickerButton,ag=z.submenuRangeBar,lg=z.submenuRangeSubbar,ug=z.submenuDisabledRangePointer,cg=z.submenuDisabledRangeBar,hg=z.submenuDisabledRangeSubbar,fg=z.submenuIconSize,dg=z.menuIconSize,pg=z.biSize,wo=z.menuIconStyle,vl=z.submenuIconStyle;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=K()(V=K()(W=K()(Q=K()(oe=K()(Ie=K()(Me=K()(Ne=K()(De=K()(Le=K()(et=K()(Dt=K()(Pt=K()(Ft=K()(dt=K()(vn=K()(Nr=K()(wi=K()(qn=K()(yo=K()(ta=K()(Si=K()(Rh=`
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,
    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,
    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,
    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,
    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,
    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,
    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,
    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-draw-line-select-button.line .tui-image-editor-button.line label,
    .tie-draw-line-select-button.free .tui-image-editor-button.free label,
    .tie-flip-button.flipX .tui-image-editor-button.flipX label,
    .tie-flip-button.flipY .tui-image-editor-button.flipY label,
    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,
    .tie-crop-button .tui-image-editor-button.apply.active label,
    .tie-crop-preset-button .tui-image-editor-button.preset.active label,
    .tie-resize-button .tui-image-editor-button.apply.active label,
    .tie-resize-preset-button .tui-image-editor-button.preset.active label,
    .tie-shape-button.rect .tui-image-editor-button.rect label,
    .tie-shape-button.circle .tui-image-editor-button.circle label,
    .tie-shape-button.triangle .tui-image-editor-button.triangle label,
    .tie-text-effect-button .tui-image-editor-button.active label,
    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,
    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,
    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,
    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,
    .tui-image-editor-container .tui-image-editor-checkbox label > span {
        `.concat(Qp,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {
        `)).call(Rh,Jp,`
    }
    .tui-image-editor-container .tui-image-editor-range-wrap label > span {
        `)).call(Si,qp,`
    }
    .tui-image-editor-container .tui-image-editor-partition > div {
        `)).call(ta,eg,`
    }
    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,
    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {
        `)).call(yo,tg,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {
        `)).call(qn,ng,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {
        border: 0;
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {
        `)).call(wi,rg,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-bar {
        `)).call(Nr,ag,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {
        `)).call(vn,lg,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {
        `)).call(dt,ug,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {
        `)).call(Ft,hg,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {
        `)).call(Pt,cg,`
    }
    .tui-image-editor-container .tui-image-editor-range-value {
        `)).call(Dt,ig,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {
        `)).call(et,og,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {
        `)).call(Le,sg,`
    }
    .tui-image-editor-container .svg_ic-menu {
        `)).call(De,dg,`
    }
    .tui-image-editor-container .svg_ic-submenu {
        `)).call(Ne,fg,`
    }
    .tui-image-editor-container .tui-image-editor-controls-logo > img,
    .tui-image-editor-container .tui-image-editor-header-logo > img {
        `)).call(Me,pg,`
    }
    .tui-image-editor-menu use.normal.use-default,
    .tui-image-editor-help-menu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(Ie,wo.normal.color,`;
        stroke: `)).call(oe,wo.normal.color,`;
    }
    .tui-image-editor-menu use.active.use-default,
    .tui-image-editor-help-menu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(Q,wo.active.color,`;
        stroke: `)).call(W,wo.active.color,`;
    }
    .tui-image-editor-menu use.hover.use-default,
    .tui-image-editor-help-menu use.hover.use-default {
        fill-rule: evenodd;
        fill: `)).call(V,wo.hover.color,`;
        stroke: `)).call(j,wo.hover.color,`;
    }
    .tui-image-editor-menu use.disabled.use-default,
    .tui-image-editor-help-menu use.disabled.use-default {
        fill-rule: evenodd;
        fill: `)).call(R,wo.disabled.color,`;
        stroke: `)).call(x,wo.disabled.color,`;
    }
    .tui-image-editor-submenu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(S,vl.normal.color,`;
        stroke: `)).call(C,vl.normal.color,`;
    }
    .tui-image-editor-submenu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(b,vl.active.color,`;
        stroke: `)).call(M,vl.active.color,`;
    }
`)},Eh={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},Th=o(2534),Ap=function(){function z(M){$(this,z),this.styles=this._changeToObject(q()({},Eh,M)),Pr(this._styleMaker()),this._loadDefaultSvgIcon()}return le(z,[{key:"getStyle",value:function(b){var C=null,S=b.replace(/\..+$/,""),x=this.styles[b];switch(b){case"common.bi":C=this.styles[b].image;break;case"menu.icon":C={active:this.styles["".concat(S,".activeIcon")],normal:this.styles["".concat(S,".normalIcon")],hover:this.styles["".concat(S,".hoverIcon")],disabled:this.styles["".concat(S,".disabledIcon")]};break;case"submenu.icon":C={active:this.styles["".concat(S,".activeIcon")],normal:this.styles["".concat(S,".normalIcon")]};break;case"submenu.label":C={active:this._makeCssText(this.styles["".concat(S,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(S,".normalLabel")])};break;case"submenu.partition":C={vertical:this._makeCssText(q()({},x,{borderLeft:"1px solid ".concat(x.color)})),horizontal:this._makeCssText(q()({},x,{borderBottom:"1px solid ".concat(x.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":x.backgroundColor=x.color,C=this._makeCssText(x);break;default:C=this._makeCssText(x);break}return C}},{key:"_styleMaker",value:function(){var b=this.getStyle("submenu.label"),C=this.getStyle("submenu.partition");return kp({subMenuLabelActive:b.active,subMenuLabelNormal:b.normal,submenuPartitionVertical:C.vertical,submenuPartitionHorizontal:C.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(b){var C={};return ce()(b,function(S,x){var R=x.match(/^(.+)\.([a-z]+)$/i),j=Ce(R,3),V=j[1],W=j[2];C[V]||(C[V]={}),C[V][W]=S}),C}},{key:"_makeCssText",value:function(b){var C=this,S=[];return ce()(b,function(x,R){var j,V;d()(j=["backgroundImage"]).call(j,R)>-1&&x!=="none"&&(x="url(".concat(x,")")),S.push(K()(V="".concat(C._toUnderScore(R),": ")).call(V,x))}),S.join(";")}},{key:"_toUnderScore",value:function(b){return b.replace(/([A-Z])/g,function(C,S){return"-".concat(S.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var b=new DOMParser,C=Th.replace(/data:image\/svg\+xml;base64,/,""),S=b.parseFromString(atob(C),"text/xml");document.body.appendChild(S.documentElement)}}},{key:"_makeIconClassName",value:function(b,C){var S=C?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),x=S[b],R=x.path,j=x.name;return R&&j?b:"".concat(b," use-default")}},{key:"_makeSvgIconPrefix",value:function(b,C){var S,x=C?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),R=x[b],j=R.path,V=R.name;return j&&V?K()(S="".concat(j,"#")).call(S,V,"-"):"#"}},{key:"_makeSvgItem",value:function(b,C,S){var x=this;return br()(b).call(b,function(R){var j,V,W=x._makeSvgIconPrefix(R,S),Q=x._toUnderScore(C),oe=x._makeIconClassName(R,S);return K()(j=K()(V='<use xlink:href="'.concat(W,"ic-")).call(V,Q,'" class="')).call(j,oe,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(b,C){var S,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return K()(S='<svg class="svg_ic-'.concat(x?"submenu":"menu",'">')).call(S,this._makeSvgItem(b,C,x),"</svg>")}}]),z}(),Dp=Ap,Pp=o(9146),Je=o.n(Pp),w0=o(6623),gl=o(4230);function zu(z,M){return zu=gl||function(C,S){return C.__proto__=S,C},zu(z,M)}function nn(z,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=w0(M&&M.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),M&&zu(z,M)}var Mh=o(3742);function Bu(z){"@babel/helpers - typeof";return typeof _=="function"&&typeof Mh=="symbol"?Bu=function(b){return typeof b}:Bu=function(b){return b&&typeof _=="function"&&b.constructor===_&&b!==_.prototype?"symbol":typeof b},Bu(z)}function qt(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function dn(z,M){if(M&&(Bu(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(z)}var Uu=o(9856);function Mt(z){return Mt=gl?Uu:function(b){return b.__proto__||Uu(b)},Mt(z)}var ml=o(6092),Go=o.n(ml),Np=o(4858),Rp=o.n(Np),Lp=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Hu=function(){function z(M,b){var C=b.defaultColor,S=C===void 0?"#7e7e7e":C,x=b.toggleDirection,R=x===void 0?"up":x,j=b.usageStatistics;$(this,z),this.colorpickerElement=M,this.usageStatistics=j,this._show=!1,this._colorpickerElement=M,this._toggleDirection=R,this._makePickerButtonElement(S),this._makePickerLayerElement(M,M.getAttribute("title")),this._color=S,this.picker=Rp().create({container:this.pickerElement,preset:Lp,color:S,usageStatistics:this.usageStatistics}),this._addEvent()}return le(z,[{key:"destroy",value:function(){var b=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",ce()(this,function(C,S){b[S]=null})}},{key:"color",get:function(){return this._color},set:function(b){this._color=b,this._changeColorElement(b)}},{key:"_changeColorElement",value:function(b){b?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=b):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(b){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",b?this.colorElement.style.backgroundColor=b:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(b,C){var S=document.createElement("label"),x=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",S.innerHTML=C,x.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(x),b.appendChild(this.pickerControl),b.appendChild(this.colorElement),b.appendChild(S)}},{key:"_addEvent",value:function(){var b=this,C;this.picker.on("selectColor",function(S){b._changeColorElement(S.color),b._color=S.color,b.fire("change",S.color)}),this.eventHandler={pickerToggle:ee()(C=this._pickerToggleEventHandler).call(C,this),pickerHide:function(){return b.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(b){var C=b.target,S=C&&this._isElementInColorPickerControl(C);(!S||S&&this._isPaletteButton(C))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),b.stopPropagation()}},{key:"_isPaletteButton",value:function(b){return b.className==="tui-colorpicker-palette-button"}},{key:"_isElementInColorPickerControl",value:function(b){for(var C=b;C!==document.body&&C;){if(C===this.pickerControl)return!0;C=C.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var b=this.pickerControl.style,C=this._colorpickerElement.clientWidth/2+2,S=this.pickerControl.offsetWidth/2-C,x=(this.pickerControl.offsetHeight+10)*-1;this._toggleDirection==="down"&&(x=30),b.top="".concat(x,"px"),b.left="-".concat(S,"px")}}]),z}();Pe().mixin(Hu);var Jn=Hu,jp=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,Wu=function(){function z(M){var b,C,S,x,R,j,V,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$(this,z),this._value=W.value||0,this.rangeElement=M.slider,this.rangeInputElement=M.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=W.min||0,this._max=W.max||100,this._useDecimal=W.useDecimal,this._absMax=this._min*-1+this._max,this.realTimeEvent=W.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:ee()(b=this._startChangingSlide).call(b,this),stopChangingSlide:ee()(C=this._stopChangingSlide).call(C,this),changeSlide:ee()(S=this._changeSlide).call(S,this),changeSlideFinally:ee()(x=this._changeSlideFinally).call(x,this),changeInput:ee()(R=this._changeInput).call(R,this),changeInputFinally:ee()(j=this._changeValueWithInput).call(j,this,!0),changeInputWithArrow:ee()(V=this._changeValueWithInputKeyEvent).call(V,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=W.value,this.trigger("change")}return le(z,[{key:"destroy",value:function(){var b=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",ce()(this,function(C,S){b[S]=null})}},{key:"max",get:function(){return this._max},set:function(b){this._max=b,this._absMax=this._min*-1+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(b){this._min=b,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(b){b=this._useDecimal?b:Jt(b);var C=b-this._min,S=C*this.rangeWidth/this._absMax;this.rangeWidth<S&&(S=this.rangeWidth),this.pointer.style.left="".concat(S,"px"),this.subbar.style.right="".concat(this.rangeWidth-S,"px"),this._value=b,this.rangeInputElement&&(this.rangeInputElement.value=b)}},{key:"trigger",value:function(b){this.fire(b,this._value)}},{key:"_getRangeWidth",value:function(){var b=function(S){return Jt(window.getComputedStyle(S,null).width)};return b(this.rangeElement)-b(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(b){var C,S=b.keyCode,x=b.target;if(!(d()(C=[mn.ARROW_UP,mn.ARROW_DOWN]).call(C,S)<0)){var R=Number(x.value);R=this._valueUpDownForKeyEvent(R,S);var j=R<this._min||R>this._max;if(!j){var V=kt(R,this._min,this.max);this.value=V,this.fire("change",V,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(b,C){var S=this._useDecimal?.1:1;return C===mn.ARROW_UP?b+=S:C===mn.ARROW_DOWN&&(b-=S),b}},{key:"_changeInput",value:function(b){var C=this;clearTimeout(this._userInputTimer);var S=b.keyCode;if(S<mn.DIGIT_0||S>mn.DIGIT_9){b.preventDefault();return}this._userInputTimer=h()(function(){C._inputSetValue(b.target.value)},350)}},{key:"_inputSetValue",value:function(b){var C=this._useDecimal?Number(b):Jt(b);C=kt(C,this._min,this.max),this.value=C,this.fire("change",C,!0)}},{key:"_changeValueWithInput",value:function(b,C){var S,x=C.keyCode,R=C.target;if(!(d()(S=[mn.ARROW_UP,mn.ARROW_DOWN]).call(S,x)>=0)){var j=this._filterForInputText(R.value),V=!j||isNaN(j);R.value=j,V||this._inputSetValue(j)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(b){var C=b.screenX,S=C-this.firstPosition,x=this.firstLeft+S;x=x>this.rangeWidth?this.rangeWidth:x,x=x<0?0:x,this.pointer.style.left="".concat(x,"px"),this.subbar.style.right="".concat(this.rangeWidth-x,"px");var R=x/this.rangeWidth,j=this._absMax*R+this._min,V=this._useDecimal?j:Jt(j),W=this.value!==V;W&&(this.value=V,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(b){if(b.stopPropagation(),b.target.className==="tui-image-editor-range"){var C=b.offsetX,S=C/this.rangeWidth,x=this._absMax*S+this._min;this.pointer.style.left="".concat(S*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-S)*this.rangeWidth,"px"),this.value=x,this.fire("change",x,!0)}}},{key:"_startChangingSlide",value:function(b){this.firstPosition=b.screenX,this.firstLeft=Jt(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(b){return b.replace(jp,"$1$2$3")}}]),z}();Pe().mixin(Wu);var yi=Wu,Oh=function(){function z(M,b){var C=b.locale,S=b.name,x=b.makeSvgIcon,R=b.menuBarPosition,j=b.templateHtml,V=b.usageStatistics;$(this,z),this.subMenuElement=M,this.menuBarPosition=R,this.toggleDirection=R==="top"?"down":"up",this.colorPickerControls=[],this.usageStatistics=V,this.eventHandler={},this._makeSubMenuElement({locale:C,name:S,makeSvgIcon:x,templateHtml:j})}return le(z,[{key:"selector",value:function(b){return this.subMenuElement.querySelector(b)}},{key:"colorPickerChangeShow",value:function(b){var C;ht()(C=this.colorPickerControls).call(C,function(S){b!==S&&S.hide()})}},{key:"getButtonType",value:function(b,C){return b.className.match(RegExp("(".concat(C.join("|"),")")))[0]}},{key:"changeClass",value:function(b,C,S){b.classList.remove(C),b.classList.add(S)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(b){var C=b.locale,S=b.name,x=b.iconStyle,R=b.makeSvgIcon,j=b.templateHtml,V=document.createElement("div");V.className="tui-image-editor-menu-".concat(S),V.innerHTML=j({locale:C,iconStyle:x,makeSvgIcon:R}),this.subMenuElement.appendChild(V)}},{key:"_onStartEditingInputBox",value:function(){this.fire($e.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire($e.INPUT_BOX_EDITING_STOPPED)}}]),z}();Pe().mixin(Oh);var ai=Oh,Fp=function(z){var M,b,C,S,x,R,j,V,W=z.locale,Q=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=K()(V=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-shape-button">
            <div class="tui-image-editor-button rect">
                <div>
                    `.concat(Q(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(V,W.localize("Rectangle"),` </label>
            </div>
            <div class="tui-image-editor-button circle">
                <div>
                    `)).call(j,Q(["normal","active"],"shape-circle",!0),`
                </div>
                <label> `)).call(R,W.localize("Circle"),` </label>
            </div>
            <div class="tui-image-editor-button triangle">
                <div>
                    `)).call(x,Q(["normal","active"],"shape-triangle",!0),`
                </div>
                <label> `)).call(S,W.localize("Triangle"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-shape-color-button">
            <div class="tie-color-fill" title="`)).call(C,W.localize("Fill"),`"></div>
            <div class="tie-color-stroke" title="`)).call(b,W.localize("Stroke"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(M,W.localize("Stroke"),`</label>
            <div class="tie-stroke-range"></div>
            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function zp(z){var M=Vu();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function Vu(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var Gu={stroke:"#ffbb3b",fill:"",strokeWidth:3},Bp=function(z){nn(b,z);var M=zp(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"shape",makeSvgIcon:j,menuBarPosition:V,templateHtml:Fp,usageStatistics:W}),x.type=null,x.options=Gu,x._els={shapeSelectButton:x.selector(".tie-shape-button"),shapeColorButton:x.selector(".tie-shape-color-button"),strokeRange:new yi({slider:x.selector(".tie-stroke-range"),input:x.selector(".tie-stroke-range-value")},Ss),fillColorpicker:new Jn(x.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:x.toggleDirection,usageStatistics:x.usageStatistics}),strokeColorpicker:new Jn(x.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:x.toggleDirection,usageStatistics:x.usageStatistics})},x.colorPickerControls.push(x._els.fillColorpicker),x.colorPickerControls.push(x._els.strokeColorpicker),x.colorPickerInputBoxes=[],x.colorPickerInputBoxes.push(x._els.fillColorpicker.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX)),x.colorPickerInputBoxes.push(x._els.strokeColorpicker.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX)),x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j,V,W,Q,oe=this;this.eventHandler.shapeTypeSelected=ee()(x=this._changeShapeHandler).call(x,this),this.actions=S,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",ee()(R=this._changeStrokeRangeHandler).call(R,this)),this._els.fillColorpicker.on("change",ee()(j=this._changeFillColorHandler).call(j,this)),this._els.strokeColorpicker.on("change",ee()(V=this._changeStrokeColorHandler).call(V,this)),this._els.fillColorpicker.on("changeShow",ee()(W=this.colorPickerChangeShow).call(W,this)),this._els.strokeColorpicker.on("changeShow",ee()(Q=this.colorPickerChangeShow).call(Q,this)),Go()(this.colorPickerInputBoxes,function(Ie){var Me,Ne;Ie.addEventListener($e.FOCUS,ee()(Me=oe._onStartEditingInputBox).call(Me,oe)),Ie.addEventListener($e.BLUR,ee()(Ne=oe._onStopEditingInputBox).call(Ne,oe))},this)}},{key:"_removeEvent",value:function(){var S=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),Go()(this.colorPickerInputBoxes,function(x){var R,j;x.removeEventListener($e.FOCUS,ee()(R=S._onStartEditingInputBox).call(R,S)),x.removeEventListener($e.BLUR,ee()(j=S._onStopEditingInputBox).call(j,S))},this)}},{key:"setShapeStatus",value:function(S){var x=S.strokeWidth,R=S.strokeColor,j=S.fillColor;this._els.strokeRange.value=x,this._els.strokeColorpicker.color=R,this._els.fillColorpicker.color=j,this.options.stroke=R,this.options.fill=j,this.options.strokeWidth=x,this.actions.setDrawingShape(this.type,{strokeWidth:x})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(S){var x=S;x<=0&&(x=Ss.max),this._els.strokeRange.max=x}},{key:"setStrokeValue",value:function(S){this._els.strokeRange.value=S,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(S){var x=S.target.closest(".tui-image-editor-button");if(x){this.actions.stopDrawingMode(),this.actions.discardSelection();var R=this.getButtonType(x,["circle","triangle","rect"]);if(this.type===R){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=R,S.currentTarget.classList.add(R),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(S,x){this.options.strokeWidth=Jt(S),this.actions.changeShape({strokeWidth:S},!x),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(S){S=S||"transparent",this.options.fill=S,this.actions.changeShape({fill:S})}},{key:"_changeStrokeColorHandler",value:function(S){S=S||"transparent",this.options.stroke=S,this.actions.changeShape({stroke:S})}}]),b}(ai),Up=Bp,Hp=function(z){var M,b,C,S,x,R,j,V,W,Q,oe,Ie,Me,Ne,De,Le,et,Dt=z.locale,Pt=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=K()(V=K()(W=K()(Q=K()(oe=K()(Ie=K()(Me=K()(Ne=K()(De=K()(Le=K()(et=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-crop-preset-button">
            <div class="tui-image-editor-button preset preset-none active">
                <div>
                    `.concat(Pt(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(et,Dt.localize("Custom"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-square">
                <div>
                    `)).call(Le,Pt(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(De,Dt.localize("Square"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-3-2">
                <div>
                    `)).call(Ne,Pt(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(Me,Dt.localize("3:2"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-4-3">
                <div>
                    `)).call(Ie,Pt(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(oe,Dt.localize("4:3"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-5-4">
                <div>
                    `)).call(Q,Pt(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(W,Dt.localize("5:4"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-7-5">
                <div>
                    `)).call(V,Pt(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(j,Dt.localize("7:5"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-16-9">
                <div>
                    `)).call(R,Pt(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(x,Dt.localize("16:9"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline">
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-crop-button action">
            <div class="tui-image-editor-button apply">
                `)).call(S,Pt(["normal","active"],"apply"),`
                <label>
                    `)).call(C,Dt.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(b,Pt(["normal","active"],"cancel"),`
                <label>
                    `)).call(M,Dt.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function kh(z){var M=Wp();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function Wp(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var U=function(z){nn(b,z);var M=kh(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"crop",makeSvgIcon:j,menuBarPosition:V,templateHtml:Hp,usageStatistics:W}),x.status="active",x._els={apply:x.selector(".tie-crop-button .apply"),cancel:x.selector(".tie-crop-button .cancel"),preset:x.selector(".tie-crop-preset-button")},x.defaultPresetButton=x._els.preset.querySelector(".preset-none"),x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j,V=ee()(x=this._applyEventHandler).call(x,this),W=ee()(R=this._cancelEventHandler).call(R,this),Q=ee()(j=this._cropzonePresetEventHandler).call(j,this);this.eventHandler={apply:V,cancel:W,cropzonePreset:Q},this.actions=S,this._els.apply.addEventListener("click",V),this._els.cancel.addEventListener("click",W),this._els.preset.addEventListener("click",Q)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(S){var x=S.target.closest(".tui-image-editor-button.preset");if(x){var R=x.className.match(/preset-[^\s]+/),j=Ce(R,1),V=j[0];this._setPresetButtonActive(x),this.actions.preset(V)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(S){S?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.defaultPresetButton;ce()(this._els.preset.querySelectorAll(".preset"),function(x){x.classList.remove("active")}),S&&S.classList.add("active")}}]),b}(ai),Y=U,se=function(z){var M,b,C,S,x,R,j=z.locale,V=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-range-wrap tui-image-editor-newline">
                <label class="range">`.concat(j.localize("Width"),`&nbsp;</label>
                <div class="tie-width-range"></div>
                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
                <div class="tui-image-editor-partition tui-image-editor-newline"></div>
                <label class="range">`)).call(R,j.localize("Height"),`</label>
                <div class="tie-height-range"></div>
                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-lock-aspect-ratio">
                        <span>`)).call(x,j.localize("Lock Aspect Ratio"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tie-resize-button action">
            <div class="tui-image-editor-button apply">
                `)).call(S,V(["normal","active"],"apply"),`
                <label>
                    `)).call(C,j.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(b,V(["normal","active"],"cancel"),`
                <label>
                    `)).call(M,j.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function me(z){var M=Ue();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function Ue(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var Fe=function(z){nn(b,z);var M=me(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"resize",makeSvgIcon:j,menuBarPosition:V,templateHtml:se,usageStatistics:W}),x.status="active",x._lockState=!1,x._originalDimensions=null,x._els={widthRange:new yi({slider:x.selector(".tie-width-range"),input:x.selector(".tie-width-range-value")},Xr),heightRange:new yi({slider:x.selector(".tie-height-range"),input:x.selector(".tie-height-range-value")},Xr),lockAspectRatio:x.selector(".tie-lock-aspect-ratio"),apply:x.selector(".tie-resize-button .apply"),cancel:x.selector(".tie-resize-button .cancel")},x}return le(b,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var S=this.actions.getCurrentDimensions();this._originalDimensions=S,this.setWidthValue(S.width),this.setHeightValue(S.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(S){this._els.widthRange.min=this.calcMinValue(S.minWidth),this._els.heightRange.min=this.calcMinValue(S.minHeight),this._els.widthRange.max=this.calcMaxValue(S.maxWidth),this._els.heightRange.max=this.calcMaxValue(S.maxHeight)}},{key:"calcMaxValue",value:function(S){return S<=0&&(S=Xr.max),S}},{key:"calcMinValue",value:function(S){return S<=0&&(S=Xr.min),S}},{key:"setWidthValue",value:function(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.widthRange.value=S,x&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.heightRange.value=S,x&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j,V,W;this._els.widthRange.on("change",ee()(x=this._changeWidthRangeHandler).call(x,this)),this._els.heightRange.on("change",ee()(R=this._changeHeightRangeHandler).call(R,this)),this._els.lockAspectRatio.addEventListener("change",ee()(j=this._changeLockAspectRatio).call(j,this));var Q=ee()(V=this._applyEventHandler).call(V,this),oe=ee()(W=this._cancelEventHandler).call(W,this);this.eventHandler={apply:Q,cancel:oe},this.actions=S,this._els.apply.addEventListener("click",Q),this._els.cancel.addEventListener("click",oe)}},{key:"_changeWidthRangeHandler",value:function(S){this.actions.preview("width",Jt(S),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(S){this.actions.preview("height",Jt(S),this._lockState)}},{key:"_changeLockAspectRatio",value:function(S){this._lockState=S.target.checked,this.actions.lockAspectRatio(this._lockState,Xr.min,Xr.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(S){S?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),b}(ai),qe=Fe,ct=function(z){var M,b,C,S,x,R=z.locale,j=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=`
    <ul class="tie-flip-button tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button flipX">
                <div>
                    `.concat(j(["normal","active"],"flip-x",!0),`
                </div>
                <label>
                    `)).call(x,R.localize("Flip X"),`
                </label>
            </div>
            <div class="tui-image-editor-button flipY">
                <div>
                    `)).call(S,j(["normal","active"],"flip-y",!0),`
                </div>
                <label>
                    `)).call(C,R.localize("Flip Y"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tui-image-editor-button resetFlip">
                <div>
                    `)).call(b,j(["normal","active"],"flip-reset",!0),`
                </div>
                <label>
                    `)).call(M,R.localize("Reset"),`
                </label>
            </div>
        </li>
    </ul>
`)};function Bt(z){var M=Kt();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function Kt(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var $t=function(z){nn(b,z);var M=Bt(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"flip",makeSvgIcon:j,menuBarPosition:V,templateHtml:ct,usageStatistics:W}),x.flipStatus=!1,x._els={flipButton:x.selector(".tie-flip-button")},x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),Qn(this)}},{key:"addEvent",value:function(S){var x;this.eventHandler.changeFlip=ee()(x=this._changeFlip).call(x,this),this._actions=S,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(S){var x=this,R=S.target.closest(".tui-image-editor-button");if(R){var j=this.getButtonType(R,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&j==="resetFlip")return;this._actions.flip(j).then(function(V){var W=x._els.flipButton.classList;x.flipStatus=!1,W.remove("resetFlip"),ce()(["flipX","flipY"],function(Q){W.remove(Q),V[Q]&&(W.add(Q),W.add("resetFlip"),x.flipStatus=!0)})})}}}]),b}(ai),On=$t,li=function(z){var M,b,C=z.locale,S=z.makeSvgIcon;return K()(M=K()(b=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-rotate-button">
            <div class="tui-image-editor-button clockwise">
                <div>
                    `.concat(S(["normal","active"],"rotate-clockwise",!0),`
                </div>
                <label> 30 </label>
            </div>
            <div class="tui-image-editor-button counterclockwise">
                <div>
                    `)).call(b,S(["normal","active"],"rotate-counterclockwise",!0),`
                </div>
                <label> -30 </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(M,C.localize("Range"),`</label>
            <div class="tie-rotate-range"></div>
            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function ji(z){var M=Fi();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function Fi(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var $u=30,Vp=-30,Ah=function(z){nn(b,z);var M=ji(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"rotate",makeSvgIcon:j,menuBarPosition:V,templateHtml:li,usageStatistics:W}),x._value=0,x._els={rotateButton:x.selector(".tie-rotate-button"),rotateRange:new yi({slider:x.selector(".tie-rotate-range"),input:x.selector(".tie-rotate-range-value")},qs)},x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Qn(this)}},{key:"setRangeBarAngle",value:function(S,x){var R=x;S==="rotate"&&(R=Re()(this._els.rotateRange.value,10)+x),this._setRangeBarRatio(R)}},{key:"_setRangeBarRatio",value:function(S){this._els.rotateRange.value=S}},{key:"addEvent",value:function(S){var x,R;this.eventHandler.rotationAngleChanged=ee()(x=this._changeRotateForButton).call(x,this),this.actions=S,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",ee()(R=this._changeRotateForRange).call(R,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(S,x){var R=Jt(S);this.actions.setAngle(R,!x),this._value=R}},{key:"_changeRotateForButton",value:function(S){var x=S.target.closest(".tui-image-editor-button"),R=this._els.rotateRange.value;if(x){var j=this.getButtonType(x,["counterclockwise","clockwise"]),V={clockwise:$u,counterclockwise:Vp}[j],W=Re()(R,10)+V,Q=W>=-360&&W<=360;Q&&this.actions.rotate(V)}}}]),b}(ai),l4=Ah,u4=function(z){var M,b,C,S,x,R,j,V,W,Q,oe,Ie,Me,Ne=z.locale,De=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=K()(V=K()(W=K()(Q=K()(oe=K()(Ie=K()(Me=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-text-effect-button">
            <div class="tui-image-editor-button bold">
                <div>
                    `.concat(De(["normal","active"],"text-bold",!0),`
                </div>
                <label> `)).call(Me,Ne.localize("Bold"),` </label>
            </div>
            <div class="tui-image-editor-button italic">
                <div>
                    `)).call(Ie,De(["normal","active"],"text-italic",!0),`
                </div>
                <label> `)).call(oe,Ne.localize("Italic"),` </label>
            </div>
            <div class="tui-image-editor-button underline">
                <div>
                    `)).call(Q,De(["normal","active"],"text-underline",!0),`
                </div>
                <label> `)).call(W,Ne.localize("Underline"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-text-align-button">
            <div class="tui-image-editor-button left">
                <div>
                    `)).call(V,De(["normal","active"],"text-align-left",!0),`
                </div>
                <label> `)).call(j,Ne.localize("Left"),` </label>
            </div>
            <div class="tui-image-editor-button center">
                <div>
                    `)).call(R,De(["normal","active"],"text-align-center",!0),`
                </div>
                <label> `)).call(x,Ne.localize("Center"),` </label>
            </div>
            <div class="tui-image-editor-button right">
                <div>
                    `)).call(S,De(["normal","active"],"text-align-right",!0),`
                </div>
                <label> `)).call(C,Ne.localize("Right"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-text-color" title="`)).call(b,Ne.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(M,Ne.localize("Text size"),`</label>
            <div class="tie-text-range"></div>
            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function c4(z){var M=h4();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function h4(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var f4=function(z){nn(b,z);var M=c4(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"text",makeSvgIcon:j,menuBarPosition:V,templateHtml:u4,usageStatistics:W}),x.effect={bold:!1,italic:!1,underline:!1},x.align="tie-text-align-left",x._els={textEffectButton:x.selector(".tie-text-effect-button"),textAlignButton:x.selector(".tie-text-align-button"),textColorpicker:new Jn(x.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:x.toggleDirection,usageStatistics:x.usageStatistics}),textRange:new yi({slider:x.selector(".tie-text-range"),input:x.selector(".tie-text-range-value")},Bo)},x.colorPickerInputBox=x._els.textColorpicker.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX),x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j,V,W,Q,oe=ee()(x=this._setTextEffectHandler).call(x,this),Ie=ee()(R=this._setTextAlignHandler).call(R,this);this.eventHandler={setTextEffect:oe,setTextAlign:Ie},this.actions=S,this._els.textEffectButton.addEventListener("click",oe),this._els.textAlignButton.addEventListener("click",Ie),this._els.textRange.on("change",ee()(j=this._changeTextRnageHandler).call(j,this)),this._els.textColorpicker.on("change",ee()(V=this._changeColorHandler).call(V,this)),this.colorPickerInputBox.addEventListener($e.FOCUS,ee()(W=this._onStartEditingInputBox).call(W,this)),this.colorPickerInputBox.addEventListener($e.BLUR,ee()(Q=this._onStopEditingInputBox).call(Q,this))}},{key:"_removeEvent",value:function(){var S,x,R=this.eventHandler,j=R.setTextEffect,V=R.setTextAlign;this._els.textEffectButton.removeEventListener("click",j),this._els.textAlignButton.removeEventListener("click",V),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener($e.FOCUS,ee()(S=this._onStartEditingInputBox).call(S,this)),this.colorPickerInputBox.removeEventListener($e.BLUR,ee()(x=this._onStopEditingInputBox).call(x,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(S){this._els.textColorpicker.color=S}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(S){this._els.textRange.value=S}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=Be()(S),R=S.fontSize,j=S.fontStyle,V=S.fontWeight,W=S.textDecoration,Q=S.textAlign;this.textColor=x,this.fontSize=R,this.setEffectState("italic",j),this.setEffectState("bold",V),this.setEffectState("underline",W),this.setAlignState("tie-text-align-".concat(Q))}},{key:"setEffectState",value:function(S,x){var R=x==="italic"||x==="bold"||x==="underline",j=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(S));this.effect[S]=R,j.classList[R?"add":"remove"]("active")}},{key:"setAlignState",value:function(S){var x=this._els.textAlignButton;x.classList.remove(this.align),x.classList.add(S),this.align=S}},{key:"_setTextEffectHandler",value:function(S){var x=S.target.closest(".tui-image-editor-button");if(x){var R=x.className.match(/(bold|italic|underline)/),j=Ce(R,1),V=j[0],W={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[V];this.effect[V]=!this.effect[V],x.classList.toggle("active"),this.actions.changeTextStyle(W)}}},{key:"_setTextAlignHandler",value:function(S){var x=S.target.closest(".tui-image-editor-button");if(x){var R=this.getButtonType(x,["left","center","right"]),j="tie-text-align-".concat(R);S.currentTarget.classList.remove(this.align),this.align!==j&&S.currentTarget.classList.add(j),this.actions.changeTextStyle({textAlign:R}),this.align=j}}},{key:"_changeTextRnageHandler",value:function(S,x){this.actions.changeTextStyle({fontSize:S},!x)}},{key:"_changeColorHandler",value:function(S){S=S||"transparent",this.actions.changeTextStyle({fill:S})}}]),b}(ai),d4=f4,p4=function(z){var M,b,C,S=z.locale,x=z.makeSvgIcon;return K()(M=K()(b=K()(C=`
    <ul class="tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button">
                <div>
                    <input type="file" accept="image/*" class="tie-mask-image-file">
                    `.concat(x(["normal","active"],"mask-load",!0),`
                </div>
                <label> `)).call(C,S.localize("Load Mask Image"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">
            <div class="tui-image-editor-button apply">
                `)).call(b,x(["normal","active"],"apply"),`
                <label>
                    `)).call(M,S.localize("Apply"),`
                </label>
            </div>
        </li>
    </ul>
`)};function g4(z){var M=m4();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function m4(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var v4=function(z){nn(b,z);var M=g4(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"mask",makeSvgIcon:j,menuBarPosition:V,templateHtml:p4,usageStatistics:W}),x._els={applyButton:x.selector(".tie-mask-apply"),maskImageButton:x.selector(".tie-mask-image-file")},x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j=ee()(x=this._loadMaskFile).call(x,this),V=ee()(R=this._applyMask).call(R,this);this.eventHandler={loadMaskFile:j,applyMask:V},this.actions=S,this._els.maskImageButton.addEventListener("change",j),this._els.applyButton.addEventListener("click",V)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(S){var x;Rn()||alert("This browser does not support file-api");var R=Ce(S.target.files,1),j=R[0];j&&(x=J().createObjectURL(j),this.actions.loadImageFromURL(x,j),this._els.applyButton.classList.add("active"))}}]),b}(ai),y4=v4,w4=function(z){var M,b,C,S,x,R,j,V,W,Q,oe,Ie,Me,Ne,De,Le,et,Dt,Pt,Ft,dt=z.locale,vn=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=K()(V=K()(W=K()(Q=K()(oe=K()(Ie=K()(Me=K()(Ne=K()(De=K()(Le=K()(et=K()(Dt=K()(Pt=K()(Ft=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" data-icontype="icon-arrow">
                <div>
                    `.concat(vn(["normal","active"],"icon-arrow",!0),`
                </div>
                <label>
                    `)).call(Ft,dt.localize("Arrow"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">
                <div>
                    `)).call(Pt,vn(["normal","active"],"icon-arrow-2",!0),`
                </div>
                <label>
                    `)).call(Dt,dt.localize("Arrow-2"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">
                <div>
                    `)).call(et,vn(["normal","active"],"icon-arrow-3",!0),`
                </div>
                <label>
                    `)).call(Le,dt.localize("Arrow-3"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star">
                <div>
                    `)).call(De,vn(["normal","active"],"icon-star",!0),`
                </div>
                <label>
                    `)).call(Ne,dt.localize("Star-1"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star-2">
                <div>
                    `)).call(Me,vn(["normal","active"],"icon-star-2",!0),`
                </div>
                <label>
                    `)).call(Ie,dt.localize("Star-2"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-polygon">
                <div>
                    `)).call(oe,vn(["normal","active"],"icon-polygon",!0),`
                </div>
                <label>
                    `)).call(Q,dt.localize("Polygon"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-location">
                <div>
                    `)).call(W,vn(["normal","active"],"icon-location",!0),`
                </div>
                <label>
                    `)).call(V,dt.localize("Location"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-heart">
                <div>
                    `)).call(j,vn(["normal","active"],"icon-heart",!0),`
                </div>
                <label>
                    `)).call(R,dt.localize("Heart"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-bubble">
                <div>
                    `)).call(x,vn(["normal","active"],"icon-bubble",!0),`
                </div>
                <label>
                    `)).call(S,dt.localize("Bubble"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" style="margin:0">
                <div>
                    <input type="file" accept="image/*" class="tie-icon-image-file">
                    `)).call(C,vn(["normal","active"],"icon-load",!0),`
                </div>
                <label>
                    `)).call(b,dt.localize("Custom icon"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-icon-color" title="`)).call(M,dt.localize("Color"),`"></div>
        </li>
    </ul>
`)};function S4(z){var M=b4();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function b4(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var _4=function(z){nn(b,z);var M=S4(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"icon",makeSvgIcon:j,menuBarPosition:V,templateHtml:w4,usageStatistics:W}),x.iconType=null,x._iconMap={},x._els={registerIconButton:x.selector(".tie-icon-image-file"),addIconButton:x.selector(".tie-icon-add-button"),iconColorpicker:new Jn(x.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:x.toggleDirection,usageStatistics:x.usageStatistics})},x.colorPickerInputBox=x._els.iconColorpicker.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX),x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j,V,W,Q=ee()(x=this._registerIconHandler).call(x,this),oe=ee()(R=this._addIconHandler).call(R,this);this.eventHandler={registerIcon:Q,addIcon:oe},this.actions=S,this._els.iconColorpicker.on("change",ee()(j=this._changeColorHandler).call(j,this)),this._els.registerIconButton.addEventListener("change",Q),this._els.addIconButton.addEventListener("click",oe),this.colorPickerInputBox.addEventListener($e.FOCUS,ee()(V=this._onStartEditingInputBox).call(V,this)),this.colorPickerInputBox.addEventListener($e.BLUR,ee()(W=this._onStopEditingInputBox).call(W,this))}},{key:"_removeEvent",value:function(){var S,x;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener($e.FOCUS,ee()(S=this._onStartEditingInputBox).call(S,this)),this.colorPickerInputBox.removeEventListener($e.BLUR,ee()(x=this._onStopEditingInputBox).call(x,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var S=this;ce()(zo,function(x,R){S.actions.registerDefaultIcons(R,x)})}},{key:"setIconPickerColor",value:function(S){this._els.iconColorpicker.color=S}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(S){S=S||"transparent",this.actions.changeColor(S)}},{key:"_addIconHandler",value:function(S){var x=S.target.closest(".tui-image-editor-button");if(x){var R=x.getAttribute("data-icontype"),j=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(R),this.iconType===R?this.changeStandbyMode():(this.actions.addIcon(R,j),this.iconType=R)}}},{key:"_registerIconHandler",value:function(S){var x;Rn||alert("This browser does not support file-api");var R=Ce(S.target.files,1),j=R[0];j&&(x=J().createObjectURL(j),this.actions.registerCustomIcon(x,j))}}]),b}(ai),C4=_4,x4=function(z){var M,b,C,S,x,R=z.locale,j=z.makeSvgIcon;return K()(M=K()(b=K()(C=K()(S=K()(x=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-draw-line-select-button">
            <div class="tui-image-editor-button free">
                <div>
                    `.concat(j(["normal","active"],"draw-free",!0),`
                </div>
                <label>
                    `)).call(x,R.localize("Free"),`
                </label>
            </div>
            <div class="tui-image-editor-button line">
                <div>
                    `)).call(S,j(["normal","active"],"draw-line",!0),`
                </div>
                <label>
                    `)).call(C,R.localize("Straight"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-draw-color" title="`)).call(b,R.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(M,R.localize("Range"),`</label>
            <div class="tie-draw-range"></div>
            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function I4(z){var M=E4();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function E4(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var T4=.7,M4=function(z){nn(b,z);var M=I4(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon,V=S.menuBarPosition,W=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"draw",makeSvgIcon:j,menuBarPosition:V,templateHtml:x4,usageStatistics:W}),x._els={lineSelectButton:x.selector(".tie-draw-line-select-button"),drawColorPicker:new Jn(x.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:x.toggleDirection,usageStatistics:x.usageStatistics}),drawRange:new yi({slider:x.selector(".tie-draw-range"),input:x.selector(".tie-draw-range-value")},Ji)},x.type=null,x.color=x._els.drawColorPicker.color,x.width=x._els.drawRange.value,x.colorPickerInputBox=x._els.drawColorPicker.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX),x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Qn(this)}},{key:"addEvent",value:function(S){var x,R,j,V,W;this.eventHandler.changeDrawType=ee()(x=this._changeDrawType).call(x,this),this.actions=S,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",ee()(R=this._changeDrawColor).call(R,this)),this._els.drawRange.on("change",ee()(j=this._changeDrawRange).call(j,this)),this.colorPickerInputBox.addEventListener($e.FOCUS,ee()(V=this._onStartEditingInputBox).call(V,this)),this.colorPickerInputBox.addEventListener($e.BLUR,ee()(W=this._onStopEditingInputBox).call(W,this))}},{key:"_removeEvent",value:function(){var S,x;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener($e.FOCUS,ee()(S=this._onStartEditingInputBox).call(S,this)),this.colorPickerInputBox.removeEventListener($e.BLUR,ee()(x=this._onStopEditingInputBox).call(x,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:it(this.color,T4)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(S){var x=S.target.closest(".tui-image-editor-button");if(x){var R=this.getButtonType(x,["free","line"]);if(this.actions.discardSelection(),this.type===R){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=R,this._els.lineSelectButton.classList.add(R),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(S){this.color=S||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(S){this.width=S,this.type?this.setDrawMode():this.changeStartMode()}}]),b}(ai),O4=M4,k4=o(9886),Tx=o.n(k4),A4=function(z){var M,b,C,S,x,R,j,V,W,Q,oe,Ie,Me,Ne,De,Le,et=z.locale;return K()(M=K()(b=K()(C=K()(S=K()(x=K()(R=K()(j=K()(V=K()(W=K()(Q=K()(oe=K()(Ie=K()(Me=K()(Ne=K()(De=K()(Le=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap fixed-width">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-grayscale">
                        <span>`.concat(et.localize("Grayscale"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-invert">
                        <span>`)).call(Le,et.localize("Invert"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sepia">
                        <span>`)).call(De,et.localize("Sepia"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-vintage">
                        <span>`)).call(Ne,et.localize("Sepia2"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blur">
                        <span>`)).call(Me,et.localize("Blur"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sharpen">
                        <span>`)).call(Ie,et.localize("Sharpen"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-emboss">
                        <span>`)).call(oe,et.localize("Emboss"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">
                <div class="tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-remove-white">
                            <span>`)).call(Q,et.localize("Remove White"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(W,et.localize("Distance"),`</label>
                    <div class="tie-removewhite-distance-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-brightness">
                        <span>`)).call(V,et.localize("Brightness"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-brightness-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-noise">
                        <span>`)).call(j,et.localize("Noise"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-noise-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-pixelate">
                        <span>`)).call(R,et.localize("Pixelate"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-pixelate-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-color-filter">
                            <span>`)).call(x,et.localize("Color Filter"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(S,et.localize("Threshold"),`</label>
                    <div class="tie-colorfilter-threshold-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="filter-color-item">
                <div class="tie-filter-tint-color" title="`)).call(C,et.localize("Tint"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-tint">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-multiply-color" title="`)).call(b,et.localize("Multiply"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-multiply">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-blend-color" title="`)).call(M,et.localize("Blend"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blend">
                        <span></span>
                    </label>
                </div>
            </div>
        </li>
    </ul>
`)};function D4(z){var M=P4();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function P4(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var Mx="130px",N4=["add","diff","subtract","multiply","screen","lighten","darken"],Ox=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],R4={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},kx=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Ax=["filterBlendColor","filterMultiplyColor","filterTintColor"],L4=function(z){nn(b,z);var M=D4(b);function b(C,S){var x,R=S.locale,j=S.menuBarPosition,V=S.usageStatistics;return $(this,b),x=M.call(this,C,{locale:R,name:"filter",menuBarPosition:j,templateHtml:A4,usageStatistics:V}),x.selectBoxShow=!1,x.checkedMap={},x._makeControlElement(),x}return le(b,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Qn(this)}},{key:"_removeEvent",value:function(){var S=this,x;ce()(Ox,function(R){var j=S.selector(".tie-".concat(R)),V=wn(R);j.removeEventListener("change",S.eventHandler[V])}),ce()(K()(x=[]).call(x,kx,Ax),function(R){S._els[R].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),Go()(this.colorPickerInputBoxes,function(R){var j,V;R.removeEventListener($e.FOCUS,ee()(j=S._onStartEditingInputBox).call(j,S)),R.removeEventListener($e.BLUR,ee()(V=S._onStopEditingInputBox).call(V,S))},this)}},{key:"_destroyToolInstance",value:function(){var S,x=this;ce()(K()(S=[]).call(S,kx,Ax),function(R){x._els[R].destroy()})}},{key:"addEvent",value:function(S){var x=this,R,j,V,W=S.applyFilter,Q=function(Me){var Ne;return ee()(Ne=x._changeFilterState).call(Ne,x,W,Me)},oe=function(Me){return function(Ne,De){return x._changeFilterState(W,Me,De)}};this.eventHandler={changeBlendFilter:Q("blend"),blandTypeClick:function(Me){return Me.stopPropagation()}},ce()(Ox,function(Ie){var Me=x.selector(".tie-".concat(Ie)),Ne=wn(Ie);x.checkedMap[Ne]=Me,x.eventHandler[Ne]=Q(Ne),Me.addEventListener("change",x.eventHandler[Ne])}),this._els.removewhiteDistanceRange.on("change",oe("removeWhite")),this._els.colorfilterThresholdRange.on("change",oe("colorFilter")),this._els.pixelateRange.on("change",oe("pixelate")),this._els.noiseRange.on("change",oe("noise")),this._els.brightnessRange.on("change",oe("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",Q("multiply")),this._els.filterTintColor.on("change",Q("tint")),this._els.tintOpacity.on("change",oe("tint")),this._els.filterMultiplyColor.on("changeShow",ee()(R=this.colorPickerChangeShow).call(R,this)),this._els.filterTintColor.on("changeShow",ee()(j=this.colorPickerChangeShow).call(j,this)),this._els.filterBlendColor.on("changeShow",ee()(V=this.colorPickerChangeShow).call(V,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),Go()(this.colorPickerInputBoxes,function(Ie){var Me,Ne;Ie.addEventListener($e.FOCUS,ee()(Me=x._onStartEditingInputBox).call(Me,x)),Ie.addEventListener($e.BLUR,ee()(Ne=x._onStopEditingInputBox).call(Ne,x))},this)}},{key:"setFilterState",value:function(S){var x=S.type,R=S.options,j=S.action,V=this._getFilterNameFromOptions(x,R),W=j==="remove";W||this._setFilterState(V,R),this.checkedMap[V].checked=!W}},{key:"initFilterCheckBoxState",value:function(){ce()(this.checkedMap,function(S){S.checked=!1},this)}},{key:"_setFilterState",value:function(S,x){S==="colorFilter"?this._els.colorfilterThresholdRange.value=x.distance:S==="removeWhite"?this._els.removewhiteDistanceRange.value=x.distance:S==="pixelate"?this._els.pixelateRange.value=x.blocksize:S==="brightness"?this._els.brightnessRange.value=x.brightness:S==="noise"?this._els.noiseRange.value=x.noise:S==="tint"?(this._els.tintOpacity.value=x.alpha,this._els.filterTintColor.color=x.color):S==="blend"?this._els.filterBlendColor.color=x.color:S==="multiply"&&(this._els.filterMultiplyColor.color=x.color)}},{key:"_getFilterNameFromOptions",value:function(S,x){var R=S;return S==="removeColor"?R=Tx()(x.useAlpha)?"removeWhite":"colorFilter":S==="blendColor"&&(R={add:"blend",multiply:"multiply",tint:"tint"}[x.mode]),R}},{key:"_changeFilterState",value:function(S,x){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,j=this.checkedMap[x].checked,V=R4[x],W=this.checkedMap[x].closest(".tui-image-editor-checkbox-group");W&&(j?W.classList.remove("tui-image-editor-disabled"):W.classList.add("tui-image-editor-disabled")),S(j,V,this._getFilterOption(x),!R)}},{key:"_getFilterOption",value:function(S){var x={};switch(S){case"removeWhite":x.color="#FFFFFF",x.useAlpha=!1,x.distance=Li()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":x.color="#FFFFFF",x.distance=Li()(this._els.colorfilterThresholdRange.value);break;case"pixelate":x.blocksize=Jt(this._els.pixelateRange.value);break;case"noise":x.noise=Jt(this._els.noiseRange.value);break;case"brightness":x.brightness=Li()(this._els.brightnessRange.value);break;case"blend":x.mode="add",x.color=this._els.filterBlendColor.color,x.mode=this._els.blendType.value;break;case"multiply":x.mode="multiply",x.color=this._els.filterMultiplyColor.color;break;case"tint":x.mode="tint",x.color=this._els.filterTintColor.color,x.alpha=this._els.tintOpacity.value;break;case"blur":x.blur=this._els.blurRange.value;break}return x}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new yi({slider:this.selector(".tie-removewhite-distance-range")},Dr.removewhiteDistanceRange),brightnessRange:new yi({slider:this.selector(".tie-brightness-range")},Dr.brightnessRange),noiseRange:new yi({slider:this.selector(".tie-noise-range")},Dr.noiseRange),pixelateRange:new yi({slider:this.selector(".tie-pixelate-range")},Dr.pixelateRange),colorfilterThresholdRange:new yi({slider:this.selector(".tie-colorfilter-threshold-range")},Dr.colorfilterThresholdRange),filterTintColor:new Jn(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Jn(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Jn(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:Dr.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(ln.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(S){var x=document.createElement("div"),R=document.createElement("label"),j=document.createElement("div");return j.id="tie-filter-tint-opacity",R.innerHTML="Opacity",x.appendChild(R),x.appendChild(j),S.appendChild(x),S.style.height=Mx,new yi({slider:j},Dr.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(S){var x=document.createElement("div"),R=document.createElement("select"),j=document.createElement("ul");return x.className="tui-image-editor-selectlist-wrap",j.className="tui-image-editor-selectlist",x.appendChild(R),x.appendChild(j),this._makeSelectOptionList(R),S.appendChild(x),S.style.height=Mx,this._drawSelectOptionList(R,j),this._pickerWithSelectboxForAddEvent(R,j),R}},{key:"_drawSelectOptionList",value:function(S,x){var R=S.querySelectorAll("option");ce()(R,function(j){var V=document.createElement("li");V.innerHTML=j.innerHTML,V.setAttribute("data-item",j.value),x.appendChild(V)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(S,x){var R=this;x.addEventListener("click",function(j){var V=j.target.getAttribute("data-item"),W=document.createEvent("HTMLEvents");S.querySelector('[value="'.concat(V,'"]')).selected=!0,W.initEvent("change",!0,!0),S.dispatchEvent(W),R.selectBoxShow=!1,x.style.display="none"}),S.addEventListener("mousedown",function(j){j.preventDefault(),R.selectBoxShow=!R.selectBoxShow,x.style.display=R.selectBoxShow?"block":"none",x.setAttribute("data-selectitem",S.value),x.querySelector("[data-item='".concat(S.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(S){ce()(N4,function(x){var R=document.createElement("option");R.setAttribute("value",x),R.innerHTML=x.replace(/^[a-z]/,function(j){return j.toUpperCase()}),S.appendChild(R)})}}]),b}(ai),j4=L4,F4=o(4383),z4=o.n(F4),B4=function(){function z(M,b){var C=b.name;$(this,z),this.name=C,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),M.appendChild(this.panelElement)}return le(z,[{key:"_makePanelElement",value:function(){var b=document.createElement("div");return b.className="tie-panel-".concat(this.name),b}},{key:"_makeListElement",value:function(){var b=document.createElement("ol");return b.className="".concat(this.name,"-list"),b}},{key:"makeListItemElement",value:function(b){var C=document.createElement("li");return C.innerHTML=b,C.className="".concat(this.name,"-item"),C.setAttribute("data-index",this.items.length),C}},{key:"pushListItemElement",value:function(b){this.listElement.appendChild(b),this.listElement.scrollTop+=b.offsetHeight,this.items.push(b)}},{key:"deleteListItemElement",value:function(b,C){for(var S=this.items,x=b;x<C;x+=1)this.listElement.removeChild(S[x]);I()(S).call(S,b,C-b+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(b,C){this.items[b]&&this.items[b].classList.add(C)}},{key:"removeClass",value:function(b,C){this.items[b]&&this.items[b].classList.remove(C)}},{key:"toggleClass",value:function(b,C){this.items[b]&&this.items[b].classList.toggle(C)}}]),z}(),U4=B4,H4=function(z){var M,b,C,S=z.locale,x=z.makeSvgIcon,R=z.name,j=z.detail;return K()(M=K()(b=K()(C=`
    <div class="tui-image-editor-history-item history">
        <div class="history-item-icon">
            `.concat(x(["normal","active"],"history-".concat(R.toLowerCase()),!0),`
        </div>
        <span>
            `)).call(C,S.localize(R),`
            `)).call(b,j?"(".concat(S.localize(j),")"):"",`
        </span>
        <div class="history-item-checkbox">
            `)).call(M,x(["normal"],"history-check",!0),`
        </div>
    </div>
`)};function W4(z){var M=V4();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function V4(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var G4="history-item",Dx="selected-item",Px="disabled-item",$4=function(z){nn(b,z);var M=W4(b);function b(C,S){var x,R=S.locale,j=S.makeSvgIcon;return $(this,b),x=M.call(this,C,{name:"history"}),C.classList.add("enabled"),x.locale=R,x.makeSvgIcon=j,x._eventHandler={},x._historyIndex=x.getListLength(),x}return le(b,[{key:"add",value:function(S){var x=S.name,R=S.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var j=H4({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:x,detail:R}),V=this.makeListItemElement(j);this.pushListItemElement(V),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var S=this;this._eventHandler.history=function(x){return S._clickHistoryItem(x)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(S){var x=S.target,R=x.closest(".".concat(G4));if(R){var j=z4()(R.getAttribute("data-index"),10);if(j!==this._historyIndex){var V=Math.abs(j-this._historyIndex);j<this._historyIndex?this._actions.undo(V):this._actions.redo(V)}}}},{key:"_selectItem",value:function(S){for(var x=0;x<this.getListLength();x+=1)this.removeClass(x,Dx),this.removeClass(x,Px),x>S&&this.addClass(x,Px);this.addClass(S,Dx)}},{key:"destroy",value:function(){this.removeEvent(),Qn(this)}},{key:"addEvent",value:function(S){this._actions=S,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),b}(U4),Y4=$4,X4=function(){function z(M){$(this,z),this._locale=M}return le(z,[{key:"localize",value:function(b){return this._locale[b]||b}}]),z}(),K4=X4,Z4={Shape:Up,Crop:Y,Resize:qe,Flip:On,Rotate:l4,Text:d4,Mask:y4,Icon:C4,Draw:O4,Filter:j4},Q4="1300",Nx="history",J4="tie-panel-history",Dh="on",Ph={ZOOM_IN:"zoomIn",HAND:"hand"},Rx=function(){function z(M,b,C){$(this,z),this.options=this._initializeOption(b),this._actions=C,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new K4(this.options.locale),this.theme=new Dp(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(M),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return le(z,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Qn(this)}},{key:"setUiDefaultSelectionStyle",value:function(b){return q()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},b)}},{key:"resizeEditor",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=b.uiSize,S=b.imageSize,x=S===void 0?this.imageSize:S;x!==this.imageSize&&(this.imageSize=x),C&&this._setUiSize(C);var R=this._getCanvasMaxDimension(),j=R.width,V=R.height,W=this._editorElement.style,Q=this.options.menuBarPosition;W.height="".concat(V,"px"),W.width="".concat(j,"px"),this._setEditorPosition(Q),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var oe=this._selectedElement.classList;Q==="top"&&this._selectedElement.offsetWidth<Q4?oe.add("tui-image-editor-top-optimization"):oe.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(b){var C=this._buttonElements[b].classList;C.toggle(Dh),b===Ph.ZOOM_IN?this._buttonElements[Ph.HAND].classList.remove(Dh):this._buttonElements[Ph.ZOOM_IN].classList.remove(Dh)}},{key:"offZoomInButtonStatus",value:function(){var b=this._buttonElements[Ph.ZOOM_IN].classList;b.remove(Dh)}},{key:"changeHandButtonStatus",value:function(b){var C=this._buttonElements[Ph.HAND].classList;C[b?"add":"remove"](Dh)}},{key:"changeHelpButtonEnabled",value:function(b,C){var S=this._buttonElements[b].classList;S[C?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(b){return q()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},b)}},{key:"_setUiSize",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.uiSize,C=this._selectedElement.style;C.width=b.width,C.height=b.height}},{key:"_makeSubMenu",value:function(){var b=this;ce()(this.options.menu,function(C){var S,x=Z4[C.replace(/^[a-z]/,function(R){return R.toUpperCase()})];b._makeMenuElement(C),b._buttonElements[C]=b._menuBarElement.querySelector(".tie-btn-".concat(C)),b[C]=new x(b._subMenuElement,{locale:b._locale,makeSvgIcon:ee()(S=b.theme.makeMenSvgIconSet).call(S,b.theme),menuBarPosition:b.options.menuBarPosition,usageStatistics:b.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var b,C,S;this.on($e.EXECUTE_COMMAND,ee()(b=this._addHistory).call(b,this)),this.on($e.AFTER_UNDO,ee()(C=this._selectPrevHistory).call(C,this)),this.on($e.AFTER_REDO,ee()(S=this._selectNextHistory).call(S,this))}},{key:"_attachZoomEvent",value:function(){var b=this;this.on($e.HAND_STARTED,function(){b.offZoomInButtonStatus(),b.changeHandButtonStatus(!0)}),this.on($e.HAND_STOPPED,function(){return b.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(b){var C,S;b.nodeType?S=b:S=document.querySelector(b);var x=qi(S);S.classList.add("tui-image-editor-container"),S.innerHTML=Vo({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+pl({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=S,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=x(".tui-image-editor-main"),this._editorElementWrap=x(".tui-image-editor-wrap"),this._editorElement=x(".tui-image-editor"),this._helpMenuBarElement=x(".tui-image-editor-help-menu"),this._menuBarElement=x(".tui-image-editor-menu"),this._subMenuElement=x(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new Y4(this._buttonElements[Nx],{locale:this._locale,makeSvgIcon:ee()(C=this.theme.makeMenSvgIconSet).call(C,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var b=this;ce()(xt,function(C){b.changeHelpButtonEnabled(C,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var b;return K()(b=[]).call(b,F(xt),[""],F(Ht),[""],F(Sn))}},{key:"_addHelpMenus",value:function(){var b=this,C=this._makeHelpMenuWithPartition();ce()(C,function(S){S?(b._makeMenuElement(S,["normal","disabled","hover"],"help"),b._buttonElements[S]=b._helpMenuBarElement.querySelector(".tie-btn-".concat(S))):b._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var b=document.createElement("li"),C=document.createElement("div");b.className=B("item"),C.className=B("icpartition"),b.appendChild(C),this._helpMenuBarElement.appendChild(b)}},{key:"_makeMenuElement",value:function(b){var C,S,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["normal","active","hover"],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal",j=document.createElement("li"),V=this.theme.makeMenSvgIconSet(x,b);this._addTooltipAttribute(j,b),j.className=K()(C=K()(S="tie-btn-".concat(b," ")).call(S,B("item")," ")).call(C,R),j.innerHTML=V,R==="normal"?this._menuBarElement.appendChild(j):this._helpMenuBarElement.appendChild(j)}},{key:"_addHelpActionEvent",value:function(){var b=this;ce()(He,function(C){b.eventHandler[C]=function(S){return b._actions.main[C](S)},b._buttonElements[C].addEventListener("click",b.eventHandler[C])})}},{key:"_removeHelpActionEvent",value:function(){var b=this;ce()(He,function(C){b._buttonElements[C].removeEventListener("click",b.eventHandler[C])})}},{key:"_addHistory",value:function(b){if(!Pi(b)){var C=typeof b=="string"?{name:b}:Ni(b);this._historyMenu.add(C)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(b){var C=b.target,S=C.closest(".".concat(J4));if(!S){var x=this._buttonElements[Nx].classList;x.toggle("opened")}}},{key:"_addTooltipAttribute",value:function(b,C){b.setAttribute("tooltip-content",this._locale.localize(C.replace(/^[a-z]/g,function(S){return S.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var b=this;this.eventHandler.download=function(){return b._actions.main.download()},ce()(this._buttonElements.download,function(C){C.addEventListener("click",b.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var b=this;ce()(this._buttonElements.download,function(C){C.removeEventListener("click",b.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var b=this;this.eventHandler.loadImage=function(C){return b._actions.main.load(C.target.files[0])},ce()(this._buttonElements.load,function(C){C.addEventListener("change",b.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var b=this;ce()(this._buttonElements.load,function(C){C.removeEventListener("change",b.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(b){var C=this;this.eventHandler[b]=function(){return C.changeMenu(b)},this._buttonElements[b].addEventListener("click",this.eventHandler[b])}},{key:"_addSubMenuEvent",value:function(b){var C=this;this[b].addEvent(this._actions[b]),this[b].on($e.INPUT_BOX_EDITING_STARTED,function(){return C.fire($e.INPUT_BOX_EDITING_STARTED)}),this[b].on($e.INPUT_BOX_EDITING_STOPPED,function(){return C.fire($e.INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var b=this;ce()(this.options.menu,function(C){b._addMainMenuEvent(C),b._addSubMenuEvent(C)})}},{key:"_removeMainMenuEvent",value:function(){var b=this;ce()(this.options.menu,function(C){b._buttonElements[C].removeEventListener("click",b.eventHandler[C]),b[C].off($e.INPUT_BOX_EDITING_STARTED),b[C].off($e.INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var b=this;ce()(this.options.menu,function(C){b[C].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var b=this,C=this._getLoadImage();C.path&&this._actions.main.initLoadImage(C.path,C.name).then(function(){b.activeMenuEvent()}),this._addLoadEvent();var S=document.createElement("div");S.className=B("grid-visual");var x=`<table>
           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>
           <tr><td></td><td></td><td></td></tr>
           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>
         </table>`;S.innerHTML=x,this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(S)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(b,C,S),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(b,C,S){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),S&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===b&&C?this.submenu=null:(this._buttonElements[b].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(b)),this.submenu=b,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(b)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var b=this._editorContainerElement.style,C=b.maxWidth,S=b.maxHeight,x=Li()(C),R=Li()(S);return{width:x,height:R}}},{key:"_setEditorPosition",value:function(b){var C=this._getCanvasMaxDimension(),S=C.width,x=C.height,R=this._editorElement.style,j=0,V=0;this.submenu&&(b==="bottom"?x>this._editorElementWrap.scrollHeight-150?j=(x-this._editorElementWrap.scrollHeight)/2:j=150/2*-1:b==="top"?x>this._editorElementWrap.offsetHeight-150?j=150/2-(x-(this._editorElementWrap.offsetHeight-150))/2:j=150/2:b==="left"?S>this._editorElementWrap.offsetWidth-248?V=248/2-(S-(this._editorElementWrap.offsetWidth-248))/2:V=248/2:b==="right"&&(S>this._editorElementWrap.scrollWidth-248?V=(S-this._editorElementWrap.scrollWidth)/2:V=248/2*-1)),R.top="".concat(j,"px"),R.left="".concat(V,"px")}}]),z}();Pe().mixin(Rx);var q4=Rx,eF=o(381),Yu=o.n(eF),Lx=function(){function z(){$(this,z),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return le(z,[{key:"imageToSVG",value:function(b,C,S){var x=this;S=this.checkoptions(S),this.loadImage(b,function(R){C(x.imagedataToSVG(x.getImgdata(R),S))},S)}},{key:"imagedataToSVG",value:function(b,C){C=this.checkoptions(C);var S=this.imagedataToTracedata(b,C);return this.getsvgstring(S,C)}},{key:"imageToTracedata",value:function(b,C,S){var x=this;S=this.checkoptions(S),this.loadImage(b,function(R){C(x.imagedataToTracedata(x.getImgdata(R),S))},S)}},{key:"imagedataToTracedata",value:function(b,C){C=this.checkoptions(C);var S=this.colorquantization(b,C),x;if(C.layering===0){x={layers:[],palette:S.palette,width:S.array[0].length-2,height:S.array.length-2};for(var R=0;R<S.palette.length;R+=1){var j=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(S,R),C.pathomit),C),C.ltres,C.qtres);x.layers.push(j)}}else{var V=this.layering(S);C.layercontainerid&&this.drawLayers(V,this.specpalette,C.scale,C.layercontainerid);var W=this.batchpathscan(V,C.pathomit),Q=this.batchinternodes(W,C);x={layers:this.batchtracelayers(Q,C.ltres,C.qtres),palette:S.palette,width:b.width,height:b.height}}return x}},{key:"checkoptions",value:function(b){b=b||{},typeof b=="string"&&(b=b.toLowerCase(),this.optionpresets[b]?b=this.optionpresets[b]:b={});for(var C=Te()(this.optionpresets.default),S=0;S<C.length;S+=1)b.hasOwnProperty(C[S])||(b[C[S]]=this.optionpresets.default[C[S]]);return b}},{key:"colorquantization",value:function(b,C){var S=[],x=0,R,j,V,W=[],Q=b.width*b.height,oe,Ie,Me,Ne,De;for(Ie=0;Ie<b.height+2;Ie+=1)for(S[Ie]=[],oe=0;oe<b.width+2;oe+=1)S[Ie][oe]=-1;for(C.pal?De=C.pal:C.colorsampling===0?De=this.generatepalette(C.numberofcolors):C.colorsampling===1?De=this.samplepalette(C.numberofcolors,b):De=this.samplepalette2(C.numberofcolors,b),C.blurradius>0&&(b=this.blur(b,C.blurradius,C.blurdelta)),Ne=0;Ne<C.colorquantcycles;Ne+=1){if(Ne>0)for(Me=0;Me<De.length;Me+=1)W[Me].n>0&&(De[Me]={r:Math.floor(W[Me].r/W[Me].n),g:Math.floor(W[Me].g/W[Me].n),b:Math.floor(W[Me].b/W[Me].n),a:Math.floor(W[Me].a/W[Me].n)}),W[Me].n/Q<C.mincolorratio&&Ne<C.colorquantcycles-1&&(De[Me]={r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)});for(oe=0;oe<De.length;oe+=1)W[oe]={r:0,g:0,b:0,a:0,n:0};for(Ie=0;Ie<b.height;Ie+=1)for(oe=0;oe<b.width;oe+=1){for(x=(Ie*b.width+oe)*4,V=0,j=1024,Me=0;Me<De.length;Me+=1)R=Math.abs(De[Me].r-b.data[x])+Math.abs(De[Me].g-b.data[x+1])+Math.abs(De[Me].b-b.data[x+2])+Math.abs(De[Me].a-b.data[x+3]),R<j&&(j=R,V=Me);W[V].r+=b.data[x],W[V].g+=b.data[x+1],W[V].b+=b.data[x+2],W[V].a+=b.data[x+3],W[V].n+=1,S[Ie+1][oe+1]=V}}return{array:S,palette:De}}},{key:"samplepalette",value:function(b,C){for(var S,x=[],R=0;R<b;R+=1)S=Math.floor(Math.random()*C.data.length/4)*4,x.push({r:C.data[S],g:C.data[S+1],b:C.data[S+2],a:C.data[S+3]});return x}},{key:"samplepalette2",value:function(b,C){for(var S,x=[],R=Math.ceil(Math.sqrt(b)),j=Math.ceil(b/R),V=C.width/(R+1),W=C.height/(j+1),Q=0;Q<j;Q+=1)for(var oe=0;oe<R&&x.length!==b;oe+=1)S=Math.floor((Q+1)*W*C.width+(oe+1)*V)*4,x.push({r:C.data[S],g:C.data[S+1],b:C.data[S+2],a:C.data[S+3]});return x}},{key:"generatepalette",value:function(b){var C=[],S,x,R;if(b<8)for(var j=Math.floor(255/(b-1)),V=0;V<b;V+=1)C.push({r:V*j,g:V*j,b:V*j,a:255});else{var W=Math.floor(Math.pow(b,.3333333333333333)),Q=Math.floor(255/(W-1)),oe=b-W*W*W;for(S=0;S<W;S+=1)for(x=0;x<W;x+=1)for(R=0;R<W;R+=1)C.push({r:S*Q,g:x*Q,b:R*Q,a:255});for(S=0;S<oe;S+=1)C.push({r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)})}return C}},{key:"layering",value:function(b){var C=[],S=0,x=b.array.length,R=b.array[0].length,j,V,W,Q,oe,Ie,Me,Ne,De,Le,et;for(et=0;et<b.palette.length;et+=1)for(C[et]=[],Le=0;Le<x;Le+=1)for(C[et][Le]=[],De=0;De<R;De+=1)C[et][Le][De]=0;for(Le=1;Le<x-1;Le+=1)for(De=1;De<R-1;De+=1)S=b.array[Le][De],j=b.array[Le-1][De-1]===S?1:0,V=b.array[Le-1][De]===S?1:0,W=b.array[Le-1][De+1]===S?1:0,Q=b.array[Le][De-1]===S?1:0,oe=b.array[Le][De+1]===S?1:0,Ie=b.array[Le+1][De-1]===S?1:0,Me=b.array[Le+1][De]===S?1:0,Ne=b.array[Le+1][De+1]===S?1:0,C[S][Le+1][De+1]=1+oe*2+Ne*4+Me*8,Q||(C[S][Le+1][De]=0+2+Me*4+Ie*8),V||(C[S][Le][De+1]=0+W*2+oe*4+8),j||(C[S][Le][De]=0+V*2+4+Q*8);return C}},{key:"layeringstep",value:function(b,C){var S=[],x=b.array.length,R=b.array[0].length,j,V;for(V=0;V<x;V+=1)for(S[V]=[],j=0;j<R;j+=1)S[V][j]=0;for(V=1;V<x;V+=1)for(j=1;j<R;j+=1)S[V][j]=(b.array[V-1][j-1]===C?1:0)+(b.array[V-1][j]===C?2:0)+(b.array[V][j-1]===C?8:0)+(b.array[V][j]===C?4:0);return S}},{key:"pathscan",value:function(b,C){for(var S=[],x=0,R=0,j=0,V=0,W=b[0].length,Q=b.length,oe=0,Ie=!0,Me=!1,Ne,De=0;De<Q;De+=1)for(var Le=0;Le<W;Le+=1)if(b[De][Le]===4||b[De][Le]===11)for(j=Le,V=De,S[x]={},S[x].points=[],S[x].boundingbox=[j,V,j,V],S[x].holechildren=[],Ie=!1,R=0,Me=b[De][Le]===11,oe=1;!Ie;){if(S[x].points[R]={},S[x].points[R].x=j-1,S[x].points[R].y=V-1,S[x].points[R].t=b[V][j],j-1<S[x].boundingbox[0]&&(S[x].boundingbox[0]=j-1),j-1>S[x].boundingbox[2]&&(S[x].boundingbox[2]=j-1),V-1<S[x].boundingbox[1]&&(S[x].boundingbox[1]=V-1),V-1>S[x].boundingbox[3]&&(S[x].boundingbox[3]=V-1),Ne=this.pathscan_combined_lookup[b[V][j]][oe],b[V][j]=Ne[0],oe=Ne[1],j+=Ne[2],V+=Ne[3],j-1===S[x].points[0].x&&V-1===S[x].points[0].y)if(Ie=!0,S[x].points.length<C)S.pop();else{if(S[x].isholepath=!!Me,Me){for(var et=0,Dt=[-1,-1,W+1,Q+1],Pt=0;Pt<x;Pt++)!S[Pt].isholepath&&this.boundingboxincludes(S[Pt].boundingbox,S[x].boundingbox)&&this.boundingboxincludes(Dt,S[Pt].boundingbox)&&(et=Pt,Dt=S[Pt].boundingbox);S[et].holechildren.push(x)}x+=1}R+=1}return S}},{key:"boundingboxincludes",value:function(b,C){return b[0]<C[0]&&b[1]<C[1]&&b[2]>C[2]&&b[3]>C[3]}},{key:"batchpathscan",value:function(b,C){var S=[];for(var x in b)b.hasOwnProperty(x)&&(S[x]=this.pathscan(b[x],C));return S}},{key:"internodes",value:function(b,C){var S=[],x=0,R=0,j=0,V=0,W=0,Q,oe;for(Q=0;Q<b.length;Q+=1)for(S[Q]={},S[Q].points=[],S[Q].boundingbox=b[Q].boundingbox,S[Q].holechildren=b[Q].holechildren,S[Q].isholepath=b[Q].isholepath,x=b[Q].points.length,oe=0;oe<x;oe+=1)R=(oe+1)%x,j=(oe+2)%x,V=(oe-1+x)%x,W=(oe-2+x)%x,C.rightangleenhance&&this.testrightangle(b[Q],W,V,oe,R,j)&&(S[Q].points.length>0&&(S[Q].points[S[Q].points.length-1].linesegment=this.getdirection(S[Q].points[S[Q].points.length-1].x,S[Q].points[S[Q].points.length-1].y,b[Q].points[oe].x,b[Q].points[oe].y)),S[Q].points.push({x:b[Q].points[oe].x,y:b[Q].points[oe].y,linesegment:this.getdirection(b[Q].points[oe].x,b[Q].points[oe].y,(b[Q].points[oe].x+b[Q].points[R].x)/2,(b[Q].points[oe].y+b[Q].points[R].y)/2)})),S[Q].points.push({x:(b[Q].points[oe].x+b[Q].points[R].x)/2,y:(b[Q].points[oe].y+b[Q].points[R].y)/2,linesegment:this.getdirection((b[Q].points[oe].x+b[Q].points[R].x)/2,(b[Q].points[oe].y+b[Q].points[R].y)/2,(b[Q].points[R].x+b[Q].points[j].x)/2,(b[Q].points[R].y+b[Q].points[j].y)/2)});return S}},{key:"testrightangle",value:function(b,C,S,x,R,j){return b.points[x].x===b.points[C].x&&b.points[x].x===b.points[S].x&&b.points[x].y===b.points[R].y&&b.points[x].y===b.points[j].y||b.points[x].y===b.points[C].y&&b.points[x].y===b.points[S].y&&b.points[x].x===b.points[R].x&&b.points[x].x===b.points[j].x}},{key:"getdirection",value:function(b,C,S,x){var R=8;return b<S?C<x?R=1:C>x?R=7:R=0:b>S?C<x?R=3:C>x?R=5:R=4:C<x?R=2:C>x?R=6:R=8,R}},{key:"batchinternodes",value:function(b,C){var S=[];for(var x in b)b.hasOwnProperty(x)&&(S[x]=this.internodes(b[x],C));return S}},{key:"tracepath",value:function(b,C,S){var x=0,R,j,V,W={};for(W.segments=[],W.boundingbox=b.boundingbox,W.holechildren=b.holechildren,W.isholepath=b.isholepath;x<b.points.length;){var Q;for(R=b.points[x].linesegment,j=-1,V=x+1;(b.points[V].linesegment===R||b.points[V].linesegment===j||j===-1)&&V<b.points.length-1;)b.points[V].linesegment!==R&&j===-1&&(j=b.points[V].linesegment),V+=1;V===b.points.length-1&&(V=0),W.segments=K()(Q=W.segments).call(Q,this.fitseq(b,C,S,x,V)),V>0?x=V:x=b.points.length}return W}},{key:"fitseq",value:function(b,C,S,x,R){var j;if(R>b.points.length||R<0)return[];var V=x,W=0,Q=!0,oe,Ie,Me,Ne=R-x;Ne<0&&(Ne+=b.points.length);for(var De=(b.points[R].x-b.points[x].x)/Ne,Le=(b.points[R].y-b.points[x].y)/Ne,et=(x+1)%b.points.length,Dt;et!=R;)Dt=et-x,Dt<0&&(Dt+=b.points.length),oe=b.points[x].x+De*Dt,Ie=b.points[x].y+Le*Dt,Me=(b.points[et].x-oe)*(b.points[et].x-oe)+(b.points[et].y-Ie)*(b.points[et].y-Ie),Me>C&&(Q=!1),Me>W&&(V=et,W=Me),et=(et+1)%b.points.length;if(Q)return[{type:"L",x1:b.points[x].x,y1:b.points[x].y,x2:b.points[R].x,y2:b.points[R].y}];var Pt=V;Q=!0,W=0;var Ft=(Pt-x)/Ne,dt=(1-Ft)*(1-Ft),vn=2*(1-Ft)*Ft,Nr=Ft*Ft,wi=(dt*b.points[x].x+Nr*b.points[R].x-b.points[Pt].x)/-vn,qn=(dt*b.points[x].y+Nr*b.points[R].y-b.points[Pt].y)/-vn;for(et=x+1;et!=R;)Ft=(et-x)/Ne,dt=(1-Ft)*(1-Ft),vn=2*(1-Ft)*Ft,Nr=Ft*Ft,oe=dt*b.points[x].x+vn*wi+Nr*b.points[R].x,Ie=dt*b.points[x].y+vn*qn+Nr*b.points[R].y,Me=(b.points[et].x-oe)*(b.points[et].x-oe)+(b.points[et].y-Ie)*(b.points[et].y-Ie),Me>S&&(Q=!1),Me>W&&(V=et,W=Me),et=(et+1)%b.points.length;if(Q)return[{type:"Q",x1:b.points[x].x,y1:b.points[x].y,x2:wi,y2:qn,x3:b.points[R].x,y3:b.points[R].y}];var yo=Pt;return K()(j=this.fitseq(b,C,S,x,yo)).call(j,this.fitseq(b,C,S,yo,R))}},{key:"batchtracepaths",value:function(b,C,S){var x=[];for(var R in b)b.hasOwnProperty(R)&&x.push(this.tracepath(b[R],C,S));return x}},{key:"batchtracelayers",value:function(b,C,S){var x=[];for(var R in b)b.hasOwnProperty(R)&&(x[R]=this.batchtracepaths(b[R],C,S));return x}},{key:"roundtodec",value:function(b,C){return Number(b.toFixed(C))}},{key:"svgpathstring",value:function(b,C,S,x){var R,j,V=b.layers[C],W=V[S],Q="",oe;if(x.linefilter&&W.segments.length<3)return Q;if(Q=K()(R="<path ".concat(x.desc?K()(j='desc="l '.concat(C," p ")).call(j,S,'" '):"")).call(R,this.tosvgcolorstr(b.palette[C],x),'d="'),x.roundcoords===-1){var Ie;for(Q+=K()(Ie="M ".concat(W.segments[0].x1*x.scale," ")).call(Ie,W.segments[0].y1*x.scale," "),oe=0;oe<W.segments.length;oe++){var Me,Ne;if(Q+=K()(Me=K()(Ne="".concat(W.segments[oe].type," ")).call(Ne,W.segments[oe].x2*x.scale," ")).call(Me,W.segments[oe].y2*x.scale," "),W.segments[oe].hasOwnProperty("x3")){var De;Q+=K()(De="".concat(W.segments[oe].x3*x.scale," ")).call(De,W.segments[oe].y3*x.scale," ")}}Q+="Z "}else{var Le;for(Q+=K()(Le="M ".concat(this.roundtodec(W.segments[0].x1*x.scale,x.roundcoords)," ")).call(Le,this.roundtodec(W.segments[0].y1*x.scale,x.roundcoords)," "),oe=0;oe<W.segments.length;oe++){var et,Dt;if(Q+=K()(et=K()(Dt="".concat(W.segments[oe].type," ")).call(Dt,this.roundtodec(W.segments[oe].x2*x.scale,x.roundcoords)," ")).call(et,this.roundtodec(W.segments[oe].y2*x.scale,x.roundcoords)," "),W.segments[oe].hasOwnProperty("x3")){var Pt;Q+=K()(Pt="".concat(this.roundtodec(W.segments[oe].x3*x.scale,x.roundcoords)," ")).call(Pt,this.roundtodec(W.segments[oe].y3*x.scale,x.roundcoords)," ")}}Q+="Z "}for(var Ft=0;Ft<W.holechildren.length;Ft++){var dt=V[W.holechildren[Ft]];if(x.roundcoords===-1){if(dt.segments[dt.segments.length-1].hasOwnProperty("x3")){var vn;Q+=K()(vn="M ".concat(dt.segments[dt.segments.length-1].x3*x.scale," ")).call(vn,dt.segments[dt.segments.length-1].y3*x.scale," ")}else{var Nr;Q+=K()(Nr="M ".concat(dt.segments[dt.segments.length-1].x2*x.scale," ")).call(Nr,dt.segments[dt.segments.length-1].y2*x.scale," ")}for(oe=dt.segments.length-1;oe>=0;oe--){var wi;if(Q+="".concat(dt.segments[oe].type," "),dt.segments[oe].hasOwnProperty("x3")){var qn;Q+=K()(qn="".concat(dt.segments[oe].x2*x.scale," ")).call(qn,dt.segments[oe].y2*x.scale," ")}Q+=K()(wi="".concat(dt.segments[oe].x1*x.scale," ")).call(wi,dt.segments[oe].y1*x.scale," ")}}else{if(dt.segments[dt.segments.length-1].hasOwnProperty("x3")){var yo;Q+=K()(yo="M ".concat(this.roundtodec(dt.segments[dt.segments.length-1].x3*x.scale)," ")).call(yo,this.roundtodec(dt.segments[dt.segments.length-1].y3*x.scale)," ")}else{var ta;Q+=K()(ta="M ".concat(this.roundtodec(dt.segments[dt.segments.length-1].x2*x.scale)," ")).call(ta,this.roundtodec(dt.segments[dt.segments.length-1].y2*x.scale)," ")}for(oe=dt.segments.length-1;oe>=0;oe--){var Si;if(Q+="".concat(dt.segments[oe].type," "),dt.segments[oe].hasOwnProperty("x3")){var Rh;Q+=K()(Rh="".concat(this.roundtodec(dt.segments[oe].x2*x.scale)," ")).call(Rh,this.roundtodec(dt.segments[oe].y2*x.scale)," ")}Q+=K()(Si="".concat(this.roundtodec(dt.segments[oe].x1*x.scale)," ")).call(Si,this.roundtodec(dt.segments[oe].y1*x.scale)," ")}}Q+="Z "}if(Q+='" />',x.lcpr||x.qcpr){for(oe=0;oe<W.segments.length;oe++){if(W.segments[oe].hasOwnProperty("x3")&&x.qcpr){var Qp,Jp,qp,eg,tg,ng,rg,ig,og,sg,ag,lg,ug,cg;Q+=K()(Qp=K()(Jp=K()(qp='<circle cx="'.concat(W.segments[oe].x2*x.scale,'" cy="')).call(qp,W.segments[oe].y2*x.scale,'" r="')).call(Jp,x.qcpr,'" fill="cyan" stroke-width="')).call(Qp,x.qcpr*.2,'" stroke="black" />'),Q+=K()(eg=K()(tg=K()(ng='<circle cx="'.concat(W.segments[oe].x3*x.scale,'" cy="')).call(ng,W.segments[oe].y3*x.scale,'" r="')).call(tg,x.qcpr,'" fill="white" stroke-width="')).call(eg,x.qcpr*.2,'" stroke="black" />'),Q+=K()(rg=K()(ig=K()(og=K()(sg='<line x1="'.concat(W.segments[oe].x1*x.scale,'" y1="')).call(sg,W.segments[oe].y1*x.scale,'" x2="')).call(og,W.segments[oe].x2*x.scale,'" y2="')).call(ig,W.segments[oe].y2*x.scale,'" stroke-width="')).call(rg,x.qcpr*.2,'" stroke="cyan" />'),Q+=K()(ag=K()(lg=K()(ug=K()(cg='<line x1="'.concat(W.segments[oe].x2*x.scale,'" y1="')).call(cg,W.segments[oe].y2*x.scale,'" x2="')).call(ug,W.segments[oe].x3*x.scale,'" y2="')).call(lg,W.segments[oe].y3*x.scale,'" stroke-width="')).call(ag,x.qcpr*.2,'" stroke="cyan" />')}if(!W.segments[oe].hasOwnProperty("x3")&&x.lcpr){var hg,fg,dg;Q+=K()(hg=K()(fg=K()(dg='<circle cx="'.concat(W.segments[oe].x2*x.scale,'" cy="')).call(dg,W.segments[oe].y2*x.scale,'" r="')).call(fg,x.lcpr,'" fill="white" stroke-width="')).call(hg,x.lcpr*.2,'" stroke="black" />')}}for(var Ft=0;Ft<W.holechildren.length;Ft++){var dt=V[W.holechildren[Ft]];for(oe=0;oe<dt.segments.length;oe++){if(dt.segments[oe].hasOwnProperty("x3")&&x.qcpr){var pg,wo,vl,SI,bI,_I,CI,xI,II,EI,TI,MI,OI,kI;Q+=K()(pg=K()(wo=K()(vl='<circle cx="'.concat(dt.segments[oe].x2*x.scale,'" cy="')).call(vl,dt.segments[oe].y2*x.scale,'" r="')).call(wo,x.qcpr,'" fill="cyan" stroke-width="')).call(pg,x.qcpr*.2,'" stroke="black" />'),Q+=K()(SI=K()(bI=K()(_I='<circle cx="'.concat(dt.segments[oe].x3*x.scale,'" cy="')).call(_I,dt.segments[oe].y3*x.scale,'" r="')).call(bI,x.qcpr,'" fill="white" stroke-width="')).call(SI,x.qcpr*.2,'" stroke="black" />'),Q+=K()(CI=K()(xI=K()(II=K()(EI='<line x1="'.concat(dt.segments[oe].x1*x.scale,'" y1="')).call(EI,dt.segments[oe].y1*x.scale,'" x2="')).call(II,dt.segments[oe].x2*x.scale,'" y2="')).call(xI,dt.segments[oe].y2*x.scale,'" stroke-width="')).call(CI,x.qcpr*.2,'" stroke="cyan" />'),Q+=K()(TI=K()(MI=K()(OI=K()(kI='<line x1="'.concat(dt.segments[oe].x2*x.scale,'" y1="')).call(kI,dt.segments[oe].y2*x.scale,'" x2="')).call(OI,dt.segments[oe].x3*x.scale,'" y2="')).call(MI,dt.segments[oe].y3*x.scale,'" stroke-width="')).call(TI,x.qcpr*.2,'" stroke="cyan" />')}if(!dt.segments[oe].hasOwnProperty("x3")&&x.lcpr){var AI,DI,PI;Q+=K()(AI=K()(DI=K()(PI='<circle cx="'.concat(dt.segments[oe].x2*x.scale,'" cy="')).call(PI,dt.segments[oe].y2*x.scale,'" r="')).call(DI,x.lcpr,'" fill="white" stroke-width="')).call(AI,x.lcpr*.2,'" stroke="black" />')}}}}return Q}},{key:"getsvgstring",value:function(b,C){var S,x,R;C=this.checkoptions(C);for(var j=b.width*C.scale,V=b.height*C.scale,W=K()(S="<svg ".concat(C.viewbox?K()(x='viewBox="0 0 '.concat(j," ")).call(x,V,'" '):K()(R='width="'.concat(j,'" height="')).call(R,V,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(S,this.versionnumber,'" >'),Q=0;Q<b.layers.length;Q+=1)for(var oe=0;oe<b.layers[Q].length;oe+=1)b.layers[Q][oe].isholepath||(W+=this.svgpathstring(b,Q,oe,C));return W+="</svg>",W}},{key:"compareNumbers",value:function(b,C){return b-C}},{key:"torgbastr",value:function(b){var C,S,x;return K()(C=K()(S=K()(x="rgba(".concat(b.r,",")).call(x,b.g,",")).call(S,b.b,",")).call(C,b.a,")")}},{key:"tosvgcolorstr",value:function(b,C){var S,x,R,j,V,W,Q;return K()(S=K()(x=K()(R=K()(j=K()(V=K()(W=K()(Q='fill="rgb('.concat(b.r,",")).call(Q,b.g,",")).call(W,b.b,')" stroke="rgb(')).call(V,b.r,",")).call(j,b.g,",")).call(R,b.b,')" stroke-width="')).call(x,C.strokewidth,'" opacity="')).call(S,b.a/255,'" ')}},{key:"appendSVGString",value:function(b,C){var S;C?(S=document.getElementById(C),S||(S=document.createElement("div"),S.id=C,document.body.appendChild(S))):(S=document.createElement("div"),document.body.appendChild(S)),S.innerHTML+=b}},{key:"blur",value:function(b,C,S){var x,R,j,V,W,Q,oe,Ie,Me,Ne,De={width:b.width,height:b.height,data:[]};if(C=Math.floor(C),C<1)return b;C>5&&(C=5),S=Math.abs(S),S>1024&&(S=1024);var Le=this.gks[C-1];for(R=0;R<b.height;R++)for(x=0;x<b.width;x++){for(Q=0,oe=0,Ie=0,Me=0,Ne=0,j=-C;j<C+1;j++)x+j>0&&x+j<b.width&&(W=(R*b.width+x+j)*4,Q+=b.data[W]*Le[j+C],oe+=b.data[W+1]*Le[j+C],Ie+=b.data[W+2]*Le[j+C],Me+=b.data[W+3]*Le[j+C],Ne+=Le[j+C]);W=(R*b.width+x)*4,De.data[W]=Math.floor(Q/Ne),De.data[W+1]=Math.floor(oe/Ne),De.data[W+2]=Math.floor(Ie/Ne),De.data[W+3]=Math.floor(Me/Ne)}var et=new Uint8ClampedArray(De.data);for(R=0;R<b.height;R++)for(x=0;x<b.width;x++){for(Q=0,oe=0,Ie=0,Me=0,Ne=0,j=-C;j<C+1;j++)R+j>0&&R+j<b.height&&(W=((R+j)*b.width+x)*4,Q+=et[W]*Le[j+C],oe+=et[W+1]*Le[j+C],Ie+=et[W+2]*Le[j+C],Me+=et[W+3]*Le[j+C],Ne+=Le[j+C]);W=(R*b.width+x)*4,De.data[W]=Math.floor(Q/Ne),De.data[W+1]=Math.floor(oe/Ne),De.data[W+2]=Math.floor(Ie/Ne),De.data[W+3]=Math.floor(Me/Ne)}for(R=0;R<b.height;R++)for(x=0;x<b.width;x++)W=(R*b.width+x)*4,V=Math.abs(De.data[W]-b.data[W])+Math.abs(De.data[W+1]-b.data[W+1])+Math.abs(De.data[W+2]-b.data[W+2])+Math.abs(De.data[W+3]-b.data[W+3]),V>S&&(De.data[W]=b.data[W],De.data[W+1]=b.data[W+1],De.data[W+2]=b.data[W+2],De.data[W+3]=b.data[W+3]);return De}},{key:"loadImage",value:function(b,C,S){var x=new Image;S&&S.corsenabled&&(x.crossOrigin="Anonymous"),x.src=b,x.onload=function(){var R=document.createElement("canvas");R.width=x.width,R.height=x.height;var j=R.getContext("2d");j.drawImage(x,0,0),C(R)}}},{key:"getImgdata",value:function(b){var C=b.getContext("2d");return C.getImageData(0,0,b.width,b.height)}},{key:"drawLayers",value:function(b,C,S,x){S=S||1;var R,j,V,W,Q,oe;x?(oe=document.getElementById(x),oe||(oe=document.createElement("div"),oe.id=x,document.body.appendChild(oe))):(oe=document.createElement("div"),document.body.appendChild(oe));for(Q in b)if(b.hasOwnProperty(Q)){R=b[Q][0].length,j=b[Q].length;var Ie=document.createElement("canvas");Ie.width=R*S,Ie.height=j*S;var Me=Ie.getContext("2d");for(W=0;W<j;W+=1)for(V=0;V<R;V+=1)Me.fillStyle=this.torgbastr(C[b[Q][W][V]%C.length]),Me.fillRect(V*S,W*S,S,S);oe.appendChild(Ie)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),z}(),tF={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var M=this,b=function(){M.ui.submenu==="crop"&&(M.stopDrawingMode(),M.ui.changeMenu("crop"))},C=function(Q){M.ui.submenu==="rotate"&&M.ui.rotate.setRangeBarAngle("setAngle",Q)},S=function(Q){M.ui.submenu==="filter"&&Yu()(M.ui).setFilterState(Q)},x=function(Q){return C(Q),S(Q),Q},R=function(){var Q=M._graphics.getZoomMode();M.stopDrawingMode(),Q!==ur.ZOOM?(M.startDrawingMode(en.ZOOM),M._graphics.startZoomInMode()):M._graphics.endZoomInMode()},j=function(){var Q=M._graphics.getZoomMode();M.stopDrawingMode(),Q!==ur.HAND?(M.startDrawingMode(en.ZOOM),M._graphics.startHandMode()):M._graphics.endHandMode()},V=function(){Yu()(M.ui)&&Yu()(M.ui).initFilterCheckBoxState()};return q()({initLoadImage:function(Q,oe){return M.loadImageFromURL(Q,oe).then(function(Ie){b(),M.ui.initializeImgUrl=Q,M.ui.resizeEditor({imageSize:Ie}),M.clearUndoStack(),M._invoker.fire($e.EXECUTE_COMMAND,Zt.LOAD_IMAGE)})},undo:function(){M.isEmptyUndoStack()||(b(),M.deactivateAll(),M.undo().then(x))},redo:function(){M.isEmptyRedoStack()||(b(),M.deactivateAll(),M.redo().then(x))},reset:function(){b(),M.loadImageFromURL(M.ui.initializeImgUrl,"resetImage").then(function(Q){b(),V(),M.ui.resizeEditor({imageSize:Q}),M.clearUndoStack(),M._initHistory()})},delete:function(){M.ui.changeHelpButtonEnabled("delete",!1),b(),M.removeActiveObject(),M.activeObjectId=null},deleteAll:function(){b(),M.clearObjects(),M.ui.changeHelpButtonEnabled("delete",!1),M.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(Q){Rn()||alert("This browser does not support file-api"),M.ui.initializeImgUrl=J().createObjectURL(Q),M.loadImageFromFile(Q).then(function(oe){b(),V(),M.clearUndoStack(),M.ui.activeMenuEvent(),M.ui.resizeEditor({imageSize:oe}),M._clearHistory(),M._invoker.fire($e.EXECUTE_COMMAND,Zt.LOAD_IMAGE)}).catch(function(oe){return _e().reject(oe)})},download:function(){var Q=M.toDataURL(),oe=M.getImageName(),Ie,Me,Ne;Rn()&&window.saveAs?(Ie=_s(Q),Me=Ie.type.split("/")[1],oe.split(".").pop()!==Me&&(oe+=".".concat(Me)),saveAs(Ie,oe)):(Ne=window.open(),Ne.document.body.innerHTML="<img src='".concat(Q,"'>"))},history:function(Q){M.ui.toggleHistoryMenu(Q)},zoomIn:function(){M.ui.toggleZoomButtonStatus("zoomIn"),M.deactivateAll(),R()},zoomOut:function(){M._graphics.zoomOut()},hand:function(){M.ui.offZoomInButtonStatus(),M.ui.toggleZoomButtonStatus("hand"),M.deactivateAll(),j()}},this._commonAction())},_iconAction:function(){var M=this;return q()({changeColor:function(C){M.activeObjectId&&M.changeIconColor(M.activeObjectId,C)},addIcon:function(C,S){M.startDrawingMode("ICON"),M.setDrawingIcon(C,S)},cancelAddIcon:function(){M.ui.icon.clearIconType(),M.changeSelectableAll(!0),M.changeCursor("default"),M.stopDrawingMode()},registerDefaultIcons:function(C,S){var x={};x[C]=S,M.registerIcons(x)},registerCustomIcon:function(C,S){var x=new Lx;x.imageToSVG(C,function(R){var j=R.match(/path[^>]*d="([^"]*)"/),V=Ce(j,2),W=V[1],Q={};Q[S.name]=W,M.registerIcons(Q),M.addIcon(S.name,{left:100,top:100})},Lx.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var M=this;return q()({setDrawMode:function(C,S){M.stopDrawingMode(),C==="free"?M.startDrawingMode("FREE_DRAWING",S):M.startDrawingMode("LINE_DRAWING",S)},setColor:function(C){M.setBrush({color:C})}},this._commonAction())},_maskAction:function(){var M=this;return q()({loadImageFromURL:function(C,S){return M.loadImageFromURL(M.toDataURL(),"FilterImage").then(function(){M.addImageObject(C).then(function(){J().revokeObjectURL(S)}),M._invoker.fire($e.EXECUTE_COMMAND,Zt.LOAD_MASK_IMAGE)})},applyFilter:function(){M.applyFilter("mask",{maskObjId:M.activeObjectId})}},this._commonAction())},_textAction:function(){var M=this;return q()({changeTextStyle:function(C,S){M.activeObjectId&&M.changeTextStyle(M.activeObjectId,C,S)}},this._commonAction())},_rotateAction:function(){var M=this;return q()({rotate:function(C,S){M.rotate(C,S),M.ui.resizeEditor(),M.ui.rotate.setRangeBarAngle("rotate",C)},setAngle:function(C,S){M.setAngle(C,S),M.ui.resizeEditor(),M.ui.rotate.setRangeBarAngle("setAngle",C)}},this._commonAction())},_shapeAction:function(){var M=this;return q()({changeShape:function(C,S){M.activeObjectId&&M.changeShape(M.activeObjectId,C,S)},setDrawingShape:function(C){M.setDrawingShape(C)}},this._commonAction())},_cropAction:function(){var M=this;return q()({crop:function(){var C=M.getCropzoneRect();C&&!mo(C)&&M.crop(C).then(function(){M.stopDrawingMode(),M.ui.resizeEditor(),M.ui.changeMenu("crop"),M._invoker.fire($e.EXECUTE_COMMAND,Zt.CROP)}).catch(function(S){return _e().reject(S)})},cancel:function(){M.stopDrawingMode(),M.ui.changeMenu("crop")},preset:function(C){switch(C){case"preset-square":M.setCropzoneRect(1/1);break;case"preset-3-2":M.setCropzoneRect(3/2);break;case"preset-4-3":M.setCropzoneRect(4/3);break;case"preset-5-4":M.setCropzoneRect(5/4);break;case"preset-7-5":M.setCropzoneRect(7/5);break;case"preset-16-9":M.setCropzoneRect(16/9);break;default:M.setCropzoneRect(),M.ui.crop.changeApplyButtonStatus(!1);break}}},this._commonAction())},_resizeAction:function(){var M=this;return q()({getCurrentDimensions:function(){return M._graphics.getCurrentDimensions()},preview:function(C,S,x){var R=M._graphics.getCurrentDimensions(),j=function(){return R.width/R.height},V={};switch(C){case"width":V.width=S,x?V.height=S/j():V.height=R.height;break;case"height":V.height=S,x?V.width=S*j():V.width=R.width;break;default:V=R}M._graphics.resize(V).then(function(){M.ui.resizeEditor()}),x&&(M.ui.resize.setWidthValue(V.width),M.ui.resize.setHeightValue(V.height))},lockAspectRatio:function(C,S,x){var R=M._graphics.getCurrentDimensions(),j=R.width,V=R.height,W=j/V;if(C)if(j>V){var Q=x/W,oe=S*W;M.ui.resize.setLimit({minWidth:oe>S?oe:S,minHeight:S,maxWidth:x,maxHeight:Q<x?Q:x})}else{var Ie=x*W,Me=S/W;M.ui.resize.setLimit({minWidth:S,minHeight:Me>S?Me:S,maxWidth:Ie<x?Ie:x,maxHeight:x})}else M.ui.resize.setLimit({minWidth:S,minHeight:S,maxWidth:x,maxHeight:x})},resize:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;C||(C=M._graphics.getCurrentDimensions()),M.resize(C).then(function(){M._graphics.setOriginalDimensions(C),M.stopDrawingMode(),M.ui.resizeEditor(),M.ui.changeMenu("resize")}).catch(function(S){return _e().reject(S)})},reset:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=M._graphics.getOriginalDimensions();M.ui.resize.setWidthValue(S.width,!0),M.ui.resize.setHeightValue(S.height,!0),M._graphics.resize(S).then(function(){C||(M.stopDrawingMode(),M.ui.resizeEditor(),M.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var M=this;return q()({flip:function(C){return M[C]()}},this._commonAction())},_filterAction:function(){var M=this;return q()({applyFilter:function(C,S,x,R){C?M.applyFilter(S,x,R):M.hasFilter(S)&&M.removeFilter(S)}},this._commonAction())},setReAction:function(){var M=this;this.on({undoStackChanged:function(C){C?(M.ui.changeHelpButtonEnabled("undo",!0),M.ui.changeHelpButtonEnabled("reset",!0)):(M.ui.changeHelpButtonEnabled("undo",!1),M.ui.changeHelpButtonEnabled("reset",!1)),M.ui.resizeEditor()},redoStackChanged:function(C){C?M.ui.changeHelpButtonEnabled("redo",!0):M.ui.changeHelpButtonEnabled("redo",!1),M.ui.resizeEditor()},objectActivated:function(C){var S,x;M.activeObjectId=C.id,M.ui.changeHelpButtonEnabled("delete",!0),M.ui.changeHelpButtonEnabled("deleteAll",!0),C.type==="cropzone"?M.ui.crop.changeApplyButtonStatus(!0):d()(S=["rect","circle","triangle"]).call(S,C.type)>-1?(M.stopDrawingMode(),M.ui.submenu!=="shape"&&M.ui.changeMenu("shape",!1,!1),M.ui.shape.setShapeStatus({strokeColor:C.stroke,strokeWidth:C.strokeWidth,fillColor:Be()(C)}),M.ui.shape.setMaxStrokeValue(Math.min(C.width,C.height))):C.type==="path"||C.type==="line"?M.ui.submenu!=="draw"&&(M.ui.changeMenu("draw",!1,!1),M.ui.draw.changeStandbyMode()):d()(x=["i-text","text"]).call(x,C.type)>-1?(M.ui.submenu!=="text"&&M.ui.changeMenu("text",!1,!1),M.ui.text.setTextStyleStateOnAction(C)):C.type==="icon"&&(M.stopDrawingMode(),M.ui.submenu!=="icon"&&M.ui.changeMenu("icon",!1,!1),M.ui.icon.setIconPickerColor(Be()(C)))},addText:function(C){var S=M.ui.text,x=S.textColor,R=S.fontSize,j=S.fontStyle,V=S.fontWeight,W=S.underline,Q="Noto Sans";M.addText("Double Click",{position:C.originPosition,styles:{fill:x,fontSize:R,fontFamily:Q,fontStyle:j,fontWeight:V,underline:W}}).then(function(){M.changeCursor("default")})},addObjectAfter:function(C){var S;C.type==="icon"?M.ui.icon.changeStandbyMode():d()(S=["rect","circle","triangle"]).call(S,C.type)>-1&&(M.ui.shape.setMaxStrokeValue(Math.min(C.width,C.height)),M.ui.shape.changeStandbyMode())},objectScaled:function(C){var S,x;if(d()(S=["i-text","text"]).call(S,C.type)>-1)M.ui.text.fontSize=Jt(C.fontSize);else if(d()(x=["rect","circle","triangle"]).call(x,C.type)>=0){var R=C.width,j=C.height,V=M.ui.shape.getStrokeValue();R<V&&M.ui.shape.setStrokeValue(R),j<V&&M.ui.shape.setStrokeValue(j)}},selectionCleared:function(){M.activeObjectId=null,M.ui.submenu==="text"?M.changeCursor("text"):Qe(["draw","crop","resize"],M.ui.submenu)||M.stopDrawingMode()}})},_historyAction:function(){var M=this;return{undo:function(C){return M.undo(C)},redo:function(C){return M.redo(C)}}},_commonAction:function(){var M=this,b,C,S,x,R=en.TEXT,j=en.CROPPER,V=en.SHAPE,W=en.ZOOM,Q=en.RESIZE;return{modeChange:function(Ie){switch(Ie){case gr.TEXT:M._changeActivateMode(R);break;case gr.CROP:M.startDrawingMode(j);break;case gr.SHAPE:M._changeActivateMode(V),M.setDrawingShape(M.ui.shape.type,M.ui.shape.options);break;case gr.ZOOM:M.startDrawingMode(W);break;case gr.RESIZE:M.startDrawingMode(Q);break}},deactivateAll:ee()(b=this.deactivateAll).call(b,this),changeSelectableAll:ee()(C=this.changeSelectableAll).call(C,this),discardSelection:ee()(S=this.discardSelection).call(S,this),stopDrawingMode:ee()(x=this.stopDrawingMode).call(x,this)}},mixin:function(M){q()(M.prototype,this)}},nF=o(602),jx=o.n(nF),rF=o(5573),Gp=o.n(rF),iF=function(){function z(M,b){$(this,z),this.name=M,this.graphics=b}return le(z,[{key:"fire",value:function(){for(var b=this.graphics,C=arguments.length,S=new Array(C),x=0;x<C;x++)S[x]=arguments[x];return this.graphics.fire.apply(b,S)}},{key:"setCanvasImage",value:function(b,C){this.graphics.setCanvasImage(b,C)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(b,C){this.graphics.setImageProperties(b,C)}},{key:"setCanvasCssDimension",value:function(b){this.graphics.setCanvasCssDimension(b)}},{key:"setCanvasBackstoreDimension",value:function(b){this.graphics.setCanvasBackstoreDimension(b)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),z}(),eo=iF;function oF(z){var M=sF();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function sF(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var aF={padding:0,crossOrigin:"Anonymous"},lF=function(z){nn(b,z);var M=oF(b);function b(C){return $(this,b),M.call(this,nt.IMAGE_LOADER,C)}return le(b,[{key:"load",value:function(S,x){var R=this,j;if(!S&&!x){var V=this.getCanvas();V.backgroundImage=null,V.renderAll(),j=new(_e())(function(W){R.setCanvasImage("",null),W()})}else j=this._setBackgroundImage(x).then(function(W){return R.setCanvasImage(S,W),R.adjustCanvasDimension(),W});return j}},{key:"_setBackgroundImage",value:function(S){var x=this;return S?new(_e())(function(R,j){var V=x.getCanvas();V.setBackgroundImage(S,function(){var W=V.backgroundImage;W&&W.getElement()?R(W):j(tn.loadingImageFailed)},aF)}):_e().reject(tn.loadImage)}}]),b}(eo),uF=lF,cF="tl",hF="tr",fF="mt",dF="ml",pF="mr",gF="mb",mF="bl",vF="br",Fx=[cF,hF,fF,dF,pF,gF,mF,vF],S0=function(){};function yF(z){return d()(Fx).call(Fx,z)>=0}function $p(z,M){return z>M?"width":"height"}var wF=he.fabric.util.createClass(he.fabric.Rect,{initialize:function(M,b,C){b=q()(b,C),b.type="cropzone",this.callSuper("initialize",b),this._addEventHandler(),this.canvas=M,this.options=b},canvasEventDelegation:function(M){var b,C="unregistered",S=this.canvasEventTrigger[M]!==S0;return S?C="registered":d()(b=[$e.OBJECT_MOVED,$e.OBJECT_SCALED]).call(b,M)<0&&(C="none"),C},canvasEventRegister:function(M,b){this.canvasEventTrigger[M]=b},_addEventHandler:function(){var M,b,C,S,x;this.canvasEventTrigger=(M={},H(M,$e.OBJECT_MOVED,S0),H(M,$e.OBJECT_SCALED,S0),M),this.on({moving:ee()(b=this._onMoving).call(b,this),scaling:ee()(C=this._onScaling).call(C,this)}),he.fabric.util.addListener(document,"keydown",ee()(S=this._onKeyDown).call(S,this)),he.fabric.util.addListener(document,"keyup",ee()(x=this._onKeyUp).call(x,this))},_renderCropzone:function(M){var b=7,C=7,S=this.flipX?-1:1,x=this.flipY?-1:1,R=S/this.scaleX,j=x/this.scaleY;M.scale(R,j),this._fillOuterRect(M,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(M),this._strokeBorder(M,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(M,"rgb(0, 0, 0)",{lineDashWidth:b}),this._strokeBorder(M,"rgb(255, 255, 255)",{lineDashWidth:b,lineDashOffset:C})),M.scale(1/R,1/j)},_render:function(M){this.callSuper("_render",M),this._renderCropzone(M)},_fillOuterRect:function(M,b){var C=this._getCoordinates(),S=C.x,x=C.y;M.save(),M.fillStyle=b,M.beginPath(),M.moveTo(S[0]-1,x[0]-1),M.lineTo(S[3]+1,x[0]-1),M.lineTo(S[3]+1,x[3]+1),M.lineTo(S[0]-1,x[3]+1),M.lineTo(S[0]-1,x[0]-1),M.closePath(),M.moveTo(S[1],x[1]),M.lineTo(S[1],x[2]),M.lineTo(S[2],x[2]),M.lineTo(S[2],x[1]),M.lineTo(S[1],x[1]),M.closePath(),Be()(M).call(M),M.restore()},_fillInnerRect:function(M){var b=this._getCoordinates(),C=b.x,S=b.y,x=this._caculateInnerPosition(C,(C[2]-C[1])/3),R=this._caculateInnerPosition(S,(S[2]-S[1])/3);M.save(),M.strokeStyle="rgba(255, 255, 255, 0.7)",M.lineWidth=this.options.lineWidth,M.beginPath(),M.moveTo(x[0],R[1]),M.lineTo(x[3],R[1]),M.moveTo(x[0],R[2]),M.lineTo(x[3],R[2]),M.moveTo(x[1],R[0]),M.lineTo(x[1],R[3]),M.moveTo(x[2],R[0]),M.lineTo(x[2],R[3]),M.stroke(),M.closePath(),M.restore()},_caculateInnerPosition:function(M,b){var C=[];return C[0]=M[1],C[1]=M[1]+b,C[2]=M[1]+b*2,C[3]=M[2],C},_getCoordinates:function(){var M,b,C=this.canvas,S=this.width,x=this.height,R=this.left,j=this.top,V=S/2,W=x/2,Q=C.getHeight(),oe=C.getWidth();return{x:br()(M=[-(V+R),-V,V,V+(oe-R-S)]).call(M,Math.ceil),y:br()(b=[-(W+j),-W,W,W+(Q-j-x)]).call(b,Math.ceil)}},_strokeBorder:function(M,b,C){var S=C.lineDashWidth,x=C.lineDashOffset,R=C.lineWidth,j=this.width/2,V=this.height/2;M.save(),M.strokeStyle=b,M.setLineDash&&M.setLineDash([S,S]),x&&(M.lineDashOffset=x),R&&(M.lineWidth=R),M.beginPath(),M.moveTo(-j,-V),M.lineTo(j,-V),M.lineTo(j,V),M.lineTo(-j,V),M.lineTo(-j,-V),M.stroke(),M.restore()},_onMoving:function(){var M=this.height,b=this.width,C=this.left,S=this.top,x=this.canvas.getWidth()-b,R=this.canvas.getHeight()-M;this.left=kt(C,0,x),this.top=kt(S,0,R),this.canvasEventTrigger[$e.OBJECT_MOVED](this)},_onScaling:function(M){var b=M.transform.corner,C=this.canvas.getPointer(M.e),S=this._calcScalingSizeFromPointer(C,b);this.scale(1).set(S),this.canvasEventTrigger[$e.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(M,b){var C=yF(b);return C&&this._resizeCropZone(M,b)},adjustRatioCropzoneSize:function(M){var b=M.width,C=M.height,S=M.leftMaker,x=M.topMaker,R=M.maxWidth,j=M.maxHeight,V=M.scaleTo;if(b=R?kt(b,1,R):b,C=j?kt(C,1,j):C,!this.presetRatio)return this._withShiftKey&&(b>C?C=b:C>b&&(b=C)),{width:b,height:C,left:S(b),top:x(C)};V==="width"?C=b/this.presetRatio:b=C*this.presetRatio;var W=Math.min(R/b,j/C);if(W<=1){var Q,oe=br()(Q=[b,C]).call(Q,function(Me){return Me*W}),Ie=Ce(oe,2);b=Ie[0],C=Ie[1]}return{width:b,height:C,left:S(b),top:x(C)}},_getCropzoneRectInfo:function(){var M=this.canvas,b=M.width,C=M.height,S=this.getBoundingRect(!1,!0),x=S.top,R=S.left,j=S.width,V=S.height;return{rectTop:x,rectLeft:R,rectWidth:j,rectHeight:V,rectRight:R+j,rectBottom:x+V,canvasWidth:b,canvasHeight:C}},_resizeCropZone:function(M,b){var C=M.x,S=M.y,x=this._getCropzoneRectInfo(),R=x.rectWidth,j=x.rectHeight,V=x.rectTop,W=x.rectLeft,Q=x.rectBottom,oe=x.rectRight,Ie=x.canvasWidth,Me=x.canvasHeight,Ne={tl:{width:oe-C,height:Q-S,leftMaker:function(Le){return oe-Le},topMaker:function(Le){return Q-Le},maxWidth:oe,maxHeight:Q,scaleTo:$p(W-C,V-S)},tr:{width:C-W,height:Q-S,leftMaker:function(){return W},topMaker:function(Le){return Q-Le},maxWidth:Ie-W,maxHeight:Q,scaleTo:$p(C-oe,V-S)},mt:{width:R,height:Q-S,leftMaker:function(){return W},topMaker:function(Le){return Q-Le},maxWidth:Ie-W,maxHeight:Q,scaleTo:"height"},ml:{width:oe-C,height:j,leftMaker:function(Le){return oe-Le},topMaker:function(){return V},maxWidth:oe,maxHeight:Me-V,scaleTo:"width"},mr:{width:C-W,height:j,leftMaker:function(){return W},topMaker:function(){return V},maxWidth:Ie-W,maxHeight:Me-V,scaleTo:"width"},mb:{width:R,height:S-V,leftMaker:function(){return W},topMaker:function(){return V},maxWidth:Ie-W,maxHeight:Me-V,scaleTo:"height"},bl:{width:oe-C,height:S-V,leftMaker:function(Le){return oe-Le},topMaker:function(){return V},maxWidth:oe,maxHeight:Me-V,scaleTo:$p(W-C,S-Q)},br:{width:C-W,height:S-V,leftMaker:function(){return W},topMaker:function(){return V},maxWidth:Ie-W,maxHeight:Me-V,scaleTo:$p(C-oe,S-Q)}};return this.adjustRatioCropzoneSize(Ne[b])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(M){var b=M.keyCode;b===mn.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(M){var b=M.keyCode;b===mn.SHIFT&&(this._withShiftKey=!1)}}),SF=wF;function bF(z){var M=_F();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function _F(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var CF=10,xF={presetRatio:null,top:-10,left:-10,height:1,width:1},IF=function(z){nn(b,z);var M=bF(b);function b(C){var S,x,R,j,V,W;return $(this,b),W=M.call(this,nt.CROPPER,C),W._cropzone=null,W._startX=null,W._startY=null,W._withShiftKey=!1,W._listeners={keydown:ee()(S=W._onKeyDown).call(S,qt(W)),keyup:ee()(x=W._onKeyUp).call(x,qt(W)),mousedown:ee()(R=W._onFabricMouseDown).call(R,qt(W)),mousemove:ee()(j=W._onFabricMouseMove).call(j,qt(W)),mouseup:ee()(V=W._onFabricMouseUp).call(V,qt(W))},W}return le(b,[{key:"start",value:function(){if(!this._cropzone){var S=this.getCanvas();S.forEachObject(function(x){x.evented=!1}),this._cropzone=new SF(S,q()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},Mn,this.graphics.cropSelectionStyle)),S.discardActiveObject(),S.add(this._cropzone),S.on("mouse:down",this._listeners.mousedown),S.selection=!1,S.defaultCursor="crosshair",he.fabric.util.addListener(document,"keydown",this._listeners.keydown),he.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var S=this.getCanvas(),x=this._cropzone;x&&(S.remove(x),S.selection=!0,S.defaultCursor="default",S.off("mouse:down",this._listeners.mousedown),S.forEachObject(function(R){R.evented=!0}),this._cropzone=null,he.fabric.util.removeListener(document,"keydown",this._listeners.keydown),he.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(S){this._cropzone&&this._cropzone.set({visible:S})}},{key:"_onFabricMouseDown",value:function(S){var x=this.getCanvas();if(!S.target){x.selection=!1;var R=x.getPointer(S.e);this._startX=R.x,this._startY=R.y,x.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(S){var x=this.getCanvas(),R=x.getPointer(S.e),j=R.x,V=R.y,W=this._cropzone;Math.abs(j-this._startX)+Math.abs(V-this._startY)>CF&&(x.remove(W),W.set(this._calcRectDimensionFromPoint(j,V,W.presetRatio)),x.add(W),x.setActiveObject(W))}},{key:"_calcRectDimensionFromPoint",value:function(S,x){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=this.getCanvas(),V=j.getWidth(),W=j.getHeight(),Q=this._startX,oe=this._startY,Ie=kt(S,0,Q),Me=kt(x,0,oe),Ne=kt(S,Q,V)-Ie,De=kt(x,oe,W)-Me;return this._withShiftKey&&!R?(Ne>De?De=Ne:De>Ne&&(Ne=De),Q>=S&&(Ie=Q-Ne),oe>=x&&(Me=oe-De)):R&&(De=Ne/R,Q>=S&&(Ie=kt(Q-Ne,0,V)),oe>=x&&(Me=kt(oe-De,0,W)),Me+De>W&&(De=W-Me,Ne=De*R,Q>=S&&(Ie=kt(Q-Ne,0,V)),oe>=x&&(Me=kt(oe-De,0,W)))),{left:Ie,top:Me,width:Ne,height:De}}},{key:"_onFabricMouseUp",value:function(){var S=this._cropzone,x=this._listeners,R=this.getCanvas();R.setActiveObject(S),R.off({"mouse:move":x.mousemove,"mouse:up":x.mouseup})}},{key:"getCroppedImageData",value:function(S){var x=this.getCanvas(),R=x.contains(this._cropzone);if(!S)return null;R&&x.remove(this._cropzone);var j={imageName:this.getImageName(),url:x.toDataURL(S)};return R&&x.add(this._cropzone),j}},{key:"getCropzoneRect",value:function(){var S=this._cropzone;return S.isValid()?{left:S.left,top:S.top,width:S.width,height:S.height}:null}},{key:"setCropzoneRect",value:function(S){var x=this.getCanvas(),R=this._cropzone;x.discardActiveObject(),x.selection=!1,x.remove(R),R.set(S?this._getPresetPropertiesForCropSize(S):xF),x.add(R),x.selection=!0,S&&x.setActiveObject(R)}},{key:"_getPresetPropertiesForCropSize",value:function(S){var x,R,j=this.getCanvas(),V=j.getWidth(),W=j.getHeight(),Q=V>=W?V:W,oe=function(dt,vn){return dt>vn?vn/dt:1},Ie=Q*S,Me=Q,Ne=oe(Ie,V),De=br()(x=[Ie,Me]).call(x,function(Ft){return Ft*Ne}),Le=Ce(De,2);Ie=Le[0],Me=Le[1];var et=oe(Me,W),Dt=br()(R=[Ie,Me]).call(R,function(Ft){return Cs(Ft*et)}),Pt=Ce(Dt,2);return Ie=Pt[0],Me=Pt[1],{presetRatio:S,top:(W-Me)/2,left:(V-Ie)/2,width:Ie,height:Me}}},{key:"_onKeyDown",value:function(S){S.keyCode===mn.SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(S){S.keyCode===mn.SHIFT&&(this._withShiftKey=!1)}}]),b}(eo),EF=IF;function TF(z){var M=MF();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function MF(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var OF=function(z){nn(b,z);var M=TF(b);function b(C){return $(this,b),M.call(this,nt.FLIP,C)}return le(b,[{key:"getCurrentSetting",value:function(){var S=this.getCanvasImage();return{flipX:S.flipX,flipY:S.flipY}}},{key:"set",value:function(S){var x=this.getCurrentSetting(),R=x.flipX!==S.flipX,j=x.flipY!==S.flipY;return!R&&!j?_e().reject(tn.flip):(q()(x,S),this.setImageProperties(x,!0),this._invertAngle(R,j),this._flipObjects(R,j),_e().resolve({flipX:x.flipX,flipY:x.flipY,angle:this.getCanvasImage().angle}))}},{key:"_invertAngle",value:function(S,x){var R=this.getCanvasImage(),j=R.angle;S&&(j*=-1),x&&(j*=-1),R.rotate(Li()(j)).setCoords()}},{key:"_flipObjects",value:function(S,x){var R=this.getCanvas();S&&R.forEachObject(function(j){j.set({angle:Li()(j.angle*-1),flipX:!j.flipX,left:R.width-j.left}).setCoords()}),x&&R.forEachObject(function(j){j.set({angle:Li()(j.angle*-1),flipY:!j.flipY,top:R.height-j.top}).setCoords()}),R.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var S=this.getCurrentSetting();return this.set({flipX:!S.flipX,flipY:S.flipY})}},{key:"flipY",value:function(){var S=this.getCurrentSetting();return this.set({flipX:S.flipX,flipY:!S.flipY})}}]),b}(eo),kF=OF;function AF(z){var M=DF();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function DF(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var PF=function(z){nn(b,z);var M=AF(b);function b(C){return $(this,b),M.call(this,nt.ROTATION,C)}return le(b,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(S){var x=this.getCurrentAngle()%360;S%=360;var R=this.getCanvasImage(),j=R.getCenterPoint();R.set({angle:S}).setCoords(),this.adjustCanvasDimension();var V=R.getCenterPoint();return this._rotateForEachObject(j,V,S-x),_e().resolve(S)}},{key:"_rotateForEachObject",value:function(S,x,R){var j=this.getCanvas(),V={x:S.x-x.x,y:S.y-x.y};j.forEachObject(function(W){var Q=W.getCenterPoint(),oe=he.fabric.util.degreesToRadians(R),Ie=he.fabric.util.rotatePoint(Q,S,oe);W.set({left:Ie.x-V.x,top:Ie.y-V.y,angle:(W.angle+R)%360}),W.setCoords()}),j.renderAll()}},{key:"rotate",value:function(S){var x=this.getCurrentAngle();return this.setAngle(x+S)}}]),b}(eo),NF=PF;function RF(z){var M=LF();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function LF(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var jF=function(z){nn(b,z);var M=RF(b);function b(C){var S;return $(this,b),S=M.call(this,nt.FREE_DRAWING,C),S.width=12,S.oColor=new he.fabric.Color("rgba(0, 0, 0, 0.5)"),S}return le(b,[{key:"start",value:function(S){var x=this.getCanvas();x.isDrawingMode=!0,this.setBrush(S)}},{key:"setBrush",value:function(S){var x=this.getCanvas().freeDrawingBrush;S=S||{},this.width=S.width||this.width,S.color&&(this.oColor=new he.fabric.Color(S.color)),x.width=this.width,x.color=this.oColor.toRgba()}},{key:"end",value:function(){var S=this.getCanvas();S.isDrawingMode=!1}}]),b}(eo),FF=jF,zx=30,zF=2.7,BF=1.7,Bx=180,UF=he.fabric.util.createClass(he.fabric.Line,{type:"line",initialize:function(M){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.callSuper("initialize",M,b),this.arrowType=b.arrowType},_render:function(M){var b=this.calcLinePoints(),C=b.x1,S=b.y1,x=b.x2,R=b.y2,j={fromX:C,fromY:S,toX:x,toY:R};this.ctx=M,M.lineWidth=this.strokeWidth,this._renderBasicLinePath(j),this._drawDecoratorPath(j),this._renderStroke(M)},_renderBasicLinePath:function(M){var b=M.fromX,C=M.fromY,S=M.toX,x=M.toY;this.ctx.beginPath(),this.ctx.moveTo(b,C),this.ctx.lineTo(S,x)},_drawDecoratorPath:function(M){this._drawDecoratorPathType("head",M),this._drawDecoratorPathType("tail",M)},_drawDecoratorPathType:function(M,b){switch(this.arrowType[M]){case"triangle":this._drawTrianglePath(M,b);break;case"chevron":this._drawChevronPath(M,b);break}},_drawTrianglePath:function(M,b){var C=this.ctx.lineWidth*BF;this._drawChevronPath(M,b,C),this.ctx.closePath()},_drawChevronPath:function(M,b,C){var S=this,x=b.fromX,R=b.fromY,j=b.toX,V=b.toY,W=this.ctx;C||(C=this.ctx.lineWidth*zF);var Q=M==="head"?[x,R]:[j,V],oe=Ce(Q,2),Ie=oe[0],Me=oe[1],Ne=M==="head"?[j,V]:[x,R],De=Ce(Ne,2),Le=De[0],et=De[1],Dt=Math.atan2(et-Me,Le-Ie)*Bx/Math.PI,Pt=function(dt){return S.getRotatePosition(C,dt,{x:Ie,y:Me})};W.moveTo.apply(W,F(Pt(Dt+zx))),W.lineTo(Ie,Me),W.lineTo.apply(W,F(Pt(Dt-zx)))},getRotatePosition:function(M,b,C){var S=b*Math.PI/Bx,x=C.x,R=C.y;return[M*Math.cos(S)+x,M*Math.sin(S)+R]}}),HF=UF;function WF(z){var M=VF();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function VF(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var GF=function(z){nn(b,z);var M=WF(b);function b(C){var S,x,R,j;return $(this,b),j=M.call(this,nt.LINE,C),j._width=12,j._oColor=new he.fabric.Color("rgba(0, 0, 0, 0.5)"),j._listeners={mousedown:ee()(S=j._onFabricMouseDown).call(S,qt(j)),mousemove:ee()(x=j._onFabricMouseMove).call(x,qt(j)),mouseup:ee()(R=j._onFabricMouseUp).call(R,qt(j))},j}return le(b,[{key:"setHeadOption",value:function(S){var x=S.arrowType,R=x===void 0?{head:null,tail:null}:x;this._arrowType=R}},{key:"start",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=this.getCanvas();x.defaultCursor="crosshair",x.selection=!1,this.setHeadOption(S),this.setBrush(S),x.forEachObject(function(R){R.set({evented:!1})}),x.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(S){var x=this.getCanvas().freeDrawingBrush;S=S||{},this._width=S.width||this._width,S.color&&(this._oColor=new he.fabric.Color(S.color)),x.width=this._width,x.color=this._oColor.toRgba()}},{key:"end",value:function(){var S=this.getCanvas();S.defaultCursor="default",S.selection=!0,S.forEachObject(function(x){x.set({evented:!0})}),S.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(S){var x=this.getCanvas(),R=x.getPointer(S.e),j=R.x,V=R.y,W=[j,V,j,V];this._line=new HF(W,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(Yr.SELECTION_STYLE),x.add(this._line),x.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire($e.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(S){var x=this.getCanvas(),R=x.getPointer(S.e);this._line.set({x2:R.x,y2:R.y}),this._line.setCoords(),x.renderAll()}},{key:"_onFabricMouseUp",value:function(){var S=this.getCanvas();this.fire($e.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,S.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var S=this.graphics.createObjectProperties(this._line),x=this._line,R=x.x1,j=x.x2,V=x.y1,W=x.y2;return q()({},S,{startPosition:{x:R,y:V},endPosition:{x:j,y:W}})}}]),b}(eo),$F=GF;function YF(z){var M=XF();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function XF(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var KF={fill:"#000000",left:0,top:0},ZF={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},QF=500,JF=function(z){nn(b,z);var M=YF(b);function b(C){var S,x,R,j,V,W;return $(this,b),W=M.call(this,nt.TEXT,C),W._defaultStyles=KF,W._isSelected=!1,W._selectedObj={},W._editingObj={},W._listeners={mousedown:ee()(S=W._onFabricMouseDown).call(S,qt(W)),select:ee()(x=W._onFabricSelect).call(x,qt(W)),selectClear:ee()(R=W._onFabricSelectClear).call(R,qt(W)),scaling:ee()(j=W._onFabricScaling).call(j,qt(W)),textChanged:ee()(V=W._onFabricTextChanged).call(V,qt(W))},W._textarea=null,W._ratio=1,W._lastClickTime=new Date().getTime(),W._editingObjInfos={},W.isPrevEditing=!1,W}return le(b,[{key:"start",value:function(){var S=this,x=this.getCanvas();x.selection=!1,x.defaultCursor="text",x.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),x.forEachObject(function(R){R.type==="i-text"&&S.adjustOriginPosition(R,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var S=this,x=this.getCanvas();x.selection=!0,x.defaultCursor="default",x.forEachObject(function(R){R.type==="i-text"&&(R.text===""?x.remove(R):S.adjustOriginPosition(R,"end"))}),x.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(S,x){var R="center",j="center";x==="start"&&(R="left",j="top");var V=S.getPointByOrigin(R,j),W=V.x,Q=V.y;S.set({left:W,top:Q,originX:R,originY:j}),S.setCoords()}},{key:"add",value:function(S,x){var R=this;return new(_e())(function(j){var V,W=R.getCanvas(),Q=null,oe=Yr.SELECTION_STYLE,Ie=R._defaultStyles;R._setInitPos(x.position),x.styles&&(Ie=q()(Ie,x.styles)),Tx()(x.autofocus)||(x.autofocus=!0),Q=new he.fabric.IText(S,Ie),oe=q()({},oe,{originX:"left",originY:"top"}),Q.set(oe),Q.on({mouseup:ee()(V=R._onFabricMouseUp).call(V,R)}),W.add(Q),x.autofocus&&(Q.enterEditing(),Q.selectAll()),W.getActiveObject()||W.setActiveObject(Q),R.isPrevEditing=!0,j(R.graphics.createObjectProperties(Q))})}},{key:"change",value:function(S,x){var R=this;return new(_e())(function(j){S.set("text",x),R.getCanvas().renderAll(),j()})}},{key:"setStyle",value:function(S,x){var R=this;return new(_e())(function(j){ce()(x,function(V,W){S[W]===V&&W!=="fontSize"&&(x[W]=ZF[W]||"")},R),"textDecoration"in x&&q()(x,R._getTextDecorationAdaptObject(x.textDecoration)),S.set(x),R.getCanvas().renderAll(),j()})}},{key:"getText",value:function(S){return S.text}},{key:"setSelectedInfo",value:function(S,x){this._selectedObj=S,this._isSelected=x}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var S=this.getCanvasElement(),x=Re()(S.style.maxWidth,10),R=S.width;this._ratio=R/x}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(S){return{underline:S==="underline",linethrough:S==="line-through",overline:S==="overline"}}},{key:"_setInitPos",value:function(S){S=S||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=S.x,this._defaultStyles.top=S.y}},{key:"_onInput",value:function(){var S=this.getCanvasRatio(),x=this._editingObj,R=this._textarea.style;R.width="".concat(Math.ceil(x.width/S),"px"),R.height="".concat(Math.ceil(x.height/S),"px")}},{key:"_onKeyDown",value:function(){var S=this,x=this.getCanvasRatio(),R=this._editingObj,j=this._textarea.style;h()(function(){R.text(S._textarea.value),j.width="".concat(Math.ceil(R.width/x),"px"),j.height="".concat(Math.ceil(R.height/x),"px")},0)}},{key:"_onBlur",value:function(){var S=this.getCanvasRatio(),x=this._editingObj,R=this._editingObjInfos,j=this._textarea.value,V=x.width/S-R.width/S,W=x.height/S-R.height/S;if(S===1&&(V/=2,W/=2),this._textarea.style.display="none",x.set({left:R.left+V,top:R.top+W}),j.length){this.getCanvas().add(x);var Q={id:tt(x),type:x.type,text:j};this.fire($e.TEXT_CHANGED,Q)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(S){var x=S.target;x.fontSize=x.fontSize*x.scaleY,x.scaleX=1,x.scaleY=1}},{key:"_onFabricTextChanged",value:function(S){this.fire($e.TEXT_CHANGED,S.target)}},{key:"_onFabricSelectClear",value:function(S){var x=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(S.target,!1),x&&x.text===""&&this.getCanvas().remove(x)}},{key:"_onFabricSelect",value:function(S){this.isPrevEditing=!0,this.setSelectedInfo(S.target,!0)}},{key:"_onFabricMouseDown",value:function(S){var x=S.target;if(!(x&&!x.isType("text"))){if(this.isPrevEditing){this.isPrevEditing=!1;return}this._fireAddText(S)}}},{key:"_fireAddText",value:function(S){var x=S.target,R=S.e||{},j=this.getCanvas().getPointer(R);x||this.fire($e.ADD_TEXT,{originPosition:{x:j.x,y:j.y},clientPosition:{x:R.clientX||0,y:R.clientY||0}})}},{key:"_onFabricMouseUp",value:function(S){var x=S.target,R=new Date().getTime();this._isDoubleClick(R)&&!x.isEditing&&x.enterEditing(),x.isEditing&&this.fire($e.TEXT_EDITING),this._lastClickTime=R}},{key:"_isDoubleClick",value:function(S){return S-this._lastClickTime<QF}}]),b}(eo),qF=JF;function e5(z){var M=t5();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function t5(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var n5={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},r5=function(z){nn(b,z);var M=e5(b);function b(C){var S,x,R,j;return $(this,b),j=M.call(this,nt.ICON,C),j._oColor="#000000",j._pathMap=n5,j._type=null,j._iconColor=null,j._handlers={mousedown:ee()(S=j._onFabricMouseDown).call(S,qt(j)),mousemove:ee()(x=j._onFabricMouseMove).call(x,qt(j)),mouseup:ee()(R=j._onFabricMouseUp).call(R,qt(j))},j}return le(b,[{key:"setStates",value:function(S,x){this._type=S,this._iconColor=x}},{key:"start",value:function(){var S=this.getCanvas();S.selection=!1,S.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var S=this.getCanvas();S.selection=!0,S.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(S,x){var R=this;return new(_e())(function(j,V){var W=R.getCanvas(),Q=R._pathMap[S],oe=Yr.SELECTION_STYLE,Ie=Q?R._createIcon(Q):null;R._icon=Ie,Ie||V(tn.invalidParameters),Ie.set(q()({type:"icon",fill:R._oColor},oe,x,R.graphics.controlStyle)),W.add(Ie).setActiveObject(Ie),j(R.graphics.createObjectProperties(Ie))})}},{key:"registerPaths",value:function(S){var x=this;ce()(S,function(R,j){x._pathMap[j]=R},this)}},{key:"setColor",value:function(S,x){this._oColor=S,x&&x.get("type")==="icon"&&(x.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(S){return Be()(S)}},{key:"_createIcon",value:function(S){return new he.fabric.Path(S)}},{key:"_onFabricMouseDown",value:function(S){var x=this,R=this.getCanvas();this._startPoint=R.getPointer(S.e);var j=this._startPoint,V=j.x,W=j.y;this.add(this._type,{left:V,top:W,fill:this._iconColor}).then(function(){x.fire($e.ADD_OBJECT,x.graphics.createObjectProperties(x._icon)),R.on("mouse:move",x._handlers.mousemove),R.on("mouse:up",x._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(S){var x=this.getCanvas();if(this._icon){var R=x.getPointer(S.e),j=(R.x-this._startPoint.x)/this._icon.width,V=(R.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(j*2),scaleY:Math.abs(V*2)}),this._icon.setCoords(),x.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var S=this.getCanvas();this.fire($e.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,S.off("mouse:down",this._handlers.mousedown),S.off("mouse:move",this._handlers.mousemove),S.off("mouse:up",this._handlers.mouseup)}}]),b}(eo),i5=r5,o5=he.fabric.util.createClass(he.fabric.Image.filters.BlendImage,{applyTo:function(M){if(this.mask){var b=M.canvasEl,C=b.width,S=b.height,x=this._createCanvasOfMask(C,S),R=b.getContext("2d"),j=x.getContext("2d"),V=R.getImageData(0,0,C,S);this._drawMask(j,b,R),this._mapData(j,V,C,S),M.imageData=V}},_createCanvasOfMask:function(M,b){var C=he.fabric.util.createCanvasElement();return C.width=M,C.height=b,C},_drawMask:function(M){var b=this.mask,C=b.getElement(),S=b.angle,x=b.left,R=b.scaleX,j=b.scaleY,V=b.top;M.save(),M.translate(x,V),M.rotate(S*Math.PI/180),M.scale(R,j),M.drawImage(C,-C.width/2,-C.height/2),M.restore()},_mapData:function(M,b,C,S){for(var x=b.data,R=b.height,j=b.width,V=x,W=j*R*4,Q=M.getImageData(0,0,C,S).data,oe=0;oe<W;oe+=4)V[oe+3]=Q[oe]}}),s5=o5,a5=he.fabric.util.createClass(he.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),l5=a5,u5=he.fabric.util.createClass(he.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),c5=u5,h5=he.fabric.util.createClass(he.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(M){M||(M={}),this.color=M.color||"#FFFFFF",this.threshold=M.threshold||45,this.x=M.x||null,this.y=M.y||null},applyTo:function(M){var b=M.canvasEl,C=b.getContext("2d"),S=C.getImageData(0,0,b.width,b.height),x=S.data,R=this.threshold,j=he.fabric.Color.sourceFromHex(this.color),V,W;for(this.x&&this.y&&(j=this._getColor(S,this.x,this.y)),V=0,W=x.length;V<W;V+=4)this._isOutsideThreshold(x[V],j[0],R)||this._isOutsideThreshold(x[V+1],j[1],R)||this._isOutsideThreshold(x[V+2],j[2],R)||(x[V]=x[V+1]=x[V+2]=x[V+3]=0);C.putImageData(S,0,0)},_isOutsideThreshold:function(M,b,C){var S=M-b;return Math.abs(S)>C},_getColor:function(M,b,C){var S=[0,0,0,0],x=M.data,R=M.width,j=4,V=(R*C+b)*j;return S[0]=x[V],S[1]=x[V+1],S[2]=x[V+2],S[3]=x[V+3],S}}),f5=h5;function d5(z){var M=p5();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function p5(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var Yp=he.fabric.Image.filters;Yp.Mask=s5,Yp.Sharpen=l5,Yp.Emboss=c5,Yp.ColorFilter=f5;var g5=function(z){nn(b,z);var M=d5(b);function b(C){return $(this,b),M.call(this,nt.FILTER,C)}return le(b,[{key:"add",value:function(S,x){var R=this;return new(_e())(function(j,V){var W=R._getSourceImage(),Q=R.getCanvas(),oe=R._getFilter(W,S);oe||(oe=R._createFilter(W,S,x)),oe||V(tn.invalidParameters),R._changeFilterValues(oe,x),R._apply(W,function(){Q.renderAll(),j({type:S,action:"add",options:x})})})}},{key:"remove",value:function(S){var x=this;return new(_e())(function(R,j){var V=x._getSourceImage(),W=x.getCanvas(),Q=x.getOptions(S);V.filters.length||j(tn.unsupportedOperation),x._removeFilter(V,S),x._apply(V,function(){W.renderAll(),R({type:S,action:"remove",options:Q})})})}},{key:"hasFilter",value:function(S){return!!this._getFilter(this._getSourceImage(),S)}},{key:"getOptions",value:function(S){var x=this._getSourceImage(),R=this._getFilter(x,S);return R?q()({},R.options):null}},{key:"_changeFilterValues",value:function(S,x){ce()(x,function(R,j){Z()(S[j])||(S[j]=R)}),ce()(S.options,function(R,j){Z()(x[j])||(S.options[j]=x[j])})}},{key:"_apply",value:function(S,x){S.filters.push();var R=S.applyFilters();R&&x()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(S,x,R){var j,V=this._getFabricFilterType(x),W=he.fabric.Image.filters[V];return W&&(j=new W(R),j.options=R,S.filters.push(j)),j}},{key:"_getFilter",value:function(S,x){var R=null;if(S){var j=this._getFabricFilterType(x),V=S.filters.length,W,Q;for(Q=0;Q<V;Q+=1)if(W=S.filters[Q],W.type===j){R=W;break}}return R}},{key:"_removeFilter",value:function(S,x){var R,j=this._getFabricFilterType(x);S.filters=Yu()(R=S.filters).call(R,function(V){return V.type!==j})}},{key:"_getFabricFilterType",value:function(S){return S.charAt(0).toUpperCase()+v()(S).call(S,1)}}]),b}(eo),m5=g5,v5=o(1801),xs=o.n(v5),Ux={pixelate:"blocksize",blur:"blur"},b0={x:"width",y:"height"},y5=ae(Ux),Nh=null;function Xp(z){var M=ze(z,"patternSourceCanvas"),b=M.patternSourceCanvas,C=b.getObjects(),S=Ce(C,1),x=S[0];return x}function w5(z){var M=z.angle,b=z.flipX,C=z.flipY,S=Xp(z),x=A5(z),R=x.right,j=x.bottom,V=x.width,W=x.height,Q=(V-z.width)/2,oe=(W-z.height)/2,Ie=z.left-z.width/2-Q,Me=z.top-z.height/2-oe,Ne=V/2-Q,De=W/2-oe,Le=Math.max(V,W)+Math.max(Q,oe),et=S5({shapeObj:z,left:Ne,top:De,width:V,height:W,cropX:Ie,cropY:Me,flipX:b,flipY:C,right:R,bottom:j}),Dt=Ce(et,4);Ne=Dt[0],De=Dt[1],V=Dt[2],W=Dt[3],S.set({angle:b===C?-M:M,left:Ne,top:De,width:V,height:W,cropX:Ie,cropY:Me,flipX:b,flipY:C}),we(S,{fillImageMaxSize:Le})}function _0(z){var M;return br()(M=z.filters).call(M,function(b){var C=Te()(b),S=Ce(C,1),x=S[0];return H({},y5[x],b[x])})}function S5(z){var M=z.shapeObj,b=z.left,C=z.top,S=z.width,x=z.height,R=z.cropX,j=z.cropY,V=z.flipX,W=z.flipY,Q=z.right,oe=z.bottom,Ie=function(Ft,dt,vn,Nr){return I5({type:Ft,outDistance:dt,shapeObj:M,flipX:V,flipY:W,left:vn,top:Nr})},Me=S,Ne=x,De=_5(Ie,{left:b,top:C,width:S,height:x,cropX:R,cropY:j}),Le=Ce(De,4);b=Le[0],C=Le[1],S=Le[2],x=Le[3];var et=b5(Ie,{left:b,top:C,insideCanvasRealImageWidth:S,insideCanvasRealImageHeight:x,right:Q,bottom:oe,cropX:R,cropY:j,originalWidth:Me,originalHeight:Ne}),Dt=Ce(et,4);return b=Dt[0],C=Dt[1],S=Dt[2],x=Dt[3],[b,C,S,x]}function b5(z,M){var b=M.left,C=M.top,S=M.insideCanvasRealImageWidth,x=M.insideCanvasRealImageHeight,R=M.right,j=M.bottom,V=M.cropX,W=M.cropY,Q=M.originalWidth,oe=M.originalHeight,Ie=S,Me=x,Ne=Nh,De=Ne.width,Le=Ne.height;R>De&&V>0&&(Ie=Q-Math.abs(R-De)),j>Le&&W>0&&(Me=oe-Math.abs(j-Le));var et={x:(S-Ie)/2,y:(x-Me)/2};return ce()(["x","y"],function(Dt){var Pt=et[Dt];if(Pt>0){var Ft=z(Dt,Pt,b,C),dt=Ce(Ft,2);b=dt[0],C=dt[1]}}),[b,C,Ie,Me]}function _5(z,M){var b=M.left,C=M.top,S=M.width,x=M.height,R=M.cropX,j=M.cropY,V={width:S,height:x};return ce()(["x","y"],function(W){var Q=W==="x"?R:j,oe=V[b0[W]],Ie=Nh[b0[W]];if(oe>Ie){var Me=(oe-Ie)/2;V[b0[W]]=Ie;var Ne=z(W,Me,b,C),De=Ce(Ne,2);b=De[0],C=De[1]}if(Q<0){var Le=z(W,Q,b,C),et=Ce(Le,2);b=et[0],C=et[1]}}),[b,C,V.width,V.height]}function Hx(z,M,b){var C=Wx(z),S=Gx(C,z.angle,M);b.add(S);var x={fill:new he.fabric.Pattern({source:b.getElement(),repeat:"no-repeat"})};return we(x,{patternSourceCanvas:b}),x}function C5(z){var M=z.getObjects(),b=Ce(M,1),C=b[0],S=ze(C,"fillImageMaxSize"),x=S.fillImageMaxSize;x=Math.max(1,x),z.setDimensions({width:x,height:x}),z.renderAll()}function x5(z,M){var b=ze(z,"patternSourceCanvas"),C=b.patternSourceCanvas,S=C.getObjects(),x=Ce(S,1),R=x[0],j=_0(R);C.remove(R);var V=Wx(M,!0),W=Gx(V,M.angle,j);C.add(W)}function Wx(z){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!Nh||M)&&(Nh=z.toCanvasElement()),Nh}function I5(z){var M=z.type,b=z.shapeObj,C=z.outDistance,S=z.left,x=z.top,R=z.flipX,j=z.flipY,V=Vx(b),W=[[1,2],[0,3],[0,3],[1,2]],Q=T5(M,V,W),oe=M5(M,V,Q),Ie=Q.startPointIndex,Me=E5({outDistance:C,startPointIndex:Ie,flipX:R,flipY:j,reatAngles:oe});return[S+Me.left,x+Me.top]}function E5(z){var M=z.outDistance,b=z.startPointIndex,C=z.flipX,S=z.flipY,x=z.reatAngles,R=M*Math.cos(x[0]*Math.PI/180),j=M*Math.cos(x[1]*Math.PI/180),V=b===2||b===3,W={top:V?R:j,left:V?j:R};return O5(b,C,S)&&(W.left=W.left*-1),k5(b,C,S)&&(W.top=W.top*-1),W}function T5(z,M,b){var C=0,S=0;ce()(M,function(V,W){V[z]<C&&(C=V[z],S=W)});var x=Ce(b[S],2),R=x[0],j=x[1];return{startPointIndex:S,endPointIndex1:R,endPointIndex2:j}}function M5(z,M,b){var C,S=b.startPointIndex,x=b.endPointIndex1,R=b.endPointIndex2,j=z==="x"?180:270;return br()(C=[x,R]).call(C,function(V){var W=M[S],Q=M[V],oe=W.y-Q.y,Ie=W.x-Q.x;return Math.atan2(oe,Ie)*180/Math.PI-j})}function O5(z,M,b){return(!M&&b||!M&&!b)&&z===0||(M&&b||M&&!b)&&z===1||(!M&&!b||!M&&b)&&z===2||(M&&!b||M&&b)&&z===3}function k5(z,M,b){return(M&&!b||!M&&!b)&&z===0||(!M&&!b||M&&!b)&&z===1||(M&&b||!M&&b)&&z===2||(!M&&b||M&&b)&&z===3}function Vx(z){return[z.getPointByOrigin("left","top"),z.getPointByOrigin("right","top"),z.getPointByOrigin("left","bottom"),z.getPointByOrigin("right","bottom")]}function A5(z){var M=Vx(z),b=Ce(M,4),C=b[0],S=C.x,x=C.y,R=b[1],j=R.x,V=R.y,W=b[2],Q=W.x,oe=W.y,Ie=b[3],Me=Ie.x,Ne=Ie.y,De=Math.min(S,j,Q,Me),Le=Math.min(x,V,oe,Ne),et=Math.max(S,j,Q,Me),Dt=Math.max(x,V,oe,Ne);return{left:De,top:Le,right:et,bottom:Dt,width:et-De,height:Dt-Le}}function Gx(z,M,b){var C,S=new he.fabric.Image(z);return ce()(q().apply(void 0,K()(C=[{}]).call(C,F(b))),function(x,R){var j=je(R),V=new he.fabric.Image.filters[j](H({},Ux[R],x));S.filters.push(V)}),S.applyFilters(),we(S,{originalAngle:M,fillImageMaxSize:Math.max(S.width,S.height)}),xs().adjustOriginToCenter(S),S}function D5(z){var M=P5();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function P5(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var $x=q()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},an),N5="rect",R5=20,L5=20;function Yx(z,M,b){var C=Be()(z),S=gt(Be()(z)),x=C;C.color&&(x=C.color);var R=null;if(S==="filter"){var j=b();R=Hx(M,Yu()(C),j)}else R={fill:x};return q()({},z,R)}var j5=function(z){nn(b,z);var M=D5(b);function b(C){var S,x,R,j,V,W;return $(this,b),W=M.call(this,nt.SHAPE,C),W._shapeObj=null,W._type=N5,W._options=q()({},$x),W._isSelected=!1,W._startPoint={},W._withShiftKey=!1,W._handlers={mousedown:ee()(S=W._onFabricMouseDown).call(S,qt(W)),mousemove:ee()(x=W._onFabricMouseMove).call(x,qt(W)),mouseup:ee()(R=W._onFabricMouseUp).call(R,qt(W)),keydown:ee()(j=W._onKeyDown).call(j,qt(W)),keyup:ee()(V=W._onKeyUp).call(V,qt(W))},W}return le(b,[{key:"start",value:function(){var S=this.getCanvas();this._isSelected=!1,S.defaultCursor="crosshair",S.selection=!1,S.uniformScaling=!0,S.on({"mouse:down":this._handlers.mousedown}),he.fabric.util.addListener(document,"keydown",this._handlers.keydown),he.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var S=this.getCanvas();this._isSelected=!1,S.defaultCursor="default",S.selection=!0,S.uniformScaling=!1,S.off({"mouse:down":this._handlers.mousedown}),he.fabric.util.removeListener(document,"keydown",this._handlers.keydown),he.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(S,x){this._type=S,x&&(this._options=q()(this._options,x))}},{key:"add",value:function(S,x){var R=this;return new(_e())(function(j){var V=R.getCanvas(),W=R._extendOptions(x),Q=R._createInstance(S,W),oe=R.graphics.createObjectProperties(Q);R._bindEventOnShape(Q),V.add(Q).setActiveObject(Q),R._resetPositionFillFilter(Q),j(oe)})}},{key:"change",value:function(S,x){var R=this;return new(_e())(function(j,V){Ut(S)||V(tn.unsupportedType);var W=gt(Be()(x))==="filter",Q=R.graphics,oe=Q.canvasImage,Ie=Q.createStaticCanvas;S.set(W?Yx(x,oe,Ie):x),W&&R._resetPositionFillFilter(S),R.getCanvas().renderAll(),j()})}},{key:"makeFillPropertyForUserEvent",value:function(S){var x=jt(S),R={};if(x===Xe.FILTER){var j=Xp(S),V=_0(j);R.type=x,R.filter=V}else R.type=Xe.COLOR,R.color=Be()(S)||"transparent";return R}},{key:"processForCopiedObject",value:function(S,x){if(this._bindEventOnShape(S),jt(S)==="filter"){var R=Xp(x),j=_0(R),V=this.graphics.createStaticCanvas();S.set(Hx(this.graphics.canvasImage,j,V)),this._resetPositionFillFilter(S)}}},{key:"_createInstance",value:function(S,x){var R;switch(S){case"rect":R=new he.fabric.Rect(x);break;case"circle":R=new he.fabric.Ellipse(q()({type:"circle"},x));break;case"triangle":R=new he.fabric.Triangle(x);break;default:R={}}return R}},{key:"_extendOptions",value:function(S){var x=Yr.SELECTION_STYLE,R=this.graphics,j=R.canvasImage,V=R.createStaticCanvas;return S=q()({},$x,this._options,x,S),Yx(S,j,V)}},{key:"_bindEventOnShape",value:function(S){var x=this,R=this.getCanvas();S.on({added:function(){x._shapeObj=this,xs().setOrigins(x._shapeObj)},selected:function(){x._isSelected=!0,x._shapeObj=this,R.uniformScaling=!0,R.defaultCursor="default",xs().setOrigins(x._shapeObj)},deselected:function(){x._isSelected=!1,x._shapeObj=null,R.defaultCursor="crosshair",R.uniformScaling=!1},modified:function(){var V=x._shapeObj;xs().adjustOriginToCenter(V),xs().setOrigins(V)},modifiedInGroup:function(V){x._fillFilterRePositionInGroupSelection(S,V)},moving:function(){x._resetPositionFillFilter(this)},rotating:function(){x._resetPositionFillFilter(this)},scaling:function(V){var W=R.getPointer(V.e),Q=x._shapeObj;R.setCursor("crosshair"),xs().resize(Q,W,!0),x._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(S){if(S.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var x=this.getCanvas();this._startPoint=x.getPointer(S.e),x.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(S){var x=this,R=this.getCanvas(),j=R.getPointer(S.e),V=this._startPoint.x,W=this._startPoint.y,Q=V-j.x,oe=W-j.y,Ie=this._shapeObj;Ie?(this._shapeObj.set({isRegular:this._withShiftKey}),xs().resize(Ie,j),R.renderAll(),this._resetPositionFillFilter(Ie)):this.add(this._type,{left:V,top:W,width:Q,height:oe}).then(function(Me){x.fire($e.ADD_OBJECT,Me)})}},{key:"_onFabricMouseUp",value:function(){var S=this,x=this.getCanvas(),R=this._startPoint.x,j=this._startPoint.y,V=this._shapeObj;V?V&&(xs().adjustOriginToCenter(V),this.fire($e.OBJECT_ADDED,this.graphics.createObjectProperties(V))):this.add(this._type,{left:R,top:j,width:R5,height:L5}).then(function(W){S.fire($e.ADD_OBJECT,W)}),x.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(S){S.keyCode===mn.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(S){S.keyCode===mn.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(S){if(jt(S)==="filter"){var x=ze(S,"patternSourceCanvas"),R=x.patternSourceCanvas,j=Xp(S),V=ze(j,"originalAngle"),W=V.originalAngle;this.graphics.canvasImage.angle!==W&&x5(S,this.graphics.canvasImage);var Q=S.originX,oe=S.originY;xs().adjustOriginToCenter(S),S.width*=S.scaleX,S.height*=S.scaleY,S.rx*=S.scaleX,S.ry*=S.scaleY,S.scaleX=1,S.scaleY=1,w5(S),X(S,{originX:Q,originY:oe}),C5(R)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(S,x){(x.scaleX!==1||x.scaleY!==1)&&x.addWithUpdate();var R=S.angle,j=S.left,V=S.top;he.fabric.util.addTransformToObject(S,x.calcTransformMatrix()),this._resetPositionFillFilter(S),S.set({angle:R,left:j,top:V})}}]),b}(eo);function F5(z){var M=z5();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function z5(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var C0=10,Xx={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},x0={SIZE:.0045,MARGIN:.003,BORDER_RADIUS:.003},I0={SIZE:.0066,MARGIN:.0044,BORDER_RADIUS:.003},Kp=1,Kx=$e.ZOOM_CHANGED,B5=$e.ADD_TEXT,U5=$e.TEXT_EDITING,H5=$e.OBJECT_MODIFIED,Zx=$e.KEY_DOWN,Qx=$e.KEY_UP,W5=$e.HAND_STARTED,V5=$e.HAND_STOPPED,G5=function(z){nn(b,z);var M=F5(b);function b(C){var S,x,R,j,V,W,Q,oe,Ie,Me,Ne,De,Le;$(this,b),Le=M.call(this,nt.ZOOM,C),Le.zoomArea=null,Le._startPoint=null,Le._centerPoints=[],Le.zoomLevel=Kp,Le.zoomMode=ur.DEFAULT,Le._listeners={startZoom:ee()(S=Le._onMouseDownWithZoomMode).call(S,qt(Le)),moveZoom:ee()(x=Le._onMouseMoveWithZoomMode).call(x,qt(Le)),stopZoom:ee()(R=Le._onMouseUpWithZoomMode).call(R,qt(Le)),startHand:ee()(j=Le._onMouseDownWithHandMode).call(j,qt(Le)),moveHand:ee()(V=Le._onMouseMoveWithHandMode).call(V,qt(Le)),stopHand:ee()(W=Le._onMouseUpWithHandMode).call(W,qt(Le)),zoomChanged:ee()(Q=Le._changeScrollState).call(Q,qt(Le)),keydown:ee()(oe=Le._startHandModeWithSpaceBar).call(oe,qt(Le)),keyup:ee()(Ie=Le._endHandModeWithSpaceBar).call(Ie,qt(Le))};var et=Le.getCanvas();return Le.aspectRatio=et.width/et.height,Le._verticalScroll=new he.fabric.Rect(Xx),Le._horizontalScroll=new he.fabric.Rect(Xx),et.on(Kx,Le._listeners.zoomChanged),Le.graphics.on(B5,ee()(Me=Le._startTextEditingHandler).call(Me,qt(Le))),Le.graphics.on(U5,ee()(Ne=Le._startTextEditingHandler).call(Ne,qt(Le))),Le.graphics.on(H5,ee()(De=Le._stopTextEditingHandler).call(De,qt(Le))),Le}return le(b,[{key:"attachKeyboardZoomEvents",value:function(){he.fabric.util.addListener(document,Zx,this._listeners.keydown),he.fabric.util.addListener(document,Qx,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){he.fabric.util.removeListener(document,Zx,this._listeners.keydown),he.fabric.util.removeListener(document,Qx,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(S){this.withSpace||this.isTextEditing||S.keyCode===mn.SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(S){S.keyCode===mn.SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=ur.ZOOM;var S=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new he.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),S.discardActiveObject(),S.add(this.zoomArea),S.on("mouse:down",this._listeners.startZoom),S.selection=!1,S.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=ur.DEFAULT;var S=this.getCanvas(),x=this._listeners,R=x.startZoom,j=x.moveZoom,V=x.stopZoom;S.selection=!0,S.defaultCursor="auto",S.off({"mouse:down":R,"mouse:move":j,"mouse:up":V}),this._changeObjectsEventedState(!0),S.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=ur.HAND;var S=this.getCanvas();this._changeObjectsEventedState(!1),S.discardActiveObject(),S.off("mouse:down",this._listeners.startHand),S.on("mouse:down",this._listeners.startHand),S.selection=!1,S.defaultCursor="grab",S.fire(W5)}},{key:"endHandMode",value:function(){this.zoomMode=ur.DEFAULT;var S=this.getCanvas();this._changeObjectsEventedState(!0),S.off("mouse:down",this._listeners.startHand),S.selection=!0,S.defaultCursor="auto",this._startHandPoint=null,S.fire(V5)}},{key:"_onMouseDownWithZoomMode",value:function(S){var x=S.target,R=S.e;if(!x){var j=this.getCanvas();j.selection=!1,this._startPoint=j.getPointer(R),this.zoomArea.set({width:0,height:0});var V=this._listeners,W=V.moveZoom,Q=V.stopZoom;j.on({"mouse:move":W,"mouse:up":Q})}}},{key:"_onMouseMoveWithZoomMode",value:function(S){var x=S.e,R=this.getCanvas(),j=R.getPointer(x),V=j.x,W=j.y,Q=this.zoomArea,oe=this._startPoint,Ie=Math.abs(V-oe.x),Me=Math.abs(W-oe.y);Ie+Me>C0&&(R.remove(Q),Q.set(this._calcRectDimensionFromPoint(V,W)),R.add(Q))}},{key:"_calcRectDimensionFromPoint",value:function(S,x){var R=this.getCanvas(),j=R.getWidth(),V=R.getHeight(),W=this._startPoint,Q=W.x,oe=W.y,Ie=Math.min,Me=Ie(Q,S),Ne=Ie(oe,x),De=kt(S,Q,j)-Me,Le=kt(x,oe,V)-Ne;return{left:Me,top:Ne,width:De,height:Le}}},{key:"_onMouseUpWithZoomMode",value:function(){var S=this.zoomLevel,x=this.zoomArea,R=this._listeners,j=R.moveZoom,V=R.stopZoom,W=this.getCanvas(),Q=this._getCenterPoint(),oe=Q.x,Ie=Q.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:oe,y:Ie,prevZoomLevel:S,zoomLevel:S+1}),S+=1,W.zoomToPoint({x:oe,y:Ie},S),this._fireZoomChanged(W,S),this.zoomLevel=S),W.off({"mouse:move":j,"mouse:up":V}),W.remove(x),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var S=this.zoomArea,x=S.left,R=S.top,j=S.width,V=S.height,W=this._startPoint,Q=W.x,oe=W.y,Ie=this.aspectRatio;return j<C0&&V<C0?{x:Q,y:oe}:j>V?{x:x+Ie*V/2,y:R+V/2}:{x:x+j/2,y:R+j/Ie/2}}},{key:"zoom",value:function(S){for(var x=S.x,R=S.y,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.zoomLevel,V=this.getCanvas(),W=this._centerPoints,Q=W.length-1;Q>=0&&!(W[Q].zoomLevel<j);Q-=1){var oe=W.pop(),Ie=oe.x,Me=oe.y,Ne=oe.prevZoomLevel;V.zoomToPoint({x:Ie,y:Me},Ne),this.zoomLevel=Ne}V.zoomToPoint({x,y:R},j),this._isDefaultZoomLevel(j)||this._centerPoints.push({x,y:R,zoomLevel:j,prevZoomLevel:this.zoomLevel}),this.zoomLevel=j,this._fireZoomChanged(V,j)}},{key:"zoomOut",value:function(){var S=this._centerPoints;if(S.length){var x=this.getCanvas(),R=S.pop(),j=R.x,V=R.y,W=R.prevZoomLevel;this._isDefaultZoomLevel(W)?x.setViewportTransform([1,0,0,1,0,0]):x.zoomToPoint({x:j,y:V},W),this.zoomLevel=W,this._fireZoomChanged(x,this.zoomLevel)}}},{key:"resetZoom",value:function(){var S=this.getCanvas();S.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=Kp,this._centerPoints=[],this._fireZoomChanged(S,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(S){var x=S.x,R=S.y,j=this._centerPoints;if(j.length){var V=this.getCanvas(),W=this.zoomLevel,Q=j.pop(),oe=Q.x,Ie=Q.y,Me=Q.prevZoomLevel,Ne=oe-x,De=Ie-R;V.zoomToPoint({x:oe,y:Ie},Me),V.zoomToPoint({x:Ne,y:De},W),j.push({x:Ne,y:De,prevZoomLevel:Me,zoomLevel:W}),this._fireZoomChanged(V,W)}}},{key:"_onMouseDownWithHandMode",value:function(S){var x=S.target,R=S.e;if(!x){var j=this.getCanvas();if(!(this.zoomLevel<=Kp)){j.selection=!1,this._startHandPoint=j.getPointer(R);var V=this._listeners,W=V.moveHand,Q=V.stopHand;j.on({"mouse:move":W,"mouse:up":Q})}}}},{key:"_onMouseMoveWithHandMode",value:function(S){var x=S.e,R=this.getCanvas(),j=R.getPointer(x),V=j.x,W=j.y,Q=V-this._startHandPoint.x,oe=W-this._startHandPoint.y;this._movePointOfZoom({x:Q,y:oe})}},{key:"_onMouseUpWithHandMode",value:function(){var S=this.getCanvas(),x=this._listeners,R=x.moveHand,j=x.stopHand;S.off({"mouse:move":R,"mouse:up":j}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(S){var x=S.viewport,R=S.zoomLevel,j=this.getCanvas();if(j.remove(this._verticalScroll),j.remove(this._horizontalScroll),!this._isDefaultZoomLevel(R)){var V=j.width,W=j.height,Q=x.tl,oe=x.tr,Ie=x.bl,Me=oe.x-Q.x,Ne=Ie.y-Q.y,De=Me*Me/V,Le=Ne*I0.SIZE,et=kt(Q.x+Q.x/V*Me,Q.x,oe.x-De),Dt=Ne*I0.MARGIN,Pt=Ne*I0.BORDER_RADIUS;this._horizontalScroll.set({left:et,top:Ie.y-Le-Dt,width:De,height:Le,rx:Pt,ry:Pt});var Ft=Me*x0.SIZE,dt=Ne*Ne/W,vn=kt(Q.y+Q.y/W*Ne,oe.y,Ie.y-dt),Nr=Me*x0.MARGIN,wi=Me*x0.BORDER_RADIUS;this._verticalScroll.set({left:oe.x-Ft-Nr,top:vn,width:Ft,height:dt,rx:wi,ry:wi}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,x=this.getCanvas();x.forEachObject(function(R){R.evented=S})}},{key:"_addScrollBar",value:function(){var S=this,x=this.getCanvas();x.add(this._horizontalScroll),x.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=h()(function(){x.remove(S._horizontalScroll),x.remove(S._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(S){return S===Kp}},{key:"_fireZoomChanged",value:function(S,x){S.fire(Kx,{viewport:S.calcViewportBoundaries(),zoomLevel:x})}},{key:"mode",get:function(){return this.zoomMode}}]),b}(eo),$5=G5,Jx=Ri.create,qx=Ri.types,Y5=function(){function z(M){$(this,z),this.name=M}return le(z,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Jx(qx.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Jx(qx.UN_IMPLEMENTATION,"stop"))}}]),z}(),ea=Y5;function X5(z){var M=K5();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function K5(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var Z5=function(z){nn(b,z);var M=X5(b);function b(){return $(this,b),M.call(this,en.CROPPER)}return le(b,[{key:"start",value:function(S){var x=S.getComponent(nt.CROPPER);x.start()}},{key:"end",value:function(S){var x=S.getComponent(nt.CROPPER);x.end()}}]),b}(ea),Q5=Z5;function J5(z){var M=q5();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function q5(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var e3=function(z){nn(b,z);var M=J5(b);function b(){return $(this,b),M.call(this,en.FREE_DRAWING)}return le(b,[{key:"start",value:function(S,x){var R=S.getComponent(nt.FREE_DRAWING);R.start(x)}},{key:"end",value:function(S){var x=S.getComponent(nt.FREE_DRAWING);x.end()}}]),b}(ea),t3=e3;function n3(z){var M=r3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function r3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var i3=function(z){nn(b,z);var M=n3(b);function b(){return $(this,b),M.call(this,en.LINE_DRAWING)}return le(b,[{key:"start",value:function(S,x){var R=S.getComponent(nt.LINE);R.start(x)}},{key:"end",value:function(S){var x=S.getComponent(nt.LINE);x.end()}}]),b}(ea),o3=i3;function s3(z){var M=a3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function a3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var l3=function(z){nn(b,z);var M=s3(b);function b(){return $(this,b),M.call(this,en.SHAPE)}return le(b,[{key:"start",value:function(S){var x=S.getComponent(nt.SHAPE);x.start()}},{key:"end",value:function(S){var x=S.getComponent(nt.SHAPE);x.end()}}]),b}(ea),u3=l3;function c3(z){var M=h3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function h3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var f3=function(z){nn(b,z);var M=c3(b);function b(){return $(this,b),M.call(this,en.TEXT)}return le(b,[{key:"start",value:function(S){var x=S.getComponent(nt.TEXT);x.start()}},{key:"end",value:function(S){var x=S.getComponent(nt.TEXT);x.end()}}]),b}(ea),d3=f3;function p3(z){var M=g3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function g3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var m3=function(z){nn(b,z);var M=p3(b);function b(){return $(this,b),M.call(this,en.ICON)}return le(b,[{key:"start",value:function(S){var x=S.getComponent(nt.ICON);x.start()}},{key:"end",value:function(S){var x=S.getComponent(nt.ICON);x.end()}}]),b}(ea),v3=m3;function y3(z){var M=w3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function w3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var S3=function(z){nn(b,z);var M=y3(b);function b(){return $(this,b),M.call(this,en.ZOOM)}return le(b,[{key:"start",value:function(S){var x=S.getComponent(nt.ZOOM);x.start()}},{key:"end",value:function(S){var x=S.getComponent(nt.ZOOM);x.end()}}]),b}(ea),b3=S3,eI=null;function tI(z){eI=z}function _3(){return eI}function E0(z,M){var b;if(z.type==="activeSelection"){var C;b=br()(C=z.getObjects()).call(C,function(S){var x=S.angle,R=S.left,j=S.top,V=S.scaleX,W=S.scaleY,Q=S.width,oe=S.height;he.fabric.util.addTransformToObject(S,z.calcTransformMatrix());var Ie=M(S);return S.set({angle:x,left:R,top:j,width:Q,height:oe,scaleX:V,scaleY:W}),Ie})}else b=[M(z)];return b}function T0(z,M,b){return b?{id:z,width:M.width,height:M.height,top:M.top,left:M.left,angle:M.angle,scaleX:M.scaleX,scaleY:M.scaleY}:q()({id:z},M)}function C3(z){var M=x3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function x3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var I3=function(z){nn(b,z);var M=C3(b);function b(C){var S;return $(this,b),S=M.call(this,nt.RESIZE,C),S._dimensions=null,S._originalDimensions=null,S}return le(b,[{key:"getCurrentDimensions",value:function(){var S=this.getCanvasImage();if(!this._dimensions&&S){var x=S.width,R=S.height;this._dimensions={width:x,height:R}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(S){this._originalDimensions=S}},{key:"resize",value:function(S){var x=this.getCanvasImage(),R=x.width,j=x.height,V=x.scaleX,W=x.scaleY,Q=S.width,oe=S.height,Ie={scaleX:Q?Q/R:V,scaleY:oe?oe/j:W};return(V!==Ie.scaleX||W!==Ie.scaleY)&&(x.set(Ie).setCoords(),this._dimensions={width:x.width*x.scaleX,height:x.height*x.scaleY}),this.adjustCanvasDimensionBase(),_e().resolve()}},{key:"start",value:function(){var S=this.getCurrentDimensions();this.setOriginalDimensions(S)}},{key:"end",value:function(){}}]),b}(eo),E3=I3;function T3(z){var M=M3();return function(){var C=Mt(z),S;if(M){var x=Mt(this).constructor;S=Je()(C,arguments,x)}else S=C.apply(this,arguments);return dn(this,S)}}function M3(){if(typeof Reflect>"u"||!Je()||Je().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Je()(Boolean,[],function(){})),!0}catch{return!1}}var O3=function(z){nn(b,z);var M=T3(b);function b(){return $(this,b),M.call(this,en.RESIZE)}return le(b,[{key:"start",value:function(S){var x=S.getComponent(nt.RESIZE);x.start()}},{key:"end",value:function(S){var x=S.getComponent(nt.RESIZE);x.end()}}]),b}(ea),k3=O3,A3=1e3,D3=800,Zp=10,P3={cssOnly:!0},N3={backstoreOnly:!0},nI=function(){function z(M){var b,C,S,x,R,j,V,W,Q,oe,Ie,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ne=Me.cssMaxWidth,De=Me.cssMaxHeight;$(this,z),this.canvasImage=null,this.cssMaxWidth=Ne||A3,this.cssMaxHeight=De||D3,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=en.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:ee()(b=this._onMouseDown).call(b,this),onObjectAdded:ee()(C=this._onObjectAdded).call(C,this),onObjectRemoved:ee()(S=this._onObjectRemoved).call(S,this),onObjectMoved:ee()(x=this._onObjectMoved).call(x,this),onObjectScaled:ee()(R=this._onObjectScaled).call(R,this),onObjectModified:ee()(j=this._onObjectModified).call(j,this),onObjectRotated:ee()(V=this._onObjectRotated).call(V,this),onObjectSelected:ee()(W=this._onObjectSelected).call(W,this),onPathCreated:ee()(Q=this._onPathCreated).call(Q,this),onSelectionCleared:ee()(oe=this._onSelectionCleared).call(oe,this),onSelectionCreated:ee()(Ie=this._onSelectionCreated).call(Ie,this)},this._setObjectCachingToFalse(),this._setCanvasElement(M),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return le(z,[{key:"destroy",value:function(){var b=this._canvas.wrapperEl;this._canvas.clear(),b.parentNode.removeChild(b),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){var b=this.getComponent(nt.ZOOM);b.attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){var b=this.getComponent(nt.ZOOM);b.detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(b){var C,S=[];jx()(b)?S=b:S.push(b),(C=this._canvas).add.apply(C,F(S))}},{key:"contains",value:function(b){return this._canvas.contains(b)}},{key:"getObjects",value:function(){var b;return v()(b=this._canvas.getObjects()).call(b)}},{key:"getObject",value:function(b){return this._objects[b]}},{key:"remove",value:function(b){this._canvas.remove(b)}},{key:"removeAll",value:function(b){var C,S=this._canvas,x=v()(C=S.getObjects()).call(C);return S.remove.apply(S,F(this._canvas.getObjects())),b&&S.clear(),x}},{key:"removeObjectById",value:function(b){var C=[],S=this._canvas,x=this.getObject(b),R=x&&x.isType("group")&&!x.isEmpty();return R?(S.discardActiveObject(),x.forEachObject(function(j){C.push(j),S.remove(j)})):S.contains(x)&&(C.push(x),S.remove(x)),C}},{key:"getObjectId",value:function(b){var C=null;for(C in this._objects)if(this._objects.hasOwnProperty(C)&&b===this._objects[C])return C;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var b=this.getActiveObject(),C=b.type,S=b.left,x=b.top,R=C==="activeSelection";if(R){var j=new he.fabric.Group(F(b.getObjects()),{left:S,top:x});return this._addFabricObject(j)}return this.getObjectId(b)}},{key:"isReadyRemoveObject",value:function(){var b=this.getActiveObject();return b&&!b.isEditing}},{key:"getActiveObjects",value:function(){var b=this._canvas._activeObject;return b&&b.type==="activeSelection"?b:null}},{key:"getActiveSelectionFromObjects",value:function(b){var C=this.getCanvas();return new he.fabric.ActiveSelection(b,{canvas:C})}},{key:"setActiveObject",value:function(b){this._canvas.setActiveObject(b)}},{key:"setCropSelectionStyle",value:function(b){this.cropSelectionStyle=b}},{key:"getComponent",value:function(b){return this._componentMap[b]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(b,C){if(this._isSameDrawingMode(b))return!0;this.stopDrawingMode();var S=this._getDrawingModeInstance(b);return S&&S.start&&(S.start(this,C),this._drawingMode=b),!!S}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(en.NORMAL)){var b=this._getDrawingModeInstance(this.getDrawingMode());b&&b.end&&b.end(this),this._drawingMode=en.NORMAL}}},{key:"zoom",value:function(b,C){var S=b.x,x=b.y,R=this.getComponent(nt.ZOOM);R.zoom({x:S,y:x},C)}},{key:"getZoomMode",value:function(){var b=this.getComponent(nt.ZOOM);return b.mode}},{key:"startZoomInMode",value:function(){var b=this.getComponent(nt.ZOOM);b.startZoomInMode()}},{key:"endZoomInMode",value:function(){var b=this.getComponent(nt.ZOOM);b.endZoomInMode()}},{key:"zoomOut",value:function(){var b=this.getComponent(nt.ZOOM);b.zoomOut()}},{key:"startHandMode",value:function(){var b=this.getComponent(nt.ZOOM);b.startHandMode()}},{key:"endHandMode",value:function(){var b=this.getComponent(nt.ZOOM);b.endHandMode()}},{key:"resetZoom",value:function(){var b=this.getComponent(nt.ZOOM);b.resetZoom()}},{key:"toDataURL",value:function(b){var C=this.getComponent(nt.CROPPER);C.changeVisibility(!1);var S=this._canvas&&this._canvas.toDataURL(b);return C.changeVisibility(!0),S}},{key:"setCanvasImage",value:function(b,C){C&&tt(C),this.imageName=b,this.canvasImage=C}},{key:"setCssMaxDimension",value:function(b){this.cssMaxWidth=b.width||this.cssMaxWidth,this.cssMaxHeight=b.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;b||(b=this.canvasImage);var C=b.getBoundingRect(),S=C.width,x=C.height,R=this._calcMaxDimension(S,x);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(R.width,"px"),"max-height":"".concat(R.height,"px")}),this.setCanvasBackstoreDimension({width:S,height:x}),this._canvas.centerObject(b)}},{key:"setCanvasCssDimension",value:function(b){this._canvas.setDimensions(b,P3)}},{key:"setCanvasBackstoreDimension",value:function(b){this._canvas.setDimensions(b,N3)}},{key:"setImageProperties",value:function(b,C){var S=this.canvasImage;S&&(S.set(b).setCoords(),C&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(b){var C,S=this,x=ee()(C=this._callbackAfterLoadingImageObject).call(C,this);return new(_e())(function(R){he.fabric.Image.fromURL(b,function(j){x(j),R(S.createObjectProperties(j))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(nt.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(b){this.getComponent(nt.CROPPER).setCropzoneRect(b)}},{key:"getCroppedImageData",value:function(b){return this.getComponent(nt.CROPPER).getCroppedImageData(b)}},{key:"setBrush",value:function(b){var C=this._drawingMode,S=nt.FREE_DRAWING;C===en.LINE_DRAWING&&(S=nt.LINE),this.getComponent(S).setBrush(b)}},{key:"setDrawingShape",value:function(b,C){this.getComponent(nt.SHAPE).setStates(b,C)}},{key:"setIconStyle",value:function(b,C){this.getComponent(nt.ICON).setStates(b,C)}},{key:"registerPaths",value:function(b){this.getComponent(nt.ICON).registerPaths(b)}},{key:"changeCursor",value:function(b){var C=this.getCanvas();C.defaultCursor=b,C.renderAll()}},{key:"hasFilter",value:function(b){return this.getComponent(nt.FILTER).hasFilter(b)}},{key:"setSelectionStyle",value:function(b){q()(Yr.SELECTION_STYLE,b)}},{key:"setObjectProperties",value:function(b,C){var S=this.getObject(b),x=q()({},C);return S.set(x),S.setCoords(),this.getCanvas().renderAll(),x}},{key:"getObjectProperties",value:function(b,C){var S=this.getObject(b),x={};return We()(C)?x[C]=S[C]:jx()(C)?Go()(C,function(R){x[R]=S[R]}):Gp()(C,function(R,j){x[j]=S[j]}),x}},{key:"getObjectPosition",value:function(b,C,S){var x=this.getObject(b);return x?x.getPointByOrigin(C,S):null}},{key:"setObjectPosition",value:function(b,C){var S=this.getObject(b),x=C.x,R=C.y,j=C.originX,V=C.originY;if(!S)return!1;var W=S.getPointByOrigin(j,V),Q=S.getPointByOrigin("center","center"),oe=Q.x-W.x,Ie=Q.y-W.y;return S.set({left:x+oe,top:R+Ie}),S.setCoords(),!0}},{key:"getCanvasSize",value:function(){var b=this.getCanvasImage();return{width:b?b.width:0,height:b?b.height:0}}},{key:"createStaticCanvas",value:function(){var b=new he.fabric.StaticCanvas;return b.set({enableRetinaScaling:!1}),b}},{key:"_getDrawingModeInstance",value:function(b){return this._drawingModeMap[b]}},{key:"_setObjectCachingToFalse",value:function(){he.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(b){var C,S;b.nodeType?C=b:C=document.querySelector(b),C.nodeName.toUpperCase()!=="CANVAS"&&(S=document.createElement("canvas"),C.appendChild(S)),this._canvas=new he.fabric.Canvas(S,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new Q5),this._register(this._drawingModeMap,new t3),this._register(this._drawingModeMap,new o3),this._register(this._drawingModeMap,new u3),this._register(this._drawingModeMap,new d3),this._register(this._drawingModeMap,new v3),this._register(this._drawingModeMap,new b3),this._register(this._drawingModeMap,new k3)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new uF(this)),this._register(this._componentMap,new EF(this)),this._register(this._componentMap,new kF(this)),this._register(this._componentMap,new NF(this)),this._register(this._componentMap,new FF(this)),this._register(this._componentMap,new $F(this)),this._register(this._componentMap,new qF(this)),this._register(this._componentMap,new i5(this)),this._register(this._componentMap,new m5(this)),this._register(this._componentMap,new j5(this)),this._register(this._componentMap,new $5(this)),this._register(this._componentMap,new E3(this))}},{key:"_register",value:function(b,C){b[C.getName()]=C}},{key:"_isSameDrawingMode",value:function(b){return this.getDrawingMode()===b}},{key:"_calcMaxDimension",value:function(b,C){var S=this.cssMaxWidth/b,x=this.cssMaxHeight/C,R=Math.min(b,this.cssMaxWidth),j=Math.min(C,this.cssMaxHeight);return S<1&&S<x?(R=b*S,j=C*S):x<1&&x<S&&(R=b*x,j=C*x),{width:Math.floor(R),height:Math.floor(j)}}},{key:"_callbackAfterLoadingImageObject",value:function(b){var C=this.getCanvasImage().getCenterPoint();b.set(Yr.SELECTION_STYLE),b.set({left:C.x,top:C.y,crossOrigin:"Anonymous"}),this.getCanvas().add(b).setActiveObject(b)}},{key:"_attachCanvasEvents",value:function(){var b=this._canvas,C=this._handler;b.on({"mouse:down":C.onMouseDown,"object:added":C.onObjectAdded,"object:removed":C.onObjectRemoved,"object:moving":C.onObjectMoved,"object:scaling":C.onObjectScaled,"object:modified":C.onObjectModified,"object:rotating":C.onObjectRotated,"path:created":C.onPathCreated,"selection:cleared":C.onSelectionCleared,"selection:created":C.onSelectionCreated,"selection:updated":C.onObjectSelected})}},{key:"_onMouseDown",value:function(b){var C=this,S=b.e,x=b.target,R=this._canvas.getPointer(S);if(x){var j=x.type,V=E0(x,function(W){return T0(C.getObjectId(W),W,j==="activeSelection")});tI(V)}this.fire($e.MOUSE_DOWN,S,R)}},{key:"_onObjectAdded",value:function(b){var C=b.target;C.isType("cropzone")||this._addFabricObject(C)}},{key:"_onObjectRemoved",value:function(b){var C=b.target;this._removeFabricObject(tt(C))}},{key:"_onObjectMoved",value:function(b){var C=this;this._lazyFire($e.OBJECT_MOVED,function(S){return C.createObjectProperties(S)},b.target)}},{key:"_onObjectScaled",value:function(b){var C=this;this._lazyFire($e.OBJECT_SCALED,function(S){return C.createObjectProperties(S)},b.target)}},{key:"_onObjectModified",value:function(b){var C=b.target;if(C.type==="activeSelection"){var S=C.getObjects();ht()(S).call(S,function(x){return x.fire("modifiedInGroup",C)})}this.fire($e.OBJECT_MODIFIED,C,this.getObjectId(C))}},{key:"_onObjectRotated",value:function(b){var C=this;this._lazyFire($e.OBJECT_ROTATED,function(S){return C.createObjectProperties(S)},b.target)}},{key:"_lazyFire",value:function(b,C,S){var x=this,R=S&&S.canvasEventDelegation,j=R?S.canvasEventDelegation(b):"none";j==="unregistered"&&S.canvasEventRegister(b,function(V){x.fire(b,C(V))}),j==="none"&&this.fire(b,C(S))}},{key:"_onObjectSelected",value:function(b){var C=b.target,S=this.createObjectProperties(C);this.fire($e.OBJECT_ACTIVATED,S)}},{key:"_onPathCreated",value:function(b){var C=b.path.getCenterPoint(),S=C.x,x=C.y;b.path.set(q()({left:S,top:x},Yr.SELECTION_STYLE));var R=this.createObjectProperties(b.path);this.fire($e.ADD_OBJECT,R)}},{key:"_onSelectionCleared",value:function(){this.fire($e.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(b){var C=b.target,S=this.createObjectProperties(C);this.fire($e.OBJECT_ACTIVATED,S),this.fire($e.SELECTION_CREATED,b.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(b){this._canvas.forEachObject(function(C){C.selectable=b,C.hoverCursor=b?"move":"crosshair"})}},{key:"createObjectProperties",value:function(b){var C=["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"],S={id:tt(b),type:b.type};if(q()(S,Qt(b,C)),Qe(["i-text","text"],b.type))q()(S,this._createTextProperties(b,S));else if(Qe(["rect","triangle","circle"],b.type)){var x=this.getComponent(nt.SHAPE);q()(S,{fill:x.makeFillPropertyForUserEvent(b)})}return S}},{key:"_createTextProperties",value:function(b){var C=["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"],S={};return q()(S,Qt(b,C)),S}},{key:"_addFabricObject",value:function(b){var C=tt(b);return this._objects[C]=b,C}},{key:"_removeFabricObject",value:function(b){delete this._objects[b]}},{key:"resetTargetObjectForCopyPaste",value:function(){var b=this.getActiveObject();b&&(this.targetObjectForCopyPaste=b)}},{key:"pasteObject",value:function(){var b=this;if(!this.targetObjectForCopyPaste)return _e().resolve([]);var C=this.targetObjectForCopyPaste,S=C.type==="activeSelection",x=S?C.getObjects():[C],R=null;return this.discardSelection(),this._cloneObject(x).then(function(j){if(j.length>1)R=b.getActiveSelectionFromObjects(j);else{var V=Ce(j,1);R=V[0]}b.targetObjectForCopyPaste=R,b.setActiveObject(R)})}},{key:"_cloneObject",value:function(b){var C=this,S=br()(b).call(b,function(x){return C._cloneObjectItem(x)});return _e().all(S)}},{key:"_cloneObjectItem",value:function(b){var C=this;return this._copyFabricObjectForPaste(b).then(function(S){var x=C.createObjectProperties(S);return C.add(S),C.fire($e.ADD_OBJECT,x),S})}},{key:"_copyFabricObjectForPaste",value:function(b){var C=this,S=function(R,j){return j?R-Zp:R+Zp};return this._copyFabricObject(b).then(function(x){var R=x.left,j=x.top,V=x.width,W=x.height,Q=C.getCanvasSize(),oe=Q.width,Ie=Q.height,Me=R+V/2,Ne=j+W/2;return x.set(q()({left:S(R,Me+Zp>oe),top:S(j,Ne+Zp>Ie)},Yr.SELECTION_STYLE)),x})}},{key:"_copyFabricObject",value:function(b){var C=this;return new(_e())(function(S){b.clone(function(x){var R=C.getComponent(nt.SHAPE);Ut(x)&&R.processForCopiedObject(x,b),S(x)})})}},{key:"getCurrentDimensions",value:function(){var b=this.getComponent(nt.RESIZE);return b.getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){var b=this.getComponent(nt.RESIZE);return b.getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(b){var C=this.getComponent(nt.RESIZE);C.setOriginalDimensions(b)}},{key:"resize",value:function(b){var C=this.getComponent(nt.RESIZE);return C.resize(b)}}]),z}();Pe().mixin(nI);var R3=nI,L3=$e.MOUSE_DOWN,j3=$e.OBJECT_MOVED,F3=$e.OBJECT_SCALED,z3=$e.OBJECT_ACTIVATED,B3=$e.OBJECT_ROTATED,rI=$e.OBJECT_ADDED,U3=$e.OBJECT_MODIFIED,H3=$e.ADD_TEXT,W3=$e.ADD_OBJECT,V3=$e.TEXT_EDITING,G3=$e.TEXT_CHANGED,$3=$e.ICON_CREATE_RESIZE,Y3=$e.ICON_CREATE_END,iI=$e.SELECTION_CLEARED,oI=$e.SELECTION_CREATED,X3=$e.ADD_OBJECT_AFTER,M0=function(){function z(M,b){var C,S,x,R,j,V,W,Q,oe,Ie,Me,Ne,De,Le,et,Dt;if($(this,z),b=q()({includeUI:!1,usageStatistics:!0},b),this.mode=null,this.activeObjectId=null,b.includeUI){var Pt=b.includeUI;Pt.usageStatistics=b.usageStatistics,this.ui=new q4(M,Pt,this.getActions()),b=this.ui.setUiDefaultSelectionStyle(b)}this._invoker=new En,this._graphics=new R3(this.ui?this.ui.getEditorArea():M,{cssMaxWidth:b.cssMaxWidth,cssMaxHeight:b.cssMaxHeight}),this._handlers={keydown:ee()(C=this._onKeyDown).call(C,this),mousedown:ee()(S=this._onMouseDown).call(S,this),objectActivated:ee()(x=this._onObjectActivated).call(x,this),objectMoved:ee()(R=this._onObjectMoved).call(R,this),objectScaled:ee()(j=this._onObjectScaled).call(j,this),objectRotated:ee()(V=this._onObjectRotated).call(V,this),objectAdded:ee()(W=this._onObjectAdded).call(W,this),objectModified:ee()(Q=this._onObjectModified).call(Q,this),createdPath:this._onCreatedPath,addText:ee()(oe=this._onAddText).call(oe,this),addObject:ee()(Ie=this._onAddObject).call(Ie,this),textEditing:ee()(Me=this._onTextEditing).call(Me,this),textChanged:ee()(Ne=this._onTextChanged).call(Ne,this),iconCreateResize:ee()(De=this._onIconCreateResize).call(De,this),iconCreateEnd:ee()(Le=this._onIconCreateEnd).call(Le,this),selectionCleared:ee()(et=this._selectionCleared).call(et,this),selectionCreated:ee()(Dt=this._selectionCreated).call(Dt,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(b.selectionStyle,{applyCropSelectionStyle:b.applyCropSelectionStyle,applyGroupSelectionStyle:b.applyGroupSelectionStyle}),b.usageStatistics&&kn(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),he.fabric.enableGLFiltering=!1}return le(z,[{key:"_attachColorPickerInputBoxEvents",value:function(){var b=this;this.ui.on($e.INPUT_BOX_EDITING_STARTED,function(){b.isColorPickerInputBoxEditing=!0}),this.ui.on($e.INPUT_BOX_EDITING_STOPPED,function(){b.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off($e.INPUT_BOX_EDITING_STARTED),this.ui.off($e.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(b,C){var S=C.applyCropSelectionStyle,x=C.applyGroupSelectionStyle;b&&this._graphics.setSelectionStyle(b),S&&this._graphics.setCropSelectionStyle(b),x&&this.on("selectionCreated",function(R){R.type==="activeSelection"&&R.set(b)})}},{key:"_attachInvokerEvents",value:function(){var b,C,S=this,x=$e.UNDO_STACK_CHANGED,R=$e.REDO_STACK_CHANGED,j=$e.EXECUTE_COMMAND,V=$e.AFTER_UNDO,W=$e.AFTER_REDO,Q=$e.HAND_STARTED,oe=$e.HAND_STOPPED;if(this._invoker.on(x,ee()(b=this.fire).call(b,this,x)),this._invoker.on(R,ee()(C=this.fire).call(C,this,R)),this.ui){var Ie=this._graphics.getCanvas();this._invoker.on(j,function(Me){return S.ui.fire(j,Me)}),this._invoker.on(V,function(Me){return S.ui.fire(V,Me)}),this._invoker.on(W,function(Me){return S.ui.fire(W,Me)}),Ie.on(Q,function(){return S.ui.fire(Q)}),Ie.on(oe,function(){return S.ui.fire(oe)})}}},{key:"_attachGraphicsEvents",value:function(){var b;this._graphics.on((b={},H(b,L3,this._handlers.mousedown),H(b,j3,this._handlers.objectMoved),H(b,F3,this._handlers.objectScaled),H(b,B3,this._handlers.objectRotated),H(b,z3,this._handlers.objectActivated),H(b,rI,this._handlers.objectAdded),H(b,U3,this._handlers.objectModified),H(b,H3,this._handlers.addText),H(b,W3,this._handlers.addObject),H(b,V3,this._handlers.textEditing),H(b,G3,this._handlers.textChanged),H(b,$3,this._handlers.iconCreateResize),H(b,Y3,this._handlers.iconCreateEnd),H(b,iI,this._handlers.selectionCleared),H(b,oI,this._handlers.selectionCreated),b))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(b){var C=b.ctrlKey,S=b.keyCode,x=b.metaKey,R=C||x;R&&(S===mn.C?this._graphics.resetTargetObjectForCopyPaste():S===mn.V?(this._graphics.pasteObject(),this.clearRedoStack()):S===mn.Z?this.undo().catch(function(){}):S===mn.Y&&this.redo().catch(function(){}));var j=S===mn.BACKSPACE||S===mn.DEL,V=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&V&&j&&(b.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var b=this._graphics.getActiveObjectIdForRemove();this.removeObject(b)}},{key:"_onMouseDown",value:function(b,C){this.fire($e.MOUSE_DOWN,b,C)}},{key:"_pushAddObjectCommand",value:function(b){var C=bn.create(Ct.ADD_OBJECT,this._graphics,b);this._invoker.pushUndoStack(C)}},{key:"_pushModifyObjectCommand",value:function(b){var C=this,S=b.type,x=E0(b,function(j){return T0(C._graphics.getObjectId(j),j,S==="activeSelection")}),R=bn.create(Ct.CHANGE_SELECTION,this._graphics,x);R.execute(this._graphics,x),this._invoker.pushUndoStack(R)}},{key:"_onObjectActivated",value:function(b){this.fire($e.OBJECT_ACTIVATED,b)}},{key:"_onObjectMoved",value:function(b){this.fire($e.OBJECT_MOVED,b)}},{key:"_onObjectScaled",value:function(b){this.fire($e.OBJECT_SCALED,b)}},{key:"_onObjectRotated",value:function(b){this.fire($e.OBJECT_ROTATED,b)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(Ct.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(b){this._graphics.changeSelectableAll(b)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(b){for(var C,S,x,R=arguments.length,j=new Array(R>1?R-1:0),V=1;V<R;V++)j[V-1]=arguments[V];var W=K()(C=[this._graphics]).call(C,j);return(S=this._invoker).execute.apply(S,K()(x=[b]).call(x,F(W)))}},{key:"executeSilent",value:function(b){for(var C,S,x,R=arguments.length,j=new Array(R>1?R-1:0),V=1;V<R;V++)j[V-1]=arguments[V];var W=K()(C=[this._graphics]).call(C,j);return(S=this._invoker).executeSilent.apply(S,K()(x=[b]).call(x,F(W)))}},{key:"undo",value:function(){for(var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,S=_e().resolve(),x=0;x<C;x+=1)S=S.then(function(){return b._invoker.undo()});return S}},{key:"redo",value:function(){for(var b=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,S=_e().resolve(),x=0;x<C;x+=1)S=S.then(function(){return b._invoker.redo()});return S}},{key:"zoom",value:function(b){var C=b.x,S=b.y,x=b.zoomLevel;this._graphics.zoom({x:C,y:S},x)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(b,C){if(!b)return _e().reject(tn.invalidParameters);var S=J().createObjectURL(b);return C=C||b.name,this.loadImageFromURL(S,C).then(function(x){return J().revokeObjectURL(b),x})}},{key:"loadImageFromURL",value:function(b,C){return!C||!b?_e().reject(tn.invalidParameters):this.execute(Ct.LOAD_IMAGE,C,b)}},{key:"addImageObject",value:function(b){return b?this.execute(Ct.ADD_IMAGE_OBJECT,b):_e().reject(tn.invalidParameters)}},{key:"startDrawingMode",value:function(b,C){return this._graphics.startDrawingMode(b,C)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(b){var C=this._graphics.getCroppedImageData(b);return C?this.loadImageFromURL(C.url,C.imageName):_e().reject(tn.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(b){this._graphics.setCropzoneRect(b)}},{key:"_flip",value:function(b){return this.execute(Ct.FLIP_IMAGE,b)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(b,C,S){var x=null;return S?x=this.executeSilent(Ct.ROTATE_IMAGE,b,C):x=this.execute(Ct.ROTATE_IMAGE,b,C),x}},{key:"rotate",value:function(b,C){return this._rotate("rotate",b,C)}},{key:"setAngle",value:function(b,C){return this._rotate("setAngle",b,C)}},{key:"setBrush",value:function(b){this._graphics.setBrush(b)}},{key:"setDrawingShape",value:function(b,C){this._graphics.setDrawingShape(b,C)}},{key:"setDrawingIcon",value:function(b,C){this._graphics.setIconStyle(b,C)}},{key:"addShape",value:function(b,C){return C=C||{},this._setPositions(C),this.execute(Ct.ADD_SHAPE,b,C)}},{key:"changeShape",value:function(b,C,S){var x=S?"executeSilent":"execute";return this[x](Ct.CHANGE_SHAPE,b,C)}},{key:"addText",value:function(b,C){return b=b||"",C=C||{},this.execute(Ct.ADD_TEXT,b,C)}},{key:"changeText",value:function(b,C){return C=C||"",this.execute(Ct.CHANGE_TEXT,b,C)}},{key:"changeTextStyle",value:function(b,C,S){var x=S?"executeSilent":"execute";return this[x](Ct.CHANGE_TEXT_STYLE,b,C)}},{key:"_changeActivateMode",value:function(b){b!=="ICON"&&this.getDrawingMode()!==b&&this.startDrawingMode(b)}},{key:"_onTextChanged",value:function(b){this.fire($e.TEXT_CHANGED,b)}},{key:"_onIconCreateResize",value:function(b){this.fire($e.ICON_CREATE_RESIZE,b)}},{key:"_onIconCreateEnd",value:function(b){this.fire($e.ICON_CREATE_END,b)}},{key:"_onTextEditing",value:function(){this.fire($e.TEXT_EDITING)}},{key:"_onAddText",value:function(b){this.fire($e.ADD_TEXT,{originPosition:b.originPosition,clientPosition:b.clientPosition})}},{key:"_onAddObject",value:function(b){var C=this._graphics.getObject(b.id);this._invoker.fire($e.EXECUTE_COMMAND,Wt(C.type)),this._pushAddObjectCommand(C)}},{key:"_onObjectAdded",value:function(b){this.fire(rI,b),this.fire(X3,b)}},{key:"_onObjectModified",value:function(b){b.type!==mt.CROPZONE&&(this._invoker.fire($e.EXECUTE_COMMAND,Wt(b.type)),this._pushModifyObjectCommand(b))}},{key:"_selectionCleared",value:function(){this.fire(iI)}},{key:"_selectionCreated",value:function(b){this.fire(oI,b)}},{key:"registerIcons",value:function(b){this._graphics.registerPaths(b)}},{key:"changeCursor",value:function(b){this._graphics.changeCursor(b)}},{key:"addIcon",value:function(b,C){return C=C||{},this._setPositions(C),this.execute(Ct.ADD_ICON,b,C)}},{key:"changeIconColor",value:function(b,C){return this.execute(Ct.CHANGE_ICON_COLOR,b,C)}},{key:"removeObject",value:function(b){var C=this._graphics.getObject(b),S=C.type;return this.execute(Ct.REMOVE_OBJECT,b,Wt(S))}},{key:"hasFilter",value:function(b){return this._graphics.hasFilter(b)}},{key:"removeFilter",value:function(b){return this.execute(Ct.REMOVE_FILTER,b)}},{key:"applyFilter",value:function(b,C,S){var x=S?"executeSilent":"execute";return this[x](Ct.APPLY_FILTER,b,C)}},{key:"toDataURL",value:function(b){return this._graphics.toDataURL(b)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(b){return b?this.execute(Ct.RESIZE_CANVAS_DIMENSION,b):_e().reject(tn.invalidParameters)}},{key:"destroy",value:function(){var b=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),ce()(this,function(C,S){b[S]=null},this)}},{key:"_setPositions",value:function(b){var C=this._graphics.getCenter();Z()(b.left)&&(b.left=C.left),Z()(b.top)&&(b.top=C.top)}},{key:"setObjectProperties",value:function(b,C){return this.execute(Ct.SET_OBJECT_PROPERTIES,b,C)}},{key:"setObjectPropertiesQuietly",value:function(b,C){this._graphics.setObjectProperties(b,C)}},{key:"getObjectProperties",value:function(b,C){var S=this._graphics.getObject(b);return S?this._graphics.getObjectProperties(b,C):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(b,C,S){return this._graphics.getObjectPosition(b,C,S)}},{key:"setObjectPosition",value:function(b,C){return this.execute(Ct.SET_OBJECT_POSITION,b,C)}},{key:"resize",value:function(b){return this.execute(Ct.RESIZE_IMAGE,b)}}]),z}();tF.mixin(M0),Pe().mixin(M0);var K3=M0,Z3=nt.ICON,Q3={name:Ct.ADD_ICON,execute:function(M,b,C){var S=this,x=M.getComponent(Z3);return x.add(b,C).then(function(R){return S.undoData.object=M.getObject(R.id),R})},undo:function(M){return M.remove(this.undoData.object),_e().resolve()}};bn.register(Q3);var J3={name:Ct.ADD_IMAGE_OBJECT,execute:function(M,b){var C=this;return M.addImageObject(b).then(function(S){return C.undoData.object=M.getObject(S.id),S})},undo:function(M){return M.remove(this.undoData.object),_e().resolve()}};bn.register(J3);var q3={name:Ct.ADD_OBJECT,execute:function(M,b){return new(_e())(function(C,S){M.contains(b)?S(tn.addedObject):(M.add(b),C(b))})},undo:function(M,b){return new(_e())(function(C,S){M.contains(b)?(M.remove(b),C(b)):S(tn.noObject)})}};bn.register(q3);var ez=nt.SHAPE,tz={name:Ct.ADD_SHAPE,execute:function(M,b,C){var S=this,x=M.getComponent(ez);return x.add(b,C).then(function(R){var j=R.id;return S.undoData.object=M.getObject(j),R})},undo:function(M){return M.remove(this.undoData.object),_e().resolve()}};bn.register(tz);var nz=nt.TEXT,rz={name:Ct.ADD_TEXT,execute:function(M,b,C){var S=this,x=M.getComponent(nz);if(this.undoData.object){var R=this.undoData.object;return new(_e())(function(j,V){M.contains(R)?V(tn.redo):(M.add(R),j(R))})}return x.add(b,C).then(function(j){var V=j.id,W=M.getObject(V);return S.undoData.object=W,tI(E0(W,function(){return T0(V,W,!1)})),j})},undo:function(M){return M.remove(this.undoData.object),_e().resolve()}};bn.register(rz);var sI=nt.FILTER,aI=null;function iz(z,M,b){var C={};return z==="mask"&&(C.object=b.mask),C.options=M,C}var oz={name:Ct.APPLY_FILTER,execute:function(M,b,C,S){var x=M.getComponent(sI);if(b==="mask"){var R=M.getObject(C.maskObjId);if(!(R&&R.isType("image")))return _e().reject(tn.invalidParameters);q()(C,{mask:R}),M.remove(C.mask)}if(!this.isRedo){var j=x.getOptions(b),V=iz(b,j,C);aI=this.setUndoData(V,aI,S)}return x.add(b,C)},undo:function(M,b){var C=M.getComponent(sI);if(b==="mask"){var S=this.undoData.object;return M.add(S),M.setActiveObject(S),C.remove(b)}return this.undoData.options?C.add(b,this.undoData.options):C.remove(b)}};bn.register(oz);var lI=nt.ICON,sz={name:Ct.CHANGE_ICON_COLOR,execute:function(M,b,C){var S=this;return new(_e())(function(x,R){var j=M.getComponent(lI),V=M.getObject(b);V||R(tn.noObject),S.undoData.object=V,S.undoData.color=j.getColor(V),j.setColor(C,V),x()})},undo:function(M){var b=M.getComponent(lI),C=this.undoData,S=C.object,x=C.color;return b.setColor(x,S),_e().resolve()}};bn.register(sz);var uI=nt.SHAPE,cI=null;function az(z,M){var b={object:M,options:{}};return Gp()(z,function(C,S){b.options[S]=M[S]}),b}var lz={name:Ct.CHANGE_SHAPE,execute:function(M,b,C,S){var x=M.getComponent(uI),R=M.getObject(b);if(!R)return _e().reject(tn.noObject);if(!this.isRedo){var j=az(C,R);cI=this.setUndoData(j,cI,S)}return x.change(R,C)},undo:function(M){var b=M.getComponent(uI),C=this.undoData,S=C.object,x=C.options;return b.change(S,x)}};bn.register(lz);var hI=nt.TEXT,uz={name:Ct.CHANGE_TEXT,execute:function(M,b,C){var S=M.getComponent(hI),x=M.getObject(b);return x?(this.undoData.object=x,this.undoData.text=S.getText(x),S.change(x,C)):_e().reject(tn.noObject)},undo:function(M){var b=M.getComponent(hI),C=this.undoData,S=C.object,x=C.text;return b.change(S,x)}};bn.register(uz);var fI=nt.TEXT,dI=null;function cz(z,M){var b={object:M,styles:{}};return Gp()(z,function(C,S){var x=M[S];b.styles[S]=x}),b}var hz={name:Ct.CHANGE_TEXT_STYLE,execute:function(M,b,C,S){var x=M.getComponent(fI),R=M.getObject(b);if(!R)return _e().reject(tn.noObject);if(!this.isRedo){var j=cz(C,R);dI=this.setUndoData(j,dI,S)}return x.setStyle(R,C)},undo:function(M){var b=M.getComponent(fI),C=this.undoData,S=C.object,x=C.styles;return b.setStyle(S,x)}};bn.register(hz);var fz={name:Ct.CLEAR_OBJECTS,execute:function(M){var b=this;return new(_e())(function(C){b.undoData.objects=M.removeAll(),C()})},undo:function(M){return M.add(this.undoData.objects),_e().resolve()}};bn.register(fz);var pI=nt.FLIP,dz={name:Ct.FLIP_IMAGE,execute:function(M,b){var C=M.getComponent(pI);return this.undoData.setting=C.getCurrentSetting(),C[b]()},undo:function(M){var b=M.getComponent(pI);return b.set(this.undoData.setting)}};bn.register(dz);var gI=nt.IMAGE_LOADER,pz={name:Ct.LOAD_IMAGE,execute:function(M,b,C){var S,x=M.getComponent(gI),R=x.getCanvasImage(),j=R?R.width:0,V=R?R.height:0,W=Yu()(S=M.removeAll(!0)).call(S,function(Q){return Q.type!=="cropzone"});return ht()(W).call(W,function(Q){Q.evented=!0}),this.undoData={name:x.getImageName(),image:R,objects:W},x.load(b,C).then(function(Q){return{oldWidth:j,oldHeight:V,newWidth:Q.width,newHeight:Q.height}})},undo:function(M){var b=M.getComponent(gI),C=this.undoData,S=C.objects,x=C.name,R=C.image;return M.removeAll(!0),M.add(S),b.load(x,R)}};bn.register(pz);var mI=nt.FILTER,gz={name:Ct.REMOVE_FILTER,execute:function(M,b){var C=M.getComponent(mI);return this.undoData.options=C.getOptions(b),C.remove(b)},undo:function(M,b){var C=M.getComponent(mI),S=this.undoData.options;return C.add(b,S)}};bn.register(gz);var mz={name:Ct.REMOVE_OBJECT,execute:function(M,b){var C=this;return new(_e())(function(S,x){C.undoData.objects=M.removeObjectById(b),C.undoData.objects.length?S():x(tn.noObject)})},undo:function(M){return M.add(this.undoData.objects),_e().resolve()}};bn.register(mz);var vz={name:Ct.RESIZE_CANVAS_DIMENSION,execute:function(M,b){var C=this;return new(_e())(function(S){C.undoData.size={width:M.cssMaxWidth,height:M.cssMaxHeight},M.setCssMaxDimension(b),M.adjustCanvasDimension(),S()})},undo:function(M){return M.setCssMaxDimension(this.undoData.size),M.adjustCanvasDimension(),_e().resolve()}};bn.register(vz);var vI=nt.ROTATION,yI=null;function yz(z){return{angle:z.getCurrentAngle()}}var wz={name:Ct.ROTATE_IMAGE,execute:function(M,b,C,S){var x=M.getComponent(vI);if(!this.isRedo){var R=yz(x);yI=this.setUndoData(R,yI,S)}return x[b](C)},undo:function(M){var b=M.getComponent(vI),C=Ce(this.args,3),S=C[1],x=C[2];return S==="setAngle"?b[S](this.undoData.angle):b.rotate(-x)}};bn.register(wz);var Sz={name:Ct.SET_OBJECT_PROPERTIES,execute:function(M,b,C){var S=this,x=M.getObject(b);return x?(this.undoData.props={},Gp()(C,function(R,j){S.undoData.props[j]=x[j]}),M.setObjectProperties(b,C),_e().resolve()):_e().reject(tn.noObject)},undo:function(M,b){var C=this.undoData.props;return M.setObjectProperties(b,C),_e().resolve()}};bn.register(Sz);var bz={name:Ct.SET_OBJECT_POSITION,execute:function(M,b,C){var S=M.getObject(b);return S?(this.undoData.objectId=b,this.undoData.props=M.getObjectProperties(b,["left","top"]),M.setObjectPosition(b,C),M.renderAll(),_e().resolve()):_e().reject(tn.noObject)},undo:function(M){var b=this.undoData,C=b.objectId,S=b.props;return M.setObjectProperties(C,S),M.renderAll(),_e().resolve()}};bn.register(bz);var _z={name:Ct.CHANGE_SELECTION,execute:function(M,b){return this.isRedo?ht()(b).call(b,function(C){M.setObjectProperties(C.id,C)}):this.undoData=_3(),_e().resolve()},undo:function(M){var b;return ht()(b=this.undoData).call(b,function(C){M.setObjectProperties(C.id,C)}),_e().resolve()}};bn.register(_z);var wI=nt.RESIZE,Cz={name:Ct.RESIZE_IMAGE,execute:function(M,b){var C=M.getComponent(wI),S=C.getOriginalDimensions();return S||(S=C.getCurrentDimensions()),this.undoData.dimensions=S,C.resize(b)},undo:function(M){var b=M.getComponent(wI);return b.resize(this.undoData.dimensions)}};bn.register(Cz);var xz=K3}(),s=s.default,s}()})})(bD);var Y8=bD.exports;/*! For license information please see toastui-react-image-editor.js.LICENSE.txt */(function(){var t={9406:function(i,o,s){i.exports=s(4877)},381:function(i,o,s){i.exports=s(5603)},8005:function(i,o,s){i.exports=s(4741)},7870:function(i,o,s){i.exports=s(4194)},7601:function(i,o,s){i.exports=s(2854)},651:function(i,o,s){i.exports=s(2)},2461:function(i,o,s){i.exports=s(5636)},9146:function(i,o,s){i.exports=s(5279)},6623:function(i,o,s){i.exports=s(9297)},7077:function(i,o,s){i.exports=s(8026)},9856:function(i,o,s){i.exports=s(2044)},4230:function(i,o,s){i.exports=s(2214)},184:function(i,o,s){i.exports=s(9256)},3742:function(i,o,s){i.exports=s(5659)},6135:function(i,o,s){s(9106);var a=s(5607);i.exports=a("Array").concat},3971:function(i,o,s){s(3436);var a=s(5607);i.exports=a("Array").filter},2671:function(i,o,s){s(5818);var a=s(5607);i.exports=a("Array").slice},1484:function(i,o,s){var a=s(6135),m=Array.prototype;i.exports=function(u){var d=u.concat;return u===m||u instanceof Array&&d===m.concat?a:d}},3669:function(i,o,s){var a=s(3971),m=Array.prototype;i.exports=function(u){var d=u.filter;return u===m||u instanceof Array&&d===m.filter?a:d}},7663:function(i,o,s){var a=s(2671),m=Array.prototype;i.exports=function(u){var d=u.slice;return u===m||u instanceof Array&&d===m.slice?a:d}},3213:function(i,o,s){s(3113);var a=s(7545).Object;i.exports=function(m,u){return a.create(m,u)}},3512:function(i,o,s){s(297);var a=s(7545).Object,m=i.exports=function(u,d,E){return a.defineProperty(u,d,E)};a.defineProperty.sham&&(m.sham=!0)},632:function(i,o,s){s(9189);var a=s(7545).Object,m=i.exports=function(u,d){return a.getOwnPropertyDescriptor(u,d)};a.getOwnPropertyDescriptor.sham&&(m.sham=!0)},1056:function(i,o,s){s(2509);var a=s(7545);i.exports=a.Object.getOwnPropertyDescriptors},2921:function(i,o,s){s(6187);var a=s(7545);i.exports=a.Object.getOwnPropertySymbols},8168:function(i,o,s){s(9234);var a=s(7545);i.exports=a.Object.getPrototypeOf},8651:function(i,o,s){s(2647);var a=s(7545);i.exports=a.Object.keys},3083:function(i,o,s){s(3222);var a=s(7545);i.exports=a.Object.setPrototypeOf},6577:function(i,o,s){s(5397);var a=s(7545);i.exports=a.Reflect.construct},5008:function(i,o,s){s(9106),s(6663),s(6187),s(9781),s(492),s(6681),s(9594),s(3665),s(9017),s(1250),s(9786),s(503),s(6565),s(9322),s(3610),s(6886),s(3514),s(8671),s(8556),s(1367);var a=s(7545);i.exports=a.Symbol},994:function(i,o,s){s(8939),s(6663),s(5454),s(3665);var a=s(9207);i.exports=a.f("iterator")},9297:function(i,o,s){var a=s(4963);i.exports=a},8026:function(i,o,s){var a=s(7820);i.exports=a},2044:function(i,o,s){var a=s(8980);i.exports=a},2214:function(i,o,s){var a=s(6672);i.exports=a},9256:function(i,o,s){var a=s(2285);s(177),s(9031),s(6658),s(1875),s(8658),s(4592),s(6680),i.exports=a},5659:function(i,o,s){var a=s(8535);i.exports=a},6235:function(i,o,s){var a=s(6447),m=s(9288);i.exports=function(u){if(a(u))return u;throw TypeError(m(u)+" is not a function")}},1404:function(i,o,s){var a=s(2091),m=s(9288);i.exports=function(u){if(a(u))return u;throw TypeError(m(u)+" is not a constructor")}},7757:function(i,o,s){var a=s(6447);i.exports=function(m){if(typeof m=="object"||a(m))return m;throw TypeError("Can't set "+String(m)+" as a prototype")}},7423:function(i){i.exports=function(){}},1138:function(i,o,s){var a=s(5744);i.exports=function(m){if(a(m))return m;throw TypeError(String(m)+" is not an object")}},8180:function(i,o,s){var a=s(101),m=s(7739),u=s(4104),d=function(E){return function(I,O,A){var D,v=a(I),l=u(v),c=m(A,l);if(E&&O!=O){for(;l>c;)if((D=v[c++])!=D)return!0}else for(;l>c;c++)if((E||c in v)&&v[c]===O)return E||c||0;return!E&&-1}};i.exports={includes:d(!0),indexOf:d(!1)}},454:function(i,o,s){var a=s(8043),m=s(2202),u=s(1795),d=s(4104),E=s(1321),I=[].push,O=function(A){var D=A==1,v=A==2,l=A==3,c=A==4,f=A==6,h=A==7,p=A==5||f;return function(g,y,_,w){for(var T,k,P=u(g),L=m(P),N=a(y,_,3),F=d(L),G=0,H=w||E,$=D?H(g,F):v||h?H(g,0):void 0;F>G;G++)if((p||G in L)&&(k=N(T=L[G],G,P),A))if(D)$[G]=k;else if(k)switch(A){case 3:return!0;case 5:return T;case 6:return G;case 2:I.call($,T)}else switch(A){case 4:return!1;case 7:I.call($,T)}return f?-1:l||c?c:$}};i.exports={forEach:O(0),map:O(1),filter:O(2),some:O(3),every:O(4),find:O(5),findIndex:O(6),filterReject:O(7)}},242:function(i,o,s){var a=s(6192),m=s(8182),u=s(4218),d=m("species");i.exports=function(E){return u>=51||!a(function(){var I=[];return(I.constructor={})[d]=function(){return{foo:1}},I[E](Boolean).foo!==1})}},3712:function(i,o,s){var a=s(4770),m=s(2091),u=s(5744),d=s(8182)("species");i.exports=function(E){var I;return a(E)&&(I=E.constructor,(m(I)&&(I===Array||a(I.prototype))||u(I)&&(I=I[d])===null)&&(I=void 0)),I===void 0?Array:I}},1321:function(i,o,s){var a=s(3712);i.exports=function(m,u){return new(a(m))(u===0?0:u)}},9272:function(i){var o={}.toString;i.exports=function(s){return o.call(s).slice(8,-1)}},4696:function(i,o,s){var a=s(3471),m=s(6447),u=s(9272),d=s(8182)("toStringTag"),E=u(function(){return arguments}())=="Arguments";i.exports=a?u:function(I){var O,A,D;return I===void 0?"Undefined":I===null?"Null":typeof(A=function(v,l){try{return v[l]}catch{}}(O=Object(I),d))=="string"?A:E?u(O):(D=u(O))=="Object"&&m(O.callee)?"Arguments":D}},4635:function(i,o,s){var a=s(6192);i.exports=!a(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},5148:function(i,o,s){var a=s(4413).IteratorPrototype,m=s(2853),u=s(774),d=s(1284),E=s(7771),I=function(){return this};i.exports=function(O,A,D){var v=A+" Iterator";return O.prototype=m(a,{next:u(1,D)}),d(O,v,!1,!0),E[v]=I,O}},8711:function(i,o,s){var a=s(69),m=s(2760),u=s(774);i.exports=a?function(d,E,I){return m.f(d,E,u(1,I))}:function(d,E,I){return d[E]=I,d}},774:function(i){i.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},9361:function(i,o,s){var a=s(77),m=s(2760),u=s(774);i.exports=function(d,E,I){var O=a(E);O in d?m.f(d,O,u(0,I)):d[O]=I}},7218:function(i,o,s){var a=s(3085),m=s(5546),u=s(2282),d=s(6447),E=s(5148),I=s(9341),O=s(4469),A=s(1284),D=s(8711),v=s(9482),l=s(8182),c=s(7771),f=s(4413),h=u.PROPER,p=u.CONFIGURABLE,g=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,_=l("iterator"),w="keys",T="values",k="entries",P=function(){return this};i.exports=function(L,N,F,G,H,$,re){E(F,N,G);var le,xe,ee,be=function(ne){if(ne===H&&J)return J;if(!y&&ne in _e)return _e[ne];switch(ne){case w:case T:case k:return function(){return new F(this,ne)}}return function(){return new F(this)}},K=N+" Iterator",Oe=!1,_e=L.prototype,fe=_e[_]||_e["@@iterator"]||H&&_e[H],J=!y&&fe||be(H),he=N=="Array"&&_e.entries||fe;if(he&&(le=I(he.call(new L)))!==Object.prototype&&le.next&&(m||I(le)===g||(O?O(le,g):d(le[_])||v(le,_,P)),A(le,K,!0,!0),m&&(c[K]=P)),h&&H==T&&fe&&fe.name!==T&&(!m&&p?D(_e,"name",T):(Oe=!0,J=function(){return fe.call(this)})),H)if(xe={values:be(T),keys:$?J:be(w),entries:be(k)},re)for(ee in xe)(y||Oe||!(ee in _e))&&v(_e,ee,xe[ee]);else a({target:N,proto:!0,forced:y||Oe},xe);return m&&!re||_e[_]===J||v(_e,_,J,{name:H}),c[N]=J,xe}},1488:function(i,o,s){var a=s(7545),m=s(4500),u=s(9207),d=s(2760).f;i.exports=function(E){var I=a.Symbol||(a.Symbol={});m(I,E)||d(I,E,{value:u.f(E)})}},69:function(i,o,s){var a=s(6192);i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},7449:function(i,o,s){var a=s(8576),m=s(5744),u=a.document,d=m(u)&&m(u.createElement);i.exports=function(E){return d?u.createElement(E):{}}},7365:function(i){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8989:function(i,o,s){var a=s(150);i.exports=a("navigator","userAgent")||""},4218:function(i,o,s){var a,m,u=s(8576),d=s(8989),E=u.process,I=u.Deno,O=E&&E.versions||I&&I.version,A=O&&O.v8;A?m=(a=A.split("."))[0]<4?1:a[0]+a[1]:d&&(!(a=d.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=d.match(/Chrome\/(\d+)/))&&(m=a[1]),i.exports=m&&+m},5607:function(i,o,s){var a=s(7545);i.exports=function(m){return a[m+"Prototype"]}},2952:function(i){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(i,o,s){var a=s(8576),m=s(6447),u=s(5141).f,d=s(9245),E=s(7545),I=s(8043),O=s(8711),A=s(4500),D=function(v){var l=function(c,f,h){if(this instanceof v){switch(arguments.length){case 0:return new v;case 1:return new v(c);case 2:return new v(c,f)}return new v(c,f,h)}return v.apply(this,arguments)};return l.prototype=v.prototype,l};i.exports=function(v,l){var c,f,h,p,g,y,_,w,T=v.target,k=v.global,P=v.stat,L=v.proto,N=k?a:P?a[T]:(a[T]||{}).prototype,F=k?E:E[T]||O(E,T,{})[T],G=F.prototype;for(h in l)c=!d(k?h:T+(P?".":"#")+h,v.forced)&&N&&A(N,h),g=F[h],c&&(y=v.noTargetGet?(w=u(N,h))&&w.value:N[h]),p=c&&y?y:l[h],c&&typeof g==typeof p||(_=v.bind&&c?I(p,a):v.wrap&&c?D(p):L&&m(p)?I(Function.call,p):p,(v.sham||p&&p.sham||g&&g.sham)&&O(_,"sham",!0),O(F,h,_),L&&(A(E,f=T+"Prototype")||O(E,f,{}),O(E[f],h,p),v.real&&G&&!G[h]&&O(G,h,p)))}},6192:function(i){i.exports=function(o){try{return!!o()}catch{return!0}}},8043:function(i,o,s){var a=s(6235);i.exports=function(m,u,d){if(a(m),u===void 0)return m;switch(d){case 0:return function(){return m.call(u)};case 1:return function(E){return m.call(u,E)};case 2:return function(E,I){return m.call(u,E,I)};case 3:return function(E,I,O){return m.call(u,E,I,O)}}return function(){return m.apply(u,arguments)}}},6782:function(i,o,s){var a=s(6235),m=s(5744),u=[].slice,d={},E=function(I,O,A){if(!(O in d)){for(var D=[],v=0;v<O;v++)D[v]="a["+v+"]";d[O]=Function("C,a","return new C("+D.join(",")+")")}return d[O](I,A)};i.exports=Function.bind||function(I){var O=a(this),A=u.call(arguments,1),D=function(){var v=A.concat(u.call(arguments));return this instanceof D?E(O,v.length,v):O.apply(I,v)};return m(O.prototype)&&(D.prototype=O.prototype),D}},2282:function(i,o,s){var a=s(69),m=s(4500),u=Function.prototype,d=a&&Object.getOwnPropertyDescriptor,E=m(u,"name"),I=E&&function(){}.name==="something",O=E&&(!a||a&&d(u,"name").configurable);i.exports={EXISTS:E,PROPER:I,CONFIGURABLE:O}},150:function(i,o,s){var a=s(7545),m=s(8576),u=s(6447),d=function(E){return u(E)?E:void 0};i.exports=function(E,I){return arguments.length<2?d(a[E])||d(m[E]):a[E]&&a[E][I]||m[E]&&m[E][I]}},5037:function(i,o,s){var a=s(6235);i.exports=function(m,u){var d=m[u];return d==null?void 0:a(d)}},8576:function(i,o,s){var a=function(m){return m&&m.Math==Math&&m};i.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},4500:function(i,o,s){var a=s(1795),m={}.hasOwnProperty;i.exports=Object.hasOwn||function(u,d){return m.call(a(u),d)}},4535:function(i){i.exports={}},7403:function(i,o,s){var a=s(150);i.exports=a("document","documentElement")},188:function(i,o,s){var a=s(69),m=s(6192),u=s(7449);i.exports=!a&&!m(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},2202:function(i,o,s){var a=s(6192),m=s(9272),u="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return m(d)=="String"?u.call(d,""):Object(d)}:Object},9516:function(i,o,s){var a=s(6447),m=s(6434),u=Function.toString;a(m.inspectSource)||(m.inspectSource=function(d){return u.call(d)}),i.exports=m.inspectSource},3326:function(i,o,s){var a,m,u,d=s(8921),E=s(8576),I=s(5744),O=s(8711),A=s(4500),D=s(6434),v=s(9766),l=s(4535),c="Object already initialized",f=E.WeakMap;if(d||D.state){var h=D.state||(D.state=new f),p=h.get,g=h.has,y=h.set;a=function(w,T){if(g.call(h,w))throw new TypeError(c);return T.facade=w,y.call(h,w,T),T},m=function(w){return p.call(h,w)||{}},u=function(w){return g.call(h,w)}}else{var _=v("state");l[_]=!0,a=function(w,T){if(A(w,_))throw new TypeError(c);return T.facade=w,O(w,_,T),T},m=function(w){return A(w,_)?w[_]:{}},u=function(w){return A(w,_)}}i.exports={set:a,get:m,has:u,enforce:function(w){return u(w)?m(w):a(w,{})},getterFor:function(w){return function(T){var k;if(!I(T)||(k=m(T)).type!==w)throw TypeError("Incompatible receiver, "+w+" required");return k}}}},4770:function(i,o,s){var a=s(9272);i.exports=Array.isArray||function(m){return a(m)=="Array"}},6447:function(i){i.exports=function(o){return typeof o=="function"}},2091:function(i,o,s){var a=s(6192),m=s(6447),u=s(4696),d=s(150),E=s(9516),I=[],O=d("Reflect","construct"),A=/^\s*(?:class|function)\b/,D=A.exec,v=!A.exec(function(){}),l=function(c){if(!m(c))return!1;try{return O(Object,I,c),!0}catch{return!1}};i.exports=!O||a(function(){var c;return l(l.call)||!l(Object)||!l(function(){c=!0})||c})?function(c){if(!m(c))return!1;switch(u(c)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return v||!!D.call(A,E(c))}:l},9245:function(i,o,s){var a=s(6192),m=s(6447),u=/#|\.prototype\./,d=function(D,v){var l=I[E(D)];return l==A||l!=O&&(m(v)?a(v):!!v)},E=d.normalize=function(D){return String(D).replace(u,".").toLowerCase()},I=d.data={},O=d.NATIVE="N",A=d.POLYFILL="P";i.exports=d},5744:function(i,o,s){var a=s(6447);i.exports=function(m){return typeof m=="object"?m!==null:a(m)}},5546:function(i){i.exports=!0},3236:function(i,o,s){var a=s(6447),m=s(150),u=s(615);i.exports=u?function(d){return typeof d=="symbol"}:function(d){var E=m("Symbol");return a(E)&&Object(d)instanceof E}},4413:function(i,o,s){var a,m,u,d=s(6192),E=s(6447),I=s(2853),O=s(9341),A=s(9482),D=s(8182),v=s(5546),l=D("iterator"),c=!1;[].keys&&("next"in(u=[].keys())?(m=O(O(u)))!==Object.prototype&&(a=m):c=!0),a==null||d(function(){var f={};return a[l].call(f)!==f})?a={}:v&&(a=I(a)),E(a[l])||A(a,l,function(){return this}),i.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:c}},7771:function(i){i.exports={}},4104:function(i,o,s){var a=s(8445);i.exports=function(m){return a(m.length)}},3045:function(i,o,s){var a=s(4218),m=s(6192);i.exports=!!Object.getOwnPropertySymbols&&!m(function(){var u=Symbol();return!String(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&a&&a<41})},8921:function(i,o,s){var a=s(8576),m=s(6447),u=s(9516),d=a.WeakMap;i.exports=m(d)&&/native code/.test(u(d))},2853:function(i,o,s){var a,m=s(1138),u=s(1187),d=s(2952),E=s(4535),I=s(7403),O=s(7449),A=s(9766)("IE_PROTO"),D=function(){},v=function(f){return"<script>"+f+"<\/script>"},l=function(f){f.write(v("")),f.close();var h=f.parentWindow.Object;return f=null,h},c=function(){try{a=new ActiveXObject("htmlfile")}catch{}var f,h;c=typeof document<"u"?document.domain&&a?l(a):((h=O("iframe")).style.display="none",I.appendChild(h),h.src="javascript:",(f=h.contentWindow.document).open(),f.write(v("document.F=Object")),f.close(),f.F):l(a);for(var p=d.length;p--;)delete c.prototype[d[p]];return c()};E[A]=!0,i.exports=Object.create||function(f,h){var p;return f!==null?(D.prototype=m(f),p=new D,D.prototype=null,p[A]=f):p=c(),h===void 0?p:u(p,h)}},1187:function(i,o,s){var a=s(69),m=s(2760),u=s(1138),d=s(7653);i.exports=a?Object.defineProperties:function(E,I){u(E);for(var O,A=d(I),D=A.length,v=0;D>v;)m.f(E,O=A[v++],I[O]);return E}},2760:function(i,o,s){var a=s(69),m=s(188),u=s(1138),d=s(77),E=Object.defineProperty;o.f=a?E:function(I,O,A){if(u(I),O=d(O),u(A),m)try{return E(I,O,A)}catch{}if("get"in A||"set"in A)throw TypeError("Accessors not supported");return"value"in A&&(I[O]=A.value),I}},5141:function(i,o,s){var a=s(69),m=s(6007),u=s(774),d=s(101),E=s(77),I=s(4500),O=s(188),A=Object.getOwnPropertyDescriptor;o.f=a?A:function(D,v){if(D=d(D),v=E(v),O)try{return A(D,v)}catch{}if(I(D,v))return u(!m.f.call(D,v),D[v])}},4052:function(i,o,s){var a=s(101),m=s(2092).f,u={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(E){return d&&u.call(E)=="[object Window]"?function(I){try{return m(I)}catch{return d.slice()}}(E):m(a(E))}},2092:function(i,o,s){var a=s(7934),m=s(2952).concat("length","prototype");o.f=Object.getOwnPropertyNames||function(u){return a(u,m)}},4750:function(i,o){o.f=Object.getOwnPropertySymbols},9341:function(i,o,s){var a=s(4500),m=s(6447),u=s(1795),d=s(9766),E=s(4635),I=d("IE_PROTO"),O=Object.prototype;i.exports=E?Object.getPrototypeOf:function(A){var D=u(A);if(a(D,I))return D[I];var v=D.constructor;return m(v)&&D instanceof v?v.prototype:D instanceof Object?O:null}},7934:function(i,o,s){var a=s(4500),m=s(101),u=s(8180).indexOf,d=s(4535);i.exports=function(E,I){var O,A=m(E),D=0,v=[];for(O in A)!a(d,O)&&a(A,O)&&v.push(O);for(;I.length>D;)a(A,O=I[D++])&&(~u(v,O)||v.push(O));return v}},7653:function(i,o,s){var a=s(7934),m=s(2952);i.exports=Object.keys||function(u){return a(u,m)}},6007:function(i,o){var s={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,m=a&&!s.call({1:2},1);o.f=m?function(u){var d=a(this,u);return!!d&&d.enumerable}:s},4469:function(i,o,s){var a=s(1138),m=s(7757);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,d=!1,E={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),d=E instanceof Array}catch{}return function(I,O){return a(I),m(O),d?u.call(I,O):I.__proto__=O,I}}():void 0)},158:function(i,o,s){var a=s(3471),m=s(4696);i.exports=a?{}.toString:function(){return"[object "+m(this)+"]"}},380:function(i,o,s){var a=s(6447),m=s(5744);i.exports=function(u,d){var E,I;if(d==="string"&&a(E=u.toString)&&!m(I=E.call(u))||a(E=u.valueOf)&&!m(I=E.call(u))||d!=="string"&&a(E=u.toString)&&!m(I=E.call(u)))return I;throw TypeError("Can't convert object to primitive value")}},3011:function(i,o,s){var a=s(150),m=s(2092),u=s(4750),d=s(1138);i.exports=a("Reflect","ownKeys")||function(E){var I=m.f(d(E)),O=u.f;return O?I.concat(O(E)):I}},7545:function(i){i.exports={}},9482:function(i,o,s){var a=s(8711);i.exports=function(m,u,d,E){E&&E.enumerable?m[u]=d:a(m,u,d)}},3209:function(i){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},7613:function(i,o,s){var a=s(8576);i.exports=function(m,u){try{Object.defineProperty(a,m,{value:u,configurable:!0,writable:!0})}catch{a[m]=u}return u}},1284:function(i,o,s){var a=s(3471),m=s(2760).f,u=s(8711),d=s(4500),E=s(158),I=s(8182)("toStringTag");i.exports=function(O,A,D,v){if(O){var l=D?O:O.prototype;d(l,I)||m(l,I,{configurable:!0,value:A}),v&&!a&&u(l,"toString",E)}}},9766:function(i,o,s){var a=s(8717),m=s(2759),u=a("keys");i.exports=function(d){return u[d]||(u[d]=m(d))}},6434:function(i,o,s){var a=s(8576),m=s(7613),u="__core-js_shared__",d=a[u]||m(u,{});i.exports=d},8717:function(i,o,s){var a=s(5546),m=s(6434);(i.exports=function(u,d){return m[u]||(m[u]=d!==void 0?d:{})})("versions",[]).push({version:"3.18.2",mode:a?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},863:function(i,o,s){var a=s(1941),m=s(4845),u=s(3209),d=function(E){return function(I,O){var A,D,v=m(u(I)),l=a(O),c=v.length;return l<0||l>=c?E?"":void 0:(A=v.charCodeAt(l))<55296||A>56319||l+1===c||(D=v.charCodeAt(l+1))<56320||D>57343?E?v.charAt(l):A:E?v.slice(l,l+2):D-56320+(A-55296<<10)+65536}};i.exports={codeAt:d(!1),charAt:d(!0)}},7739:function(i,o,s){var a=s(1941),m=Math.max,u=Math.min;i.exports=function(d,E){var I=a(d);return I<0?m(I+E,0):u(I,E)}},101:function(i,o,s){var a=s(2202),m=s(3209);i.exports=function(u){return a(m(u))}},1941:function(i){var o=Math.ceil,s=Math.floor;i.exports=function(a){var m=+a;return m!=m||m===0?0:(m>0?s:o)(m)}},8445:function(i,o,s){var a=s(1941),m=Math.min;i.exports=function(u){return u>0?m(a(u),9007199254740991):0}},1795:function(i,o,s){var a=s(3209);i.exports=function(m){return Object(a(m))}},7888:function(i,o,s){var a=s(5744),m=s(3236),u=s(5037),d=s(380),E=s(8182)("toPrimitive");i.exports=function(I,O){if(!a(I)||m(I))return I;var A,D=u(I,E);if(D){if(O===void 0&&(O="default"),A=D.call(I,O),!a(A)||m(A))return A;throw TypeError("Can't convert object to primitive value")}return O===void 0&&(O="number"),d(I,O)}},77:function(i,o,s){var a=s(7888),m=s(3236);i.exports=function(u){var d=a(u,"string");return m(d)?d:String(d)}},3471:function(i,o,s){var a={};a[s(8182)("toStringTag")]="z",i.exports=String(a)==="[object z]"},4845:function(i,o,s){var a=s(4696);i.exports=function(m){if(a(m)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(m)}},9288:function(i){i.exports=function(o){try{return String(o)}catch{return"Object"}}},2759:function(i){var o=0,s=Math.random();i.exports=function(a){return"Symbol("+String(a===void 0?"":a)+")_"+(++o+s).toString(36)}},615:function(i,o,s){var a=s(3045);i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},9207:function(i,o,s){var a=s(8182);o.f=a},8182:function(i,o,s){var a=s(8576),m=s(8717),u=s(4500),d=s(2759),E=s(3045),I=s(615),O=m("wks"),A=a.Symbol,D=I?A:A&&A.withoutSetter||d;i.exports=function(v){return u(O,v)&&(E||typeof O[v]=="string")||(E&&u(A,v)?O[v]=A[v]:O[v]=D("Symbol."+v)),O[v]}},9106:function(i,o,s){var a=s(3085),m=s(6192),u=s(4770),d=s(5744),E=s(1795),I=s(4104),O=s(9361),A=s(1321),D=s(242),v=s(8182),l=s(4218),c=v("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",p=l>=51||!m(function(){var _=[];return _[c]=!1,_.concat()[0]!==_}),g=D("concat"),y=function(_){if(!d(_))return!1;var w=_[c];return w!==void 0?!!w:u(_)};a({target:"Array",proto:!0,forced:!p||!g},{concat:function(_){var w,T,k,P,L,N=E(this),F=A(N,0),G=0;for(w=-1,k=arguments.length;w<k;w++)if(y(L=w===-1?N:arguments[w])){if(G+(P=I(L))>f)throw TypeError(h);for(T=0;T<P;T++,G++)T in L&&O(F,G,L[T])}else{if(G>=f)throw TypeError(h);O(F,G++,L)}return F.length=G,F}})},3436:function(i,o,s){var a=s(3085),m=s(454).filter;a({target:"Array",proto:!0,forced:!s(242)("filter")},{filter:function(u){return m(this,u,arguments.length>1?arguments[1]:void 0)}})},8939:function(i,o,s){var a=s(101),m=s(7423),u=s(7771),d=s(3326),E=s(7218),I="Array Iterator",O=d.set,A=d.getterFor(I);i.exports=E(Array,"Array",function(D,v){O(this,{type:I,target:a(D),index:0,kind:v})},function(){var D=A(this),v=D.target,l=D.kind,c=D.index++;return!v||c>=v.length?(D.target=void 0,{value:void 0,done:!0}):l=="keys"?{value:c,done:!1}:l=="values"?{value:v[c],done:!1}:{value:[c,v[c]],done:!1}},"values"),u.Arguments=u.Array,m("keys"),m("values"),m("entries")},5818:function(i,o,s){var a=s(3085),m=s(4770),u=s(2091),d=s(5744),E=s(7739),I=s(4104),O=s(101),A=s(9361),D=s(8182),v=s(242)("slice"),l=D("species"),c=[].slice,f=Math.max;a({target:"Array",proto:!0,forced:!v},{slice:function(h,p){var g,y,_,w=O(this),T=I(w),k=E(h,T),P=E(p===void 0?T:p,T);if(m(w)&&(g=w.constructor,(u(g)&&(g===Array||m(g.prototype))||d(g)&&(g=g[l])===null)&&(g=void 0),g===Array||g===void 0))return c.call(w,k,P);for(y=new(g===void 0?Array:g)(f(P-k,0)),_=0;k<P;k++,_++)k in w&&A(y,_,w[k]);return y.length=_,y}})},8671:function(i,o,s){var a=s(8576);s(1284)(a.JSON,"JSON",!0)},8556:function(){},3113:function(i,o,s){s(3085)({target:"Object",stat:!0,sham:!s(69)},{create:s(2853)})},297:function(i,o,s){var a=s(3085),m=s(69);a({target:"Object",stat:!0,forced:!m,sham:!m},{defineProperty:s(2760).f})},9189:function(i,o,s){var a=s(3085),m=s(6192),u=s(101),d=s(5141).f,E=s(69),I=m(function(){d(1)});a({target:"Object",stat:!0,forced:!E||I,sham:!E},{getOwnPropertyDescriptor:function(O,A){return d(u(O),A)}})},2509:function(i,o,s){var a=s(3085),m=s(69),u=s(3011),d=s(101),E=s(5141),I=s(9361);a({target:"Object",stat:!0,sham:!m},{getOwnPropertyDescriptors:function(O){for(var A,D,v=d(O),l=E.f,c=u(v),f={},h=0;c.length>h;)(D=l(v,A=c[h++]))!==void 0&&I(f,A,D);return f}})},9234:function(i,o,s){var a=s(3085),m=s(6192),u=s(1795),d=s(9341),E=s(4635);a({target:"Object",stat:!0,forced:m(function(){d(1)}),sham:!E},{getPrototypeOf:function(I){return d(u(I))}})},2647:function(i,o,s){var a=s(3085),m=s(1795),u=s(7653);a({target:"Object",stat:!0,forced:s(6192)(function(){u(1)})},{keys:function(d){return u(m(d))}})},3222:function(i,o,s){s(3085)({target:"Object",stat:!0},{setPrototypeOf:s(4469)})},6663:function(){},5397:function(i,o,s){var a=s(3085),m=s(150),u=s(1404),d=s(1138),E=s(5744),I=s(2853),O=s(6782),A=s(6192),D=m("Reflect","construct"),v=A(function(){function f(){}return!(D(function(){},[],f)instanceof f)}),l=!A(function(){D(function(){})}),c=v||l;a({target:"Reflect",stat:!0,forced:c,sham:c},{construct:function(f,h){u(f),d(h);var p=arguments.length<3?f:u(arguments[2]);if(l&&!v)return D(f,h,p);if(f==p){switch(h.length){case 0:return new f;case 1:return new f(h[0]);case 2:return new f(h[0],h[1]);case 3:return new f(h[0],h[1],h[2]);case 4:return new f(h[0],h[1],h[2],h[3])}var g=[null];return g.push.apply(g,h),new(O.apply(f,g))}var y=p.prototype,_=I(E(y)?y:Object.prototype),w=Function.apply.call(f,_,h);return E(w)?w:_}})},1367:function(){},5454:function(i,o,s){var a=s(863).charAt,m=s(4845),u=s(3326),d=s(7218),E="String Iterator",I=u.set,O=u.getterFor(E);d(String,"String",function(A){I(this,{type:E,string:m(A),index:0})},function(){var A,D=O(this),v=D.string,l=D.index;return l>=v.length?{value:void 0,done:!0}:(A=a(v,l),D.index+=A.length,{value:A,done:!1})})},9781:function(i,o,s){s(1488)("asyncIterator")},492:function(){},6681:function(i,o,s){s(1488)("hasInstance")},9594:function(i,o,s){s(1488)("isConcatSpreadable")},3665:function(i,o,s){s(1488)("iterator")},6187:function(i,o,s){var a=s(3085),m=s(8576),u=s(150),d=s(5546),E=s(69),I=s(3045),O=s(6192),A=s(4500),D=s(4770),v=s(6447),l=s(5744),c=s(3236),f=s(1138),h=s(1795),p=s(101),g=s(77),y=s(4845),_=s(774),w=s(2853),T=s(7653),k=s(2092),P=s(4052),L=s(4750),N=s(5141),F=s(2760),G=s(6007),H=s(9482),$=s(8717),re=s(9766),le=s(4535),xe=s(2759),ee=s(8182),be=s(9207),K=s(1488),Oe=s(1284),_e=s(3326),fe=s(454).forEach,J=re("hidden"),he="Symbol",ne=ee("toPrimitive"),q=_e.set,ye=_e.getterFor(he),Z=Object.prototype,te=m.Symbol,ce=u("JSON","stringify"),de=N.f,Pe=F.f,ke=P.f,We=G.f,pe=$("symbols"),Te=$("op-symbols"),ge=$("string-to-symbol-registry"),ue=$("symbol-to-string-registry"),Se=$("wks"),Ce=m.QObject,Ee=!Ce||!Ce.prototype||!Ce.prototype.findChild,Re=E&&O(function(){return w(Pe({},"a",{get:function(){return Pe(this,"a",{value:7}).a}})).a!=7})?function(lt,wt,yt){var xt=de(Z,wt);xt&&delete Z[wt],Pe(lt,wt,yt),xt&&lt!==Z&&Pe(Z,wt,xt)}:Pe,Ke=function(lt,wt){var yt=pe[lt]=w(te.prototype);return q(yt,{type:he,tag:lt,description:wt}),E||(yt.description=wt),yt},ht=function(lt,wt,yt){lt===Z&&ht(Te,wt,yt),f(lt);var xt=g(wt);return f(yt),A(pe,xt)?(yt.enumerable?(A(lt,J)&&lt[J][xt]&&(lt[J][xt]=!1),yt=w(yt,{enumerable:_(0,!1)})):(A(lt,J)||Pe(lt,J,_(1,{})),lt[J][xt]=!0),Re(lt,xt,yt)):Pe(lt,xt,yt)},ft=function(lt,wt){f(lt);var yt=p(wt),xt=T(yt).concat(Lt(yt));return fe(xt,function(Ht){E&&!Be.call(yt,Ht)||ht(lt,Ht,yt[Ht])}),lt},Be=function(lt){var wt=g(lt),yt=We.call(this,wt);return!(this===Z&&A(pe,wt)&&!A(Te,wt))&&(!(yt||!A(this,wt)||!A(pe,wt)||A(this,J)&&this[J][wt])||yt)},vt=function(lt,wt){var yt=p(lt),xt=g(wt);if(yt!==Z||!A(pe,xt)||A(Te,xt)){var Ht=de(yt,xt);return!Ht||!A(pe,xt)||A(yt,J)&&yt[J][xt]||(Ht.enumerable=!0),Ht}},bt=function(lt){var wt=ke(p(lt)),yt=[];return fe(wt,function(xt){A(pe,xt)||A(le,xt)||yt.push(xt)}),yt},Lt=function(lt){var wt=lt===Z,yt=ke(wt?Te:p(lt)),xt=[];return fe(yt,function(Ht){!A(pe,Ht)||wt&&!A(Z,Ht)||xt.push(pe[Ht])}),xt};if(I||(te=function(){if(this instanceof te)throw TypeError("Symbol is not a constructor");var lt=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,wt=xe(lt),yt=function(xt){this===Z&&yt.call(Te,xt),A(this,J)&&A(this[J],wt)&&(this[J][wt]=!1),Re(this,wt,_(1,xt))};return E&&Ee&&Re(Z,wt,{configurable:!0,set:yt}),Ke(wt,lt)},H(te.prototype,"toString",function(){return ye(this).tag}),H(te,"withoutSetter",function(lt){return Ke(xe(lt),lt)}),G.f=Be,F.f=ht,N.f=vt,k.f=P.f=bt,L.f=Lt,be.f=function(lt){return Ke(ee(lt),lt)},E&&(Pe(te.prototype,"description",{configurable:!0,get:function(){return ye(this).description}}),d||H(Z,"propertyIsEnumerable",Be,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!I,sham:!I},{Symbol:te}),fe(T(Se),function(lt){K(lt)}),a({target:he,stat:!0,forced:!I},{for:function(lt){var wt=y(lt);if(A(ge,wt))return ge[wt];var yt=te(wt);return ge[wt]=yt,ue[yt]=wt,yt},keyFor:function(lt){if(!c(lt))throw TypeError(lt+" is not a symbol");if(A(ue,lt))return ue[lt]},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),a({target:"Object",stat:!0,forced:!I,sham:!E},{create:function(lt,wt){return wt===void 0?w(lt):ft(w(lt),wt)},defineProperty:ht,defineProperties:ft,getOwnPropertyDescriptor:vt}),a({target:"Object",stat:!0,forced:!I},{getOwnPropertyNames:bt,getOwnPropertySymbols:Lt}),a({target:"Object",stat:!0,forced:O(function(){L.f(1)})},{getOwnPropertySymbols:function(lt){return L.f(h(lt))}}),ce&&a({target:"JSON",stat:!0,forced:!I||O(function(){var lt=te();return ce([lt])!="[null]"||ce({a:lt})!="{}"||ce(Object(lt))!="{}"})},{stringify:function(lt,wt,yt){for(var xt,Ht=[lt],Sn=1;arguments.length>Sn;)Ht.push(arguments[Sn++]);if(xt=wt,(l(wt)||lt!==void 0)&&!c(lt))return D(wt)||(wt=function(He,Xe){if(v(xt)&&(Xe=xt.call(this,He,Xe)),!c(Xe))return Xe}),Ht[1]=wt,ce.apply(null,Ht)}}),!te.prototype[ne]){var fn=te.prototype.valueOf;H(te.prototype,ne,function(){return fn.apply(this,arguments)})}Oe(te,he),le[J]=!0},1250:function(i,o,s){s(1488)("matchAll")},9017:function(i,o,s){s(1488)("match")},9786:function(i,o,s){s(1488)("replace")},503:function(i,o,s){s(1488)("search")},6565:function(i,o,s){s(1488)("species")},9322:function(i,o,s){s(1488)("split")},3610:function(i,o,s){s(1488)("toPrimitive")},6886:function(i,o,s){s(1488)("toStringTag")},3514:function(i,o,s){s(1488)("unscopables")},177:function(i,o,s){s(1488)("asyncDispose")},9031:function(i,o,s){s(1488)("dispose")},6658:function(i,o,s){s(1488)("matcher")},1875:function(i,o,s){s(1488)("metadata")},8658:function(i,o,s){s(1488)("observable")},4592:function(i,o,s){s(1488)("patternMatch")},6680:function(i,o,s){s(1488)("replaceAll")},162:function(i,o,s){s(8939);var a=s(7365),m=s(8576),u=s(4696),d=s(8711),E=s(7771),I=s(8182)("toStringTag");for(var O in a){var A=m[O],D=A&&A.prototype;D&&u(D)!==I&&d(D,I,O),E[O]=E.Array}},4877:function(i,o,s){var a=s(1484);i.exports=a},5603:function(i,o,s){var a=s(3669);i.exports=a},4741:function(i,o,s){var a=s(7663);i.exports=a},4963:function(i,o,s){var a=s(3213);i.exports=a},7820:function(i,o,s){var a=s(3512);i.exports=a},4194:function(i,o,s){var a=s(632);i.exports=a},2854:function(i,o,s){var a=s(1056);i.exports=a},2:function(i,o,s){var a=s(2921);i.exports=a},8980:function(i,o,s){var a=s(8168);i.exports=a},5636:function(i,o,s){var a=s(8651);i.exports=a},6672:function(i,o,s){var a=s(3083);i.exports=a},5279:function(i,o,s){var a=s(6577);i.exports=a},2285:function(i,o,s){var a=s(5008);s(162),i.exports=a},8535:function(i,o,s){var a=s(994);s(162),i.exports=a}},e={};function n(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,{a:o}),o},n.d=function(i,o){for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(function(){n.r(r),n.d(r,{default:function(){return be}});var i=n(9146),o=n.n(i),s=n(651),a=n.n(s),m=n(7870),u=n.n(m),d=n(7601),E=n.n(d);function I(K,Oe){if(!(K instanceof Oe))throw new TypeError("Cannot call a class as a function")}var O=n(7077);function A(K,Oe){for(var _e=0;_e<Oe.length;_e++){var fe=Oe[_e];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),O(K,fe.key,fe)}}function D(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}var v=n(6623),l=n(4230);function c(K,Oe){return c=l||function(_e,fe){return _e.__proto__=fe,_e},c(K,Oe)}var f=n(184),h=n(3742);function p(K){return p=typeof f=="function"&&typeof h=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof f=="function"&&Oe.constructor===f&&Oe!==f.prototype?"symbol":typeof Oe},p(K)}function g(K,Oe){if(Oe&&(p(Oe)==="object"||typeof Oe=="function"))return Oe;if(Oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(K)}var y=n(9856);function _(K){return _=l?y:function(Oe){return Oe.__proto__||y(Oe)},_(K)}function w(K,Oe,_e){return Oe in K?O(K,Oe,{value:_e,enumerable:!0,configurable:!0,writable:!0}):K[Oe]=_e,K}var T=n(9406),k=n.n(T),P=n(381),L=n.n(P),N=n(2461),F=n.n(N),G=n(8005),H=n.n(G),$=Ae,re=n.n($),le=Y8,xe=n.n(le);function ee(K,Oe){var _e=F()(K);if(a()){var fe=a()(K);Oe&&(fe=L()(fe).call(fe,function(J){return u()(K,J).enumerable})),_e.push.apply(_e,fe)}return _e}var be=function(K){(function(q,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=v(ye&&ye.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),ye&&c(q,ye)})(ne,K);var Oe,_e,fe,J,he=(fe=ne,J=function(){if(typeof Reflect>"u"||!o()||o().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var q,ye=_(fe);if(J){var Z=_(this).constructor;q=o()(ye,arguments,Z)}else q=ye.apply(this,arguments);return g(this,q)});function ne(){var q,ye;I(this,ne);for(var Z=arguments.length,te=new Array(Z),ce=0;ce<Z;ce++)te[ce]=arguments[ce];return w(D(ye=he.call.apply(he,k()(q=[this]).call(q,te))),"rootEl",re().createRef()),w(D(ye),"imageEditorInst",null),ye}return Oe=ne,_e=[{key:"componentDidMount",value:function(){this.imageEditorInst=new(xe())(this.rootEl.current,function(q){for(var ye=1;ye<arguments.length;ye++){var Z=arguments[ye]!=null?arguments[ye]:{};ye%2?ee(Object(Z),!0).forEach(function(te){w(q,te,Z[te])}):E()?Object.defineProperties(q,E()(Z)):ee(Object(Z)).forEach(function(te){Object.defineProperty(q,te,u()(Z,te))})}return q}({},this.props)),this.bindEventHandlers(this.props)}},{key:"componentWillUnmount",value:function(){this.unbindEventHandlers(),this.imageEditorInst.destroy(),this.imageEditorInst=null}},{key:"shouldComponentUpdate",value:function(q){return this.bindEventHandlers(this.props,q),!1}},{key:"getInstance",value:function(){return this.imageEditorInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"bindEventHandlers",value:function(q,ye){var Z,te=this;L()(Z=F()(q)).call(Z,this.isEventHandlerKeys).forEach(function(ce){var de=ce[2].toLowerCase()+H()(ce).call(ce,3);ye&&ye[ce]!==q[ce]&&te.imageEditorInst.off(de),te.imageEditorInst.on(de,q[ce])})}},{key:"unbindEventHandlers",value:function(){var q,ye=this;L()(q=F()(this.props)).call(q,this.isEventHandlerKeys).forEach(function(Z){var te=Z[2].toLowerCase()+H()(Z).call(Z,3);ye.imageEditorInst.off(te)})}},{key:"isEventHandlerKeys",value:function(q){return/on[A-Z][a-zA-Z]+/.test(q)}},{key:"render",value:function(){return re().createElement("div",{ref:this.rootEl})}}],_e&&A(Oe.prototype,_e),ne}(re().Component)})()})();const X8=()=>ie.jsxs(ie.Fragment,{children:[ie.jsx(f_,{}),ie.jsx(y8,{}),ie.jsx(vD,{}),ie.jsx(D8,{}),ie.jsx(W8,{}),ie.jsx(j8,{}),ie.jsx(p_,{})]});var ow={exports:{}},sw,sT;function K8(){if(sT)return sw;sT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sw=t,sw}var aw,aT;function Z8(){if(aT)return aw;aT=1;var t=K8();function e(){}function n(){}return n.resetWarningCache=e,aw=function(){function r(s,a,m,u,d,E){if(E!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},aw}var lT;function Lo(){return lT||(lT=1,ow.exports=Z8()()),ow.exports}var Q8=Lo();const rn=Ud(Q8);var uT={exports:{}},nu={},nS={exports:{}},jo={},rS={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(E,I){return I.getPropertyValue("overflow")!=="visible"||E.scrollWidth<=0&&E.scrollHeight<=0}function s(E){var I=E.offsetWidth<=0&&E.offsetHeight<=0;if(I&&!E.innerHTML)return!0;try{var O=window.getComputedStyle(E),A=O.getPropertyValue("display");return I?A!==r&&o(E,O):A===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(E){for(var I=E,O=E.getRootNode&&E.getRootNode();I&&I!==document.body;){if(O&&I===O&&(I=O.host.parentNode),s(I))return!1;I=I.parentNode}return!0}function m(E,I){var O=E.nodeName.toLowerCase(),A=i.test(O)&&!E.disabled||O==="a"&&E.href||I;return A&&a(E)}function u(E){var I=E.getAttribute("tabindex");I===null&&(I=void 0);var O=isNaN(I);return(O||I>=0)&&m(E,!O)}function d(E){var I=[].slice.call(E.querySelectorAll("*"),0).reduce(function(O,A){return O.concat(A.shadowRoot?d(A.shadowRoot):[A])},[]);return I.filter(u)}t.exports=e.default})(rS,rS.exports);var _D=rS.exports;Object.defineProperty(jo,"__esModule",{value:!0});jo.resetState=t9;jo.log=n9;jo.handleBlur=ld;jo.handleFocus=ud;jo.markForFocusLater=r9;jo.returnFocus=i9;jo.popWithoutFocus=o9;jo.setupScopedFocus=s9;jo.teardownScopedFocus=a9;var J8=_D,q8=e9(J8);function e9(t){return t&&t.__esModule?t:{default:t}}var Uc=[],mc=null,iS=!1;function t9(){Uc=[]}function n9(){}function ld(){iS=!0}function ud(){if(iS){if(iS=!1,!mc)return;setTimeout(function(){if(!mc.contains(document.activeElement)){var t=(0,q8.default)(mc)[0]||mc;t.focus()}},0)}}function r9(){Uc.push(document.activeElement)}function i9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Uc.length!==0&&(e=Uc.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function o9(){Uc.length>0&&Uc.pop()}function s9(t){mc=t,window.addEventListener?(window.addEventListener("blur",ld,!1),document.addEventListener("focus",ud,!0)):(window.attachEvent("onBlur",ld),document.attachEvent("onFocus",ud))}function a9(){mc=null,window.addEventListener?(window.removeEventListener("blur",ld),document.removeEventListener("focus",ud)):(window.detachEvent("onBlur",ld),document.detachEvent("onFocus",ud))}var oS={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=_D,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,m){var u=(0,r.default)(a);if(!u.length){m.preventDefault();return}var d=void 0,E=m.shiftKey,I=u[0],O=u[u.length-1],A=o();if(a===A){if(!E)return;d=O}if(O===A&&!E&&(d=I),I===A&&E&&(d=O),d){m.preventDefault(),d.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),v=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(v){var l=u.indexOf(A);if(l>-1&&(l+=E?-1:1),d=u[l],typeof d>"u"){m.preventDefault(),d=E?O:I,d.focus();return}m.preventDefault(),d.focus()}}t.exports=e.default})(oS,oS.exports);var l9=oS.exports,Fo={},u9=function(){},c9=u9,ko={},CD={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(CD);var h9=CD.exports;Object.defineProperty(ko,"__esModule",{value:!0});ko.canUseDOM=ko.SafeNodeList=ko.SafeHTMLCollection=void 0;var f9=h9,d9=p9(f9);function p9(t){return t&&t.__esModule?t:{default:t}}var ry=d9.default,g9=ry.canUseDOM?window.HTMLElement:{};ko.SafeHTMLCollection=ry.canUseDOM?window.HTMLCollection:{};ko.SafeNodeList=ry.canUseDOM?window.NodeList:{};ko.canUseDOM=ry.canUseDOM;ko.default=g9;Object.defineProperty(Fo,"__esModule",{value:!0});Fo.resetState=S9;Fo.log=b9;Fo.assertNodeList=xD;Fo.setElement=_9;Fo.validateElement=g_;Fo.hide=C9;Fo.show=x9;Fo.documentNotReadyOrSSRTesting=I9;var m9=c9,v9=w9(m9),y9=ko;function w9(t){return t&&t.__esModule?t:{default:t}}var ro=null;function S9(){ro&&(ro.removeAttribute?ro.removeAttribute("aria-hidden"):ro.length!=null?ro.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(ro).forEach(function(t){return t.removeAttribute("aria-hidden")})),ro=null}function b9(){}function xD(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function _9(t){var e=t;if(typeof e=="string"&&y9.canUseDOM){var n=document.querySelectorAll(e);xD(n,e),e=n}return ro=e||ro,ro}function g_(t){var e=t||ro;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,v9.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function C9(t){var e=!0,n=!1,r=void 0;try{for(var i=g_(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function x9(t){var e=!0,n=!1,r=void 0;try{for(var i=g_(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function I9(){ro=null}var lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.resetState=E9;lh.log=T9;var Mf={},Of={};function cT(t,e){t.classList.remove(e)}function E9(){var t=document.getElementsByTagName("html")[0];for(var e in Mf)cT(t,Mf[e]);var n=document.body;for(var r in Of)cT(n,Of[r]);Mf={},Of={}}function T9(){}var M9=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},O9=function(e,n){return e[n]&&(e[n]-=1),n},k9=function(e,n,r){r.forEach(function(i){M9(n,i),e.add(i)})},A9=function(e,n,r){r.forEach(function(i){O9(n,i),n[i]===0&&e.remove(i)})};lh.add=function(e,n){return k9(e.classList,e.nodeName.toLowerCase()=="html"?Mf:Of,n.split(" "))};lh.remove=function(e,n){return A9(e.classList,e.nodeName.toLowerCase()=="html"?Mf:Of,n.split(" "))};var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.log=P9;uh.resetState=N9;function D9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ID=function t(){var e=this;D9(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Jm=new ID;function P9(){console.log("portalOpenInstances ----------"),console.log(Jm.openInstances.length),Jm.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function N9(){Jm=new ID}uh.default=Jm;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.resetState=F9;m_.log=z9;var R9=uh,L9=j9(R9);function j9(t){return t&&t.__esModule?t:{default:t}}var qr=void 0,xo=void 0,Vl=[];function F9(){for(var t=[qr,xo],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}qr=xo=null,Vl=[]}function z9(){console.log("bodyTrap ----------"),console.log(Vl.length);for(var t=[qr,xo],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function hT(){Vl.length!==0&&Vl[Vl.length-1].focusContent()}function B9(t,e){!qr&&!xo&&(qr=document.createElement("div"),qr.setAttribute("data-react-modal-body-trap",""),qr.style.position="absolute",qr.style.opacity="0",qr.setAttribute("tabindex","0"),qr.addEventListener("focus",hT),xo=qr.cloneNode(),xo.addEventListener("focus",hT)),Vl=e,Vl.length>0?(document.body.firstChild!==qr&&document.body.insertBefore(qr,document.body.firstChild),document.body.lastChild!==xo&&document.body.appendChild(xo)):(qr.parentElement&&qr.parentElement.removeChild(qr),xo.parentElement&&xo.parentElement.removeChild(xo))}L9.default.subscribe(B9);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(N){for(var F=1;F<arguments.length;F++){var G=arguments[F];for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(N[H]=G[H])}return N},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},i=function(){function N(F,G){for(var H=0;H<G.length;H++){var $=G[H];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(F,$.key,$)}}return function(F,G,H){return G&&N(F.prototype,G),H&&N(F,H),F}}(),o=Ae,s=Lo(),a=p(s),m=jo,u=h(m),d=l9,E=p(d),I=Fo,O=h(I),A=lh,D=h(A),v=ko,l=p(v),c=uh,f=p(c);function h(N){if(N&&N.__esModule)return N;var F={};if(N!=null)for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&(F[G]=N[G]);return F.default=N,F}function p(N){return N&&N.__esModule?N:{default:N}}function g(N,F){if(!(N instanceof F))throw new TypeError("Cannot call a class as a function")}function y(N,F){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:N}function _(N,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}var w={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},T=function(F){return F.code==="Tab"||F.keyCode===9},k=function(F){return F.code==="Escape"||F.keyCode===27},P=0,L=function(N){_(F,N);function F(G){g(this,F);var H=y(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,G));return H.setOverlayRef=function($){H.overlay=$,H.props.overlayRef&&H.props.overlayRef($)},H.setContentRef=function($){H.content=$,H.props.contentRef&&H.props.contentRef($)},H.afterClose=function(){var $=H.props,re=$.appElement,le=$.ariaHideApp,xe=$.htmlOpenClassName,ee=$.bodyOpenClassName,be=$.parentSelector,K=be&&be().ownerDocument||document;ee&&D.remove(K.body,ee),xe&&D.remove(K.getElementsByTagName("html")[0],xe),le&&P>0&&(P-=1,P===0&&O.show(re)),H.props.shouldFocusAfterRender&&(H.props.shouldReturnFocusAfterClose?(u.returnFocus(H.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),H.props.onAfterClose&&H.props.onAfterClose(),f.default.deregister(H)},H.open=function(){H.beforeOpen(),H.state.afterOpen&&H.state.beforeClose?(clearTimeout(H.closeTimer),H.setState({beforeClose:!1})):(H.props.shouldFocusAfterRender&&(u.setupScopedFocus(H.node),u.markForFocusLater()),H.setState({isOpen:!0},function(){H.openAnimationFrame=requestAnimationFrame(function(){H.setState({afterOpen:!0}),H.props.isOpen&&H.props.onAfterOpen&&H.props.onAfterOpen({overlayEl:H.overlay,contentEl:H.content})})}))},H.close=function(){H.props.closeTimeoutMS>0?H.closeWithTimeout():H.closeWithoutTimeout()},H.focusContent=function(){return H.content&&!H.contentHasFocus()&&H.content.focus({preventScroll:!0})},H.closeWithTimeout=function(){var $=Date.now()+H.props.closeTimeoutMS;H.setState({beforeClose:!0,closesAt:$},function(){H.closeTimer=setTimeout(H.closeWithoutTimeout,H.state.closesAt-Date.now())})},H.closeWithoutTimeout=function(){H.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},H.afterClose)},H.handleKeyDown=function($){T($)&&(0,E.default)(H.content,$),H.props.shouldCloseOnEsc&&k($)&&($.stopPropagation(),H.requestClose($))},H.handleOverlayOnClick=function($){H.shouldClose===null&&(H.shouldClose=!0),H.shouldClose&&H.props.shouldCloseOnOverlayClick&&(H.ownerHandlesClose()?H.requestClose($):H.focusContent()),H.shouldClose=null},H.handleContentOnMouseUp=function(){H.shouldClose=!1},H.handleOverlayOnMouseDown=function($){!H.props.shouldCloseOnOverlayClick&&$.target==H.overlay&&$.preventDefault()},H.handleContentOnClick=function(){H.shouldClose=!1},H.handleContentOnMouseDown=function(){H.shouldClose=!1},H.requestClose=function($){return H.ownerHandlesClose()&&H.props.onRequestClose($)},H.ownerHandlesClose=function(){return H.props.onRequestClose},H.shouldBeClosed=function(){return!H.state.isOpen&&!H.state.beforeClose},H.contentHasFocus=function(){return document.activeElement===H.content||H.content.contains(document.activeElement)},H.buildClassName=function($,re){var le=(typeof re>"u"?"undefined":r(re))==="object"?re:{base:w[$],afterOpen:w[$]+"--after-open",beforeClose:w[$]+"--before-close"},xe=le.base;return H.state.afterOpen&&(xe=xe+" "+le.afterOpen),H.state.beforeClose&&(xe=xe+" "+le.beforeClose),typeof re=="string"&&re?xe+" "+re:xe},H.attributesFromObject=function($,re){return Object.keys(re).reduce(function(le,xe){return le[$+"-"+xe]=re[xe],le},{})},H.state={afterOpen:!1,beforeClose:!1},H.shouldClose=null,H.moveFromContentToOverlay=null,H}return i(F,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(H,$){this.props.isOpen&&!H.isOpen?this.open():!this.props.isOpen&&H.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!$.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var H=this.props,$=H.appElement,re=H.ariaHideApp,le=H.htmlOpenClassName,xe=H.bodyOpenClassName,ee=H.parentSelector,be=ee&&ee().ownerDocument||document;xe&&D.add(be.body,xe),le&&D.add(be.getElementsByTagName("html")[0],le),re&&(P+=1,O.hide($)),f.default.register(this)}},{key:"render",value:function(){var H=this.props,$=H.id,re=H.className,le=H.overlayClassName,xe=H.defaultStyles,ee=H.children,be=re?{}:xe.content,K=le?{}:xe.overlay;if(this.shouldBeClosed())return null;var Oe={ref:this.setOverlayRef,className:this.buildClassName("overlay",le),style:n({},K,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},_e=n({id:$,ref:this.setContentRef,style:n({},be,this.props.style.content),className:this.buildClassName("content",re),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),fe=this.props.contentElement(_e,ee);return this.props.overlayElement(Oe,fe)}}]),F}(o.Component);L.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},L.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(l.default),a.default.instanceOf(v.SafeHTMLCollection),a.default.instanceOf(v.SafeNodeList),a.default.arrayOf(a.default.instanceOf(l.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=L,t.exports=e.default})(nS,nS.exports);var U9=nS.exports;function ED(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function TD(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function MD(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ED.__suppressDeprecationWarning=!0;TD.__suppressDeprecationWarning=!0;MD.__suppressDeprecationWarning=!0;function H9(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=ED,e.componentWillReceiveProps=TD),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=MD;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,d,E){var I=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:E;a.call(this,u,d,I)}}return t}const W9=Object.freeze(Object.defineProperty({__proto__:null,polyfill:H9},Symbol.toStringTag,{value:"Module"})),V9=Tz(W9);Object.defineProperty(nu,"__esModule",{value:!0});nu.bodyOpenClassName=nu.portalClassName=void 0;var fT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G9=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),OD=Ae,qm=Zd(OD),$9=Yd,ev=Zd($9),Y9=Lo(),Gt=Zd(Y9),X9=U9,dT=Zd(X9),K9=Fo,Z9=J9(K9),va=ko,pT=Zd(va),Q9=V9;function J9(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Zd(t){return t&&t.__esModule?t:{default:t}}function q9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gT(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tH=nu.portalClassName="ReactModalPortal",nH=nu.bodyOpenClassName="ReactModal__Body--open",Cl=va.canUseDOM&&ev.default.createPortal!==void 0,mT=function(e){return document.createElement(e)},vT=function(){return Cl?ev.default.createPortal:ev.default.unstable_renderSubtreeIntoContainer};function Dg(t){return t()}var Qd=function(t){eH(e,t);function e(){var n,r,i,o;q9(this,e);for(var s=arguments.length,a=Array(s),m=0;m<s;m++)a[m]=arguments[m];return o=(r=(i=gT(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Cl&&ev.default.unmountComponentAtNode(i.node);var u=Dg(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var d=vT(),E=d(i,qm.default.createElement(dT.default,fT({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(E)},r),gT(i,o)}return G9(e,[{key:"componentDidMount",value:function(){if(va.canUseDOM){Cl||(this.node=mT("div")),this.node.className=this.props.portalClassName;var r=Dg(this.props.parentSelector);r.appendChild(this.node),!Cl&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Dg(r.parentSelector),o=Dg(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(va.canUseDOM){var s=this.props,a=s.isOpen,m=s.portalClassName;r.portalClassName!==m&&(this.node.className=m);var u=o.prevParent,d=o.nextParent;d!==u&&(u.removeChild(this.node),d.appendChild(this.node)),!(!r.isOpen&&!a)&&!Cl&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!va.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!va.canUseDOM||!Cl)return null;!this.node&&Cl&&(this.node=mT("div"));var r=vT();return r(qm.default.createElement(dT.default,fT({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Z9.setElement(r)}}]),e}(OD.Component);Qd.propTypes={isOpen:Gt.default.bool.isRequired,style:Gt.default.shape({content:Gt.default.object,overlay:Gt.default.object}),portalClassName:Gt.default.string,bodyOpenClassName:Gt.default.string,htmlOpenClassName:Gt.default.string,className:Gt.default.oneOfType([Gt.default.string,Gt.default.shape({base:Gt.default.string.isRequired,afterOpen:Gt.default.string.isRequired,beforeClose:Gt.default.string.isRequired})]),overlayClassName:Gt.default.oneOfType([Gt.default.string,Gt.default.shape({base:Gt.default.string.isRequired,afterOpen:Gt.default.string.isRequired,beforeClose:Gt.default.string.isRequired})]),appElement:Gt.default.oneOfType([Gt.default.instanceOf(pT.default),Gt.default.instanceOf(va.SafeHTMLCollection),Gt.default.instanceOf(va.SafeNodeList),Gt.default.arrayOf(Gt.default.instanceOf(pT.default))]),onAfterOpen:Gt.default.func,onRequestClose:Gt.default.func,closeTimeoutMS:Gt.default.number,ariaHideApp:Gt.default.bool,shouldFocusAfterRender:Gt.default.bool,shouldCloseOnOverlayClick:Gt.default.bool,shouldReturnFocusAfterClose:Gt.default.bool,preventScroll:Gt.default.bool,parentSelector:Gt.default.func,aria:Gt.default.object,data:Gt.default.object,role:Gt.default.string,contentLabel:Gt.default.string,shouldCloseOnEsc:Gt.default.bool,overlayRef:Gt.default.func,contentRef:Gt.default.func,id:Gt.default.string,overlayElement:Gt.default.func,contentElement:Gt.default.func};Qd.defaultProps={isOpen:!1,portalClassName:tH,bodyOpenClassName:nH,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return qm.default.createElement("div",e,n)},contentElement:function(e,n){return qm.default.createElement("div",e,n)}};Qd.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Q9.polyfill)(Qd);nu.default=Qd;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=nu,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default})(uT,uT.exports);rn.string.isRequired,rn.string,rn.string,rn.string,rn.string,rn.string,rn.func.isRequired,rn.func,rn.func,rn.func,rn.func,rn.func,rn.bool,rn.bool,rn.bool,rn.number,rn.number,rn.number,rn.node,rn.node,rn.string,rn.shape({}),rn.number,rn.string,rn.arrayOf(rn.node),rn.bool,rn.bool,rn.shape({}),rn.string,rn.string,rn.string,rn.string,rn.string,rn.node,rn.node;const rH=({title:t,images:e})=>{const[n,r]=Ae.useState(!1),i=()=>{r(!0)},o=()=>{r(!1)},s=n?e:e.slice(0,6);return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"template-filter-container",children:ie.jsxs("div",{className:"template-filter-items",children:[ie.jsxs("div",{className:"template-filter-head",children:[ie.jsxs("div",{className:"head-grid",children:[ie.jsx("label",{className:"template-filter-title",children:t}),ie.jsx("span",{})]}),n?ie.jsx("label",{className:"template-view",onClick:o,children:"View Less"}):ie.jsx("label",{className:"template-view",onClick:i,children:"View All"})]}),ie.jsx("div",{className:"image-container",children:s.map((a,m)=>ie.jsxs("div",{className:"image-wrapper",children:[ie.jsx("div",{children:a.photo}),ie.jsxs("div",{className:"overlay",children:[ie.jsx("button",{className:"image-button",children:ie.jsx("i",{children:ie.jsx(A8,{})})}),ie.jsx("button",{className:"image-button",children:ie.jsx("i",{children:ie.jsx(k8,{})})})]})]},m))})]})})})},iH=()=>{const{i18n:t,t:e}=Cu(),n=[{title:"Wedding",images:[{photo:ie.jsx("img",{src:"https://i.pinimg.com/originals/25/e2/22/25e222f56b5b6654f31a9173ca8b28e8.jpg",alt:"template"})},{photo:ie.jsx("img",{src:"https://i.pinimg.com/736x/20/25/8f/20258f9268af47b2742cdaadd52f7583.jpg",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/indian-wedding-invitation_52683-44378.jpg?w=2000",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/gradient-wedding-invitations-spanish_52683-81134.jpg?w=1060&t=st=1684736097~exp=1684736697~hmac=85ab3ec569e6a43eecac93fe750666ae3506468776508d31ac7904b474f658ca",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/floral-engagement-invitation-template_52683-44893.jpg?w=1060&t=st=1684736236~exp=1684736836~hmac=e03eab250b6c4753363f1be00de4cb8f69b7a4962c3fb3c53f07643755c92833",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/bridal-shower-invitation-with-colorful-floral-watercolor-border_10126-1248.jpg?w=1060",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/traditional-indian-mughal-wedding-welcome-board-mughal-wedding-card-design_218051-43.jpg?w=900",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/wedding-invitation-design-with-beautiful-flower_336924-57.jpg?w=996",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/floral-engagement-invitation-template_52683-44893.jpg?w=1060&t=st=1684736236~exp=1684736836~hmac=e03eab250b6c4753363f1be00de4cb8f69b7a4962c3fb3c53f07643755c92833",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/bridal-shower-invitation-with-colorful-floral-watercolor-border_10126-1248.jpg?w=1060",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/traditional-indian-mughal-wedding-welcome-board-mughal-wedding-card-design_218051-43.jpg?w=900",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/wedding-invitation-design-with-beautiful-flower_336924-57.jpg?w=996",alt:"template"})}]},{title:"Birthday",images:[{photo:ie.jsx("img",{src:"https://i.pinimg.com/originals/25/e2/22/25e222f56b5b6654f31a9173ca8b28e8.jpg",alt:"template"})},{photo:ie.jsx("img",{src:"https://i.pinimg.com/736x/20/25/8f/20258f9268af47b2742cdaadd52f7583.jpg",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/indian-wedding-invitation_52683-44378.jpg?w=2000",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/gradient-wedding-invitations-spanish_52683-81134.jpg?w=1060&t=st=1684736097~exp=1684736697~hmac=85ab3ec569e6a43eecac93fe750666ae3506468776508d31ac7904b474f658ca",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/floral-engagement-invitation-template_52683-44893.jpg?w=1060&t=st=1684736236~exp=1684736836~hmac=e03eab250b6c4753363f1be00de4cb8f69b7a4962c3fb3c53f07643755c92833",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/bridal-shower-invitation-with-colorful-floral-watercolor-border_10126-1248.jpg?w=1060",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/traditional-indian-mughal-wedding-welcome-board-mughal-wedding-card-design_218051-43.jpg?w=900",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/wedding-invitation-design-with-beautiful-flower_336924-57.jpg?w=996",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/free-vector/floral-engagement-invitation-template_52683-44893.jpg?w=1060&t=st=1684736236~exp=1684736836~hmac=e03eab250b6c4753363f1be00de4cb8f69b7a4962c3fb3c53f07643755c92833",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/bridal-shower-invitation-with-colorful-floral-watercolor-border_10126-1248.jpg?w=1060",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/traditional-indian-mughal-wedding-welcome-board-mughal-wedding-card-design_218051-43.jpg?w=900",alt:"template"})},{photo:ie.jsx("img",{src:"https://img.freepik.com/premium-vector/wedding-invitation-design-with-beautiful-flower_336924-57.jpg?w=996",alt:"template"})}]}];return ie.jsxs(ie.Fragment,{children:[ie.jsx(f_,{}),ie.jsx("div",{className:"templatepage-container",children:ie.jsxs("div",{className:"templatepage-contents",children:[ie.jsxs("label",{className:"text-5xl text-white",children:[" ",e("templates")]}),ie.jsxs("label",{className:" text-white",children:[" ",e("template-content")]})]})}),ie.jsx("div",{children:n.map((r,i)=>ie.jsx(rH,{title:r.title,images:r.images},i))}),ie.jsx(p_,{})]})};var kD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Tn,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return n[o].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function o(N){return N&&N.__esModule?N:{default:N}}var s=Object.assign||function(N){for(var F=1;F<arguments.length;F++){var G=arguments[F];for(var H in G)Object.prototype.hasOwnProperty.call(G,H)&&(N[H]=G[H])}return N},a=i(1),m=(o(a),i(6)),u=o(m),d=i(7),E=o(d),I=i(8),O=o(I),A=i(9),D=o(A),v=i(10),l=o(v),c=i(11),f=o(c),h=i(14),p=o(h),g=[],y=!1,_={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},w=function(){var N=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(N&&(y=!0),y)return g=(0,f.default)(g,_),(0,l.default)(g,_.once),g},T=function(){g=(0,p.default)(),w()},k=function(){g.forEach(function(N,F){N.node.removeAttribute("data-aos"),N.node.removeAttribute("data-aos-easing"),N.node.removeAttribute("data-aos-duration"),N.node.removeAttribute("data-aos-delay")})},P=function(N){return N===!0||N==="mobile"&&D.default.mobile()||N==="phone"&&D.default.phone()||N==="tablet"&&D.default.tablet()||typeof N=="function"&&N()===!0},L=function(N){_=s(_,N),g=(0,p.default)();var F=document.all&&!window.atob;return P(_.disable)||F?k():(_.disableMutationObserver||O.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),_.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",_.easing),document.querySelector("body").setAttribute("data-aos-duration",_.duration),document.querySelector("body").setAttribute("data-aos-delay",_.delay),_.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?w(!0):_.startEvent==="load"?window.addEventListener(_.startEvent,function(){w(!0)}):document.addEventListener(_.startEvent,function(){w(!0)}),window.addEventListener("resize",(0,E.default)(w,_.debounceDelay,!0)),window.addEventListener("orientationchange",(0,E.default)(w,_.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,l.default)(g,_.once)},_.throttleDelay)),_.disableMutationObserver||O.default.ready("[data-aos]",T),g)};n.exports={init:L,refresh:w,refreshHard:T}},function(n,r){},,,,,function(n,r){(function(i){function o(P,L,N){function F(te){var ce=K,de=Oe;return K=Oe=void 0,ne=te,fe=P.apply(de,ce)}function G(te){return ne=te,J=setTimeout(re,L),q?F(te):fe}function H(te){var ce=te-he,de=te-ne,Pe=L-ce;return ye?T(Pe,_e-de):Pe}function $(te){var ce=te-he,de=te-ne;return he===void 0||ce>=L||ce<0||ye&&de>=_e}function re(){var te=k();return $(te)?le(te):void(J=setTimeout(re,H(te)))}function le(te){return J=void 0,Z&&K?F(te):(K=Oe=void 0,fe)}function xe(){J!==void 0&&clearTimeout(J),ne=0,K=he=Oe=J=void 0}function ee(){return J===void 0?fe:le(k())}function be(){var te=k(),ce=$(te);if(K=arguments,Oe=this,he=te,ce){if(J===void 0)return G(he);if(ye)return J=setTimeout(re,L),F(he)}return J===void 0&&(J=setTimeout(re,L)),fe}var K,Oe,_e,fe,J,he,ne=0,q=!1,ye=!1,Z=!0;if(typeof P!="function")throw new TypeError(I);return L=d(L)||0,a(N)&&(q=!!N.leading,ye="maxWait"in N,_e=ye?w(d(N.maxWait)||0,L):_e,Z="trailing"in N?!!N.trailing:Z),be.cancel=xe,be.flush=ee,be}function s(P,L,N){var F=!0,G=!0;if(typeof P!="function")throw new TypeError(I);return a(N)&&(F="leading"in N?!!N.leading:F,G="trailing"in N?!!N.trailing:G),o(P,L,{leading:F,maxWait:L,trailing:G})}function a(P){var L=typeof P>"u"?"undefined":E(P);return!!P&&(L=="object"||L=="function")}function m(P){return!!P&&(typeof P>"u"?"undefined":E(P))=="object"}function u(P){return(typeof P>"u"?"undefined":E(P))=="symbol"||m(P)&&_.call(P)==A}function d(P){if(typeof P=="number")return P;if(u(P))return O;if(a(P)){var L=typeof P.valueOf=="function"?P.valueOf():P;P=a(L)?L+"":L}if(typeof P!="string")return P===0?P:+P;P=P.replace(D,"");var N=l.test(P);return N||c.test(P)?f(P.slice(2),N?2:8):v.test(P)?O:+P}var E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},I="Expected a function",O=NaN,A="[object Symbol]",D=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt,h=(typeof i>"u"?"undefined":E(i))=="object"&&i&&i.Object===Object&&i,p=(typeof self>"u"?"undefined":E(self))=="object"&&self&&self.Object===Object&&self,g=h||p||Function("return this")(),y=Object.prototype,_=y.toString,w=Math.max,T=Math.min,k=function(){return g.Date.now()};n.exports=s}).call(r,function(){return this}())},function(n,r){(function(i){function o(k,P,L){function N(Z){var te=be,ce=K;return be=K=void 0,he=Z,_e=k.apply(ce,te)}function F(Z){return he=Z,fe=setTimeout($,P),ne?N(Z):_e}function G(Z){var te=Z-J,ce=Z-he,de=P-te;return q?w(de,Oe-ce):de}function H(Z){var te=Z-J,ce=Z-he;return J===void 0||te>=P||te<0||q&&ce>=Oe}function $(){var Z=T();return H(Z)?re(Z):void(fe=setTimeout($,G(Z)))}function re(Z){return fe=void 0,ye&&be?N(Z):(be=K=void 0,_e)}function le(){fe!==void 0&&clearTimeout(fe),he=0,be=J=K=fe=void 0}function xe(){return fe===void 0?_e:re(T())}function ee(){var Z=T(),te=H(Z);if(be=arguments,K=this,J=Z,te){if(fe===void 0)return F(J);if(q)return fe=setTimeout($,P),N(J)}return fe===void 0&&(fe=setTimeout($,P)),_e}var be,K,Oe,_e,fe,J,he=0,ne=!1,q=!1,ye=!0;if(typeof k!="function")throw new TypeError(E);return P=u(P)||0,s(L)&&(ne=!!L.leading,q="maxWait"in L,Oe=q?_(u(L.maxWait)||0,P):Oe,ye="trailing"in L?!!L.trailing:ye),ee.cancel=le,ee.flush=xe,ee}function s(k){var P=typeof k>"u"?"undefined":d(k);return!!k&&(P=="object"||P=="function")}function a(k){return!!k&&(typeof k>"u"?"undefined":d(k))=="object"}function m(k){return(typeof k>"u"?"undefined":d(k))=="symbol"||a(k)&&y.call(k)==O}function u(k){if(typeof k=="number")return k;if(m(k))return I;if(s(k)){var P=typeof k.valueOf=="function"?k.valueOf():k;k=s(P)?P+"":P}if(typeof k!="string")return k===0?k:+k;k=k.replace(A,"");var L=v.test(k);return L||l.test(k)?c(k.slice(2),L?2:8):D.test(k)?I:+k}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},E="Expected a function",I=NaN,O="[object Symbol]",A=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,f=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,h=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,p=f||h||Function("return this")(),g=Object.prototype,y=g.toString,_=Math.max,w=Math.min,T=function(){return p.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){function i(d){var E=void 0,I=void 0;for(E=0;E<d.length;E+=1)if(I=d[E],I.dataset&&I.dataset.aos||I.children&&i(I.children))return!0;return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function s(){return!!o()}function a(d,E){var I=window.document,O=o(),A=new O(m);u=E,A.observe(I.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function m(d){d&&d.forEach(function(E){var I=Array.prototype.slice.call(E.addedNodes),O=Array.prototype.slice.call(E.removedNodes),A=I.concat(O);if(i(A))return u()})}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){};r.default={isSupported:s,ready:a}},function(n,r){function i(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function I(O,A){for(var D=0;D<A.length;D++){var v=A[D];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(O,v.key,v)}}return function(O,A,D){return A&&I(O.prototype,A),D&&I(O,D),O}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,m=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,E=function(){function I(){i(this,I)}return s(I,[{key:"phone",value:function(){var O=o();return!(!a.test(O)&&!m.test(O.substr(0,4)))}},{key:"mobile",value:function(){var O=o();return!(!u.test(O)&&!d.test(O.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),I}();r.default=new E},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s,a,m){var u=s.node.getAttribute("data-aos-once");a>s.position?s.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!m&&u!=="true")&&s.node.classList.remove("aos-animate")},o=function(s,a){var m=window.pageYOffset,u=window.innerHeight;s.forEach(function(d,E){i(d,u+m,a)})};r.default=o},function(n,r,i){function o(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=o(s),m=function(u,d){return u.forEach(function(E,I){E.node.classList.add("aos-init"),E.position=(0,a.default)(E.node,d.offset)}),u};r.default=m},function(n,r,i){function o(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var s=i(13),a=o(s),m=function(u,d){var E=0,I=0,O=window.innerHeight,A={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(A.offset&&!isNaN(A.offset)&&(I=parseInt(A.offset)),A.anchor&&document.querySelectorAll(A.anchor)&&(u=document.querySelectorAll(A.anchor)[0]),E=(0,a.default)(u).top,A.anchorPlacement){case"top-bottom":break;case"center-bottom":E+=u.offsetHeight/2;break;case"bottom-bottom":E+=u.offsetHeight;break;case"top-center":E+=O/2;break;case"bottom-center":E+=O/2+u.offsetHeight;break;case"center-center":E+=O/2+u.offsetHeight/2;break;case"top-top":E+=O;break;case"bottom-top":E+=u.offsetHeight+O;break;case"center-top":E+=u.offsetHeight/2+O}return A.anchorPlacement||A.offset||isNaN(d)||(I=d),E+I};r.default=m},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o){for(var s=0,a=0;o&&!isNaN(o.offsetLeft)&&!isNaN(o.offsetTop);)s+=o.offsetLeft-(o.tagName!="BODY"?o.scrollLeft:0),a+=o.offsetTop-(o.tagName!="BODY"?o.scrollTop:0),o=o.offsetParent;return{top:a,left:s}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o){return o=o||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(o,function(s){return{node:s}})};r.default=i}])})})(kD);var oH=kD.exports;const sH=Ud(oH);function AD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=AD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function ya(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=AD(t))&&(r&&(r+=" "),r+=e);return r}const kf=t=>typeof t=="number"&&!isNaN(t),ru=t=>typeof t=="string",Ii=t=>typeof t=="function",hm=t=>ru(t)||Ii(t)?t:null,lw=t=>Ae.isValidElement(t)||ru(t)||Ii(t)||kf(t);function aH(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function iy(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(s){let{children:a,position:m,preventExitTransition:u,done:d,nodeRef:E,isIn:I}=s;const O=r?`${e}--${m}`:e,A=r?`${n}--${m}`:n,D=Ae.useRef(0);return Ae.useLayoutEffect(()=>{const v=E.current,l=O.split(" "),c=f=>{f.target===E.current&&(v.dispatchEvent(new Event("d")),v.removeEventListener("animationend",c),v.removeEventListener("animationcancel",c),D.current===0&&f.type!=="animationcancel"&&v.classList.remove(...l))};v.classList.add(...l),v.addEventListener("animationend",c),v.addEventListener("animationcancel",c)},[]),Ae.useEffect(()=>{const v=E.current,l=()=>{v.removeEventListener("animationend",l),i?aH(v,d,o):d()};I||(u?l():(D.current=1,v.className+=` ${A}`,v.addEventListener("animationend",l)))},[I]),yn.createElement(yn.Fragment,null,a)}}function yT(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const io={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},Pg=t=>{let{theme:e,type:n,...r}=t;return yn.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},uw={info:function(t){return yn.createElement(Pg,{...t},yn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return yn.createElement(Pg,{...t},yn.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return yn.createElement(Pg,{...t},yn.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return yn.createElement(Pg,{...t},yn.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return yn.createElement("div",{className:"Toastify__spinner"})}};function lH(t){const[,e]=Ae.useReducer(O=>O+1,0),[n,r]=Ae.useState([]),i=Ae.useRef(null),o=Ae.useRef(new Map).current,s=O=>n.indexOf(O)!==-1,a=Ae.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:s,getToast:O=>o.get(O)}).current;function m(O){let{containerId:A}=O;const{limit:D}=a.props;!D||A&&a.containerId!==A||(a.count-=a.queue.length,a.queue=[])}function u(O){r(A=>O==null?[]:A.filter(D=>D!==O))}function d(){const{toastContent:O,toastProps:A,staleId:D}=a.queue.shift();I(O,A,D)}function E(O,A){let{delay:D,staleId:v,...l}=A;if(!lw(O)||function(P){return!i.current||a.props.enableMultiContainer&&P.containerId!==a.props.containerId||o.has(P.toastId)&&P.updateId==null}(l))return;const{toastId:c,updateId:f,data:h}=l,{props:p}=a,g=()=>u(c),y=f==null;y&&a.count++;const _={...p,style:p.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(l).filter(P=>{let[L,N]=P;return N!=null})),toastId:c,updateId:f,data:h,closeToast:g,isIn:!1,className:hm(l.className||p.toastClassName),bodyClassName:hm(l.bodyClassName||p.bodyClassName),progressClassName:hm(l.progressClassName||p.progressClassName),autoClose:!l.isLoading&&(w=l.autoClose,T=p.autoClose,w===!1||kf(w)&&w>0?w:T),deleteToast(){const P=yT(o.get(c),"removed");o.delete(c),io.emit(4,P);const L=a.queue.length;if(a.count=c==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),L>0){const N=c==null?a.props.limit:1;if(L===1||N===1)a.displayedToast++,d();else{const F=N>L?L:N;a.displayedToast=F;for(let G=0;G<F;G++)d()}}else e()}};var w,T;_.iconOut=function(P){let{theme:L,type:N,isLoading:F,icon:G}=P,H=null;const $={theme:L,type:N};return G===!1||(Ii(G)?H=G($):Ae.isValidElement(G)?H=Ae.cloneElement(G,$):ru(G)||kf(G)?H=G:F?H=uw.spinner():(re=>re in uw)(N)&&(H=uw[N]($))),H}(_),Ii(l.onOpen)&&(_.onOpen=l.onOpen),Ii(l.onClose)&&(_.onClose=l.onClose),_.closeButton=p.closeButton,l.closeButton===!1||lw(l.closeButton)?_.closeButton=l.closeButton:l.closeButton===!0&&(_.closeButton=!lw(p.closeButton)||p.closeButton);let k=O;Ae.isValidElement(O)&&!ru(O.type)?k=Ae.cloneElement(O,{closeToast:g,toastProps:_,data:h}):Ii(O)&&(k=O({closeToast:g,toastProps:_,data:h})),p.limit&&p.limit>0&&a.count>p.limit&&y?a.queue.push({toastContent:k,toastProps:_,staleId:v}):kf(D)?setTimeout(()=>{I(k,_,v)},D):I(k,_,v)}function I(O,A,D){const{toastId:v}=A;D&&o.delete(D);const l={content:O,props:A};o.set(v,l),r(c=>[...c,v].filter(f=>f!==D)),io.emit(4,yT(l,l.props.updateId==null?"added":"updated"))}return Ae.useEffect(()=>(a.containerId=t.containerId,io.cancelEmit(3).on(0,E).on(1,O=>i.current&&u(O)).on(5,m).emit(2,a),()=>{o.clear(),io.emit(3,a)}),[]),Ae.useEffect(()=>{a.props=t,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(O){const A=new Map,D=Array.from(o.values());return t.newestOnTop&&D.reverse(),D.forEach(v=>{const{position:l}=v.props;A.has(l)||A.set(l,[]),A.get(l).push(v)}),Array.from(A,v=>O(v[0],v[1]))},containerRef:i,isToastActive:s}}function wT(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function ST(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function uH(t){const[e,n]=Ae.useState(!1),[r,i]=Ae.useState(!1),o=Ae.useRef(null),s=Ae.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=Ae.useRef(t),{autoClose:m,pauseOnHover:u,closeToast:d,onClick:E,closeOnClick:I}=t;function O(h){if(t.draggable){h.nativeEvent.type==="touchstart"&&h.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),document.addEventListener("touchmove",l),document.addEventListener("touchend",c);const p=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=p.getBoundingClientRect(),p.style.transition="",s.x=wT(h.nativeEvent),s.y=ST(h.nativeEvent),t.draggableDirection==="x"?(s.start=s.x,s.removalDistance=p.offsetWidth*(t.draggablePercent/100)):(s.start=s.y,s.removalDistance=p.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function A(h){if(s.boundingRect){const{top:p,bottom:g,left:y,right:_}=s.boundingRect;h.nativeEvent.type!=="touchend"&&t.pauseOnHover&&s.x>=y&&s.x<=_&&s.y>=p&&s.y<=g?v():D()}}function D(){n(!0)}function v(){n(!1)}function l(h){const p=o.current;s.canDrag&&p&&(s.didMove=!0,e&&v(),s.x=wT(h),s.y=ST(h),s.delta=t.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),p.style.transform=`translate${t.draggableDirection}(${s.delta}px)`,p.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function c(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",c);const h=o.current;if(s.canDrag&&s.didMove&&h){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void t.closeToast();h.style.transition="transform 0.2s, opacity 0.2s",h.style.transform=`translate${t.draggableDirection}(0)`,h.style.opacity="1"}}Ae.useEffect(()=>{a.current=t}),Ae.useEffect(()=>(o.current&&o.current.addEventListener("d",D,{once:!0}),Ii(t.onOpen)&&t.onOpen(Ae.isValidElement(t.children)&&t.children.props),()=>{const h=a.current;Ii(h.onClose)&&h.onClose(Ae.isValidElement(h.children)&&h.children.props)}),[]),Ae.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||v(),window.addEventListener("focus",D),window.addEventListener("blur",v)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",D),window.removeEventListener("blur",v))}),[t.pauseOnFocusLoss]);const f={onMouseDown:O,onTouchStart:O,onMouseUp:A,onTouchEnd:A};return m&&u&&(f.onMouseEnter=v,f.onMouseLeave=D),I&&(f.onClick=h=>{E&&E(h),s.canCloseOnClick&&d()}),{playToast:D,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:f}}function DD(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return yn.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},yn.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},yn.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function cH(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:m,progress:u,rtl:d,isIn:E,theme:I}=t;const O=o||m&&u===0,A={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:O?0:1};m&&(A.transform=`scaleX(${u})`);const D=ya("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${I}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),v=Ii(s)?s({rtl:d,type:i,defaultClassName:D}):ya(D,s);return yn.createElement("div",{role:"progressbar","aria-hidden":O?"true":"false","aria-label":"notification timer",className:v,style:A,[m&&u>=1?"onTransitionEnd":"onAnimationEnd"]:m&&u<1?null:()=>{E&&r()}})}const hH=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=uH(t),{closeButton:o,children:s,autoClose:a,onClick:m,type:u,hideProgressBar:d,closeToast:E,transition:I,position:O,className:A,style:D,bodyClassName:v,bodyStyle:l,progressClassName:c,progressStyle:f,updateId:h,role:p,progress:g,rtl:y,toastId:_,deleteToast:w,isIn:T,isLoading:k,iconOut:P,closeOnClick:L,theme:N}=t,F=ya("Toastify__toast",`Toastify__toast-theme--${N}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":y},{"Toastify__toast--close-on-click":L}),G=Ii(A)?A({rtl:y,position:O,type:u,defaultClassName:F}):ya(F,A),H=!!g||!a,$={closeToast:E,type:u,theme:N};let re=null;return o===!1||(re=Ii(o)?o($):Ae.isValidElement(o)?Ae.cloneElement(o,$):DD($)),yn.createElement(I,{isIn:T,done:w,position:O,preventExitTransition:n,nodeRef:r},yn.createElement("div",{id:_,onClick:m,className:G,...i,style:D,ref:r},yn.createElement("div",{...T&&{role:p},className:Ii(v)?v({type:u}):ya("Toastify__toast-body",v),style:l},P!=null&&yn.createElement("div",{className:ya("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!k})},P),yn.createElement("div",null,s)),re,yn.createElement(cH,{...h&&!H?{key:`pb-${h}`}:{},rtl:y,theme:N,delay:a,isRunning:e,isIn:T,closeToast:E,hide:d,type:u,style:f,className:c,controlledProgress:H,progress:g||0})))},oy=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},fH=iy(oy("bounce",!0));iy(oy("slide",!0));iy(oy("zoom"));iy(oy("flip"));const tv=Ae.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=lH(t),{className:o,style:s,rtl:a,containerId:m}=t;function u(d){const E=ya("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":a});return Ii(o)?o({position:d,rtl:a,defaultClassName:E}):ya(E,hm(o))}return Ae.useEffect(()=>{e&&(e.current=r.current)},[]),yn.createElement("div",{ref:r,className:"Toastify",id:m},n((d,E)=>{const I=E.length?{...s}:{...s,pointerEvents:"none"};return yn.createElement("div",{className:u(d),style:I,key:`container-${d}`},E.map((O,A)=>{let{content:D,props:v}=O;return yn.createElement(hH,{...v,isIn:i(v.toastId),style:{...v.style,"--nth":A+1,"--len":E.length},key:`toast-${v.key}`},D)}))}))});tv.displayName="ToastContainer",tv.defaultProps={position:"top-right",transition:fH,autoClose:5e3,closeButton:DD,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let cw,xl=new Map,hf=[],dH=1;function PD(){return""+dH++}function pH(t){return t&&(ru(t.toastId)||kf(t.toastId))?t.toastId:PD()}function Af(t,e){return xl.size>0?io.emit(0,t,e):hf.push({content:t,options:e}),e.toastId}function nv(t,e){return{...e,type:e&&e.type||t,toastId:pH(e)}}function Ng(t){return(e,n)=>Af(e,nv(t,n))}function jn(t,e){return Af(t,nv("default",e))}jn.loading=(t,e)=>Af(t,nv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),jn.promise=function(t,e,n){let r,{pending:i,error:o,success:s}=e;i&&(r=ru(i)?jn.loading(i,n):jn.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(d,E,I)=>{if(E==null)return void jn.dismiss(r);const O={type:d,...a,...n,data:I},A=ru(E)?{render:E}:E;return r?jn.update(r,{...O,...A}):jn(A.render,{...O,...A}),I},u=Ii(t)?t():t;return u.then(d=>m("success",s,d)).catch(d=>m("error",o,d)),u},jn.success=Ng("success"),jn.info=Ng("info"),jn.error=Ng("error"),jn.warning=Ng("warning"),jn.warn=jn.warning,jn.dark=(t,e)=>Af(t,nv("default",{theme:"dark",...e})),jn.dismiss=t=>{xl.size>0?io.emit(1,t):hf=hf.filter(e=>t!=null&&e.options.toastId!==t)},jn.clearWaitingQueue=function(t){return t===void 0&&(t={}),io.emit(5,t)},jn.isActive=t=>{let e=!1;return xl.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},jn.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=xl.get(o||cw);return s&&s.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:PD()};o.toastId!==t&&(o.staleId=t);const s=o.render||i;delete o.render,Af(s,o)}},0)},jn.done=t=>{jn.update(t,{progress:1})},jn.onChange=t=>(io.on(4,t),()=>{io.off(4,t)}),jn.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},jn.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},io.on(2,t=>{cw=t.containerId||t,xl.set(cw,t),hf.forEach(e=>{io.emit(0,e.content,e.options)}),hf=[]}).on(3,t=>{xl.delete(t.containerId||t),xl.size===0&&io.off(0).off(1).off(5)});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],m=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},RD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,m=i+2<t.length,u=m?t[i+2]:0,d=o>>2,E=(o&3)<<4|a>>4;let I=(a&15)<<2|u>>6,O=u&63;m||(O=64,s||(I=64)),r.push(n[d],n[E],n[I],n[O])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ND(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||E==null)throw new mH;const I=o<<2|a>>4;if(r.push(I),u!==64){const O=a<<4&240|u>>2;if(r.push(O),E!==64){const A=u<<6&192|E;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vH=function(t){const e=ND(t);return RD.encodeByteArray(e,!0)},rv=function(t){return vH(t).replace(/\./g,"")},LD=function(t){try{return RD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iv(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!yH(n)||(t[n]=iv(t[n],e[n]));return t}function yH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=()=>wH().__FIREBASE_DEFAULTS__,bH=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_H=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LD(t[1]);return e&&JSON.parse(e)},v_=()=>{try{return SH()||bH()||_H()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jD=()=>{var t;return(t=v_())===null||t===void 0?void 0:t.config},CH=t=>{var e;return(e=v_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[rv(JSON.stringify(n)),rv(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zn())}function y_(){var t;const e=(t=v_())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TH(){return typeof self=="object"&&self.self===self}function FD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zD(){const t=Zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MH(){return!y_()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cd(){try{return typeof indexedDB=="object"}catch{return!1}}function OH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH="FirebaseError";class pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kH,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xu.prototype.create)}}class xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?AH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new pi(i,a,r)}}function AH(t,e){return t.replace(DH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function PH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sS(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(_T(o)&&_T(s)){if(!sS(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _T(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ff(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BD(t,e){const n=new NH(t,e);return n.subscribe.bind(n)}class NH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=hw),i.error===void 0&&(i.error=hw),i.complete===void 0&&(i.complete=hw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FH(e))try{this.getOrInitializeService({instanceIdentifier:Il})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Il){return this.instances.has(e)}getOptions(e=Il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Il){return this.component?this.component.multipleInstances?e:Il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jH(t){return t===Il?void 0:t}function FH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=[];var cn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(cn||(cn={}));const UD={debug:cn.DEBUG,verbose:cn.VERBOSE,info:cn.INFO,warn:cn.WARN,error:cn.ERROR,silent:cn.SILENT},BH=cn.INFO,UH={[cn.DEBUG]:"log",[cn.VERBOSE]:"log",[cn.INFO]:"info",[cn.WARN]:"warn",[cn.ERROR]:"error"},HH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=UH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let sy=class{constructor(e){this.name=e,this._logLevel=BH,this._logHandler=HH,this._userLogHandler=null,S_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in cn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,cn.DEBUG,...e),this._logHandler(this,cn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,cn.VERBOSE,...e),this._logHandler(this,cn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,cn.INFO,...e),this._logHandler(this,cn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,cn.WARN,...e),this._logHandler(this,cn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,cn.ERROR,...e),this._logHandler(this,cn.ERROR,...e)}};function WH(t){S_.forEach(e=>{e.setLogLevel(t)})}function VH(t,e){for(const n of S_){let r=null;e&&e.level&&(r=UD[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const a=s.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");o>=(r??i.logLevel)&&t({level:cn[o].toLowerCase(),message:a,args:s,type:i.name})}}}const GH=(t,e)=>e.some(n=>t instanceof n);let CT,xT;function $H(){return CT||(CT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YH(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HD=new WeakMap,aS=new WeakMap,WD=new WeakMap,fw=new WeakMap,b_=new WeakMap;function XH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Aa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&HD.set(n,t)}).catch(()=>{}),b_.set(e,t),e}function KH(t){if(aS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});aS.set(t,e)}let lS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return aS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||WD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZH(t){lS=t(lS)}function QH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dw(this),e,...n);return WD.set(r,e.sort?e.sort():[e]),Aa(r)}:YH().includes(t)?function(...e){return t.apply(dw(this),e),Aa(HD.get(this))}:function(...e){return Aa(t.apply(dw(this),e))}}function JH(t){return typeof t=="function"?QH(t):(t instanceof IDBTransaction&&KH(t),GH(t,$H())?new Proxy(t,lS):t)}function Aa(t){if(t instanceof IDBRequest)return XH(t);if(fw.has(t))return fw.get(t);const e=JH(t);return e!==t&&(fw.set(t,e),b_.set(e,t)),e}const dw=t=>b_.get(t);function qH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Aa(s);return r&&s.addEventListener("upgradeneeded",m=>{r(Aa(s.result),m.oldVersion,m.newVersion,Aa(s.transaction),m)}),n&&s.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),a.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eW=["get","getKey","getAll","getAllKeys","count"],tW=["put","add","delete","clear"],pw=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pw.get(e))return pw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eW.includes(n)))return;const o=async function(s,...a){const m=this.transaction(s,i?"readwrite":"readonly");let u=m.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&m.done]))[0]};return pw.set(e,o),o}ZH(t=>({...t,get:(e,n,r)=>IT(e,n)||t.get(e,n,r),has:(e,n)=>!!IT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uS="@firebase/app",ET="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new sy("@firebase/app"),iW="@firebase/app-compat",oW="@firebase/analytics-compat",sW="@firebase/analytics",aW="@firebase/app-check-compat",lW="@firebase/app-check",uW="@firebase/auth",cW="@firebase/auth-compat",hW="@firebase/database",fW="@firebase/database-compat",dW="@firebase/functions",pW="@firebase/functions-compat",gW="@firebase/installations",mW="@firebase/installations-compat",vW="@firebase/messaging",yW="@firebase/messaging-compat",wW="@firebase/performance",SW="@firebase/performance-compat",bW="@firebase/remote-config",_W="@firebase/remote-config-compat",CW="@firebase/storage",xW="@firebase/storage-compat",IW="@firebase/firestore",EW="@firebase/firestore-compat",TW="firebase",MW="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="[DEFAULT]",OW={[uS]:"fire-core",[iW]:"fire-core-compat",[sW]:"fire-analytics",[oW]:"fire-analytics-compat",[lW]:"fire-app-check",[aW]:"fire-app-check-compat",[uW]:"fire-auth",[cW]:"fire-auth-compat",[hW]:"fire-rtdb",[fW]:"fire-rtdb-compat",[dW]:"fire-fn",[pW]:"fire-fn-compat",[gW]:"fire-iid",[mW]:"fire-iid-compat",[vW]:"fire-fcm",[yW]:"fire-fcm-compat",[wW]:"fire-perf",[SW]:"fire-perf-compat",[bW]:"fire-rc",[_W]:"fire-rc-compat",[CW]:"fire-gcs",[xW]:"fire-gcs-compat",[IW]:"fire-fst",[EW]:"fire-fst-compat","fire-js":"fire-js",[TW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Map,hd=new Map;function ov(t,e){try{t.container.addComponent(e)}catch(n){iu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function VD(t,e){t.container.addOrOverwriteComponent(e)}function ja(t){const e=t.name;if(hd.has(e))return iu.debug(`There were multiple attempts to register component ${e}.`),!1;hd.set(e,t);for(const n of La.values())ov(n,t);return!0}function GD(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kW(t,e,n=Ra){GD(t,e).clearInstance(n)}function AW(){hd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ls=new xu("app","Firebase",DW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PW=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=MW;function __(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ra,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(n||(n=jD()),!n)throw Ls.create("no-options");const o=La.get(i);if(o){if(sS(n,o.options)&&sS(r,o.config))return o;throw Ls.create("duplicate-app",{appName:i})}const s=new zH(i);for(const m of hd.values())s.addComponent(m);const a=new PW(n,r,s);return La.set(i,a),a}function NW(t=Ra){const e=La.get(t);if(!e&&t===Ra&&jD())return __();if(!e)throw Ls.create("no-app",{appName:t});return e}function RW(){return Array.from(La.values())}async function $D(t){const e=t.name;La.has(e)&&(La.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function us(t,e,n){var r;let i=(r=OW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),iu.warn(a.join(" "));return}ja(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function YD(t,e){if(t!==null&&typeof t!="function")throw Ls.create("invalid-log-argument");VH(t,e)}function XD(t){WH(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="firebase-heartbeat-database",jW=1,fd="firebase-heartbeat-store";let gw=null;function KD(){return gw||(gw=qH(LW,jW,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fd)}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),gw}async function FW(t){try{return await(await KD()).transaction(fd).objectStore(fd).get(ZD(t))}catch(e){if(e instanceof pi)iu.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});iu.warn(n.message)}}}async function TT(t,e){try{const r=(await KD()).transaction(fd,"readwrite");await r.objectStore(fd).put(e,ZD(t)),await r.done}catch(n){if(n instanceof pi)iu.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});iu.warn(r.message)}}}function ZD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=1024,BW=30*24*60*60*1e3;class UW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=MT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=BW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=MT(),{heartbeatsToSend:n,unsentEntries:r}=HW(this._heartbeatsCache.heartbeats),i=rv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function MT(){return new Date().toISOString().substring(0,10)}function HW(t,e=zW){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),OT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cd()?OH().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await FW(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return TT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function OT(t){return rv(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VW(t){ja(new fs("platform-logger",e=>new nW(e),"PRIVATE")),ja(new fs("heartbeat",e=>new UW(e),"PRIVATE")),us(uS,ET,t),us(uS,ET,"esm2017"),us("fire-js","")}VW("");const GW=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:pi,SDK_VERSION:el,_DEFAULT_ENTRY_NAME:Ra,_addComponent:ov,_addOrOverwriteComponent:VD,_apps:La,_clearComponents:AW,_components:hd,_getProvider:GD,_registerComponent:ja,_removeServiceInstance:kW,deleteApp:$D,getApp:NW,getApps:RW,initializeApp:__,onLog:YD,registerVersion:us,setLogLevel:XD},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n){this._delegate=e,this.firebase=n,ov(e,new fs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),$D(this._delegate)))}_getService(e,n=Ra){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ra){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ov(this._delegate,e)}_addOrOverwriteComponent(e){VD(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},kT=new xu("app-compat","Firebase",YW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:us,setLogLevel:XD,onLog:YD,apps:null,SDK_VERSION:el,INTERNAL:{registerComponent:a,removeApp:r,useAsService:m,modularAPIs:GW}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(u){delete e[u]}function i(u){if(u=u||Ra,!bT(e,u))throw kT.create("no-app",{appName:u});return e[u]}i.App=t;function o(u,d={}){const E=__(u,d);if(bT(e,E.name))return e[E.name];const I=new t(E,n);return e[E.name]=I,I}function s(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,E=d.replace("-compat","");if(ja(u)&&u.type==="PUBLIC"){const I=(O=i())=>{if(typeof O[E]!="function")throw kT.create("invalid-app-argument",{appName:d});return O[E]()};u.serviceProps!==void 0&&iv(I,u.serviceProps),n[E]=I,t.prototype[E]=function(...O){return this._getService.bind(this,d).apply(this,u.multipleInstances?O:[])}}return u.type==="PUBLIC"?n[E]:null}function m(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){const t=XW($W);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:QD,extendNamespace:e,createSubscribe:BD,ErrorFactory:xu,deepExtend:iv});function e(n){iv(t,n)}return t}const KW=QD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new sy("@firebase/app-compat"),ZW="@firebase/app-compat",QW="0.2.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(t){us(ZW,QW,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(TH()&&self.firebase!==void 0){AT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&AT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const ti=KW;JW();var qW="firebase",eV="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.registerVersion(qW,eV,"app-compat");function C_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const Gh={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ku={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend."}}function JD(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nV=tV,rV=JD,qD=new xu("auth","Firebase",JD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=new sy("@firebase/auth");function iV(t,...e){sv.logLevel<=cn.WARN&&sv.warn(`Auth (${el}): ${t}`,...e)}function fm(t,...e){sv.logLevel<=cn.ERROR&&sv.error(`Auth (${el}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw x_(t,...e)}function Ur(t,...e){return x_(t,...e)}function eP(t,e,n){const r=Object.assign(Object.assign({},rV()),{[e]:n});return new xu("auth","Firebase",r).create(e,{appName:t.name})}function hh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vr(t,"argument-error"),eP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function x_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qD.create(t,...e)}function pt(t,e,...n){if(!t)throw x_(e,...n)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fm(e),new Error(e)}function Do(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function I_(){return DT()==="http:"||DT()==="https:"}function DT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I_()||FD()||"connection"in navigator)?navigator.onLine:!0}function sV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Do(n>e,"Short delay should be less than long delay!"),this.isMobile=EH()||w_()}get(){return oV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){Do(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Jd(3e4,6e4);function pr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sr(t,e,n,r,i={}){return nP(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ch(Object.assign({key:t.config.apiKey},s)).slice(1),m=await t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),tP.fetch()(rP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},o))})}async function nP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aV),e);try{const i=new uV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw df(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[m,u]=a.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",s);if(m==="EMAIL_EXISTS")throw df(t,"email-already-in-use",s);if(m==="USER_DISABLED")throw df(t,"user-disabled",s);const d=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw eP(t,d,u);Vr(t,d)}}catch(i){if(i instanceof pi)throw i;Vr(t,"network-request-failed",{message:String(i)})}}async function Ys(t,e,n,r,i={}){const o=await Sr(t,e,n,r,i);return"mfaPendingCredential"in o&&Vr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function rP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?E_(t.config,i):`${t.config.apiScheme}://${i}`}class uV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),lV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){return Sr(t,"POST","/v1/accounts:delete",e)}async function hV(t,e){return Sr(t,"POST","/v1/accounts:update",e)}async function fV(t,e){return Sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dV(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=ay(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Df(mw(i.auth_time)),issuedAtTime:Df(mw(i.iat)),expirationTime:Df(mw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function mw(t){return Number(t)*1e3}function ay(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fm("JWT malformed, contained fewer than 3 sections"),null;try{const i=LD(n);return i?JSON.parse(i):(fm("Failed to decode base64 JWT payload"),null)}catch(i){return fm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pV(t){const e=ay(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pi&&gV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Df(this.lastLoginAt),this.creationTime=Df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ws(t,fV(n,{idToken:r}));pt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wV(o.providerUserInfo):[],a=yV(t.providerData,s),m=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=m?u:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new iP(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,E)}async function vV(t){const e=zt(t);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wV(t){return t.map(e=>{var{providerId:n}=e,r=C_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){const n=await nP(t,{},async()=>{const r=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=rP(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tP.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return pt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await SV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new gd;return r&&(pt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gd,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=C_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iP(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ws(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dV(this,e)}reload(){return vV(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ws(this,cV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,m,u,d;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,O=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,l=(u=n.createdAt)!==null&&u!==void 0?u:void 0,c=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:g,stsTokenManager:y}=n;pt(f&&y,e,"internal-error");const _=gd.fromJSON(this.name,y);pt(typeof f=="string",e,"internal-error"),ra(E,e.name),ra(I,e.name),pt(typeof h=="boolean",e,"internal-error"),pt(typeof p=="boolean",e,"internal-error"),ra(O,e.name),ra(A,e.name),ra(D,e.name),ra(v,e.name),ra(l,e.name),ra(c,e.name);const w=new Gl({uid:f,auth:e,email:I,emailVerified:h,displayName:E,isAnonymous:p,photoURL:A,phoneNumber:O,tenantId:D,stsTokenManager:_,createdAt:l,lastLoginAt:c});return g&&Array.isArray(g)&&(w.providerData=g.map(T=>Object.assign({},T))),v&&(w._redirectEventId=v),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new gd;i.updateFromServerResponse(n);const o=new Gl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;function Hi(t){Do(t instanceof Function,"Expected a class definition");let e=PT.get(t);return e?(Do(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oP.type="NONE";const Hc=oP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t,e,n){return`firebase:${t}:${e}:${n}`}class Ic{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$l(this.userKey,i.apiKey,o),this.fullPersistenceKey=$l("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ic(Hi(Hc),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Hi(Hc);const s=$l(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const E=Gl._fromJSON(e,d);u!==o&&(a=E),o=u;break}}catch{}const m=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Ic(o,e,r):(o=m[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ic(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uP(e))return"Blackberry";if(cP(e))return"Webos";if(T_(e))return"Safari";if((e.includes("chrome/")||aP(e))&&!e.includes("edge/"))return"Chrome";if(qd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sP(t=Zn()){return/firefox\//i.test(t)}function T_(t=Zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aP(t=Zn()){return/crios\//i.test(t)}function lP(t=Zn()){return/iemobile/i.test(t)}function qd(t=Zn()){return/android/i.test(t)}function uP(t=Zn()){return/blackberry/i.test(t)}function cP(t=Zn()){return/webos/i.test(t)}function fh(t=Zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bV(t=Zn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function _V(t=Zn()){var e;return fh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CV(){return zD()&&document.documentMode===10}function hP(t=Zn()){return fh(t)||qd(t)||cP(t)||uP(t)||/windows phone/i.test(t)||lP(t)}function xV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e=[]){let n;switch(t){case"Browser":n=NT(Zn());break;case"Worker":n=`${NT(Zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${el}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t){return(await Sr(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function dP(t,e){return Sr(t,"GET","/v2/recaptchaConfig",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){return t!==void 0&&t.getResponse!==void 0}function LT(t){return t!==void 0&&t.enterprise!==void 0}class pP{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function M_(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",EV().appendChild(r)})}function gP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const TV="https://www.google.com/recaptcha/enterprise.js?render=",MV="recaptcha-enterprise",OV="NO_RECAPTCHA";class mP{constructor(e){this.type=MV,this.auth=lr(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{dP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pP(m);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(m=>{a(m)})})}function i(o,s,a){const m=window.grecaptcha;LT(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(OV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&LT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}M_(TV+a).then(()=>{i(a,o,s)}).catch(m=>{s(m)})}}).catch(a=>{s(a)})})}}async function Fa(t,e,n,r=!1){const i=new mP(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const m=e(o);s(m)}catch(m){a(m)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jT(this),this.idTokenSubscription=new jT(this),this.beforeStateQueue=new kV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ic.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!s||s===a)&&(m!=null&&m.user)&&(i=m.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?zt(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}async initializeRecaptchaConfig(){const e=await dP(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new pP(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new mP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Ic.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return pt(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lr(t){return zt(t)}class jT{constructor(e){this.auth=e,this.observer=null,this.addObserver=BD(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function DV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PV(t,e,n){const r=lr(t);pt(r._canInitEmulator,r,"emulator-config-failed"),pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=vP(e),{host:s,port:a}=NV(e),m=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${m}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RV()}function vP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NV(t){const e=vP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:FT(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:FT(s)}}}function FT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,n){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e){return Sr(t,"POST","/v1/accounts:resetPassword",pr(t,e))}async function wP(t,e){return Sr(t,"POST","/v1/accounts:update",e)}async function LV(t,e){return Sr(t,"POST","/v1/accounts:update",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(t,e){return Ys(t,"POST","/v1/accounts:signInWithPassword",pr(t,e))}async function ly(t,e){return Sr(t,"POST","/v1/accounts:sendOobCode",pr(t,e))}async function jV(t,e){return ly(t,e)}async function yw(t,e){return ly(t,e)}async function ww(t,e){return ly(t,e)}async function FV(t,e){return ly(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e){return Ys(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}async function BV(t,e){return Ys(t,"POST","/v1/accounts:signInWithEmailLink",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends dh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new md(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new md(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Fa(e,r,"signInWithPassword");return vw(e,i)}else return vw(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Fa(e,r,"signInWithPassword");return vw(e,o)}else return Promise.reject(i)});case"emailLink":return zV(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return wP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return BV(e,{idToken:n,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e){return Ys(t,"POST","/v1/accounts:signInWithIdp",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="http://localhost";class ds extends dh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=C_(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ds(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}buildRequest(){const e={requestUri:UV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ch(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e){return Sr(t,"POST","/v1/accounts:sendVerificationCode",pr(t,e))}async function WV(t,e){return Ys(t,"POST","/v1/accounts:signInWithPhoneNumber",pr(t,e))}async function VV(t,e){const n=await Ys(t,"POST","/v1/accounts:signInWithPhoneNumber",pr(t,e));if(n.temporaryProof)throw df(t,"account-exists-with-different-credential",n);return n}const GV={USER_NOT_FOUND:"user-not-found"};async function $V(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ys(t,"POST","/v1/accounts:signInWithPhoneNumber",pr(t,n),GV)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends dh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Yl({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Yl({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return WV(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return VV(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return $V(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Yl({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XV(t){const e=vc(ff(t)).link,n=e?vc(ff(e)).deep_link_id:null,r=vc(ff(t)).deep_link_id;return(r?vc(ff(r)).link:null)||r||n||e||t}class uy{constructor(e){var n,r,i,o,s,a;const m=vc(ff(e)),u=(n=m.apiKey)!==null&&n!==void 0?n:null,d=(r=m.oobCode)!==null&&r!==void 0?r:null,E=YV((i=m.mode)!==null&&i!==void 0?i:null);pt(u&&d&&E,"argument-error"),this.apiKey=u,this.operation=E,this.code=d,this.continueUrl=(o=m.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=m.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=m.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=XV(e);try{return new uy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,n){return md._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uy.parseLink(n);return pt(r,"argument-error"),md._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ec extends ph{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return pt("providerId"in n&&"signInMethod"in n,"argument-error"),ds._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return pt(e.idToken||e.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ec.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ec.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:a}=e;if(!r&&!i&&!n&&!o||!a)return null;try{return new Ec(a)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends ph{constructor(){super("facebook.com")}static credential(e){return ds._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qo.credential(e.oauthAccessToken)}catch{return null}}}Qo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends ph{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ds._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jo.credential(n,r)}catch{return null}}}Jo.GOOGLE_SIGN_IN_METHOD="google.com";Jo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends ph{constructor(){super("github.com")}static credential(e){return ds._fromParams({providerId:qo.PROVIDER_ID,signInMethod:qo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qo.credentialFromTaggedObject(e)}static credentialFromError(e){return qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qo.credential(e.oauthAccessToken)}catch{return null}}}qo.GITHUB_SIGN_IN_METHOD="github.com";qo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="http://localhost";class Wc extends dh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return js(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,js(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,js(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new Wc(r,o)}static _create(e,n){return new Wc(e,n)}buildRequest(){return{requestUri:KV,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="saml.";class av extends Xs{constructor(e){pt(e.startsWith(ZV),"argument-error"),super(e)}static credentialFromResult(e){return av.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return av.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Wc.fromJSON(e);return pt(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Wc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends ph{constructor(){super("twitter.com")}static credential(e,n){return ds._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t,e){return Ys(t,"POST","/v1/accounts:signUp",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Gl._fromIdTokenResponse(e,r,i),s=zT(r);return new go({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zT(r);return new go({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t){var e;const n=lr(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new go({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await dm(n,{returnSecureToken:!0}),i=await go._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends pi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lv.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lv(e,n,r,i)}}function SP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lv._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){const n=zt(t);await cy(!0,n,e);const{providerUserInfo:r}=await hV(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=bP(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function O_(t,e,n=!1){const r=await Ws(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",r)}async function cy(t,e,n){await pd(e);const r=bP(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";pt(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ws(t,SP(r,i,e,t),n);pt(o.idToken,r,"internal-error");const s=ay(o.idToken);pt(s,r,"internal-error");const{sub:a}=s;return pt(t.uid===a,r,"user-mismatch"),go._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e,n=!1){const r="signIn",i=await SP(t,r,e),o=await go._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function hy(t,e){return CP(lr(t),e)}async function xP(t,e){const n=zt(t);return await cy(!1,n,e.providerId),O_(n,e)}async function IP(t,e){return _P(zt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e){return Ys(t,"POST","/v1/accounts:signInWithCustomToken",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7(t,e){const n=lr(t),r=await qV(n,{token:e,returnSecureToken:!0}),i=await go._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?k_._fromServerResponse(e,n):"totpInfo"in n?A_._fromServerResponse(e,n):Vr(e,"internal-error")}}class k_ extends ep{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new k_(n)}}class A_ extends ep{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new A_(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t,e,n){var r;pt(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),pt(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pt(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(pt(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t7(t,e,n){var r;const i=lr(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const s=await Fa(i,o,"getOobCode",!0);n&&Tc(i,s,n),await yw(i,s)}else n&&Tc(i,o,n),await yw(i,o).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Fa(i,o,"getOobCode",!0);n&&Tc(i,a,n),await yw(i,a)}else return Promise.reject(s)})}async function n7(t,e,n){await yP(zt(t),{oobCode:e,newPassword:n})}async function r7(t,e){await LV(zt(t),{oobCode:e})}async function EP(t,e){const n=zt(t),r=await yP(n,{oobCode:e}),i=r.requestType;switch(pt(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pt(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pt(r.mfaInfo,n,"internal-error");default:pt(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=ep._fromServerResponse(lr(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function i7(t,e){const{data:n}=await EP(zt(t),e);return n.email}async function o7(t,e,n){var r;const i=lr(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Fa(i,o,"signUpPassword");s=dm(i,u)}else s=dm(i,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Fa(i,o,"signUpPassword");return dm(i,d)}else return Promise.reject(u)});const a=await s.catch(u=>Promise.reject(u)),m=await go._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(m.user),m}function s7(t,e,n){return hy(zt(t),tl.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e,n){var r;const i=lr(t),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(a,m){pt(m.handleCodeInApp,i,"argument-error"),m&&Tc(i,a,m)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Fa(i,o,"getOobCode",!0);s(a,n),await ww(i,a)}else s(o,n),await ww(i,o).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const m=await Fa(i,o,"getOobCode",!0);s(m,n),await ww(i,m)}else return Promise.reject(a)})}function l7(t,e){const n=uy.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function u7(t,e,n){const r=zt(t),i=tl.credentialWithLink(e,n||dd());return pt(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),hy(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c7(t,e){return Sr(t,"POST","/v1/accounts:createAuthUri",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e){const n=I_()?dd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await c7(zt(t),r);return i||[]}async function f7(t,e){const n=zt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Tc(n.auth,i,e);const{email:o}=await jV(n.auth,i);o!==t.email&&await t.reload()}async function d7(t,e,n){const r=zt(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Tc(r.auth,o,n);const{email:s}=await FV(r.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e){return Sr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g7(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=zt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ws(r,p7(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:m})=>m==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function m7(t,e){return TP(zt(t),e,null)}function v7(t,e){return TP(zt(t),null,e)}async function TP(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await Ws(t,wP(r,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},o=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const s=(n=(e=ay(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(s){const a=s!=="anonymous"&&s!=="custom"?s:null;return new Mc(o,a)}}if(!r)return null;switch(r){case"facebook.com":return new w7(o,i);case"github.com":return new S7(o,i);case"google.com":return new b7(o,i);case"twitter.com":return new _7(o,i,t.screenName||null);case"custom":case"anonymous":return new Mc(o,null);default:return new Mc(o,r,i)}}class Mc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class MP extends Mc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class w7 extends Mc{constructor(e,n){super(e,"facebook.com",n)}}class S7 extends MP{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class b7 extends Mc{constructor(e,n){super(e,"google.com",n)}}class _7 extends MP{constructor(e,n,r){super(e,"twitter.com",n,r)}}function C7(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:y7(n)}class jl{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new jl("enroll",e,n)}static _fromMfaPendingCredential(e){return new jl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return jl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return jl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=lr(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(a=>ep._fromServerResponse(r,a));pt(i.mfaPendingCredential,r,"internal-error");const s=jl._fromMfaPendingCredential(i.mfaPendingCredential);return new D_(s,o,async a=>{const m=await a._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:m.idToken,refreshToken:m.refreshToken});switch(n.operationType){case"signIn":const d=await go._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return pt(n.user,r,"internal-error"),go._forOperation(n.user,n.operationType,u);default:Vr(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function x7(t,e){var n;const r=zt(t),i=e;return pt(e.customData.operationType,r,"argument-error"),pt((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),D_._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t,e){return Sr(t,"POST","/v2/accounts/mfaEnrollment:start",pr(t,e))}function E7(t,e){return Sr(t,"POST","/v2/accounts/mfaEnrollment:finalize",pr(t,e))}function T7(t,e){return Sr(t,"POST","/v2/accounts/mfaEnrollment:withdraw",pr(t,e))}class P_{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>ep._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new P_(e)}async getSession(){return jl._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),o=await Ws(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ws(this.user,T7(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Sw=new WeakMap;function M7(t){const e=zt(t);return Sw.has(e)||Sw.set(e,P_._fromUser(e)),Sw.get(e)}const uv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uv,"1"),this.storage.removeItem(uv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(){const t=Zn();return T_(t)||fh(t)}const k7=1e3,A7=10;class kP extends OP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=O7()&&xV(),this.fallbackToPolling=hP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,m)=>{this.notifyListeners(s,m)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);CV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kP.type="LOCAL";const N_=kP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP extends OP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AP.type="SESSION";const ou=AP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),m=await D7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,m)=>{const u=tp("",20);i.port1.start();const d=setTimeout(()=>{m(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(E){const I=E;if(I.data.eventId===u)switch(I.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(I.data.response);break;default:clearTimeout(d),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function N7(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function R7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function j7(){return R_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP="firebaseLocalStorageDb",F7=1,cv="firebaseLocalStorage",PP="fbase_key";class np{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dy(t,e){return t.transaction([cv],e?"readwrite":"readonly").objectStore(cv)}function z7(){const t=indexedDB.deleteDatabase(DP);return new np(t).toPromise()}function cS(){const t=indexedDB.open(DP,F7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cv,{keyPath:PP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cv)?e(r):(r.close(),await z7(),e(await cS()))})})}async function BT(t,e,n){const r=dy(t,!0).put({[PP]:e,value:n});return new np(r).toPromise()}async function B7(t,e){const n=dy(t,!1).get(e),r=await new np(n).toPromise();return r===void 0?null:r.value}function UT(t,e){const n=dy(t,!0).delete(e);return new np(n).toPromise()}const U7=800,H7=3;class NP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return R_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fy._getInstance(j7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R7(),!this.activeServiceWorker)return;this.sender=new P7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cS();return await BT(e,uv,"1"),await UT(e,uv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>BT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=dy(i,!1).getAll();return new np(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NP.type="LOCAL";const vd=NP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t,e){return Sr(t,"POST","/v2/accounts/mfaSignIn:start",pr(t,e))}function V7(t,e){return Sr(t,"POST","/v2/accounts/mfaSignIn:finalize",pr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=500,$7=6e4,Rg=1e12;class Y7{constructor(e){this.auth=e,this.counter=Rg,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new X7(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Rg;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Rg;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Rg;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class X7{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;pt(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=K7(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},$7)},G7))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function K7(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=gP("rcb"),Z7=new Jd(3e4,6e4),Q7="https://www.google.com/recaptcha/api.js?";class J7{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=hr().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return pt(q7(n),e,"argument-error"),this.shouldResolveImmediately(n)&&RT(hr().grecaptcha)?Promise.resolve(hr().grecaptcha):new Promise((r,i)=>{const o=hr().setTimeout(()=>{i(Ur(e,"network-request-failed"))},Z7.get());hr()[bw]=()=>{hr().clearTimeout(o),delete hr()[bw];const a=hr().grecaptcha;if(!a||!RT(a)){i(Ur(e,"internal-error"));return}const m=a.render;a.render=(u,d)=>{const E=m(u,d);return this.counter++,E},this.hostLanguage=n,r(a)};const s=`${Q7}?${ch({onload:bw,render:"explicit",hl:n})}`;M_(s).catch(()=>{clearTimeout(o),i(Ur(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=hr().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function q7(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class eG{async load(e){return new Y7(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="recaptcha",tG={theme:"light",type:"image"};let nG=class{constructor(e,n=Object.assign({},tG),r){this.parameters=n,this.type=RP,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=lr(r),this.isInvisible=this.parameters.size==="invisible",pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;pt(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new eG:new J7,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){pt(!this.parameters.sitekey,this.auth,"argument-error"),pt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=hr()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){pt(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){pt(I_()&&!R_(),this.auth,"internal-error"),await rG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await IV(this.auth);pt(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return pt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function rG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Yl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function iG(t,e,n){const r=lr(t),i=await py(r,e,zt(n));return new L_(i,o=>hy(r,o))}async function oG(t,e,n){const r=zt(t);await cy(!1,r,"phone");const i=await py(r.auth,e,zt(n));return new L_(i,o=>xP(r,o))}async function sG(t,e,n){const r=zt(t),i=await py(r.auth,e,zt(n));return new L_(i,o=>IP(r,o))}async function py(t,e,n){var r;const i=await n.verify();try{pt(typeof i=="string",t,"argument-error"),pt(n.type===RP,t,"argument-error");let o;if(typeof e=="string"?o={phoneNumber:e}:o=e,"session"in o){const s=o.session;if("phoneNumber"in o)return pt(s.type==="enroll",t,"internal-error"),(await I7(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{pt(s.type==="signin",t,"internal-error");const a=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return pt(a,t,"missing-multi-factor-info"),(await W7(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:s}=await HV(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return s}}finally{n._reset()}}async function aG(t,e){await O_(zt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=class pm{constructor(e){this.providerId=pm.PROVIDER_ID,this.auth=lr(e)}verifyPhoneNumber(e,n){return py(this.auth,e,zt(n))}static credential(e,n){return Yl._fromVerification(e,n)}static credentialFromResult(e){const n=e;return pm.credentialFromTaggedObject(n)}static credentialFromError(e){return pm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Yl._fromTokenResponse(n,r):null}};su.PROVIDER_ID="phone";su.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t,e){return e?Hi(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_ extends dh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return js(e,this._buildIdpRequest())}_linkToIdToken(e,n){return js(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return js(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lG(t){return CP(t.auth,new j_(t),t.bypassAuthState)}function uG(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),_P(n,new j_(t),t.bypassAuthState)}async function cG(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),O_(n,new j_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(m))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lG;case"linkViaPopup":case"linkViaRedirect":return cG;case"reauthViaPopup":case"reauthViaRedirect":return uG;default:Vr(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG=new Jd(2e3,1e4);async function fG(t,e,n){const r=lr(t);hh(t,e,Xs);const i=Iu(r,n);return new ks(r,"signInViaPopup",e,i).executeNotNull()}async function dG(t,e,n){const r=zt(t);hh(r.auth,e,Xs);const i=Iu(r.auth,n);return new ks(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function pG(t,e,n){const r=zt(t);hh(r.auth,e,Xs);const i=Iu(r.auth,n);return new ks(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ks extends LP{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Do(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hG.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="pendingRedirect",Pf=new Map;class mG extends LP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pf.get(this.auth._key());if(!e){try{const r=await vG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pf.set(this.auth._key(),e)}return this.bypassAuthState||Pf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vG(t,e){const n=FP(e),r=jP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function F_(t,e){return jP(t)._set(FP(e),"true")}function yG(){Pf.clear()}function z_(t,e){Pf.set(t._key(),e)}function jP(t){return Hi(t._redirectPersistence)}function FP(t){return $l(gG,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t,e,n){return SG(t,e,n)}async function SG(t,e,n){const r=lr(t);hh(t,e,Xs),await r._initializationPromise;const i=Iu(r,n);return await F_(i,r),i._openRedirect(r,e,"signInViaRedirect")}function bG(t,e,n){return _G(t,e,n)}async function _G(t,e,n){const r=zt(t);hh(r.auth,e,Xs),await r.auth._initializationPromise;const i=Iu(r.auth,n);await F_(i,r.auth);const o=await zP(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function CG(t,e,n){return xG(t,e,n)}async function xG(t,e,n){const r=zt(t);hh(r.auth,e,Xs),await r.auth._initializationPromise;const i=Iu(r.auth,n);await cy(!1,r,e.providerId),await F_(i,r.auth);const o=await zP(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function IG(t,e){return await lr(t)._initializationPromise,gy(t,e,!1)}async function gy(t,e,n=!1){const r=lr(t),i=Iu(r,e),s=await new mG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function zP(t){const e=tp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=10*60*1e3;class BP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EG&&this.cachedEventUids.clear(),this.cachedEventUids.has(HT(e))}saveEventToCache(e){this.cachedEventUids.add(HT(e)),this.lastProcessedEventTime=Date.now()}}function HT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HP(t,e={}){return Sr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OG=/^https?/;async function kG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HP(t);for(const n of e)try{if(AG(n))return}catch{}Vr(t,"unauthorized-domain")}function AG(t){const e=dd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!OG.test(n))return!1;if(MG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG=new Jd(3e4,6e4);function WT(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PG(t){return new Promise((e,n)=>{var r,i,o;function s(){WT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WT(),n(Ur(t,"network-request-failed"))},timeout:DG.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hr().gapi)===null||o===void 0)&&o.load)s();else{const a=gP("iframefcb");return hr()[a]=()=>{gapi.load?s():n(Ur(t,"network-request-failed"))},M_(`https://apis.google.com/js/api.js?onload=${a}`).catch(m=>n(m))}}).catch(e=>{throw gm=null,e})}let gm=null;function NG(t){return gm=gm||PG(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=new Jd(5e3,15e3),LG="__/auth/iframe",jG="emulator/auth/iframe",FG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BG(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E_(e,jG):`https://${t.config.authDomain}/${LG}`,r={apiKey:e.apiKey,appName:t.name,v:el},i=zG.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ch(r).slice(1)}`}async function UG(t){const e=await NG(t),n=hr().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:BG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FG,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ur(t,"network-request-failed"),a=hr().setTimeout(()=>{o(s)},RG.get());function m(){hr().clearTimeout(a),i(r)}r.ping(m).then(m,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WG=500,VG=600,GG="_blank",$G="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YG(t,e,n,r=WG,i=VG){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const m=Object.assign(Object.assign({},HG),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Zn().toLowerCase();n&&(a=aP(u)?GG:n),sP(u)&&(e=e||$G,m.scrollbars="yes");const d=Object.entries(m).reduce((I,[O,A])=>`${I}${O}=${A},`,"");if(_V(u)&&a!=="_self")return XG(e||"",a),new VT(null);const E=window.open(e||"",a,d);pt(E,t,"popup-blocked");try{E.focus()}catch{}return new VT(E)}function XG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="__/auth/handler",ZG="emulator/auth/handler",QG=encodeURIComponent("fac");async function hS(t,e,n,r,i,o){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:el,eventId:i};if(e instanceof Xs){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",PH(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,E]of Object.entries(o||{}))s[d]=E}if(e instanceof ph){const d=e.getScopes().filter(E=>E!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const m=await t._getAppCheckToken(),u=m?`#${QG}=${encodeURIComponent(m)}`:"";return`${JG(t)}?${ch(a).slice(1)}${u}`}function JG({config:t}){return t.emulator?E_(t,ZG):`https://${t.authDomain}/${KG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="webStorageSupport";class qG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ou,this._completeRedirectFn=gy,this._overrideRedirectResult=z_}async _openPopup(e,n,r,i){var o;Do((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await hS(e,n,r,dd(),i);return YG(e,s,tp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await hS(e,n,r,dd(),i);return N7(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Do(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UG(e),r=new BP(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_w,{type:_w},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[_w];s!==void 0&&n(!!s),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hP()||T_()||fh()}}const e$=qG;class t${constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ns("unexpected MultiFactorSessionType")}}}class B_ extends t${constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new B_(e)}_finalizeEnroll(e,n,r){return E7(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return V7(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class WP{constructor(){}static assertion(e){return B_._fromCredential(e)}}WP.FACTOR_ID="phone";var GT="@firebase/auth",$T="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function i$(t){ja(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fP(t)},u=new AV(r,i,o,m);return DV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ja(new fs("auth-internal",e=>{const n=lr(e.getProvider("auth").getImmediate());return(r=>new n$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(GT,$T,r$(t)),us(GT,$T,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=5*60;CH("authIdTokenMaxAge");i$("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=2e3;async function a$(t,e,n){var r;const{BuildInfo:i}=au();Do(e.sessionId,"AuthEvent did not contain a session ID");const o=await f$(e.sessionId),s={};return fh()?s.ibi=i.packageName:qd()?s.apn=i.packageName:Vr(t,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,hS(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)}async function l$(t){const{BuildInfo:e}=au(),n={};fh()?n.iosBundleId=e.packageName:qd()?n.androidPackageName=e.packageName:Vr(t,"operation-not-supported-in-this-environment"),await HP(t,n)}function u$(t){const{cordova:e}=au();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,bV()?"_blank":"_system","location=yes"),n(i)})})}async function c$(t,e,n){const{cordova:r}=au();let i=()=>{};try{await new Promise((o,s)=>{let a=null;function m(){var E;o();const I=(E=r.plugins.browsertab)===null||E===void 0?void 0:E.close;typeof I=="function"&&I(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{s(Ur(t,"redirect-cancelled-by-user"))},s$))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(m),document.addEventListener("resume",u,!1),qd()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(m),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function h$(t){var e,n,r,i,o,s,a,m,u,d;const E=au();pt(typeof((e=E==null?void 0:E.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pt(typeof((n=E==null?void 0:E.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pt(typeof((o=(i=(r=E==null?void 0:E.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((m=(a=(s=E==null?void 0:E.cordova)===null||s===void 0?void 0:s.plugins)===null||a===void 0?void 0:a.browsertab)===null||m===void 0?void 0:m.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pt(typeof((d=(u=E==null?void 0:E.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function f$(t){const e=d$(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function d$(t){if(Do(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=20;class g$ extends BP{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function m$(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:w$(),postBody:null,tenantId:t.tenantId,error:Ur(t,"no-auth-event")}}function v$(t,e){return fS()._set(dS(t),e)}async function YT(t){const e=await fS()._get(dS(t));return e&&await fS()._remove(dS(t)),e}function y$(t,e){var n,r;const i=b$(e);if(i.includes("/__/auth/callback")){const o=mm(i),s=o.firebaseError?S$(decodeURIComponent(o.firebaseError)):null,a=(r=(n=s==null?void 0:s.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],m=a?Ur(a):null;return m?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:m,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function w$(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<p$;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function fS(){return Hi(N_)}function dS(t){return $l("authEvent",t.config.apiKey,t.name)}function S$(t){try{return JSON.parse(t)}catch{return null}}function b$(t){const e=mm(t),n=e.link?decodeURIComponent(e.link):void 0,r=mm(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return mm(i).link||i||r||n||t}function mm(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return vc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=500;class C${constructor(){this._redirectPersistence=ou,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gy,this._overrideRedirectResult=z_}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new g$(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Vr(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){h$(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),yG(),await this._originValidation(e);const s=m$(e,r,i);await v$(e,s);const a=await a$(e,s,n),m=await u$(a);return c$(e,o,m)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l$(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=au(),s=setTimeout(async()=>{await YT(e),n.onEvent(XT())},_$),a=async d=>{clearTimeout(s);const E=await YT(e);let I=null;E&&(d!=null&&d.url)&&(I=y$(E,d.url)),n.onEvent(I||XT())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const m=i,u=`${o.packageName.toLowerCase()}://`;au().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof m=="function")try{m(d)}catch(E){console.error(E)}}}}const x$=C$;function XT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ur("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t,e){lr(t)._logFramework(e)}var E$="@firebase/auth-compat",T$="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=1e3;function Nf(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function O$(){return Nf()==="http:"||Nf()==="https:"}function VP(t=Zn()){return!!((Nf()==="file:"||Nf()==="ionic:"||Nf()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function k$(){return w_()||y_()}function A$(){return zD()&&(document==null?void 0:document.documentMode)===11}function D$(t=Zn()){return/Edge\/\d+/.test(t)}function P$(t=Zn()){return A$()||D$(t)}function GP(){try{const t=self.localStorage,e=tp();if(t)return t.setItem(e,"1"),t.removeItem(e),P$()?cd():!0}catch{return U_()&&cd()}return!1}function U_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cw(){return(O$()||FD()||VP())&&!k$()&&GP()&&!U_()}function $P(){return VP()&&typeof document<"u"}async function N$(){return $P()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},M$);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function R$(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi={LOCAL:"local",NONE:"none",SESSION:"session"},$h=pt,YP="persistence";function L$(t,e){if($h(Object.values(Bi).includes(e),t,"invalid-persistence-type"),w_()){$h(e!==Bi.SESSION,t,"unsupported-persistence-type");return}if(y_()){$h(e===Bi.NONE,t,"unsupported-persistence-type");return}if(U_()){$h(e===Bi.NONE||e===Bi.LOCAL&&cd(),t,"unsupported-persistence-type");return}$h(e===Bi.NONE||GP(),t,"unsupported-persistence-type")}async function pS(t){await t._initializationPromise;const e=XP(),n=$l(YP,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function j$(t,e){const n=XP();if(!n)return[];const r=$l(YP,t,e);switch(n.getItem(r)){case Bi.NONE:return[Hc];case Bi.LOCAL:return[vd,ou];case Bi.SESSION:return[ou];default:return[]}}function XP(){var t;try{return((t=R$())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=pt;class wa{constructor(){this.browserResolver=Hi(e$),this.cordovaResolver=Hi(x$),this.underlyingResolver=null,this._redirectPersistence=ou,this._completeRedirectFn=gy,this._overrideRedirectResult=z_}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return $P()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return F$(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await N$();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){return t.unwrap()}function z$(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){return ZP(t)}function U$(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new H$(t,x7(t,e))}else if(r){const i=ZP(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function ZP(t){const{_tokenResponse:e}=t instanceof pi?t.customData:t;if(!e)return null;if(!(t instanceof pi)&&"temporaryProof"in e&&"phoneNumber"in e)return su.credentialFromResult(t);const n=e.providerId;if(!n||n===Gh.PASSWORD)return null;let r;switch(n){case Gh.GOOGLE:r=Jo;break;case Gh.FACEBOOK:r=Qo;break;case Gh.GITHUB:r=qo;break;case Gh.TWITTER:r=es;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:a,nonce:m}=e;return!o&&!s&&!i&&!a?null:a?n.startsWith("saml.")?Wc._create(n,a):ds._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:o}):new Ec(n).credential({idToken:i,accessToken:o,rawNonce:m})}return t instanceof pi?r.credentialFromError(t):r.credentialFromResult(t)}function bi(t,e){return e.catch(n=>{throw n instanceof pi&&U$(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:B$(n),additionalUserInfo:C7(n),user:As.getOrCreate(i)}})}async function gS(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>bi(t,n.confirm(r))}}class H${constructor(e,n){this.resolver=n,this.auth=z$(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return bi(KP(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._delegate=e,this.multiFactor=M7(e)}static getOrCreate(e){return As.USER_MAP.has(e)||As.USER_MAP.set(e,new As(e)),As.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return bi(this.auth,xP(this._delegate,e))}async linkWithPhoneNumber(e,n){return gS(this.auth,oG(this._delegate,e,n))}async linkWithPopup(e){return bi(this.auth,pG(this._delegate,e,wa))}async linkWithRedirect(e){return await pS(lr(this.auth)),CG(this._delegate,e,wa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return bi(this.auth,IP(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return gS(this.auth,sG(this._delegate,e,n))}reauthenticateWithPopup(e){return bi(this.auth,dG(this._delegate,e,wa))}async reauthenticateWithRedirect(e){return await pS(lr(this.auth)),bG(this._delegate,e,wa)}sendEmailVerification(e){return f7(this._delegate,e)}async unlink(e){return await JV(this._delegate,e),this}updateEmail(e){return m7(this._delegate,e)}updatePassword(e){return v7(this._delegate,e)}updatePhoneNumber(e){return aG(this._delegate,e)}updateProfile(e){return g7(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return d7(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}As.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=pt;class mS{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Yh(r,"invalid-api-key",{appName:e.name}),Yh(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?wa:void 0;this._delegate=n.initialize({options:{persistence:W$(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(nV),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?As.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){PV(this._delegate,e,n)}applyActionCode(e){return r7(this._delegate,e)}checkActionCode(e){return EP(this._delegate,e)}confirmPasswordReset(e,n){return n7(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return bi(this._delegate,o7(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return h7(this._delegate,e)}isSignInWithEmailLink(e){return l7(this._delegate,e)}async getRedirectResult(){Yh(Cw(),this._delegate,"operation-not-supported-in-this-environment");const e=await IG(this._delegate,wa);return e?bi(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){I$(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:s}=KT(e,n,r);return this._delegate.onAuthStateChanged(i,o,s)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:s}=KT(e,n,r);return this._delegate.onIdTokenChanged(i,o,s)}sendSignInLinkToEmail(e,n){return a7(this._delegate,e,n)}sendPasswordResetEmail(e,n){return t7(this._delegate,e,n||void 0)}async setPersistence(e){L$(this._delegate,e);let n;switch(e){case Bi.SESSION:n=ou;break;case Bi.LOCAL:n=await Hi(vd)._isAvailable()?vd:N_;break;case Bi.NONE:n=Hc;break;default:return Vr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return bi(this._delegate,QV(this._delegate))}signInWithCredential(e){return bi(this._delegate,hy(this._delegate,e))}signInWithCustomToken(e){return bi(this._delegate,e7(this._delegate,e))}signInWithEmailAndPassword(e,n){return bi(this._delegate,s7(this._delegate,e,n))}signInWithEmailLink(e,n){return bi(this._delegate,u7(this._delegate,e,n))}signInWithPhoneNumber(e,n){return gS(this._delegate,iG(this._delegate,e,n))}async signInWithPopup(e){return Yh(Cw(),this._delegate,"operation-not-supported-in-this-environment"),bi(this._delegate,fG(this._delegate,e,wa))}async signInWithRedirect(e){return Yh(Cw(),this._delegate,"operation-not-supported-in-this-environment"),await pS(this._delegate),wG(this._delegate,e,wa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return i7(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}mS.Persistence=Bi;function KT(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&As.getOrCreate(s)),error:e,complete:n}}function W$(t,e){const n=j$(t,e);if(typeof self<"u"&&!n.includes(vd)&&n.push(vd),typeof window<"u")for(const r of[N_,ou])n.includes(r)||n.push(r);return n.includes(Hc)||n.push(Hc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.providerId="phone",this._delegate=new su(KP(ti.auth()))}static credential(e,n){return su.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}H_.PHONE_SIGN_IN_METHOD=su.PHONE_SIGN_IN_METHOD;H_.PROVIDER_ID=su.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=pt;class G${constructor(e,n,r=ti.app()){var i;V$((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new nG(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="auth-compat";function Y$(t){t.INTERNAL.registerComponent(new fs($$,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new mS(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ku.EMAIL_SIGNIN,PASSWORD_RESET:Ku.PASSWORD_RESET,RECOVER_EMAIL:Ku.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ku.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ku.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ku.VERIFY_EMAIL}},EmailAuthProvider:tl,FacebookAuthProvider:Qo,GithubAuthProvider:qo,GoogleAuthProvider:Jo,OAuthProvider:Ec,SAMLAuthProvider:av,PhoneAuthProvider:H_,PhoneMultiFactorGenerator:WP,RecaptchaVerifier:G$,TwitterAuthProvider:es,Auth:mS,AuthCredential:dh,Error:pi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(E$,T$)}Y$(ti);const X$={apiKey:"AIzaSyBCdzd8ua_hZoxdkN3jRPIY0cgvvzzihes",authDomain:"enimto-30a5f.firebaseapp.com",projectId:"enimto-30a5f",storageBucket:"enimto-30a5f.appspot.com",messagingSenderId:"895603495267",appId:"1:895603495267:android:027fd0998671566d450356",measurementId:"G-X07JW43Q2H"};ti.initializeApp(X$);var K$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tt,W_=W_||{},Vt=K$||self;function hv(){}function my(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function rp(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Z$(t){return Object.prototype.hasOwnProperty.call(t,xw)&&t[xw]||(t[xw]=++Q$)}var xw="closure_uid_"+(1e9*Math.random()>>>0),Q$=0;function J$(t,e,n){return t.call.apply(t.bind,arguments)}function q$(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ni(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ni=J$:ni=q$,ni.apply(null,arguments)}function Lg(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function nl(){this.s=this.s,this.o=this.o}var eY=0;nl.prototype.s=!1;nl.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),eY!=0)&&Z$(this)};nl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function V_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ZT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(my(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ri(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ri.prototype.h=function(){this.defaultPrevented=!0};var tY=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Vt.addEventListener("test",hv,e),Vt.removeEventListener("test",hv,e)}catch{}return t}();function fv(t){return/^[\s\xa0]*$/.test(t)}var QT=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Iw(t,e){return t<e?-1:t>e?1:0}function vy(){var t=Vt.navigator;return t&&(t=t.userAgent)?t:""}function ts(t){return vy().indexOf(t)!=-1}function G_(t){return G_[" "](t),t}G_[" "]=hv;function JP(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var nY=ts("Opera"),Vc=ts("Trident")||ts("MSIE"),qP=ts("Edge"),vS=qP||Vc,eN=ts("Gecko")&&!(vy().toLowerCase().indexOf("webkit")!=-1&&!ts("Edge"))&&!(ts("Trident")||ts("MSIE"))&&!ts("Edge"),rY=vy().toLowerCase().indexOf("webkit")!=-1&&!ts("Edge");function tN(){var t=Vt.document;return t?t.documentMode:void 0}var dv;e:{var Ew="",Tw=function(){var t=vy();if(eN)return/rv:([^\);]+)(\)|;)/.exec(t);if(qP)return/Edge\/([\d\.]+)/.exec(t);if(Vc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(rY)return/WebKit\/(\S+)/.exec(t);if(nY)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tw&&(Ew=Tw?Tw[1]:""),Vc){var Mw=tN();if(Mw!=null&&Mw>parseFloat(Ew)){dv=String(Mw);break e}}dv=Ew}var iY={};function oY(){return JP(iY,9,function(){let t=0;const e=QT(String(dv)).split("."),n=QT("9").split("."),r=Math.max(e.length,n.length);for(let s=0;t==0&&s<r;s++){var i=e[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],i[0].length==0&&o[0].length==0)break;t=Iw(i[1].length==0?0:parseInt(i[1],10),o[1].length==0?0:parseInt(o[1],10))||Iw(i[2].length==0,o[2].length==0)||Iw(i[2],o[2]),i=i[3],o=o[3]}while(t==0)}return 0<=t})}var yS;if(Vt.document&&Vc){var JT=tN();yS=JT||parseInt(dv,10)||void 0}else yS=void 0;var sY=yS;function yd(t,e){if(ri.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eN){e:{try{G_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&yd.$.h.call(this)}}Mr(yd,ri);var aY={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ip="closure_listenable_"+(1e6*Math.random()|0),lY=0;function uY(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lY,this.fa=this.ia=!1}function yy(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nN(t){const e={};for(const n in t)e[n]=t[n];return e}const qT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rN(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<qT.length;o++)n=qT[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wy(t){this.src=t,this.g={},this.h=0}wy.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=SS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new uY(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function wS(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=QP(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(yy(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function SS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Y_="closure_lm_"+(1e6*Math.random()|0),Ow={};function iN(t,e,n,r,i){if(r&&r.once)return sN(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)iN(t,e[o],n,r,i);return null}return n=Z_(n),t&&t[ip]?t.O(e,n,rp(r)?!!r.capture:!!r,i):oN(t,e,n,!1,r,i)}function oN(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=rp(i)?!!i.capture:!!i,a=K_(t);if(a||(t[Y_]=a=new wy(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=cY(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)tY||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function cY(){function t(n){return e.call(t.src,t.listener,n)}const e=hY;return t}function sN(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)sN(t,e[o],n,r,i);return null}return n=Z_(n),t&&t[ip]?t.P(e,n,rp(r)?!!r.capture:!!r,i):oN(t,e,n,!0,r,i)}function aN(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)aN(t,e[o],n,r,i);else r=rp(r)?!!r.capture:!!r,n=Z_(n),t&&t[ip]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=SS(o,n,r,i),-1<n&&(yy(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=K_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=SS(e,n,r,i)),(n=-1<t?e[t]:null)&&X_(n))}function X_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ip])wS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=K_(e))?(wS(n,t),n.h==0&&(n.src=null,e[Y_]=null)):yy(t)}}}function lN(t){return t in Ow?Ow[t]:Ow[t]="on"+t}function hY(t,e){if(t.fa)t=!0;else{e=new yd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&X_(t),t=n.call(r,e)}return t}function K_(t){return t=t[Y_],t instanceof wy?t:null}var kw="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z_(t){return typeof t=="function"?t:(t[kw]||(t[kw]=function(e){return t.handleEvent(e)}),t[kw])}function Tr(){nl.call(this),this.i=new wy(this),this.S=this,this.J=null}Mr(Tr,nl);Tr.prototype[ip]=!0;Tr.prototype.removeEventListener=function(t,e,n,r){aN(this,t,e,n,r)};function Hr(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ri(e,t);else if(e instanceof ri)e.target=e.target||t;else{var i=e;e=new ri(r,t),rN(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=jg(s,r,!0,e)&&i}if(s=e.g=t,i=jg(s,r,!0,e)&&i,i=jg(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=jg(s,r,!1,e)&&i}Tr.prototype.N=function(){if(Tr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yy(n[r]);delete t.g[e],t.h--}}this.J=null};Tr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function jg(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,m=s.la||s.src;s.ia&&wS(t.i,s),i=a.call(m,r)!==!1&&i}}return i&&!r.defaultPrevented}var Q_=Vt.JSON.stringify;function fY(){var t=hN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dY{constructor(){this.h=this.g=null}add(e,n){const r=uN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var uN=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new pY,t=>t.reset());class pY{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function gY(t){Vt.setTimeout(()=>{throw t},0)}function cN(t,e){bS||mY(),_S||(bS(),_S=!0),hN.add(t,e)}var bS;function mY(){var t=Vt.Promise.resolve(void 0);bS=function(){t.then(vY)}}var _S=!1,hN=new dY;function vY(){for(var t;t=fY();){try{t.h.call(t.g)}catch(n){gY(n)}var e=uN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_S=!1}function Sy(t,e){Tr.call(this),this.h=t||1,this.g=e||Vt,this.j=ni(this.qb,this),this.l=Date.now()}Mr(Sy,Tr);Tt=Sy.prototype;Tt.ga=!1;Tt.T=null;Tt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(J_(this),this.start()))}};Tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function J_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Tt.N=function(){Sy.$.N.call(this),J_(this),delete this.g};function q_(t,e,n){if(typeof t=="function")n&&(t=ni(t,n));else if(t&&typeof t.handleEvent=="function")t=ni(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Vt.setTimeout(t,e||0)}function fN(t){t.g=q_(()=>{t.g=null,t.i&&(t.i=!1,fN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class yY extends nl{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fN(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wd(t){nl.call(this),this.h=t,this.g={}}Mr(wd,nl);var eM=[];function dN(t,e,n,r){Array.isArray(n)||(n&&(eM[0]=n.toString()),n=eM);for(var i=0;i<n.length;i++){var o=iN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function pN(t){$_(t.g,function(e,n){this.g.hasOwnProperty(n)&&X_(e)},t),t.g={}}wd.prototype.N=function(){wd.$.N.call(this),pN(this)};wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function by(){this.g=!0}by.prototype.Ea=function(){this.g=!1};function wY(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),m=0;m<a.length;m++){var u=a[m].split("=");if(1<u.length){var d=u[0];u=u[1];var E=d.split("_");s=2<=E.length&&E[1]=="type"?s+(d+"="+u+"&"):s+(d+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function SY(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function yc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+_Y(t,n)+(r?" "+r:"")})}function bY(t,e){t.info(function(){return"TIMEOUT: "+e})}by.prototype.info=function(){};function _Y(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Q_(n)}catch{return e}}var Eu={},tM=null;function _y(){return tM=tM||new Tr}Eu.Ta="serverreachability";function gN(t){ri.call(this,Eu.Ta,t)}Mr(gN,ri);function Sd(t){const e=_y();Hr(e,new gN(e))}Eu.STAT_EVENT="statevent";function mN(t,e){ri.call(this,Eu.STAT_EVENT,t),this.stat=e}Mr(mN,ri);function fi(t){const e=_y();Hr(e,new mN(e,t))}Eu.Ua="timingevent";function vN(t,e){ri.call(this,Eu.Ua,t),this.size=e}Mr(vN,ri);function op(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){t()},e)}var Cy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},yN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eC(){}eC.prototype.h=null;function nM(t){return t.h||(t.h=t.i())}function wN(){}var sp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tC(){ri.call(this,"d")}Mr(tC,ri);function nC(){ri.call(this,"c")}Mr(nC,ri);var CS;function xy(){}Mr(xy,eC);xy.prototype.g=function(){return new XMLHttpRequest};xy.prototype.i=function(){return{}};CS=new xy;function ap(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new wd(this),this.P=CY,t=vS?125:void 0,this.V=new Sy(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new SN}function SN(){this.i=null,this.g="",this.h=!1}var CY=45e3,xS={},pv={};Tt=ap.prototype;Tt.setTimeout=function(t){this.P=t};function IS(t,e,n){t.L=1,t.v=Ey(Vs(e)),t.s=n,t.S=!0,bN(t,null)}function bN(t,e){t.G=Date.now(),lp(t),t.A=Vs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ON(n.i,"t",r),t.C=0,n=t.l.I,t.h=new SN,t.g=ZN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new yY(ni(t.Pa,t,t.g),t.O)),dN(t.U,t.g,"readystatechange",t.nb),e=t.I?nN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sd(),wY(t.j,t.u,t.A,t.m,t.W,t.s)}Tt.nb=function(t){t=t.target;const e=this.M;e&&Ds(t)==3?e.l():this.Pa(t)};Tt.Pa=function(t){try{if(t==this.g)e:{const d=Ds(this.g);var e=this.g.Ia();const E=this.g.da();if(!(3>d)&&(d!=3||vS||this.g&&(this.h.h||this.g.ja()||sM(this.g)))){this.J||d!=4||e==7||(e==8||0>=E?Sd(3):Sd(2)),Iy(this);var n=this.g.da();this.aa=n;t:if(_N(this)){var r=sM(this.g);t="";var i=r.length,o=Ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fl(this),Rf(this);var s="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,SY(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,m=this.g;if((a=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fv(a)){var u=a;break t}}u=null}if(n=u)yc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ES(this,n);else{this.i=!1,this.o=3,fi(12),Fl(this),Rf(this);break e}}this.S?(CN(this,d,s),vS&&this.i&&d==3&&(dN(this.U,this.V,"tick",this.mb),this.V.start())):(yc(this.j,this.m,s,null),ES(this,s)),d==4&&Fl(this),this.i&&!this.J&&(d==4?$N(this.l,this):(this.i=!1,lp(this)))}else n==400&&0<s.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),Fl(this),Rf(this)}}}catch{}finally{}};function _N(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function CN(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=xY(t,n),i==pv){e==4&&(t.o=4,fi(14),r=!1),yc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==xS){t.o=4,fi(15),yc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yc(t.j,t.m,i,null),ES(t,i);_N(t)&&i!=pv&&i!=xS&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,fi(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),uC(e),e.L=!0,fi(11))):(yc(t.j,t.m,n,"[Invalid Chunked Response]"),Fl(t),Rf(t))}Tt.mb=function(){if(this.g){var t=Ds(this.g),e=this.g.ja();this.C<e.length&&(Iy(this),CN(this,t,e),this.i&&t!=4&&lp(this))}};function xY(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?pv:(n=Number(e.substring(n,r)),isNaN(n)?xS:(r+=1,r+n>e.length?pv:(e=e.substr(r,n),t.C=r+n,e)))}Tt.cancel=function(){this.J=!0,Fl(this)};function lp(t){t.Y=Date.now()+t.P,xN(t,t.P)}function xN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=op(ni(t.lb,t),e)}function Iy(t){t.B&&(Vt.clearTimeout(t.B),t.B=null)}Tt.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(bY(this.j,this.A),this.L!=2&&(Sd(),fi(17)),Fl(this),this.o=2,Rf(this)):xN(this,this.Y-t)};function Rf(t){t.l.H==0||t.J||$N(t.l,t)}function Fl(t){Iy(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,J_(t.V),pN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function ES(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||TS(n.h,t))){if(!t.K&&TS(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vv(n),Oy(n);else break e;lC(n),fi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=op(ni(n.ib,n),6e3));if(1>=DN(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else zl(n,11)}else if((t.K||n.g==t)&&vv(n),!fv(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const d=u[3];d!=null&&(n.qa=d,n.j.info("VER="+n.qa));const E=u[4];E!=null&&(n.Ga=E,n.j.info("SVER="+n.Ga));const I=u[5];I!=null&&typeof I=="number"&&0<I&&(r=1.5*I,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const O=t.g;if(O){const A=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var o=r.h;o.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(rC(o,o.h),o.h=null))}if(r.F){const D=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,Vn(r.G,r.F,D))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=KN(r,r.I?r.oa:null,r.Y),s.K){PN(r.h,s);var a=s,m=r.K;m&&a.setTimeout(m),a.B&&(Iy(a),lp(a)),r.g=s}else VN(r);0<n.i.length&&ky(n)}else u[0]!="stop"&&u[0]!="close"||zl(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zl(n,7):aC(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}Sd(4)}catch{}}function IY(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(my(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function EY(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(my(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(my(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EY(t),r=IY(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var EN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TY(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xl(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xl){this.h=e!==void 0?e:t.h,gv(this,t.j),this.s=t.s,this.g=t.g,mv(this,t.m),this.l=t.l,e=t.i;var n=new bd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),rM(this,n),this.o=t.o}else t&&(n=String(t).match(EN))?(this.h=!!e,gv(this,n[1]||"",!0),this.s=pf(n[2]||""),this.g=pf(n[3]||"",!0),mv(this,n[4]),this.l=pf(n[5]||"",!0),rM(this,n[6]||"",!0),this.o=pf(n[7]||"")):(this.h=!!e,this.i=new bd(null,this.h))}Xl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gf(e,iM,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gf(e,iM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gf(n,n.charAt(0)=="/"?kY:OY,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gf(n,DY)),t.join("")};function Vs(t){return new Xl(t)}function gv(t,e,n){t.j=n?pf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function rM(t,e,n){e instanceof bd?(t.i=e,PY(t.i,t.h)):(n||(e=gf(e,AY)),t.i=new bd(e,t.h))}function Vn(t,e,n){t.i.set(e,n)}function Ey(t){return Vn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,MY),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function MY(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iM=/[#\/\?@]/g,OY=/[#\?:]/g,kY=/[#\?]/g,AY=/[#\?@]/g,DY=/#/g;function bd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rl(t){t.g||(t.g=new Map,t.h=0,t.i&&TY(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Tt=bd.prototype;Tt.add=function(t,e){rl(this),this.i=null,t=gh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TN(t,e){rl(t),e=gh(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MN(t,e){return rl(t),e=gh(t,e),t.g.has(e)}Tt.forEach=function(t,e){rl(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Tt.sa=function(){rl(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Tt.Z=function(t){rl(this);let e=[];if(typeof t=="string")MN(this,t)&&(e=e.concat(this.g.get(gh(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Tt.set=function(t,e){return rl(this),this.i=null,t=gh(this,t),MN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Tt.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ON(t,e,n){TN(t,e),0<n.length&&(t.i=null,t.g.set(gh(t,e),V_(n)),t.h+=n.length)}Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function gh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function PY(t,e){e&&!t.j&&(rl(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TN(this,r),ON(this,i,n))},t)),t.j=e}var NY=class{constructor(t,e){this.h=t,this.g=e}};function kN(t){this.l=t||RY,Vt.PerformanceNavigationTiming?(t=Vt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var RY=10;function AN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DN(t){return t.h?1:t.g?t.g.size:0}function TS(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function rC(t,e){t.g?t.g.add(e):t.h=e}function PN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}kN.prototype.cancel=function(){if(this.i=NN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function NN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return V_(t.i)}function iC(){}iC.prototype.stringify=function(t){return Vt.JSON.stringify(t,void 0)};iC.prototype.parse=function(t){return Vt.JSON.parse(t,void 0)};function LY(){this.g=new iC}function jY(t,e,n){const r=n||"";try{IN(t,function(i,o){let s=i;rp(i)&&(s=Q_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function FY(t,e){const n=new by;if(Vt.Image){const r=new Image;r.onload=Lg(Fg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lg(Fg,n,r,"TestLoadImage: error",!1,e),r.onabort=Lg(Fg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lg(Fg,n,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function up(t){this.l=t.fc||null,this.j=t.ob||!1}Mr(up,eC);up.prototype.g=function(){return new Ty(this.l,this.j)};up.prototype.i=function(t){return function(){return t}}({});function Ty(t,e){Tr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=oC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(Ty,Tr);var oC=0;Tt=Ty.prototype;Tt.open=function(t,e){if(this.readyState!=oC)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_d(this)};Tt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cp(this)),this.readyState=oC};Tt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function RN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Tt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?cp(this):_d(this),this.readyState==3&&RN(this)}};Tt.Za=function(t){this.g&&(this.response=this.responseText=t,cp(this))};Tt.Ya=function(t){this.g&&(this.response=t,cp(this))};Tt.ka=function(){this.g&&cp(this)};function cp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_d(t)}Tt.setRequestHeader=function(t,e){this.v.append(t,e)};Tt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Tt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _d(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ty.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var zY=Vt.JSON.parse;function nr(t){Tr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LN,this.L=this.M=!1}Mr(nr,Tr);var LN="",BY=/^https?$/i,UY=["POST","PUT"];Tt=nr.prototype;Tt.Oa=function(t){this.M=t};Tt.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():CS.g(),this.C=this.u?nM(this.u):nM(CS),this.g.onreadystatechange=ni(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){oM(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=Vt.FormData&&t instanceof Vt.FormData,!(0<=QP(UY,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zN(this),0<this.B&&((this.L=HY(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.ua,this)):this.A=q_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){oM(this,o)}};function HY(t){return Vc&&oY()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Tt.ua=function(){typeof W_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))};function oM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jN(t),My(t)}function jN(t){t.F||(t.F=!0,Hr(t,"complete"),Hr(t,"error"))}Tt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Hr(this,"complete"),Hr(this,"abort"),My(this))};Tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),My(this,!0)),nr.$.N.call(this)};Tt.La=function(){this.s||(this.G||this.v||this.l?FN(this):this.kb())};Tt.kb=function(){FN(this)};function FN(t){if(t.h&&typeof W_<"u"&&(!t.C[1]||Ds(t)!=4||t.da()!=2)){if(t.v&&Ds(t)==4)q_(t.La,0,t);else if(Hr(t,"readystatechange"),Ds(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(EN)[1]||null;if(!i&&Vt.self&&Vt.self.location){var o=Vt.self.location.protocol;i=o.substr(0,o.length-1)}r=!BY.test(i?i.toLowerCase():"")}n=r}if(n)Hr(t,"complete"),Hr(t,"success");else{t.m=6;try{var s=2<Ds(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",jN(t)}}finally{My(t)}}}}function My(t,e){if(t.g){zN(t);const n=t.g,r=t.C[0]?hv:null;t.g=null,t.C=null,e||Hr(t,"ready");try{n.onreadystatechange=r}catch{}}}function zN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Vt.clearTimeout(t.A),t.A=null)}function Ds(t){return t.g?t.g.readyState:0}Tt.da=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}};Tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Tt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),zY(e)}};function sM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case LN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Tt.Ia=function(){return this.m};Tt.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function BN(t){let e="";return $_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function sC(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=BN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Vn(t,e,n))}function Xh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function UN(t){this.Ga=0,this.i=[],this.j=new by,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xh("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xh("baseRetryDelayMs",5e3,t),this.hb=Xh("retryDelaySeedMs",1e4,t),this.eb=Xh("forwardChannelMaxRetries",2,t),this.xa=Xh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new kN(t&&t.concurrentRequestLimit),this.Ja=new LY,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}Tt=UN.prototype;Tt.qa=8;Tt.H=1;function aC(t){if(HN(t),t.H==3){var e=t.W++,n=Vs(t.G);Vn(n,"SID",t.J),Vn(n,"RID",e),Vn(n,"TYPE","terminate"),hp(t,n),e=new ap(t,t.j,e,void 0),e.L=2,e.v=Ey(Vs(n)),n=!1,Vt.navigator&&Vt.navigator.sendBeacon&&(n=Vt.navigator.sendBeacon(e.v.toString(),"")),!n&&Vt.Image&&(new Image().src=e.v,n=!0),n||(e.g=ZN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lp(e)}XN(t)}function Oy(t){t.g&&(uC(t),t.g.cancel(),t.g=null)}function HN(t){Oy(t),t.u&&(Vt.clearTimeout(t.u),t.u=null),vv(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Vt.clearTimeout(t.m),t.m=null)}function ky(t){AN(t.h)||t.m||(t.m=!0,cN(t.Na,t),t.C=0)}function WY(t,e){return DN(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=op(ni(t.Na,t,e),YN(t,t.C)),t.C++,!0)}Tt.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ap(this,this.j,t,void 0);let o=this.s;if(this.U&&(o?(o=nN(o),rN(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=WN(this,i,e),n=Vs(this.G),Vn(n,"RID",t),Vn(n,"CVER",22),this.F&&Vn(n,"X-HTTP-Session-Id",this.F),hp(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(BN(o)))+"&"+e:this.o&&sC(n,this.o,o)),rC(this.h,i),this.bb&&Vn(n,"TYPE","init"),this.P?(Vn(n,"$req",e),Vn(n,"SID","null"),i.ba=!0,IS(i,n,null)):IS(i,n,e),this.H=2}}else this.H==3&&(t?aM(this,t):this.i.length==0||AN(this.h)||aM(this))};function aM(t,e){var n;e?n=e.m:n=t.W++;const r=Vs(t.G);Vn(r,"SID",t.J),Vn(r,"RID",n),Vn(r,"AID",t.V),hp(t,r),t.o&&t.s&&sC(r,t.o,t.s),n=new ap(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=WN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),rC(t.h,n),IS(n,r,e)}function hp(t,e){t.ma&&$_(t.ma,function(n,r){Vn(e,r,n)}),t.l&&IN({},function(n,r){Vn(e,r,n)})}function WN(t,e,n){n=Math.min(t.i.length,n);var r=t.l?ni(t.l.Va,t.l,t):null;e:{var i=t.i;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let m=0;m<n;m++){let u=i[m].h;const d=i[m].g;if(u-=o,0>u)o=Math.max(0,i[m].h-100),a=!1;else try{jY(d,s,"req"+u+"_")}catch{r&&r(d)}}if(a){r=s.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function VN(t){t.g||t.u||(t.ba=1,cN(t.Ma,t),t.A=0)}function lC(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=op(ni(t.Ma,t),YN(t,t.A)),t.A++,!0)}Tt.Ma=function(){if(this.u=null,GN(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=op(ni(this.jb,this),t)}};Tt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,fi(10),Oy(this),GN(this))};function uC(t){t.B!=null&&(Vt.clearTimeout(t.B),t.B=null)}function GN(t){t.g=new ap(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Vs(t.wa);Vn(e,"RID","rpc"),Vn(e,"SID",t.J),Vn(e,"CI",t.M?"0":"1"),Vn(e,"AID",t.V),Vn(e,"TYPE","xmlhttp"),hp(t,e),t.o&&t.s&&sC(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Ey(Vs(e)),n.s=null,n.S=!0,bN(n,t)}Tt.ib=function(){this.v!=null&&(this.v=null,Oy(this),lC(this),fi(19))};function vv(t){t.v!=null&&(Vt.clearTimeout(t.v),t.v=null)}function $N(t,e){var n=null;if(t.g==e){vv(t),uC(t),t.g=null;var r=2}else if(TS(t.h,e))n=e.F,PN(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=_y(),Hr(r,new vN(r,n)),ky(t)}else VN(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&WY(t,e)||r==2&&lC(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:zl(t,5);break;case 4:zl(t,10);break;case 3:zl(t,6);break;default:zl(t,2)}}}function YN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function zl(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=ni(t.pb,t);n||(n=new Xl("//www.google.com/images/cleardot.gif"),Vt.location&&Vt.location.protocol=="http"||gv(n,"https"),Ey(n)),FY(n.toString(),r)}else fi(2);t.H=0,t.l&&t.l.za(e),XN(t),HN(t)}Tt.pb=function(t){t?(this.j.info("Successfully pinged google.com"),fi(2)):(this.j.info("Failed to ping google.com"),fi(1))};function XN(t){if(t.H=0,t.pa=[],t.l){const e=NN(t.h);(e.length!=0||t.i.length!=0)&&(ZT(t.pa,e),ZT(t.pa,t.i),t.h.i.length=0,V_(t.i),t.i.length=0),t.l.ya()}}function KN(t,e,n){var r=n instanceof Xl?Vs(n):new Xl(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),mv(r,r.m);else{var i=Vt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Xl(null,void 0);r&&gv(o,r),e&&(o.g=e),i&&mv(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Vn(r,n,e),Vn(r,"VER",t.qa),hp(t,r),r}function ZN(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new nr(new up({ob:!0})):new nr(t.va),e.Oa(t.I),e}function QN(){}Tt=QN.prototype;Tt.Ba=function(){};Tt.Aa=function(){};Tt.za=function(){};Tt.ya=function(){};Tt.Va=function(){};function yv(){if(Vc&&!(10<=Number(sY)))throw Error("Environmental error: no available transport.")}yv.prototype.g=function(t,e){return new Yi(t,e)};function Yi(t,e){Tr.call(this),this.g=new UN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fv(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fv(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new mh(this)}Mr(Yi,Tr);Yi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;fi(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=KN(t,null,t.Y),ky(t)};Yi.prototype.close=function(){aC(this.g)};Yi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Q_(t),t=n);e.i.push(new NY(e.fb++,t)),e.H==3&&ky(e)};Yi.prototype.N=function(){this.g.l=null,delete this.j,aC(this.g),delete this.g,Yi.$.N.call(this)};function JN(t){tC.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Mr(JN,tC);function qN(){nC.call(this),this.status=1}Mr(qN,nC);function mh(t){this.g=t}Mr(mh,QN);mh.prototype.Ba=function(){Hr(this.g,"a")};mh.prototype.Aa=function(t){Hr(this.g,new JN(t))};mh.prototype.za=function(t){Hr(this.g,new qN)};mh.prototype.ya=function(){Hr(this.g,"b")};function VY(){this.blockSize=-1}function Po(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Mr(Po,VY);Po.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Aw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Po.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Aw(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Aw(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Aw(this,r),i=0;break}}this.h=i,this.i+=e};Po.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xn(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var GY={};function cC(t){return-128<=t&&128>t?JP(GY,t,function(e){return new xn([e|0],0>e?-1:0)}):new xn([t|0],0>t?-1:0)}function rs(t){if(isNaN(t)||!isFinite(t))return Oc;if(0>t)return Fr(rs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=MS;return new xn(e,0)}function eR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Fr(eR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rs(Math.pow(e,8)),r=Oc,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=rs(Math.pow(e,o)),r=r.R(o).add(rs(s))):(r=r.R(n),r=r.add(rs(s)))}return r}var MS=4294967296,Oc=cC(0),OS=cC(1),lM=cC(16777216);Tt=xn.prototype;Tt.ea=function(){if(ao(this))return-Fr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:MS+r)*e,e*=MS}return t};Tt.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ps(this))return"0";if(ao(this))return"-"+Fr(this).toString(t);for(var e=rs(Math.pow(t,6)),n=this,r="";;){var i=Sv(n,e).g;n=wv(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ps(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Tt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ps(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ao(t){return t.h==-1}Tt.X=function(t){return t=wv(this,t),ao(t)?-1:Ps(t)?0:1};function Fr(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xn(n,~t.h).add(OS)}Tt.abs=function(){return ao(this)?Fr(this):this};Tt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xn(n,n[n.length-1]&-2147483648?-1:0)};function wv(t,e){return t.add(Fr(e))}Tt.R=function(t){if(Ps(this)||Ps(t))return Oc;if(ao(this))return ao(t)?Fr(this).R(Fr(t)):Fr(Fr(this).R(t));if(ao(t))return Fr(this.R(Fr(t)));if(0>this.X(lM)&&0>t.X(lM))return rs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,m=t.D(i)&65535;n[2*r+2*i]+=s*m,zg(n,2*r+2*i),n[2*r+2*i+1]+=o*m,zg(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,zg(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,zg(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xn(n,0)};function zg(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Kh(t,e){this.g=t,this.h=e}function Sv(t,e){if(Ps(e))throw Error("division by zero");if(Ps(t))return new Kh(Oc,Oc);if(ao(t))return e=Sv(Fr(t),e),new Kh(Fr(e.g),Fr(e.h));if(ao(e))return e=Sv(t,Fr(e)),new Kh(Fr(e.g),e.h);if(30<t.g.length){if(ao(t)||ao(e))throw Error("slowDivide_ only works with positive integers.");for(var n=OS,r=e;0>=r.X(t);)n=uM(n),r=uM(r);var i=Zu(n,1),o=Zu(r,1);for(r=Zu(r,2),n=Zu(n,2);!Ps(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Zu(r,1),n=Zu(n,1)}return e=wv(t,i.R(e)),new Kh(i,e)}for(i=Oc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=rs(n),s=o.R(e);ao(s)||0<s.X(t);)n-=r,o=rs(n),s=o.R(e);Ps(o)&&(o=OS),i=i.add(o),t=wv(t,s)}return new Kh(i,t)}Tt.gb=function(t){return Sv(this,t).h};Tt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xn(n,this.h&t.h)};Tt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xn(n,this.h|t.h)};Tt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xn(n,this.h^t.h)};function uM(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xn(n,t.h)}function Zu(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xn(i,t.h)}yv.prototype.createWebChannel=yv.prototype.g;Yi.prototype.send=Yi.prototype.u;Yi.prototype.open=Yi.prototype.m;Yi.prototype.close=Yi.prototype.close;Cy.NO_ERROR=0;Cy.TIMEOUT=8;Cy.HTTP_ERROR=6;yN.COMPLETE="complete";wN.EventType=sp;sp.OPEN="a";sp.CLOSE="b";sp.ERROR="c";sp.MESSAGE="d";Tr.prototype.listen=Tr.prototype.O;nr.prototype.listenOnce=nr.prototype.P;nr.prototype.getLastError=nr.prototype.Sa;nr.prototype.getLastErrorCode=nr.prototype.Ia;nr.prototype.getStatus=nr.prototype.da;nr.prototype.getResponseJson=nr.prototype.Wa;nr.prototype.getResponseText=nr.prototype.ja;nr.prototype.send=nr.prototype.ha;nr.prototype.setWithCredentials=nr.prototype.Oa;Po.prototype.digest=Po.prototype.l;Po.prototype.reset=Po.prototype.reset;Po.prototype.update=Po.prototype.j;xn.prototype.add=xn.prototype.add;xn.prototype.multiply=xn.prototype.R;xn.prototype.modulo=xn.prototype.gb;xn.prototype.compare=xn.prototype.X;xn.prototype.toNumber=xn.prototype.ea;xn.prototype.toString=xn.prototype.toString;xn.prototype.getBits=xn.prototype.D;xn.fromNumber=rs;xn.fromString=eR;var $Y=function(){return new yv},YY=function(){return _y()},Dw=Cy,XY=yN,KY=Eu,cM={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZY=up,Bg=wN,QY=nr,JY=Po,kc=xn;const hM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new sy("@firebase/firestore");function kS(){return za.logLevel}function qY(t){za.setLogLevel(t)}function at(t,...e){if(za.logLevel<=cn.DEBUG){const n=e.map(hC);za.debug(`Firestore (${vh}): ${t}`,...n)}}function or(t,...e){if(za.logLevel<=cn.ERROR){const n=e.map(hC);za.error(`Firestore (${vh}): ${t}`,...n)}}function No(t,...e){if(za.logLevel<=cn.WARN){const n=e.map(hC);za.warn(`Firestore (${vh}): ${t}`,...n)}}function hC(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t="Unexpected state"){const e=`FIRESTORE (${vh}) INTERNAL ASSERTION FAILED: `+t;throw or(e),new Error(e)}function Rt(t,e){t||Ot()}function eX(t,e){t||Ot()}function Et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xr.UNAUTHENTICATED))}shutdown(){}}class nX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let rX=class{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let o=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Er,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await i(this.currentUser)})},a=m=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(m=>a(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?a(m):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Er)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string"),new tR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string"),new xr(e)}};class iX{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class oX{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new iX(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aX{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,at("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rt(typeof n.token=="string"),this.T=n.token,new sX(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Yt(t,e){return t<e?-1:t>e?1:0}function Gc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function rR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $n(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yt(this.nanoseconds,e.nanoseconds):Yt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new $n(0,0))}static max(){return new Nt(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ot(),r===void 0?r=e.length-n:r>e.length-n&&Ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class hn extends Cd{construct(e,n,r){return new hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new hn(n)}static emptyPath(){return new hn([])}}const uX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Cd{construct(e,n,r){return new sr(e,n,r)}static isValidIdentifier(e){return uX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new rt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new rt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new rt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new rt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(n)}static emptyPath(){return new sr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(hn.fromString(e))}static fromName(e){return new _t(hn.fromString(e).popFirst(5))}static empty(){return new _t(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new hn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function AS(t){return t.fields.find(e=>e.kind===2)}function El(t){return t.fields.filter(e=>e.kind!==2)}iR.UNKNOWN_ID=-1;class cX{constructor(e,n){this.fieldPath=e,this.kind=n}}class bv{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new bv(0,Xi.min())}}function oR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(r===1e9?new $n(n+1,0):new $n(n,r));return new Xi(i,_t.empty(),e)}function sR(t){return new Xi(t.readTime,t.key,-1)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(Nt.min(),_t.empty(),-1)}static max(){return new Xi(Nt.max(),_t.empty(),-1)}}function fC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_t.comparator(t.documentKey,e.documentKey),n!==0?n:Yt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==aR)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ve((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ve?n:Ve.resolve(n)}catch(n){return Ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ve.reject(n)}static resolve(e){return new Ve((n,r)=>{n(e)})}static reject(e){return new Ve((n,r)=>{r(e)})}static waitFor(e){return new Ve((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},m=>r(m))}),s=!0,o===i&&n()})}static or(e){let n=Ve.resolve(!1);for(const r of e)n=n.next(i=>i?Ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ve((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let m=0;m<o;m++){const u=m;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new Ve((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new Er,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Lf(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=dC(r.target.error);this.v.reject(new Lf(e,i))}}static open(e,n,r,i){try{return new Ay(n,e.transaction(i,r))}catch(o){throw new Lf(n,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(at("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fX(n)}}class To{constructor(e,n,r){this.name=e,this.version=n,this.V=r,To.S(Zn())===12.2&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return at("SimpleDb","Removing database:",e),Ol(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!cd())return!1;if(To.C())return!0;const e=Zn(),n=To.S(e),r=0<n&&n<10,i=To.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(at("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Lf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new rt(Ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new rt(Ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Lf(e,s))},i.onupgradeneeded=o=>{at("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.V.O(s,i.transaction,o.oldVersion,this.version).next(()=>{at("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.$(e);const a=Ay.open(this.db,e,o?"readonly":"readwrite",r),m=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),Ve.reject(u))).toPromise();return m.catch(()=>{}),await a.R,m}catch(a){const m=a,u=m.name!=="FirebaseError"&&s<3;if(at("SimpleDb","Transaction failed with error:",m.message,"Retrying:",u),this.close(),!u)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}class hX{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ol(this.L.delete())}}class Lf extends rt{constructor(e,n){super(Ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ol(t){return t.name==="IndexedDbTransactionError"}class fX{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(at("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(at("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ol(r)}add(e){return at("SimpleDb","ADD",this.store.name,e,e),Ol(this.store.add(e))}get(e){return Ol(this.store.get(e)).next(n=>(n===void 0&&(n=null),at("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return at("SimpleDb","DELETE",this.store.name,e),Ol(this.store.delete(e))}count(){return at("SimpleDb","COUNT",this.store.name),Ol(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),o=[];return this.W(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new Ve((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ve((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}J(e,n){at("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new Ve((r,i)=>{n.onerror=o=>{const s=dC(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new Ve((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const m=new hX(a),u=n(a.primaryKey,a.value,m);if(u instanceof Ve){const d=u.catch(E=>(m.done(),Ve.reject(E)));r.push(d)}m.isDone?i():m.K===null?a.continue():a.continue(m.K)}}).next(()=>Ve.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ol(t){return new Ve((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=dC(r.target.error);n(i)}})}let fM=!1;function dC(t){const e=To.S(Zn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fM||(fM=!0,setTimeout(()=>{throw r},0)),r}}return t}class dX{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){at("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{at("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){ol(n)?at("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await il(n)}await this.et(6e4)})}}class pX{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,o=!0;return Ve.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return at("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(i,o)).next(a=>(at("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=sR(o);fC(s,r)>0&&(r=s)}),new Xi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Ei.ct=-1;function fp(t){return t==null}function xd(t){return t===0&&1/t==-1/0}function uR(t){return typeof t=="number"&&Number.isInteger(t)&&!xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dM(e)),e=gX(t.get(n),e);return dM(e)}function gX(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function dM(t){return t+""}function is(t){const e=t.length;if(Rt(e>=2),e===2)return Rt(t.charAt(0)===""&&t.charAt(1)===""),hn.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&Ot(),t.charAt(s+1)){case"":const a=t.substring(o,s);let m;i.length===0?m=a:(i+=a,m=i,i=""),r.push(m);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ot()}o=s+2}return new hn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t,e){return[t,gi(e)]}function cR(t,e,n){return[t,gi(e),n]}const mX={},vX=["prefixPath","collectionGroup","readTime","documentId"],yX=["prefixPath","collectionGroup","documentId"],wX=["collectionGroup","readTime","prefixPath","documentId"],SX=["canonicalId","targetId"],bX=["targetId","path"],_X=["path","targetId"],CX=["collectionId","parent"],xX=["indexId","uid"],IX=["uid","sequenceNumber"],EX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],TX=["indexId","uid","orderedDocumentKey"],MX=["userId","collectionPath","documentId"],OX=["userId","collectionPath","largestBatchId"],kX=["userId","collectionGroup","largestBatchId"],hR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AX=[...hR,"documentOverlays"],fR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dR=fR,DX=[...dR,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS extends lR{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Or(t,e){const n=Et(t);return To.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.comparator=e,this.root=n||jr.EMPTY}insert(e,n){return new Nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jr.BLACK,null,null))}remove(e){return new Nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??jr.RED,this.left=i??jr.EMPTY,this.right=o??jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new jr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}jr.EMPTY=null,jr.RED=!0,jr.BLACK=!1;jr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(t,e,n,r,i){return this}insert(t,e,n){return new jr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.comparator=e,this.data=new Nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new mM(this.data.getIterator())}getIteratorFrom(e){return new mM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class mM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new Ti([])}unionWith(e){let n=new Un(sr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gR("Invalid base64 string: "+i):i}}(e);return new wr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const NX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ba(t){if(Rt(!!t),typeof t=="string"){let e=0;const n=NX.exec(t);if(Rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tr(t.seconds),nanos:tr(t.nanos)}}function tr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pC(t){const e=t.mapValue.fields.__previous_value__;return Dy(e)?pC(e):e}function Id(t){const e=Ba(t.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RX{constructor(e,n,r,i,o,s,a,m,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=m,this.useFetchStreams=u}}class Ha{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ym={nullValue:"NULL_VALUE"};function lu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dy(t)?4:mR(t)?9007199254740991:10:Ot()}function ps(t,e){if(t===e)return!0;const n=lu(t);if(n!==lu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Id(t).isEqual(Id(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Ba(r.timestampValue),s=Ba(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ua(r.bytesValue).isEqual(Ua(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tr(r.geoPointValue.latitude)===tr(i.geoPointValue.latitude)&&tr(r.geoPointValue.longitude)===tr(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tr(r.integerValue)===tr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=tr(r.doubleValue),s=tr(i.doubleValue);return o===s?xd(o)===xd(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Gc(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(gM(o)!==gM(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!ps(o[a],s[a])))return!1;return!0}(t,e);default:return Ot()}}function Ed(t,e){return(t.values||[]).find(n=>ps(n,e))!==void 0}function Wa(t,e){if(t===e)return 0;const n=lu(t),r=lu(e);if(n!==r)return Yt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Yt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=tr(i.integerValue||i.doubleValue),a=tr(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return vM(t.timestampValue,e.timestampValue);case 4:return vM(Id(t),Id(e));case 5:return Yt(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Ua(i),a=Ua(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let m=0;m<s.length&&m<a.length;m++){const u=Yt(s[m],a[m]);if(u!==0)return u}return Yt(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Yt(tr(i.latitude),tr(o.latitude));return s!==0?s:Yt(tr(i.longitude),tr(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let m=0;m<s.length&&m<a.length;++m){const u=Wa(s[m],a[m]);if(u)return u}return Yt(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Sa.mapValue&&o===Sa.mapValue)return 0;if(i===Sa.mapValue)return 1;if(o===Sa.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),m=o.fields||{},u=Object.keys(m);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const E=Yt(a[d],u[d]);if(E!==0)return E;const I=Wa(s[a[d]],m[u[d]]);if(I!==0)return I}return Yt(a.length,u.length)}(t.mapValue,e.mapValue);default:throw Ot()}}function vM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Yt(t,e);const n=Ba(t),r=Ba(e),i=Yt(n.seconds,r.seconds);return i!==0?i:Yt(n.nanos,r.nanos)}function $c(t){return PS(t)}function PS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ba(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ua(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,_t.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=PS(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${PS(r.fields[a])}`;return o+"}"}(t.mapValue):Ot();var e,n}function uu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function NS(t){return!!t&&"integerValue"in t}function Td(t){return!!t&&"arrayValue"in t}function yM(t){return!!t&&"nullValue"in t}function wM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wm(t){return!!t&&"mapValue"in t}function jf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function LX(t){return"nullValue"in t?ym:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?uu(Ha.empty(),_t.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ot()}function jX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?uu(Ha.empty(),_t.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Sa:Ot()}function SM(t,e){const n=Wa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function bM(t,e){const n=Wa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jf(n)}setAll(e){let n=sr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const m=this.getFieldsMap(n);this.applyChanges(m,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=jf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tu(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new zr(jf(this.value))}}function vR(t){const e=[];return Tu(t.fields,(n,r)=>{const i=new sr([n]);if(wm(r)){const o=vR(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new zn(e,0,Nt.min(),Nt.min(),Nt.min(),zr.empty(),0)}static newFoundDocument(e,n,r,i){return new zn(e,1,n,Nt.min(),r,i,0)}static newNoDocument(e,n){return new zn(e,2,n,Nt.min(),Nt.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Nt.min(),Nt.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.position=e,this.inclusive=n}}function _M(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_t.comparator(_t.fromName(s.referenceValue),n.key):r=Wa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n="asc"){this.field=e,this.dir=n}}function FX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{}class on extends yR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zX(e,n,r):n==="array-contains"?new HX(e,r):n==="in"?new xR(e,r):n==="not-in"?new WX(e,r):n==="array-contains-any"?new VX(e,r):new on(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BX(e,r):new UX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&lu(this.value)===lu(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends yR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new _n(e,n)}matches(e){return Yc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Yc(t){return t.op==="and"}function RS(t){return t.op==="or"}function gC(t){return wR(t)&&Yc(t)}function wR(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function LS(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+$c(t.value);if(gC(t))return t.filters.map(e=>LS(e)).join(",");{const e=t.filters.map(n=>LS(n)).join(",");return`${t.op}(${e})`}}function SR(t,e){return t instanceof on?function(n,r){return r instanceof on&&n.op===r.op&&n.field.isEqual(r.field)&&ps(n.value,r.value)}(t,e):t instanceof _n?function(n,r){return r instanceof _n&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&SR(o,r.filters[s]),!0):!1}(t,e):void Ot()}function bR(t,e){const n=t.filters.concat(e);return _n.create(n,t.op)}function _R(t){return t instanceof on?function(e){return`${e.field.canonicalString()} ${e.op} ${$c(e.value)}`}(t):t instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(_R).join(" ,")+"}"}(t):"Filter"}class zX extends on{constructor(e,n,r){super(e,n,r),this.key=_t.fromName(r.referenceValue)}matches(e){const n=_t.comparator(e.key,this.key);return this.matchesComparison(n)}}class BX extends on{constructor(e,n){super(e,"in",n),this.keys=CR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UX extends on{constructor(e,n){super(e,"not-in",n),this.keys=CR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_t.fromName(r.referenceValue))}class HX extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Td(n)&&Ed(n.arrayValue,this.value)}}class xR extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ed(this.value.arrayValue,n)}}class WX extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ed(this.value.arrayValue,n)}}class VX extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Td(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ed(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GX{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function jS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new GX(t,e,n,r,i,o,s)}function cu(t){const e=Et(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>LS(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$c(r)).join(",")),e.dt=n}return e.dt}function dp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CM(t.startAt,e.startAt)&&CM(t.endAt,e.endAt)}function _v(t){return _t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Cv(t,e){return t.filters.filter(n=>n instanceof on&&n.field.isEqual(e))}function xM(t,e,n){let r=ym,i=!0;for(const o of Cv(t,e)){let s=ym,a=!0;switch(o.op){case"<":case"<=":s=LX(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=ym}SM({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];SM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function IM(t,e,n){let r=Sa,i=!0;for(const o of Cv(t,e)){let s=Sa,a=!0;switch(o.op){case">=":case">":s=jX(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Sa}bM({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];bM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=m,this.wt=null,this._t=null,this.startAt,this.endAt}}function IR(t,e,n,r,i,o,s,a){return new Ks(t,e,n,r,i,o,s,a)}function yh(t){return new Ks(t)}function EM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mC(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Py(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function vC(t){return t.collectionGroup!==null}function Kl(t){const e=Et(t);if(e.wt===null){e.wt=[];const n=Py(e),r=mC(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ac(n)),e.wt.push(new Ac(sr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ac(sr.keyField(),o))}}}return e.wt}function Di(t){const e=Et(t);if(!e._t)if(e.limitType==="F")e._t=jS(e.path,e.collectionGroup,Kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Kl(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Ac(o.field,s))}const r=e.endAt?new Va(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Va(e.startAt.position,e.startAt.inclusive):null;e._t=jS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function FS(t,e){e.getFirstInequalityField(),Py(t);const n=t.filters.concat([e]);return new Ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xv(t,e,n){return new Ks(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return dp(Di(t),Di(e))&&t.limitType===e.limitType}function ER(t){return`${cu(Di(t))}|lt:${t.limitType}`}function zS(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>_R(r)).join(", ")}]`),fp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$c(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$c(r)).join(",")),`Target(${n})`}(Di(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):_t.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Kl(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=_M(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,Kl(n),r)||n.endAt&&!function(i,o,s){const a=_M(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,Kl(n),r))}(t,e)}function TR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MR(t){return(e,n)=>{let r=!1;for(const i of Kl(t)){const o=$X(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $X(t,e,n){const r=t.field.isKeyField()?_t.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),m=s.data.field(i);return a!==null&&m!==null?Wa(a,m):Ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tu(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return pR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX=new Nn(_t.comparator);function Mi(){return YX}const OR=new Nn(_t.comparator);function mf(...t){let e=OR;for(const n of t)e=e.insert(n.key,n);return e}function kR(t){let e=OR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function os(){return Ff()}function AR(){return Ff()}function Ff(){return new sl(t=>t.toString(),(t,e)=>t.isEqual(e))}const XX=new Nn(_t.comparator),KX=new Un(_t.comparator);function Xt(...t){let e=KX;for(const n of t)e=e.add(n);return e}const ZX=new Un(Yt);function yC(){return ZX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function PR(t){return{integerValue:""+t}}function NR(t,e){return uR(e)?PR(e):DR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(){this._=void 0}}function QX(t,e,n){return t instanceof Xc?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Dy(i)&&(i=pC(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof hu?LR(t,e):t instanceof fu?jR(t,e):function(r,i){const o=RR(r,i),s=TM(o)+TM(r.gt);return NS(o)&&NS(r.gt)?PR(s):DR(r.serializer,s)}(t,e)}function JX(t,e,n){return t instanceof hu?LR(t,e):t instanceof fu?jR(t,e):n}function RR(t,e){return t instanceof Kc?NS(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Xc extends Ny{}class hu extends Ny{constructor(e){super(),this.elements=e}}function LR(t,e){const n=FR(e);for(const r of t.elements)n.some(i=>ps(i,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends Ny{constructor(e){super(),this.elements=e}}function jR(t,e){let n=FR(e);for(const r of t.elements)n=n.filter(i=>!ps(i,r));return{arrayValue:{values:n}}}class Kc extends Ny{constructor(e,n){super(),this.serializer=e,this.gt=n}}function TM(t){return tr(t.integerValue||t.doubleValue)}function FR(t){return Td(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.field=e,this.transform=n}}function qX(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof hu&&r instanceof hu||n instanceof fu&&r instanceof fu?Gc(n.elements,r.elements,ps):n instanceof Kc&&r instanceof Kc?ps(n.gt,r.gt):n instanceof Xc&&r instanceof Xc}(t.transform,e.transform)}class eK{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ry{}function zR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sh(t.key,Gn.none()):new wh(t.key,t.data,Gn.none());{const n=t.data,r=zr.empty();let i=new Un(sr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Zs(t.key,r,new Ti(i.toArray()),Gn.none())}}function tK(t,e,n){t instanceof wh?function(r,i,o){const s=r.value.clone(),a=OM(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(r,i,o){if(!Sm(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=OM(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(BR(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zf(t,e,n,r){return t instanceof wh?function(i,o,s,a){if(!Sm(i.precondition,o))return s;const m=i.value.clone(),u=kM(i.fieldTransforms,a,o);return m.setAll(u),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(i,o,s,a){if(!Sm(i.precondition,o))return s;const m=kM(i.fieldTransforms,a,o),u=o.data;return u.setAll(BR(i)),u.setAll(m),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,s){return Sm(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function nK(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RR(r.transform,i||null);o!=null&&(n===null&&(n=zr.empty()),n.set(r.field,o))}return n||null}function MM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Gc(n,r,(i,o)=>qX(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wh extends Ry{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Ry{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OM(t,e,n){const r=new Map;Rt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,JX(s,a,n[i]))}return r}function kM(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,QX(o,s,e))}return r}class Sh extends Ry{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wC extends Ry{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tK(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AR();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const m=zR(s,a);m!==null&&r.set(i.key,m),s.isValidDocument()||s.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&Gc(this.mutations,e.mutations,(n,r)=>MM(n,r))&&Gc(this.baseMutations,e.baseMutations,(n,r)=>MM(n,r))}}class bC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length);let i=XX;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new bC(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr,un;function UR(t){switch(t){default:return Ot();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}function HR(t){if(t===void 0)return or("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case cr.OK:return Ge.OK;case cr.CANCELLED:return Ge.CANCELLED;case cr.UNKNOWN:return Ge.UNKNOWN;case cr.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case cr.INTERNAL:return Ge.INTERNAL;case cr.UNAVAILABLE:return Ge.UNAVAILABLE;case cr.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case cr.NOT_FOUND:return Ge.NOT_FOUND;case cr.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case cr.ABORTED:return Ge.ABORTED;case cr.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case cr.DATA_LOSS:return Ge.DATA_LOSS;default:return Ot()}}(un=cr||(cr={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hg}static getOrCreateInstance(){return Hg===null&&(Hg=new CC),Hg}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Hg=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=new kc([4294967295,4294967295],0);function AM(t){const e=WR().encode(t),n=new JY;return n.update(e),new Uint8Array(n.digest())}function DM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kc([n,r],0),new kc([i,o],0)]}class xC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vf(`Invalid padding: ${n}`);if(r<0)throw new vf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=kc.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(kc.fromNumber(r)));return i.compare(iK)===1&&(i=new kc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=AM(e),[r,i]=DM(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new xC(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=AM(e),[r,i]=DM(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vp(Nt.min(),i,new Nn(Yt),Mi(),Xt())}}class yp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yp(r,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class VR{constructor(e,n){this.targetId=e,this.Vt=n}}class GR{constructor(e,n,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PM{constructor(){this.St=0,this.Dt=RM(),this.Ct=wr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Xt(),n=Xt(),r=Xt();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ot()}}),new yp(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=RM()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oK{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Mi(),this.zt=NM(),this.Wt=new Nn(Yt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(_v(s))if(i===0){const a=new _t(s.path);this.Yt(r,a,zn.newNoDocument(a,Nt.min()))}else Rt(i===1);else{const a=this.ie(r);if(a!==i){const m=this.re(e,a);if(m!==0){this.ee(r);const u=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=CC.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,E){var I,O,A,D,v,l;const c={localCacheCount:d,existenceFilterCount:E.count},f=E.unchangedNames;return f&&(c.bloomFilter={applied:u===0,hashCount:(I=f==null?void 0:f.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(D=(A=(O=f==null?void 0:f.bits)===null||O===void 0?void 0:O.bitmap)===null||A===void 0?void 0:A.length)!==null&&D!==void 0?D:0,padding:(l=(v=f==null?void 0:f.bits)===null||v===void 0?void 0:v.padding)!==null&&l!==void 0?l:0}),c}(m,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let m,u;try{m=Ua(o).toUint8Array()}catch(d){if(d instanceof gR)return No("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new xC(m,s,a)}catch(d){return No(d instanceof vf?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&_v(a.target)){const m=new _t(a.target.path);this.jt.get(m)!==null||this.ae(s,m)||this.Yt(s,m,zn.newNoDocument(m,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=Xt();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(m=>{const u=this.se(m);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new vp(e,n,this.Wt,this.jt,r);return this.jt=Mi(),this.zt=NM(),this.Wt=new Nn(Yt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new PM,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Un(Yt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||at("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new PM),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function NM(){return new Nn(_t.comparator)}function RM(){return new Nn(_t.comparator)}const sK=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aK=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),lK=(()=>({and:"AND",or:"OR"}))();class uK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function BS(t,e){return t.useProto3Json||fp(e)?e:{value:e}}function Zc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $R(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cK(t,e){return Zc(t,e.toTimestamp())}function ar(t){return Rt(!!t),Nt.fromTimestamp(function(e){const n=Ba(e);return new $n(n.seconds,n.nanos)}(t))}function IC(t,e){return function(n){return new hn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function YR(t){const e=hn.fromString(t);return Rt(nL(e)),e}function Md(t,e){return IC(t.databaseId,e.path)}function cs(t,e){const n=YR(e);if(n.get(1)!==t.databaseId.projectId)throw new rt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _t(KR(n))}function US(t,e){return IC(t.databaseId,e)}function XR(t){const e=YR(t);return e.length===4?hn.emptyPath():KR(e)}function Od(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KR(t){return Rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function LM(t,e,n){return{name:Md(t,e),fields:n.value.mapValue.fields}}function ZR(t,e,n){const r=cs(t,e.name),i=ar(e.updateTime),o=e.createTime?ar(e.createTime):Nt.min(),s=new zr({mapValue:{fields:e.fields}}),a=zn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function hK(t,e){return"found"in e?function(n,r){Rt(!!r.found),r.found.name,r.found.updateTime;const i=cs(n,r.found.name),o=ar(r.found.updateTime),s=r.found.createTime?ar(r.found.createTime):Nt.min(),a=new zr({mapValue:{fields:r.found.fields}});return zn.newFoundDocument(i,o,s,a)}(t,e):"missing"in e?function(n,r){Rt(!!r.missing),Rt(!!r.readTime);const i=cs(n,r.missing),o=ar(r.readTime);return zn.newNoDocument(i,o)}(t,e):Ot()}function fK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,u){return m.useProto3Json?(Rt(u===void 0||typeof u=="string"),wr.fromBase64String(u||"")):(Rt(u===void 0||u instanceof Uint8Array),wr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(m){const u=m.code===void 0?Ge.UNKNOWN:HR(m.code);return new rt(u,m.message||"")}(s);n=new GR(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cs(t,r.document.name),o=ar(r.document.updateTime),s=r.document.createTime?ar(r.document.createTime):Nt.min(),a=new zr({mapValue:{fields:r.document.fields}}),m=zn.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new bm(u,d,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cs(t,r.document),o=r.readTime?ar(r.readTime):Nt.min(),s=zn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bm([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cs(t,r.document),o=r.removedTargetIds||[];n=new bm([],o,i,null)}else{if(!("filter"in e))return Ot();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new rK(i,o),a=r.targetId;n=new VR(a,s)}}return n}function kd(t,e){let n;if(e instanceof wh)n={update:LM(t,e.key,e.value)};else if(e instanceof Sh)n={delete:Md(t,e.key)};else if(e instanceof Zs)n={update:LM(t,e.key,e.data),updateMask:yK(e.fieldMask)};else{if(!(e instanceof wC))return Ot();n={verify:Md(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Xc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof hu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof fu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Kc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw Ot()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:cK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ot()}(t,e.precondition)),n}function HS(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Gn.updateTime(ar(i.updateTime)):i.exists!==void 0?Gn.exists(i.exists):Gn.none()}(e.currentDocument):Gn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;if("setToServerValue"in s)Rt(s.setToServerValue==="REQUEST_TIME"),a=new Xc;else if("appendMissingElements"in s){const u=s.appendMissingElements.values||[];a=new hu(u)}else if("removeAllFromArray"in s){const u=s.removeAllFromArray.values||[];a=new fu(u)}else"increment"in s?a=new Kc(o,s.increment):Ot();const m=sr.fromServerFormat(s.fieldPath);return new mp(m,a)}(t,i)):[];if(e.update){e.update.name;const i=cs(t,e.update.name),o=new zr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(a){const m=a.fieldPaths||[];return new Ti(m.map(u=>sr.fromServerFormat(u)))}(e.updateMask);return new Zs(i,o,s,n,r)}return new wh(i,o,n,r)}if(e.delete){const i=cs(t,e.delete);return new Sh(i,n)}if(e.verify){const i=cs(t,e.verify);return new wC(i,n)}return Ot()}function dK(t,e){return t&&t.length>0?(Rt(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?ar(r.updateTime):ar(i);return o.isEqual(Nt.min())&&(o=ar(i)),new eK(o,r.transformResults||[])}(n,e))):[]}function QR(t,e){return{documents:[US(t,e.path)]}}function JR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=US(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=US(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(m.length!==0)return tL(_n.create(m,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(m){if(m.length!==0)return m.map(u=>function(d){return{field:tc(d.field),direction:gK(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=BS(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),n}function qR(t){let e=XR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const E=eL(d);return E instanceof _n&&gC(E)?E.getFilters():[E]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(d=>function(E){return new Ac(nc(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d)));let a=null;n.limit&&(a=function(d){let E;return E=typeof d=="object"?d.value:d,fp(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(d){const E=!!d.before,I=d.values||[];return new Va(I,E)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const E=!d.before,I=d.values||[];return new Va(I,E)}(n.endAt)),IR(e,i,s,o,a,"F",m,u)}function pK(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eL(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=nc(e.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=nc(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=nc(e.unaryFilter.field);return on.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=nc(e.unaryFilter.field);return on.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(t):t.fieldFilter!==void 0?function(e){return on.create(nc(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _n.create(e.compositeFilter.filters.map(n=>eL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ot()}}(e.compositeFilter.op))}(t):Ot()}function gK(t){return sK[t]}function mK(t){return aK[t]}function vK(t){return lK[t]}function tc(t){return{fieldPath:t.canonicalString()}}function nc(t){return sr.fromServerFormat(t.fieldPath)}function tL(t){return t instanceof on?function(e){if(e.op==="=="){if(wM(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NAN"}};if(yM(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(wM(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NOT_NAN"}};if(yM(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(e.field),op:mK(e.op),value:e.value}}}(t):t instanceof _n?function(e){const n=e.getFilters().map(r=>tL(r));return n.length===1?n[0]:{compositeFilter:{op:vK(e.op),filters:n}}}(t):Ot()}function yK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i,o=Nt.min(),s=Nt.min(),a=wr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=m}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.fe=e}}function wK(t,e){let n;if(e.document)n=ZR(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_t.fromSegments(e.noDocument.path),i=pu(e.noDocument.readTime);n=zn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ot();{const r=_t.fromSegments(e.unknownDocument.path),i=pu(e.unknownDocument.version);n=zn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new $n(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),n}function jM(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Iv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Md(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Zc(i,o.version.toTimestamp()),createTime:Zc(i,o.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:du(e.version)};else{if(!e.isUnknownDocument())return Ot();r.unknownDocument={path:n.path.toArray(),version:du(e.version)}}return r}function Iv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function du(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pu(t){const e=new $n(t.seconds,t.nanoseconds);return Nt.fromTimestamp(e)}function kl(t,e){const n=(e.baseMutations||[]).map(o=>HS(t.fe,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>HS(t.fe,o)),i=$n.fromMillis(e.localWriteTimeMs);return new SC(e.batchId,i,n,r)}function yf(t){const e=pu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?pu(t.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return t.query.documents!==void 0?(Rt((i=t.query).documents.length===1),r=Di(yh(XR(i.documents[0])))):r=function(o){return Di(qR(o))}(t.query),new Ns(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wr.fromBase64String(t.resumeToken))}function iL(t,e){const n=du(e.snapshotVersion),r=du(e.lastLimboFreeSnapshotVersion);let i;i=_v(e.target)?QR(t.fe,e.target):JR(t.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function EC(t){const e=qR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xv(e,e.limit,"L"):e}function Pw(t,e){return new _C(e.largestBatchId,HS(t.fe,e.overlayMutation))}function FM(t,e){const n=e.path.lastSegment();return[t,gi(e.path.popLast()),n]}function zM(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:du(r.readTime),documentKey:gi(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{getBundleMetadata(e,n){return BM(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:pu(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return BM(e).put({bundleId:(r=n).id,createTime:du(ar(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return UM(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:EC(i.bundledQuery),readTime:pu(i.readTime)};var i})}saveNamedQuery(e,n){return UM(e).put(function(r){return{name:r.name,readTime:du(ar(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function BM(t){return Or(t,"bundles")}function UM(t){return Or(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new Ly(e,r)}getOverlay(e,n){return Zh(e).get(FM(this.userId,n)).next(r=>r?Pw(this.serializer,r):null)}getOverlays(e,n){const r=os();return Ve.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new _C(n,s);i.push(this.we(e,a))}),Ve.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(gi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Zh(e).J("collectionPathOverlayIndex",a))}),Ve.waitFor(o)}getOverlaysForCollection(e,n,r){const i=os(),o=gi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zh(e).j("collectionPathOverlayIndex",s).next(a=>{for(const m of a){const u=Pw(this.serializer,m);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=os();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Zh(e).X({index:"collectionGroupOverlayIndex",range:a},(m,u,d)=>{const E=Pw(this.serializer,u);o.size()<i||E.largestBatchId===s?(o.set(E.getKey(),E),s=E.largestBatchId):d.done()}).next(()=>o)}we(e,n){return Zh(e).put(function(r,i,o){const[s,a,m]=FM(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:kd(r.fe,o.mutation)}}(this.serializer,this.userId,n))}}function Zh(t){return Or(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(tr(e.integerValue));else if("doubleValue"in e){const r=tr(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),xd(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Ua(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?mR(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Ot()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),_t.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Al.Ve=new Al;function bK(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function HM(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const o=bK(255&n[i]);if(r+=o,o!==8)break}return r}(t);return Math.ceil(e/8)}class _K{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=HM(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=HM(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class CK{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class xK{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qh{constructor(){this.je=new _K,this.ze=new CK(this.je),this.We=new xK(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Dl(this.indexId,this.documentKey,this.arrayValue,r)}}function ia(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=WM(t.arrayValue,e.arrayValue),n!==0?n:(n=WM(t.directionalValue,e.directionalValue),n!==0?n:_t.comparator(t.documentKey,e.documentKey)))}function WM(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Rt(e.collectionGroup===this.collectionId);const n=AS(e);if(n!==void 0&&!this.en(n))return!1;const r=El(e);let i=0,o=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(this.Ze!==void 0){const s=r[i];if(!this.nn(this.Ze,s)||!this.sn(this.Ye[o++],s))return!1;++i}for(;i<r.length;++i){const s=r[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],s))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){var e,n;if(Rt(t instanceof on||t instanceof _n),t instanceof on){if(t instanceof xR){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>on.create(t.field,"==",o)))||[];return _n.create(i,"or")}return t}const r=t.filters.map(i=>oL(i));return _n.create(r,t.op)}function EK(t){if(t.getFilters().length===0)return[];const e=GS(oL(t));return Rt(sL(e)),WS(e)||VS(e)?[e]:e.getFilters()}function WS(t){return t instanceof on}function VS(t){return t instanceof _n&&gC(t)}function sL(t){return WS(t)||VS(t)||function(e){if(e instanceof _n&&RS(e)){for(const n of e.getFilters())if(!WS(n)&&!VS(n))return!1;return!0}return!1}(t)}function GS(t){if(Rt(t instanceof on||t instanceof _n),t instanceof on)return t;if(t.filters.length===1)return GS(t.filters[0]);const e=t.filters.map(r=>GS(r));let n=_n.create(e,t.op);return n=Ev(n),sL(n)?n:(Rt(n instanceof _n),Rt(Yc(n)),Rt(n.filters.length>1),n.filters.reduce((r,i)=>TC(r,i)))}function TC(t,e){let n;return Rt(t instanceof on||t instanceof _n),Rt(e instanceof on||e instanceof _n),n=t instanceof on?e instanceof on?function(r,i){return _n.create([r,i],"and")}(t,e):VM(t,e):e instanceof on?VM(e,t):function(r,i){if(Rt(r.filters.length>0&&i.filters.length>0),Yc(r)&&Yc(i))return bR(r,i.getFilters());const o=RS(r)?r:i,s=RS(r)?i:r,a=o.filters.map(m=>TC(m,s));return _n.create(a,"or")}(t,e),Ev(n)}function VM(t,e){if(Yc(e))return bR(e,t.getFilters());{const n=e.filters.map(r=>TC(t,r));return _n.create(n,"or")}}function Ev(t){if(Rt(t instanceof on||t instanceof _n),t instanceof on)return t;const e=t.getFilters();if(e.length===1)return Ev(e[0]);if(wR(t))return t;const n=e.map(i=>Ev(i)),r=[];return n.forEach(i=>{i instanceof on?r.push(i):i instanceof _n&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:_n.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(){this.rn=new MC}addToCollectionParentIndex(e,n){return this.rn.add(n),Ve.resolve()}getCollectionParents(e,n){return Ve.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Ve.resolve()}deleteFieldIndex(e,n){return Ve.resolve()}getDocumentsMatchingTarget(e,n){return Ve.resolve(null)}getIndexType(e,n){return Ve.resolve(0)}getFieldIndexes(e,n){return Ve.resolve([])}getNextCollectionGroupToUpdate(e){return Ve.resolve(null)}getMinOffset(e,n){return Ve.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return Ve.resolve(Xi.min())}updateCollectionGroup(e,n,r){return Ve.resolve()}updateIndexEntries(e,n){return Ve.resolve()}}class MC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Un(hn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Uint8Array(0);class MK{constructor(e,n){this.user=e,this.databaseId=n,this.on=new MC,this.un=new sl(r=>cu(r),(r,i)=>dp(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const o={collectionId:r,parent:gi(i)};return GM(e).put(o)}return Ve.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[rR(n),""],!1,!0);return GM(e).j(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(is(s.parent))}return r})}addFieldIndex(e,n){const r=Vg(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=qh(e);return o.next(a=>{s.put(zM(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Vg(e),i=qh(e),o=Jh(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Jh(e);let i=!0;const o=new Map;return Ve.forEach(this.cn(n),s=>this.an(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Xt();const a=[];return Ve.forEach(o,(m,u)=>{var d;at("IndexedDbIndexManager",`Using index ${d=m,`id=${d.indexId}|cg=${d.collectionGroup}|f=${d.fields.map(f=>`${f.fieldPath}:${f.kind}`).join(",")}`} to execute ${cu(n)}`);const E=function(f,h){const p=AS(h);if(p===void 0)return null;for(const g of Cv(f,p.fieldPath))switch(g.op){case"array-contains-any":return g.value.arrayValue.values||[];case"array-contains":return[g.value]}return null}(u,m),I=function(f,h){const p=new Map;for(const g of El(h))for(const y of Cv(f,g.fieldPath))switch(y.op){case"==":case"in":p.set(g.fieldPath.canonicalString(),y.value);break;case"not-in":case"!=":return p.set(g.fieldPath.canonicalString(),y.value),Array.from(p.values())}return null}(u,m),O=function(f,h){const p=[];let g=!0;for(const y of El(h)){const _=y.kind===0?xM(f,y.fieldPath,f.startAt):IM(f,y.fieldPath,f.startAt);p.push(_.value),g&&(g=_.inclusive)}return new Va(p,g)}(u,m),A=function(f,h){const p=[];let g=!0;for(const y of El(h)){const _=y.kind===0?IM(f,y.fieldPath,f.endAt):xM(f,y.fieldPath,f.endAt);p.push(_.value),g&&(g=_.inclusive)}return new Va(p,g)}(u,m),D=this.hn(m,u,O),v=this.hn(m,u,A),l=this.ln(m,u,I),c=this.fn(m.indexId,E,D,O.inclusive,v,A.inclusive,l);return Ve.forEach(c,f=>r.H(f,n.limit).next(h=>{h.forEach(p=>{const g=_t.fromSegments(p.documentKey);s.has(g)||(s=s.add(g),a.push(g))})}))}).next(()=>a)}return Ve.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=EK(_n.create(e.filters,"and")).map(r=>jS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,o,s,a){const m=(n!=null?n.length:1)*Math.max(r.length,o.length),u=m/(n!=null?n.length:1),d=[];for(let E=0;E<m;++E){const I=n?this.dn(n[E/u]):Wg,O=this.wn(e,I,r[E%u],i),A=this._n(e,I,o[E%u],s),D=a.map(v=>this.wn(e,I,v,!0));d.push(...this.createRange(O,A,D))}return d}wn(e,n,r,i){const o=new Dl(e,_t.empty(),n,r);return i?o:o.Je()}_n(e,n,r,i){const o=new Dl(e,_t.empty(),n,r);return i?o.Je():o}an(e,n){const r=new IK(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.cn(n);return Ve.forEach(i,o=>this.an(e,o).next(s=>{s?r!==0&&s.fields.length<function(a){let m=new Un(sr.comparator),u=!1;for(const d of a.filters)for(const E of d.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?u=!0:m=m.add(E.field));for(const d of a.orderBy)d.field.isKeyField()||(m=m.add(d.field));return m.size+(u?1:0)}(o)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new Qh;for(const i of El(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.He(i.kind);Al.Ve._e(o,s)}return r.Qe()}dn(e){const n=new Qh;return Al.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new Qh;return Al.Ve._e(uu(this.databaseId,n),r.He(function(i){const o=El(i);return o.length===0?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new Qh);let o=0;for(const s of El(e)){const a=r[o++];for(const m of i)if(this.yn(n,s.fieldPath)&&Td(a))i=this.pn(i,s,a);else{const u=m.He(s.kind);Al.Ve._e(a,u)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const m=new Qh;m.seed(a.Qe()),Al.Ve._e(s,m.He(n.kind)),o.push(m)}return o}yn(e,n){return!!e.filters.find(r=>r instanceof on&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Vg(e),i=qh(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(o=>{const s=[];return Ve.forEach(o,a=>i.get([a.indexId,this.uid]).next(m=>{s.push(function(u,d){const E=d?new bv(d.sequenceNumber,new Xi(pu(d.readTime),new _t(is(d.documentKey)),d.largestBatchId)):bv.empty(),I=u.fields.map(([O,A])=>new cX(sr.fromServerFormat(O),A));return new iR(u.indexId,u.collectionGroup,I,E)}(a,m))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Yt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Vg(e),o=qh(e);return this.Tn(e).next(s=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ve.forEach(a,m=>o.put(zM(m.indexId,this.user,s,r)))))}updateIndexEntries(e,n){const r=new Map;return Ve.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Ve.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Ve.forEach(a,m=>this.En(e,i,m).next(u=>{const d=this.An(o,m);return u.isEqual(d)?Ve.resolve():this.vn(e,o,m,u,d)}))))})}Rn(e,n,r,i){return Jh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return Jh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=Jh(e);let o=new Un(ia);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(s,a)=>{o=o.add(new Dl(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,n){let r=new Un(ia);const i=this.mn(n,e);if(i==null)return r;const o=AS(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Td(s))for(const a of s.arrayValue.values||[])r=r.add(new Dl(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Dl(n.indexId,e.key,Wg,i));return r}vn(e,n,r,i,o){at("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(a,m,u,d,E){const I=a.getIterator(),O=m.getIterator();let A=Qu(I),D=Qu(O);for(;A||D;){let v=!1,l=!1;if(A&&D){const c=u(A,D);c<0?l=!0:c>0&&(v=!0)}else A!=null?l=!0:v=!0;v?(d(D),D=Qu(O)):l?(E(A),A=Qu(I)):(A=Qu(I),D=Qu(O))}}(i,o,ia,a=>{s.push(this.Rn(e,n,r,a))},a=>{s.push(this.Pn(e,n,r,a))}),Ve.waitFor(s)}Tn(e){let n=1;return qh(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>ia(s,a)).filter((s,a,m)=>!a||ia(s,m[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=ia(s,e),m=ia(s,n);if(a===0)i[0]=e.Je();else if(a>0&&m<0)i.push(s),i.push(s.Je());else if(m>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Wg,[]],m=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Wg,[]];o.push(IDBKeyRange.bound(a,m))}return o}bn(e,n){return ia(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next($M)}getMinOffset(e,n){return Ve.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||Ot())).next($M)}}function GM(t){return Or(t,"collectionParents")}function Jh(t){return Or(t,"indexEntries")}function Vg(t){return Or(t,"indexConfiguration")}function qh(t){return Or(t,"indexState")}function $M(t){Rt(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;fC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Xi(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _i{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const m=r.X({range:s},(d,E,I)=>(a++,I.delete()));o.push(m.next(()=>{Rt(a===1)}));const u=[];for(const d of n.mutations){const E=cR(e,d.key.path,n.batchId);o.push(i.delete(E)),u.push(d.key)}return Ve.waitFor(o).next(()=>u)}function Tv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ot();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class jy{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){Rt(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new jy(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).X({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=rc(e),s=oa(e);return s.add({}).next(a=>{Rt(typeof a=="number");const m=new SC(a,n,r,i),u=function(I,O,A){const D=A.baseMutations.map(l=>kd(I.fe,l)),v=A.mutations.map(l=>kd(I.fe,l));return{userId:O,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:D,mutations:v}}(this.serializer,this.userId,m),d=[];let E=new Un((I,O)=>Yt(I.canonicalString(),O.canonicalString()));for(const I of i){const O=cR(this.userId,I.key.path,a);E=E.add(I.key.path.popLast()),d.push(s.put(u)),d.push(o.put(O,mX))}return E.forEach(I=>{d.push(this.indexManager.addToCollectionParentIndex(e,I))}),e.addOnCommittedListener(()=>{this.Vn[a]=m.keys()}),Ve.waitFor(d).next(()=>m)})}lookupMutationBatch(e,n){return oa(e).get(n).next(r=>r?(Rt(r.userId===this.userId),kl(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?Ve.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return oa(e).X({index:"userMutationsIndex",range:i},(s,a,m)=>{a.userId===this.userId&&(Rt(a.batchId>=r),o=kl(this.serializer,a)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return oa(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oa(e).j("userMutationsIndex",n).next(r=>r.map(i=>kl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=vm(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return rc(e).X({range:i},(s,a,m)=>{const[u,d,E]=s,I=is(d);if(u===this.userId&&n.path.isEqual(I))return oa(e).get(E).next(O=>{if(!O)throw Ot();Rt(O.userId===this.userId),o.push(kl(this.serializer,O))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(Yt);const i=[];return n.forEach(o=>{const s=vm(this.userId,o.path),a=IDBKeyRange.lowerBound(s),m=rc(e).X({range:a},(u,d,E)=>{const[I,O,A]=u,D=is(O);I===this.userId&&o.path.isEqual(D)?r=r.add(A):E.done()});i.push(m)}),Ve.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=vm(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Un(Yt);return rc(e).X({range:s},(m,u,d)=>{const[E,I,O]=m,A=is(I);E===this.userId&&r.isPrefixOf(A)?A.length===i&&(a=a.add(O)):d.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(oa(e).get(o).next(s=>{if(s===null)throw Ot();Rt(s.userId===this.userId),r.push(kl(this.serializer,s))}))}),Ve.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return aL(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),Ve.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ve.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return rc(e).X({range:r},(o,s,a)=>{if(o[0]===this.userId){const m=is(o[1]);i.push(m)}else a.done()}).next(()=>{Rt(i.length===0)})})}containsKey(e,n){return lL(e,this.userId,n)}xn(e){return uL(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lL(t,e,n){const r=vm(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return rc(t).X({range:o,Y:!0},(a,m,u)=>{const[d,E,I]=a;d===e&&E===i&&(s=!0),u.done()}).next(()=>s)}function oa(t){return Or(t,"mutations")}function rc(t){return Or(t,"documentMutations")}function uL(t){return Or(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new gu(0)}static Mn(){return new gu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new gu(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>Nt.fromTimestamp(new $n(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ju(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return Ju(e).X((s,a)=>{const m=yf(a);m.sequenceNumber<=n&&r.get(m.targetId)===null&&(i++,o.push(this.removeTargetData(e,m)))}).next(()=>Ve.waitFor(o)).next(()=>i)}forEachTarget(e,n){return Ju(e).X((r,i)=>{const o=yf(i);n(o)})}$n(e){return XM(e).get("targetGlobalKey").next(n=>(Rt(n!==null),n))}On(e,n){return XM(e).put("targetGlobalKey",n)}Fn(e,n){return Ju(e).put(iL(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=cu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Ju(e).X({range:i,index:"queryTargetsIndex"},(s,a,m)=>{const u=yf(a);dp(n,u.target)&&(o=u,m.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=fa(e);return n.forEach(s=>{const a=gi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Ve.waitFor(i)}removeMatchingKeys(e,n,r){const i=fa(e);return Ve.forEach(n,o=>{const s=gi(o.path);return Ve.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=fa(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=fa(e);let o=Xt();return i.X({range:r,Y:!0},(s,a,m)=>{const u=is(s[1]),d=new _t(u);o=o.add(d)}).next(()=>o)}containsKey(e,n){const r=gi(n.path),i=IDBKeyRange.bound([r],[rR(r)],!1,!0);let o=0;return fa(e).X({index:"documentTargetsIndex",Y:!0,range:i},([s,a],m,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}le(e,n){return Ju(e).get(n).next(r=>r?yf(r):null)}}function Ju(t){return Or(t,"targets")}function XM(t){return Or(t,"targetGlobal")}function fa(t){return Or(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM([t,e],[n,r]){const i=Yt(t,n);return i===0?Yt(e,r):i}class kK{constructor(e){this.Ln=e,this.buffer=new Un(KM),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();KM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){at("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?at("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Qn(3e5)})}}class DK{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ve.resolve(Ei.ct);const r=new kK(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(YM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YM):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,o,s,a,m,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,s=Date.now(),this.nthSequenceNumber(e,i))).next(E=>(r=E,a=Date.now(),this.removeTargets(e,r,n))).next(E=>(o=E,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(u=Date.now(),kS()<=cn.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(m-a)+`ms
	Removed ${E} documents in `+(u-m)+`ms
Total Duration: ${u-d}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:E})))}}function PK(t,e){return new DK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,n){this.db=e,this.garbageCollector=PK(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return Gg(e,r)}removeReference(e,n,r){return Gg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Gg(e,n)}Xn(e,n){return function(r,i){let o=!1;return uL(r).Z(s=>lL(r,s,i).next(a=>(a&&(o=!0),Ve.resolve(!a)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=n){const m=this.Xn(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,Nt.min()),fa(e).delete([0,gi(s.path)])))});i.push(m)}}).next(()=>Ve.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Gg(e,n)}Yn(e,n){const r=fa(e);let i,o=Ei.ct;return r.X({index:"documentTargetsIndex"},([s,a],{path:m,sequenceNumber:u})=>{s===0?(o!==Ei.ct&&n(new _t(is(i)),o),o=u,i=m):o=Ei.ct}).next(()=>{o!==Ei.ct&&n(new _t(is(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gg(t,e){return fa(t).put(function(n,r){return{targetId:0,path:gi(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.changes=new sl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return yl(e).put(r)}removeEntry(e,n,r){return yl(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Iv(o),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=zn.newInvalidDocument(n);return yl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ef(n))},(i,o)=>{r=this.ts(n,o)}).next(()=>r)}es(e,n){let r={size:0,document:zn.newInvalidDocument(n)};return yl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(ef(n))},(i,o)=>{r={document:this.ts(n,o),size:Tv(o)}}).next(()=>r)}getEntries(e,n){let r=Mi();return this.ns(e,n,(i,o)=>{const s=this.ts(i,o);r=r.insert(i,s)}).next(()=>r)}ss(e,n){let r=Mi(),i=new Nn(_t.comparator);return this.ns(e,n,(o,s)=>{const a=this.ts(o,s);r=r.insert(o,a),i=i.insert(o,Tv(s))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return Ve.resolve();let i=new Un(JM);n.forEach(m=>i=i.add(m));const o=IDBKeyRange.bound(ef(i.first()),ef(i.last())),s=i.getIterator();let a=s.getNext();return yl(e).X({index:"documentKeyIndex",range:o},(m,u,d)=>{const E=_t.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&JM(a,E)<0;)r(a,null),a=s.getNext();a&&a.isEqual(E)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?d.G(ef(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const o=n.path,s=[o.popLast().toArray(),o.lastSegment(),Iv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yl(e).j(IDBKeyRange.bound(s,a,!0)).next(m=>{let u=Mi();for(const d of m){const E=this.ts(_t.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);E.isFoundDocument()&&(gp(n,E)||i.has(E.key))&&(u=u.insert(E.key,E))}return u})}getAllFromCollectionGroup(e,n,r,i){let o=Mi();const s=QM(n,r),a=QM(n,Xi.max());return yl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(m,u,d)=>{const E=this.ts(_t.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(E.key,E),o.size===i&&d.done()}).next(()=>o)}newChangeBuffer(e){return new LK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ZM(e).get("remoteDocumentGlobalKey").next(n=>(Rt(!!n),n))}Zn(e,n){return ZM(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=wK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Nt.min())))return r}return zn.newInvalidDocument(e)}}function hL(t){return new RK(t)}class LK extends cL{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new sl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Un((o,s)=>Yt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(n.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const m=jM(this.os.serializer,s);i=i.add(o.path.popLast());const u=Tv(m);r+=u-a.size,n.push(this.os.addEntry(e,o,m))}else if(r-=a.size,this.trackRemovals){const m=jM(this.os.serializer,s.convertToNoDocument(Nt.min()));n.push(this.os.addEntry(e,o,m))}}),i.forEach(o=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.os.updateMetadata(e,r)),Ve.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((o,s)=>{this.us.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function ZM(t){return Or(t,"remoteDocumentGlobal")}function yl(t){return Or(t,"remoteDocumentsV14")}function ef(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QM(t,e){const n=e.documentKey.path.toArray();return[t,Iv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function JM(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Yt(n[o],r[o]),i)return i;return i=Yt(n.length,r.length),i||(i=Yt(n[n.length-2],r[r.length-2]),i||Yt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zf(r.mutation,i,Ti.empty(),$n.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=mf();return o.forEach((a,m)=>{s=s.insert(a,m.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mi();const s=Ff(),a=Ff();return n.forEach((m,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Zs)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),zf(d.mutation,u,d.mutation.getFieldMask(),$n.now())):s.set(u.key,Ti.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var E;return a.set(u,new jK(d,(E=s.get(u))!==null&&E!==void 0?E:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ff();let i=new Nn((s,a)=>s-a),o=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(m=>{const u=n.get(m);if(u===null)return;let d=r.get(m)||Ti.empty();d=a.applyToLocalView(u,d),r.set(m,d);const E=(i.get(a.batchId)||Xt()).add(m);i=i.insert(a.batchId,E)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const m=a.getNext(),u=m.key,d=m.value,E=AR();d.forEach(I=>{if(!o.has(I)){const O=zR(n.get(I),r.get(I));O!==null&&E.set(I,O),o=o.add(I)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,E))}return Ve.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return _t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ve.resolve(os());let a=-1,m=o;return s.next(u=>Ve.forEach(u,(d,E)=>(a<E.largestBatchId&&(a=E.largestBatchId),o.get(d)?Ve.resolve():this.remoteDocumentCache.getEntry(e,d).next(I=>{m=m.insert(d,I)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,m,u,Xt())).next(d=>({batchId:a,changes:kR(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _t(n)).next(r=>{let i=mf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=mf();return this.indexManager.getCollectionParents(e,i).next(s=>Ve.forEach(s,a=>{const m=function(u,d){return new Ks(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,m,r).next(u=>{u.forEach((d,E)=>{o=o.insert(d,E)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,m)=>{const u=m.getKey();o.get(u)===null&&(o=o.insert(u,zn.newInvalidDocument(u)))});let s=mf();return o.forEach((a,m)=>{const u=i.get(a);u!==void 0&&zf(u.mutation,m,Ti.empty(),$n.now()),gp(n,m)&&(s=s.insert(a,m))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Ve.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ar(r.createTime)}),Ve.resolve()}getNamedQuery(e,n){return Ve.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:EC(r.bundledQuery),readTime:ar(r.readTime)}}(n)),Ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(){this.overlays=new Nn(_t.comparator),this.ls=new Map}getOverlay(e,n){return Ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=os();return Ve.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),Ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),Ve.resolve()}getOverlaysForCollection(e,n,r){const i=os(),o=n.length+1,s=new _t(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const m=a.getNext().value,u=m.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Nn((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=os(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=os(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return Ve.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new _C(n,r));let o=this.ls.get(n);o===void 0&&(o=Xt(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.fs=new Un(_r.ds),this.ws=new Un(_r._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _r(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _r(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new _t(new hn([])),r=new _r(n,e),i=new _r(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new _t(new hn([])),r=new _r(n,e),i=new _r(n,e+1);let o=Xt();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new _r(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return _t.comparator(e.key,n.key)||Yt(e.As,n.As)}static _s(e,n){return Yt(e.As,n.As)||_t.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Un(_r.ds)}checkEmpty(e){return Ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new SC(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new _r(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ve.resolve(s)}lookupMutationBatch(e,n){return Ve.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return Ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),Ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Un(Yt);return n.forEach(i=>{const o=new _r(i,0),s=new _r(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),Ve.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_t.isDocumentKey(o)||(o=o.child(""));const s=new _r(new _t(o),0);let a=new Un(Yt);return this.Rs.forEachWhile(m=>{const u=m.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(m.As)),!0)},s),Ve.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Rt(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Ve.forEach(n.mutations,i=>{const o=new _r(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _r(n,0),i=this.Rs.firstAfterOrEqual(r);return Ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ve.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e){this.Ds=e,this.docs=new Nn(_t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ve.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zn.newInvalidDocument(i))}),Ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi();const s=n.path,a=new _t(s.child("")),m=this.docs.getIteratorFrom(a);for(;m.hasNext();){const{key:u,value:{document:d}}=m.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||fC(sR(d),r)<=0||(i.has(d.key)||gp(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Ve.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ot()}Cs(e,n){return Ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new HK(this)}getSize(e){return Ve.resolve(this.size)}}class HK extends cL{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Ve.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e){this.persistence=e,this.xs=new sl(n=>cu(n),dp),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new OC,this.targetCount=0,this.Ms=gu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),Ve.resolve()}getLastRemoteSnapshotVersion(e){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ve.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Ve.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new gu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Ve.resolve()}updateTargetData(e,n){return this.Fn(n),Ve.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ve.waitFor(o).next(()=>i)}getTargetCount(e){return Ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Ve.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Ve.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ve.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Ve.resolve(r)}containsKey(e,n){return Ve.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ei(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new WK(this),this.indexManager=new TK,this.remoteDocumentCache=function(r){return new UK(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new rL(n),this.qs=new FK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new BK(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){at("MemoryPersistence","Starting transaction:",e);const i=new VK(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return Ve.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class VK extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Qs=new OC,this.js=null}static zs(e){return new Fy(e)}get Ws(){if(this.js)return this.js;throw Ot()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Ve.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Ve.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Ve.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.Ws,r=>{const i=_t.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,Nt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Ve.or([()=>Ve.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Ay("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pM,{unique:!0}),a.createObjectStore("documentMutations")}(e),qM(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=Ve.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),qM(e)),s=s.next(()=>function(a){const m=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",u)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(a,m){return m.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pM,{unique:!0});const d=m.store("mutations"),E=u.map(I=>d.put(I));return Ve.waitFor(E)})}(e,o))),s=s.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.Ys(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(s=s.next(()=>this.Zs(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.ei(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(a){const m=a.createObjectStore("documentOverlays",{keyPath:MX});m.createIndex("collectionPathOverlayIndex",OX,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",kX,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const m=a.createObjectStore("remoteDocumentsV14",{keyPath:vX});m.createIndex("documentKeyIndex",yX),m.createIndex("collectionGroupIndex",wX)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:xX}).createIndex("sequenceNumberIndex",IX,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:EX}).createIndex("documentKeyIndex",TX,{unique:!1})}(e))),s}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=Tv(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>Ve.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",s).next(a=>Ve.forEach(a,m=>{Rt(m.userId===o.userId);const u=kl(this.serializer,m);return aL(e,o.userId,u).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((s,a)=>{const m=new hn(s),u=function(d){return[0,gi(d)]}(m);o.push(n.get(u).next(d=>d?Ve.resolve():(E=>n.put({targetId:0,path:gi(E),sequenceNumber:i.highestListenSequenceNumber}))(m)))}).next(()=>Ve.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:CX});const r=n.store("collectionParents"),i=new MC,o=s=>{if(i.add(s)){const a=s.lastSegment(),m=s.popLast();return r.put({collectionId:a,parent:gi(m)})}};return n.store("remoteDocuments").X({Y:!0},(s,a)=>{const m=new hn(s);return o(m.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([s,a,m],u)=>{const d=is(a);return o(d.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const o=yf(i),s=iL(this.serializer,o);return n.put(s)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((o,s)=>{const a=n.store("remoteDocumentsV14"),m=(u=s,u.document?new _t(hn.fromString(u.document.name).popFirst(5)):u.noDocument?_t.fromSegments(u.noDocument.path):u.unknownDocument?_t.fromSegments(u.unknownDocument.path):Ot()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const d={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(d))}).next(()=>Ve.waitFor(i))}si(e,n){const r=n.store("mutations"),i=hL(this.serializer),o=new dL(Fy.zs,this.serializer.fe);return r.j().next(s=>{const a=new Map;return s.forEach(m=>{var u;let d=(u=a.get(m.userId))!==null&&u!==void 0?u:Xt();kl(this.serializer,m).keys().forEach(E=>d=d.add(E)),a.set(m.userId,d)}),Ve.forEach(a,(m,u)=>{const d=new xr(u),E=Ly.de(this.serializer,d),I=o.getIndexManager(d),O=jy.de(d,this.serializer,I,o.referenceDelegate);return new fL(i,O,E,I).recalculateAndSaveOverlaysForDocumentKeys(new DS(n,Ei.ct),m).next()})})}}function qM(t){t.createObjectStore("targetDocuments",{keyPath:bX}).createIndex("documentTargetsIndex",_X,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SX,{unique:!0}),t.createObjectStore("targetGlobal")}const Nw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kC{constructor(e,n,r,i,o,s,a,m,u,d,E=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=o,this.window=s,this.document=a,this.ri=u,this.oi=d,this.ui=E,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=I=>Promise.resolve(),!kC.D())throw new rt(Ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NK(this,i),this.di=n+"main",this.serializer=new rL(m),this.wi=new To(this.di,this.ui,new GK(this.serializer)),this.Bs=new OK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=hL(this.serializer),this.qs=new SK,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,d===!1&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(Ge.FAILED_PRECONDITION,Nw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ei(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>$g(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(ol(e))return at("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return at("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return tf(e).get("owner").next(n=>Ve.resolve(this.Ri(n)))}Pi(e){return $g(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Or(n,"clientMetadata");return r.j().next(i=>{const o=this.Si(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return Ve.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Ve.resolve(!0):tf(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new rt(Ge.FAILED_PRECONDITION,Nw);return!1}}return!(!this.networkEnabled||!this.inForeground)||$g(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&at("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new DS(e,Ei.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>$g(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return jy.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new MK(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ly.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){at("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(s=this.ui)===15?DX:s===14?dR:s===13?fR:s===12?AX:s===11?hR:void Ot();var s;let a;return this.wi.runTransaction(e,i,o,m=>(a=new DS(m,this.Os?this.Os.next():Ei.ct),n==="readwrite-primary"?this.Ti(a).next(u=>!!u||this.Ei(a)).next(u=>{if(!u)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new rt(Ge.FAILED_PRECONDITION,aR);return r(a)}).next(u=>this.vi(a).next(()=>u)):this.Oi(a).next(()=>r(a)))).then(m=>(a.raiseOnCommittedEvent(),m))}Oi(e){return tf(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new rt(Ge.FAILED_PRECONDITION,Nw)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tf(e).put("owner",n)}static D(){return To.D()}Ai(e){const n=tf(e);return n.get("owner").next(r=>this.Ri(r)?(at("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ve.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(or(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;MH()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return at("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tf(t){return Or(t,"owner")}function $g(t){return Or(t,"clientMetadata")}function AC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Xt(),i=Xt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new DC(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(EM(n))return Ve.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xv(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Xt(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(m=>{const u=this.ji(n,a);return this.zi(n,u,s,m.readTime)?this.Ki(e,xv(n,null,"F")):this.Wi(e,u,n,m)}))})))}Gi(e,n,r,i){return EM(n)||i.isEqual(Nt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(kS()<=cn.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zS(n)),this.Wi(e,s,n,oR(i,-1)))})}ji(e,n){let r=new Un(MR(e));return n.forEach((i,o)=>{gp(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return kS()<=cn.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",zS(n)),this.Ui.getDocumentsMatchingQuery(e,n,Xi.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Nn(Yt),this.Yi=new sl(o=>cu(o),dp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function gL(t,e,n,r){return new $K(t,e,n,r)}async function mL(t,e){const n=Et(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let m=Xt();for(const u of i){s.push(u.batchId);for(const d of u.mutations)m=m.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)m=m.add(d.key)}return n.localDocuments.getDocuments(r,m).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}function YK(t,e){const n=Et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,m,u){const d=m.batch,E=d.keys();let I=Ve.resolve();return E.forEach(O=>{I=I.next(()=>u.getEntry(a,O)).next(A=>{const D=m.docVersions.get(O);Rt(D!==null),A.version.compareTo(D)<0&&(d.applyToRemoteDocument(A,m),A.isValidDocument()&&(A.setReadTime(m.commitVersion),u.addEntry(A)))})}),I.next(()=>s.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Xt();for(let m=0;m<s.mutationResults.length;++m)s.mutationResults[m].transformResults.length>0&&(a=a.add(s.batch.mutations[m].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vL(t){const e=Et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function XK(t,e){const n=Et(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((d,E)=>{const I=i.get(E);if(!I)return;a.push(n.Bs.removeMatchingKeys(o,d.removedDocuments,E).next(()=>n.Bs.addMatchingKeys(o,d.addedDocuments,E)));let O=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(wr.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):d.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(d.resumeToken,r)),i=i.insert(E,O),function(A,D,v){return A.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(I,O,d)&&a.push(n.Bs.updateTargetData(o,O))});let m=Mi(),u=Xt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(yL(o,s,e.documentUpdates).next(d=>{m=d.nr,u=d.sr})),!r.isEqual(Nt.min())){const d=n.Bs.getLastRemoteSnapshotVersion(o).next(E=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return Ve.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,m,u)).next(()=>m)}).then(o=>(n.Ji=i,o))}function yL(t,e,n){let r=Xt(),i=Xt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mi();return n.forEach((a,m)=>{const u=o.get(a);m.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),m.isNoDocument()&&m.version.isEqual(Nt.min())?(e.removeEntry(a,m.readTime),s=s.insert(a,m)):!u.isValidDocument()||m.version.compareTo(u.version)>0||m.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(m),s=s.insert(a,m)):at("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",m.version)}),{nr:s,sr:i}})}function KK(t,e){const n=Et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Qc(t,e){const n=Et(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,Ve.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Ns(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Jc(t,e,n){const r=Et(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ol(s))throw s;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Mv(t,e,n){const r=Et(t);let i=Nt.min(),o=Xt();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,m,u){const d=Et(a),E=d.Yi.get(u);return E!==void 0?Ve.resolve(d.Ji.get(E)):d.Bs.getTargetData(m,u)}(r,s,Di(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(m=>{o=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:Nt.min(),n?o:Xt())).next(a=>(bL(r,TR(e),a),{documents:a,ir:o})))}function wL(t,e){const n=Et(t),r=Et(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.le(o,e).next(s=>s?s.target:null))}function SL(t,e){const n=Et(t),r=n.Xi.get(e)||Nt.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,oR(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(bL(n,e,i),i))}function bL(t,e,n){let r=t.Xi.get(e)||Nt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}async function ZK(t,e,n,r){const i=Et(t);let o=Xt(),s=Mi();for(const u of n){const d=e.rr(u.metadata.name);u.document&&(o=o.add(d));const E=e.ur(u);E.setReadTime(e.cr(u.metadata.readTime)),s=s.insert(d,E)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),m=await Qc(i,function(u){return Di(yh(hn.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>yL(u,a,s).next(d=>(a.apply(u),d)).next(d=>i.Bs.removeMatchingKeysForTargetId(u,m.targetId).next(()=>i.Bs.addMatchingKeys(u,o,m.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.nr,d.sr)).next(()=>d.nr)))}async function QK(t,e,n=Xt()){const r=await Qc(t,Di(EC(e.bundledQuery))),i=Et(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=ar(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.qs.saveNamedQuery(o,e);const a=r.withResumeToken(wr.EMPTY_BYTE_STRING,s);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(o,a).next(()=>i.Bs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Bs.addMatchingKeys(o,n,r.targetId)).next(()=>i.qs.saveNamedQuery(o,e))})}function eO(t,e){return`firestore_clients_${t}_${e}`}function tO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Rw(t,e){return`firestore_targets_${t}_${e}`}class Ov{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new rt(i.error.code,i.error.message))),s?new Ov(e,n,i.state,o):(or("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bf{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new rt(r.error.code,r.error.message))),o?new Bf(e,r.state,i):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=yC();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=uR(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new kv(e,o):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class PC{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new PC(n.clientId,n.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $S{constructor(){this.activeTargetIds=yC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lw{constructor(e,n,r,i,o){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Nn(Yt),this.started=!1,this.yr=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=eO(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new $S),this.Tr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(eO(this.persistenceKey,r));if(i){const o=kv.ar(r,i);o&&(this.gr=this.gr.insert(o.clientId,o))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Rw(this.persistenceKey,e));if(r){const i=Bf.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Rw(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return at("SharedClientState","READ",e,n),n}setItem(e,n){at("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){at("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(at("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let o=Ei.ct;if(i!=null)try{const s=JSON.parse(i);Rt(typeof s=="number"),o=s}catch(s){or("SharedClientState","Failed to read sequence number from WebStorage",s)}return o}(n.newValue);r!==Ei.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new Ov(this.currentUser,e,n,r),o=tO(this.persistenceKey,this.currentUser,e);this.setItem(o,i.hr())}Cr(e){const n=tO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=Rw(this.persistenceKey,e),o=new Bf(e,n,r);this.setItem(i,o.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return kv.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ov.ar(new xr(o),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return Bf.ar(i,n)}br(e){return PC.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);at("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),s=[],a=[];return o.forEach(m=>{i.has(m)||s.push(m)}),i.forEach(m=>{o.has(m)||a.push(m)}),this.syncEngine.Wr(s,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=yC();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class _L{constructor(){this.Hr=new $S,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg=null;function jw(){return Yg===null?Yg=268435456+Math.round(2147483648*Math.random()):Yg++,"0x"+Yg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="WebChannelConnection";class tZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=jw(),a=this.To(e,n);at("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const m={};return this.Eo(m,i,o),this.Ao(e,a,m,r).then(u=>(at("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw No("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=qK[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=jw();return new Promise((s,a)=>{const m=new QY;m.setWithCredentials(!0),m.listenOnce(XY.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Dw.NO_ERROR:const d=m.getResponseJson();at(Qr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Dw.TIMEOUT:at(Qr,`RPC '${e}' ${o} timed out`),a(new rt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case Dw.HTTP_ERROR:const E=m.getStatus();if(at(Qr,`RPC '${e}' ${o} failed with status:`,E,"response text:",m.getResponseText()),E>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const A=function(D){const v=D.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(v)>=0?v:Ge.UNKNOWN}(O.status);a(new rt(A,O.message))}else a(new rt(Ge.UNKNOWN,"Server responded with status "+m.getStatus()))}else a(new rt(Ge.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{at(Qr,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);at(Qr,`RPC '${e}' ${o} sending request:`,i),m.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=jw(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$Y(),a=YY(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(m.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(m.xmlHttpFactory=new ZY({})),this.Eo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const d=o.join("");at(Qr,`Creating RPC '${e}' stream ${i}: ${d}`,m);const E=s.createWebChannel(d,m);let I=!1,O=!1;const A=new eZ({ro:v=>{O?at(Qr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(I||(at(Qr,`Opening RPC '${e}' stream ${i} transport.`),E.open(),I=!0),at(Qr,`RPC '${e}' stream ${i} sending:`,v),E.send(v))},oo:()=>E.close()}),D=(v,l,c)=>{v.listen(l,f=>{try{c(f)}catch(h){setTimeout(()=>{throw h},0)}})};return D(E,Bg.EventType.OPEN,()=>{O||at(Qr,`RPC '${e}' stream ${i} transport opened.`)}),D(E,Bg.EventType.CLOSE,()=>{O||(O=!0,at(Qr,`RPC '${e}' stream ${i} transport closed`),A.wo())}),D(E,Bg.EventType.ERROR,v=>{O||(O=!0,No(Qr,`RPC '${e}' stream ${i} transport errored:`,v),A.wo(new rt(Ge.UNAVAILABLE,"The operation could not be completed")))}),D(E,Bg.EventType.MESSAGE,v=>{var l;if(!O){const c=v.data[0];Rt(!!c);const f=c,h=f.error||((l=f[0])===null||l===void 0?void 0:l.error);if(h){at(Qr,`RPC '${e}' stream ${i} received error:`,h);const p=h.status;let g=function(_){const w=cr[_];if(w!==void 0)return HR(w)}(p),y=h.message;g===void 0&&(g=Ge.INTERNAL,y="Unknown error status: "+p+" with message "+h.message),O=!0,A.wo(new rt(g,y)),E.close()}else at(Qr,`RPC '${e}' stream ${i} received:`,c),A._o(c)}}),D(a,KY.STAT_EVENT,v=>{v.stat===cM.PROXY?at(Qr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===cM.NOPROXY&&at(Qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return typeof window<"u"?window:null}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return new uK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i,o,s,a,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new NC(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===Ge.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new rt(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nZ extends xL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=fK(this.serializer,e),r=function(i){if(!("targetChange"in i))return Nt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Nt.min():o.readTime?ar(o.readTime):Nt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Od(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=_v(a)?{documents:QR(i,a)}:{query:JR(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=$R(i,o.resumeToken);const m=BS(i,o.expectedCount);m!==null&&(s.expectedCount=m)}else if(o.snapshotVersion.compareTo(Nt.min())>0){s.readTime=Zc(i,o.snapshotVersion.toTimestamp());const m=BS(i,o.expectedCount);m!==null&&(s.expectedCount=m)}return s}(this.serializer,e);const r=pK(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Od(this.serializer),n.removeTarget=e,this.Wo(n)}}class rZ extends xL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=dK(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.cu(r,n)}return Rt(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Od(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kd(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new rt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new rt(Ge.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(Ge.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class oZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(or(n),this.mu=!1):at("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{al(this)&&(at("RemoteStore","Restarting streams for network reachability change."),await async function(a){const m=Et(a);m.vu.add(4),await bh(m),m.bu.set("Unknown"),m.vu.delete(4),await Sp(m)}(this))})}),this.bu=new oZ(r,i)}}async function Sp(t){if(al(t))for(const e of t.Ru)await e(!0)}async function bh(t){for(const e of t.Ru)await e(!1)}function zy(t,e){const n=Et(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),jC(n)?LC(n):Ch(n).Ko()&&RC(n,e))}function Ad(t,e){const n=Et(t),r=Ch(n);n.Au.delete(e),r.Ko()&&IL(n,e),n.Au.size===0&&(r.Ko()?r.jo():al(n)&&n.bu.set("Unknown"))}function RC(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ch(t).su(e)}function IL(t,e){t.Vu.qt(e),Ch(t).iu(e)}function LC(t){t.Vu=new oK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ch(t).start(),t.bu.gu()}function jC(t){return al(t)&&!Ch(t).Uo()&&t.Au.size>0}function al(t){return Et(t).vu.size===0}function EL(t){t.Vu=void 0}async function aZ(t){t.Au.forEach((e,n)=>{RC(t,e)})}async function lZ(t,e){EL(t),jC(t)?(t.bu.Iu(e),LC(t)):t.bu.set("Unknown")}async function uZ(t,e,n){if(t.bu.set("Online"),e instanceof GR&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Av(t,r)}else if(e instanceof bm?t.Vu.Ht(e):e instanceof VR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(Nt.min()))try{const r=await vL(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,m)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(m);u&&i.Au.set(m,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,m)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(wr.EMPTY_BYTE_STRING,u.snapshotVersion)),IL(i,a);const d=new Ns(u.target,a,m,u.sequenceNumber);RC(i,d)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){at("RemoteStore","Failed to raise snapshot:",r),await Av(t,r)}}async function Av(t,e,n){if(!ol(e))throw e;t.vu.add(1),await bh(t),t.bu.set("Offline"),n||(n=()=>vL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{at("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Sp(t)})}function TL(t,e){return e().catch(n=>Av(t,n,e))}async function _h(t){const e=Et(t),n=Ga(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;cZ(e);)try{const i=await KK(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,hZ(e,i)}catch(i){await Av(e,i)}ML(e)&&OL(e)}function cZ(t){return al(t)&&t.Eu.length<10}function hZ(t,e){t.Eu.push(e);const n=Ga(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function ML(t){return al(t)&&!Ga(t).Uo()&&t.Eu.length>0}function OL(t){Ga(t).start()}async function fZ(t){Ga(t).hu()}async function dZ(t){const e=Ga(t);for(const n of t.Eu)e.uu(n.mutations)}async function pZ(t,e,n){const r=t.Eu.shift(),i=bC.from(r,e,n);await TL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await _h(t)}async function gZ(t,e){e&&Ga(t).ou&&await async function(n,r){if(i=r.code,UR(i)&&i!==Ge.ABORTED){const o=n.Eu.shift();Ga(n).Qo(),await TL(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await _h(n)}var i}(t,e),ML(t)&&OL(t)}async function rO(t,e){const n=Et(t);n.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const r=al(n);n.vu.add(3),await bh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Sp(n)}async function YS(t,e){const n=Et(t);e?(n.vu.delete(2),await Sp(n)):e||(n.vu.add(2),await bh(n),n.bu.set("Unknown"))}function Ch(t){return t.Su||(t.Su=function(e,n,r){const i=Et(e);return i.fu(),new nZ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:aZ.bind(null,t),ao:lZ.bind(null,t),nu:uZ.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),jC(t)?LC(t):t.bu.set("Unknown")):(await t.Su.stop(),EL(t))})),t.Su}function Ga(t){return t.Du||(t.Du=function(e,n,r){const i=Et(e);return i.fu(),new rZ(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:fZ.bind(null,t),ao:gZ.bind(null,t),au:dZ.bind(null,t),cu:pZ.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await _h(t)):(await t.Du.stop(),t.Eu.length>0&&(at("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new FC(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xh(t,e){if(or("AsyncQueue",`${e}: ${t}`),ol(t))return new rt(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_t.comparator(n.key,r.key):(n,r)=>_t.comparator(n.key,r.key),this.keyedMap=mf(),this.sortedSet=new Nn(this.comparator)}static emptySet(e){return new Dc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Dc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.Cu=new Nn(_t.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Ot():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class qc{constructor(e,n,r,i,o,s,a,m,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=m,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new qc(e,n,Dc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(){this.Nu=void 0,this.listeners=[]}}class vZ{constructor(){this.queries=new sl(e=>ER(e),pp),this.onlineState="Unknown",this.ku=new Set}}async function zC(t,e){const n=Et(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new mZ),i)try{o.Nu=await n.onListen(r)}catch(s){const a=xh(s,`Initialization of query '${zS(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&UC(n)}async function BC(t,e){const n=Et(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function yZ(t,e){const n=Et(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&UC(n)}function wZ(t,e,n){const r=Et(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function UC(t){t.ku.forEach(e=>{e.next()})}class HC{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=qc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.serializer=e}rr(e){return cs(this.serializer,e)}ur(e){return e.metadata.exists?ZR(this.serializer,e.document,!1):zn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ar(e)}}class bZ{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kL(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=hn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new oO(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.rr(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||Xt()).add(o);n.set(s,a)}}return n}async complete(){const e=await ZK(this.localStore,new oO(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await QK(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function kL(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.key=e}}class DL{constructor(e){this.key=e}}class PL{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Xt(),this.mutatedKeys=Xt(),this.tc=MR(e),this.ec=new Dc(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new iO,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,E)=>{const I=i.get(d),O=gp(this.query,E)?E:null,A=!!I&&this.mutatedKeys.has(I.key),D=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let v=!1;I&&O?I.data.isEqual(O.data)?A!==D&&(r.track({type:3,doc:O}),v=!0):this.rc(I,O)||(r.track({type:2,doc:O}),v=!0,(m&&this.tc(O,m)>0||u&&this.tc(O,u)<0)&&(a=!0)):!I&&O?(r.track({type:0,doc:O}),v=!0):I&&!O&&(r.track({type:1,doc:I}),v=!0,(m||u)&&(a=!0)),v&&(O?(s=s.add(O),o=D?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,d)=>function(E,I){const O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return O(E)-O(I)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,m=a!==this.Xu;return this.Xu=a,o.length!==0||m?{snapshot:new qc(this.query,e.ec,i,o,e.mutatedKeys,a===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new iO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Xt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new DL(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new AL(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Xt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return qc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class _Z{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CZ{constructor(e){this.key=e,this.fc=!1}}class xZ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new sl(a=>ER(a),pp),this._c=new Map,this.mc=new Set,this.gc=new Nn(_t.comparator),this.yc=new Map,this.Ic=new OC,this.Tc={},this.Ec=new Map,this.Ac=gu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function IZ(t,e){const n=YC(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await Qc(n.localStore,Di(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await WC(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&zy(n.remoteStore,s)}return i}async function WC(t,e,n,r,i){t.Rc=(E,I,O)=>async function(A,D,v,l){let c=D.view.sc(v);c.zi&&(c=await Mv(A.localStore,D.query,!1).then(({documents:p})=>D.view.sc(p,c)));const f=l&&l.targetChanges.get(D.targetId),h=D.view.applyChanges(c,A.isPrimaryClient,f);return XS(A,D.targetId,h.cc),h.snapshot}(t,E,I,O);const o=await Mv(t.localStore,e,!0),s=new PL(e,o.ir),a=s.sc(o.documents),m=yp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,m);XS(t,n,u.cc);const d=new _Z(e,n,s);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function EZ(t,e){const n=Et(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!pp(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ad(n.remoteStore,r.targetId),eh(n,r.targetId)}).catch(il)):(eh(n,r.targetId),await Jc(n.localStore,r.targetId,!0))}async function TZ(t,e,n){const r=XC(t);try{const i=await function(o,s){const a=Et(o),m=$n.now(),u=s.reduce((I,O)=>I.add(O.key),Xt());let d,E;return a.persistence.runTransaction("Locally write mutations","readwrite",I=>{let O=Mi(),A=Xt();return a.Zi.getEntries(I,u).next(D=>{O=D,O.forEach((v,l)=>{l.isValidDocument()||(A=A.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(I,O)).next(D=>{d=D;const v=[];for(const l of s){const c=nK(l,d.get(l.key).overlayedDocument);c!=null&&v.push(new Zs(l.key,c,vR(c.value.mapValue),Gn.exists(!0)))}return a.mutationQueue.addMutationBatch(I,m,v,s)}).next(D=>{E=D;const v=D.applyToLocalDocumentSet(d,A);return a.documentOverlayCache.saveOverlays(I,D.batchId,v)})}).then(()=>({batchId:E.batchId,changes:kR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let m=o.Tc[o.currentUser.toKey()];m||(m=new Nn(Yt)),m=m.insert(s,a),o.Tc[o.currentUser.toKey()]=m}(r,i.batchId,n),await Qs(r,i.changes),await _h(r.remoteStore)}catch(i){const o=xh(i,"Failed to persist write");n.reject(o)}}async function NL(t,e){const n=Et(t);try{const r=await XK(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?Rt(s.fc):i.removedDocuments.size>0&&(Rt(s.fc),s.fc=!1))}),await Qs(n,r,e)}catch(r){await il(r)}}function sO(t,e,n){const r=Et(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=Et(o);a.onlineState=s;let m=!1;a.queries.forEach((u,d)=>{for(const E of d.listeners)E.Mu(s)&&(m=!0)}),m&&UC(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MZ(t,e,n){const r=Et(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Nn(_t.comparator);s=s.insert(o,zn.newNoDocument(o,Nt.min()));const a=Xt().add(o),m=new vp(Nt.min(),new Map,new Nn(Yt),s,a);await NL(r,m),r.gc=r.gc.remove(o),r.yc.delete(e),$C(r)}else await Jc(r.localStore,e,!1).then(()=>eh(r,e,n)).catch(il)}async function OZ(t,e){const n=Et(t),r=e.batch.batchId;try{const i=await YK(n.localStore,e);GC(n,r,null),VC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qs(n,i)}catch(i){await il(i)}}async function kZ(t,e,n){const r=Et(t);try{const i=await function(o,s){const a=Et(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let u;return a.mutationQueue.lookupMutationBatch(m,s).next(d=>(Rt(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(m,d))).next(()=>a.mutationQueue.performConsistencyCheck(m)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(m,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,u)).next(()=>a.localDocuments.getDocuments(m,u))})}(r.localStore,e);GC(r,e,n),VC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qs(r,i)}catch(i){await il(i)}}async function AZ(t,e){const n=Et(t);al(n.remoteStore)||at("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const s=Et(o);return s.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>s.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=xh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function VC(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function GC(t,e,n){const r=Et(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function eh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||RL(t,r)})}function RL(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Ad(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),$C(t))}function XS(t,e,n){for(const r of n)r instanceof AL?(t.Ic.addReference(r.key,e),DZ(t,r)):r instanceof DL?(at("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||RL(t,r.key)):Ot()}function DZ(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(at("SyncEngine","New document in limbo: "+n),t.mc.add(r),$C(t))}function $C(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new _t(hn.fromString(e)),r=t.Ac.next();t.yc.set(r,new CZ(n)),t.gc=t.gc.insert(n,r),zy(t.remoteStore,new Ns(Di(yh(n.path)),r,"TargetPurposeLimboResolution",Ei.ct))}}async function Qs(t,e,n){const r=Et(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,m)=>{s.push(r.Rc(m,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=DC.Li(m.targetId,u);o.push(d)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,m){const u=Et(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ve.forEach(m,E=>Ve.forEach(E.Fi,I=>u.persistence.referenceDelegate.addReference(d,E.targetId,I)).next(()=>Ve.forEach(E.Bi,I=>u.persistence.referenceDelegate.removeReference(d,E.targetId,I)))))}catch(d){if(!ol(d))throw d;at("LocalStore","Failed to update sequence numbers: "+d)}for(const d of m){const E=d.targetId;if(!d.fromCache){const I=u.Ji.get(E),O=I.snapshotVersion,A=I.withLastLimboFreeSnapshotVersion(O);u.Ji=u.Ji.insert(E,A)}}}(r.localStore,o))}async function PZ(t,e){const n=Et(t);if(!n.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const r=await mL(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new rt(Ge.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qs(n,r.er)}}function NZ(t,e){const n=Et(t),r=n.yc.get(e);if(r&&r.fc)return Xt().add(r.key);{let i=Xt();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}async function RZ(t,e){const n=Et(t),r=await Mv(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&XS(n,e.targetId,i.cc),i}async function LZ(t,e){const n=Et(t);return SL(n.localStore,e).then(r=>Qs(n,r))}async function jZ(t,e,n,r){const i=Et(t),o=await function(s,a){const m=Et(s),u=Et(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Sn(d,a).next(E=>E?m.localDocuments.getDocuments(d,E):Ve.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await _h(i.remoteStore):n==="acknowledged"||n==="rejected"?(GC(i,e,r||null),VC(i,e),function(s,a){Et(Et(s).mutationQueue).Cn(a)}(i.localStore,e)):Ot(),await Qs(i,o)):at("SyncEngine","Cannot apply mutation batch with id: "+e)}async function FZ(t,e){const n=Et(t);if(YC(n),XC(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await aO(n,r.toArray());n.vc=!0,await YS(n.remoteStore,!0);for(const o of i)zy(n.remoteStore,o)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(eh(n,s),Jc(n.localStore,s,!0))),Ad(n.remoteStore,s)}),await i,await aO(n,r),function(o){const s=Et(o);s.yc.forEach((a,m)=>{Ad(s.remoteStore,m)}),s.Ic.Ts(),s.yc=new Map,s.gc=new Nn(_t.comparator)}(n),n.vc=!1,await YS(n.remoteStore,!1)}}async function aO(t,e,n){const r=Et(t),i=[],o=[];for(const s of e){let a;const m=r._c.get(s);if(m&&m.length!==0){a=await Qc(r.localStore,Di(m[0]));for(const u of m){const d=r.wc.get(u),E=await RZ(r,d);E.snapshot&&o.push(E.snapshot)}}else{const u=await wL(r.localStore,s);a=await Qc(r.localStore,u),await WC(r,LL(u),s,!1,a.resumeToken)}i.push(a)}return r.dc.nu(o),i}function LL(t){return IR(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zZ(t){const e=Et(t);return Et(Et(e.localStore).persistence).$i()}async function BZ(t,e,n,r){const i=Et(t);if(i.vc)return void at("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await SL(i.localStore,TR(o[0])),a=vp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wr.EMPTY_BYTE_STRING);await Qs(i,s,a);break}case"rejected":await Jc(i.localStore,e,!0),eh(i,e,r);break;default:Ot()}}async function UZ(t,e,n){const r=YC(t);if(r.vc){for(const i of e){if(r._c.has(i)){at("SyncEngine","Adding an already active target "+i);continue}const o=await wL(r.localStore,i),s=await Qc(r.localStore,o);await WC(r,LL(o),s.targetId,!1,s.resumeToken),zy(r.remoteStore,s)}for(const i of n)r._c.has(i)&&await Jc(r.localStore,i,!1).then(()=>{Ad(r.remoteStore,i),eh(r,i)}).catch(il)}}function YC(t){const e=Et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MZ.bind(null,e),e.dc.nu=yZ.bind(null,e.eventManager),e.dc.Pc=wZ.bind(null,e.eventManager),e}function XC(t){const e=Et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kZ.bind(null,e),e}function HZ(t,e,n){const r=Et(t);(async function(i,o,s){try{const a=await o.getMetadata();if(await function(E,I){const O=Et(E),A=ar(I.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",D=>O.qs.getBundleMetadata(D,I.id)).then(D=>!!D&&D.createTime.compareTo(A)>=0)}(i.localStore,a))return await o.close(),s._completeWith(function(E){return{taskState:"Success",documentsLoaded:E.totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}}(a)),Promise.resolve(new Set);s._updateProgress(kL(a));const m=new bZ(a,i.localStore,o.serializer);let u=await o.bc();for(;u;){const E=await m.zu(u);E&&s._updateProgress(E),u=await o.bc()}const d=await m.complete();return await Qs(i,d.Ju,void 0),await function(E,I){const O=Et(E);return O.persistence.runTransaction("Save bundle","readwrite",A=>O.qs.saveBundleMetadata(A,I))}(i.localStore,a),s._completeWith(d.progress),Promise.resolve(d.Hu)}catch(a){return No("SyncEngine",`Loading bundle failed with ${a}`),s._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class KS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=wp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return gL(this.persistence,new pL,e.initialUser,this.serializer)}createPersistence(e){return new dL(Fy.zs,this.serializer)}createSharedClientState(e){return new _L}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jL extends KS{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await XC(this.Vc.syncEngine),await _h(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return gL(this.persistence,new pL,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new AK(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new pX(n,this.persistence);return new dX(e.asyncQueue,r)}createPersistence(e){const n=AC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?_i.withCacheSize(this.cacheSizeBytes):_i.DEFAULT;return new kC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,CL(),_m(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _L}}class WZ extends jL{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof Lw&&(this.sharedClientState.syncEngine={jr:jZ.bind(null,n),zr:BZ.bind(null,n),Wr:UZ.bind(null,n),$i:zZ.bind(null,n),Qr:LZ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await FZ(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=CL();if(!Lw.D(n))throw new rt(Ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=AC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lw(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class KC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PZ.bind(null,this.syncEngine),await YS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vZ}createDatastore(e){const n=wp(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new tZ(i));var i;return function(o,s,a,m){return new iZ(o,s,a,m)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>sO(this.syncEngine,a,0),s=nO.D()?new nO:new JK,new sZ(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,m,u){const d=new xZ(r,i,o,s,a,m);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Et(e);at("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await bh(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new Er,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new SZ(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GZ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rt(Ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const o=Et(r),s=Od(o.serializer)+"/documents",a={documents:i.map(E=>Md(o.serializer,E))},m=await o.vo("BatchGetDocuments",s,a,i.length),u=new Map;m.forEach(E=>{const I=hK(o.serializer,E);u.set(I.key.toString(),I)});const d=[];return i.forEach(E=>{const I=u.get(E.toString());Rt(!!I),d.push(I)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=_t.fromPath(r);this.mutations.push(new wC(i,this.precondition(i)))}),await async function(n,r){const i=Et(n),o=Od(i.serializer)+"/documents",s={writes:r.map(a=>kd(i.serializer,a))};await i.Io("Commit",o,s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ot();n=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new rt(Ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Nt.min())?Gn.exists(!1):Gn.updateTime(n):Gn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Nt.min()))throw new rt(Ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gn.updateTime(n)}return Gn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this.Bc=r.maxAttempts,this.qo=new NC(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new GZ(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!fp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!UR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=nR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{at("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(at("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xh(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cm(t,e){t.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZC(t);at("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>rO(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>rO(e.remoteStore,o)),t._onlineComponents=e}function FL(t){return t.name==="FirebaseError"?t.code===Ge.FAILED_PRECONDITION||t.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ZC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!FL(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Cm(t,new KS)}}else at("FirestoreClient","Using default OfflineComponentProvider"),await Cm(t,new KS);return t._offlineComponents}async function Uy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),await ZS(t,t._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),await ZS(t,new KC))),t._onlineComponents}function zL(t){return ZC(t).then(e=>e.persistence)}function QC(t){return ZC(t).then(e=>e.localStore)}function BL(t){return Uy(t).then(e=>e.remoteStore)}function JC(t){return Uy(t).then(e=>e.syncEngine)}function XZ(t){return Uy(t).then(e=>e.datastore)}async function th(t){const e=await Uy(t),n=e.eventManager;return n.onListen=IZ.bind(null,e.syncEngine),n.onUnlisten=EZ.bind(null,e.syncEngine),n}function KZ(t){return t.asyncQueue.enqueue(async()=>{const e=await zL(t),n=await BL(t);return e.setNetworkEnabled(!0),function(r){const i=Et(r);return i.vu.delete(0),Sp(i)}(n)})}function ZZ(t){return t.asyncQueue.enqueue(async()=>{const e=await zL(t),n=await BL(t);return e.setNetworkEnabled(!1),async function(r){const i=Et(r);i.vu.add(0),await bh(i),i.bu.set("Offline")}(n)})}function QZ(t,e){const n=new Er;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const s=await function(a,m){const u=Et(a);return u.persistence.runTransaction("read document","readonly",d=>u.localDocuments.getDocument(d,m))}(r,i);s.isFoundDocument()?o.resolve(s):s.isNoDocument()?o.resolve(null):o.reject(new rt(Ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(s){const a=xh(s,`Failed to get document '${i} from cache`);o.reject(a)}}(await QC(t),e,n)),n.promise}function UL(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,m){const u=new By({next:E=>{o.enqueueAndForget(()=>BC(i,d));const I=E.docs.has(s);!I&&E.fromCache?m.reject(new rt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&a&&a.source==="server"?m.reject(new rt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),d=new HC(yh(s.path),u,{includeMetadataChanges:!0,Ku:!0});return zC(i,d)}(await th(t),t.asyncQueue,e,n,r)),r.promise}function JZ(t,e){const n=new Er;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,o){try{const s=await Mv(r,i,!0),a=new PL(i,s.ir),m=a.sc(s.documents),u=a.applyChanges(m,!1);o.resolve(u.snapshot)}catch(s){const a=xh(s,`Failed to execute query '${i} against cache`);o.reject(a)}}(await QC(t),e,n)),n.promise}function HL(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,m){const u=new By({next:E=>{o.enqueueAndForget(()=>BC(i,d)),E.fromCache&&a.source==="server"?m.reject(new rt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),d=new HC(s,u,{includeMetadataChanges:!0,Ku:!0});return zC(i,d)}(await th(t),t.asyncQueue,e,n,r)),r.promise}function qZ(t,e){const n=new By(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){Et(r).ku.add(i),i.next()}(await th(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){Et(r).ku.delete(i)}(await th(t),n))}}function eQ(t,e,n,r){const i=function(o,s){let a;return a=typeof o=="string"?WR().encode(o):o,function(m,u){return new VZ(m,u)}(function(m,u){if(m instanceof Uint8Array)return lO(m,u);if(m instanceof ArrayBuffer)return lO(new Uint8Array(m),u);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),s)}(n,wp(e));t.asyncQueue.enqueueAndForget(async()=>{HZ(await JC(t),i,r)})}function tQ(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=Et(n);return i.persistence.runTransaction("Get named query","readonly",o=>i.qs.getNamedQuery(o,r))}(await QC(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e,n){if(!n)throw new rt(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VL(t,e,n,r){if(e===!0&&r===!0)throw new rt(Ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cO(t){if(!_t.isDocumentKey(t))throw new rt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hO(t){if(_t.isDocumentKey(t))throw new rt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ot()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hy(t);throw new rt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function GL(t,e){if(e<=0)throw new rt(Ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new rt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new rt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new rt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class bp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new rt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fO(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new tX;switch(n.type){case"firstParty":return new oX(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=uO.get(e);n&&(at("ComponentProvider","Removing Datastore"),uO.delete(e),n.terminate())}(this),Promise.resolve()}}function nQ(t,e,n,r={}){var i;const o=(t=gn(t,bp))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&No("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=xr.MOCK_USER;else{s=IH(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new rt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new xr(m)}t._authCredentials=new nX(new tR(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class Gr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gr(this.firestore,e,this._query)}}class hs extends Gr{constructor(e,n,r){super(e,n,yh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new _t(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function $L(t,e,...n){if(t=zt(t),qC("collection","path",e),t instanceof bp){const r=hn.fromString(e,...n);return hO(r),new hs(t,null,r)}{if(!(t instanceof Hn||t instanceof hs))throw new rt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return hO(r),new hs(t.firestore,null,r)}}function rQ(t,e){if(t=gn(t,bp),qC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new rt(Ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Gr(t,null,function(n){return new Ks(hn.emptyPath(),n)}(e))}function Dv(t,e,...n){if(t=zt(t),arguments.length===1&&(e=nR.A()),qC("doc","path",e),t instanceof bp){const r=hn.fromString(e,...n);return cO(r),new Hn(t,null,new _t(r))}{if(!(t instanceof Hn||t instanceof hs))throw new rt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return cO(r),new Hn(t.firestore,t instanceof hs?t.converter:null,new _t(r))}}function YL(t,e){return t=zt(t),e=zt(e),(t instanceof Hn||t instanceof hs)&&(e instanceof Hn||e instanceof hs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function XL(t,e){return t=zt(t),e=zt(e),t instanceof Gr&&e instanceof Gr&&t.firestore===e.firestore&&pp(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new NC(this,"async_queue_retry"),this.Xc=()=>{const n=_m();n&&at("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=_m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Er;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ol(e))throw e;at("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=FC.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&Ot()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function QS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class oQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=-1;class rr extends bp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iQ,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||KL(this),this._firestoreClient.terminate()}}function kr(t){return t._firestoreClient||KL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KL(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,m,u){return new RX(s,a,m,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,WL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new YZ(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function aQ(t,e){QL(t=gn(t,rr));const n=kr(t);if(n._uninitializedComponentsProvider)throw new rt(Ge.FAILED_PRECONDITION,"SDK cache is already specified.");No("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new KC;return ZL(n,i,new jL(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function lQ(t){QL(t=gn(t,rr));const e=kr(t);if(e._uninitializedComponentsProvider)throw new rt(Ge.FAILED_PRECONDITION,"SDK cache is already specified.");No("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new KC;return ZL(e,r,new WZ(r,n.cacheSizeBytes))}function ZL(t,e,n){const r=new Er;return t.asyncQueue.enqueue(async()=>{try{await Cm(t,n),await ZS(t,e),r.resolve()}catch(i){const o=i;if(!FL(o))throw o;No("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}}).then(()=>r.promise)}function uQ(t){if(t._initialized&&!t._terminated)throw new rt(Ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!To.D())return Promise.resolve();const r=n+"main";await To.delete(r)}(AC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function cQ(t){return function(e){const n=new Er;return e.asyncQueue.enqueueAndForget(async()=>AZ(await JC(e),n)),n.promise}(kr(t=gn(t,rr)))}function hQ(t){return KZ(kr(t=gn(t,rr)))}function fQ(t){return ZZ(kr(t=gn(t,rr)))}function dQ(t,e){const n=kr(t=gn(t,rr)),r=new oQ;return eQ(n,t._databaseId,e,r),r}function pQ(t,e){return tQ(kr(t=gn(t,rr)),e).then(n=>n?new Gr(t,null,n.query):null)}function QL(t){if(t._initialized||t._terminated)throw new rt(Ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(wr.fromBase64String(e))}catch(n){throw new rt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gs(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new rt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yt(this._lat,e._lat)||Yt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=/^__.*__$/;class mQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new wh(e,this.data,n,this.fieldTransforms)}}class JL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class Vy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(qL(this.ca)&&gQ.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class vQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wp(e)}ya(e,n,r,i=!1){return new Vy({ca:e,methodName:n,ga:r,path:sr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ou(t){const e=t._freezeSettings(),n=wp(t._databaseId);return new vQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gy(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);rx("Data must be an object, but it was:",s,r);const a=nj(r,s);let m,u;if(o.merge)m=new Ti(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const E of o.mergeFields){const I=JS(e,E,n);if(!s.contains(I))throw new rt(Ge.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ij(d,I)||d.push(I)}m=new Ti(d),u=s.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,u=s.fieldTransforms;return new mQ(new zr(a),m,u)}class _p extends Mu{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _p}}function ej(t,e,n){return new Vy({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ex extends Mu{_toFieldTransform(e){return new mp(e.path,new Xc)}isEqual(e){return e instanceof ex}}class yQ extends Mu{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=ej(this,e,!0),r=this.pa.map(o=>ku(o,n)),i=new hu(r);return new mp(e.path,i)}isEqual(e){return this===e}}class wQ extends Mu{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=ej(this,e,!0),r=this.pa.map(o=>ku(o,n)),i=new fu(r);return new mp(e.path,i)}isEqual(e){return this===e}}class SQ extends Mu{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Kc(e.serializer,NR(e.serializer,this.Ia));return new mp(e.path,n)}isEqual(e){return this===e}}function tx(t,e,n,r){const i=t.ya(1,e,n);rx("Data must be an object, but it was:",i,r);const o=[],s=zr.empty();Tu(r,(m,u)=>{const d=ix(e,m,n);u=zt(u);const E=i.da(d);if(u instanceof _p)o.push(d);else{const I=ku(u,E);I!=null&&(o.push(d),s.set(d,I))}});const a=new Ti(o);return new JL(s,a,i.fieldTransforms)}function nx(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[JS(e,r,n)],m=[i];if(o.length%2!=0)throw new rt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<o.length;I+=2)a.push(JS(e,o[I])),m.push(o[I+1]);const u=[],d=zr.empty();for(let I=a.length-1;I>=0;--I)if(!ij(u,a[I])){const O=a[I];let A=m[I];A=zt(A);const D=s.da(O);if(A instanceof _p)u.push(O);else{const v=ku(A,D);v!=null&&(u.push(O),d.set(O,v))}}const E=new Ti(u);return new JL(d,E,s.fieldTransforms)}function tj(t,e,n,r=!1){return ku(n,t.ya(r?4:3,e))}function ku(t,e){if(rj(t=zt(t)))return rx("Unsupported field value:",e,t),nj(t,e);if(t instanceof Mu)return function(n,r){if(!qL(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=ku(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=$n.fromDate(n);return{timestampValue:Zc(r.serializer,i)}}if(n instanceof $n){const i=new $n(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zc(r.serializer,i)}}if(n instanceof Wy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gs)return{bytesValue:$R(r.serializer,n._byteString)};if(n instanceof Hn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:IC(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Hy(n)}`)}(t,e)}function nj(t,e){const n={};return pR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tu(t,(r,i)=>{const o=ku(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $n||t instanceof Wy||t instanceof gs||t instanceof Hn||t instanceof Mu)}function rx(t,e,n){if(!rj(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hy(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function JS(t,e,n){if((e=zt(e))instanceof $a)return e._internalPath;if(typeof e=="string")return ix(t,e);throw Pv("Field path arguments must be of type string or ",t,!1,void 0,n)}const bQ=new RegExp("[~\\*/\\[\\]]");function ix(t,e,n){if(e.search(bQ)>=0)throw Pv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $a(...e.split("."))._internalPath}catch{throw Pv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pv(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let m="";return(o||s)&&(m+=" (found",o&&(m+=` in field ${r}`),s&&(m+=` in document ${i}`),m+=")"),new rt(Ge.INVALID_ARGUMENT,a+t+m)}function ij(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _Q(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _Q extends Dd{data(){return super.data()}}function $y(t,e){return typeof e=="string"?ix(t,e):e instanceof $a?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new rt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ox{}class Cp extends ox{}function sa(t,e,...n){let r=[];e instanceof ox&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof sx).length,s=i.filter(a=>a instanceof Yy).length;if(o>1||o>0&&s>0)throw new rt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yy extends Cp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yy(e,n,r)}_apply(e){const n=this._parse(e);return aj(e._query,n),new Gr(e.firestore,e.converter,FS(e._query,n))}_parse(e){const n=Ou(e.firestore);return function(i,o,s,a,m,u,d){let E;if(m.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new rt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){pO(d,u);const I=[];for(const O of d)I.push(dO(a,i,O));E={arrayValue:{values:I}}}else E=dO(a,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||pO(d,u),E=tj(s,o,d,u==="in"||u==="not-in");return on.create(m,u,E)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CQ(t,e,n){const r=e,i=$y("where",t);return Yy._create(i,r,n)}class sx extends ox{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)aj(o,a),o=FS(o,a)}(e._query,n),new Gr(e.firestore,e.converter,FS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ax extends Cp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ax(e,n)}_apply(e){const n=function(r,i,o){if(r.startAt!==null)throw new rt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new rt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Ac(i,o);return function(a,m){if(mC(a)===null){const u=Py(a);u!==null&&lj(a,u,m.field)}}(r,s),s}(e._query,this._field,this._direction);return new Gr(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ks(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function xQ(t,e="asc"){const n=e,r=$y("orderBy",t);return ax._create(r,n)}class Xy extends Cp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xy(e,n,r)}_apply(e){return new Gr(e.firestore,e.converter,xv(e._query,this._limit,this._limitType))}}function IQ(t){return GL("limit",t),Xy._create("limit",t,"F")}function EQ(t){return GL("limitToLast",t),Xy._create("limitToLast",t,"L")}class Ky extends Cp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ky(e,n,r)}_apply(e){const n=sj(e,this.type,this._docOrFields,this._inclusive);return new Gr(e.firestore,e.converter,function(r,i){return new Ks(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function TQ(...t){return Ky._create("startAt",t,!0)}function MQ(...t){return Ky._create("startAfter",t,!1)}class Zy extends Cp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Zy(e,n,r)}_apply(e){const n=sj(e,this.type,this._docOrFields,this._inclusive);return new Gr(e.firestore,e.converter,function(r,i){return new Ks(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function OQ(...t){return Zy._create("endBefore",t,!1)}function kQ(...t){return Zy._create("endAt",t,!0)}function sj(t,e,n,r){if(n[0]=zt(n[0]),n[0]instanceof Dd)return function(i,o,s,a,m){if(!a)throw new rt(Ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${s}().`);const u=[];for(const d of Kl(i))if(d.field.isKeyField())u.push(uu(o,a.key));else{const E=a.data.field(d.field);if(Dy(E))throw new rt(Ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const I=d.field.canonicalString();throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}u.push(E)}return new Va(u,m)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ou(t.firestore);return function(o,s,a,m,u,d){const E=o.explicitOrderBy;if(u.length>E.length)throw new rt(Ge.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let O=0;O<u.length;O++){const A=u[O];if(E[O].field.isKeyField()){if(typeof A!="string")throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof A}`);if(!vC(o)&&A.indexOf("/")!==-1)throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${A}' contains a slash.`);const D=o.path.child(hn.fromString(A));if(!_t.isDocumentKey(D))throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const v=new _t(D);I.push(uu(s,v))}else{const D=tj(a,m,A);I.push(D)}}return new Va(I,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function dO(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new rt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vC(e)&&n.indexOf("/")!==-1)throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hn.fromString(n));if(!_t.isDocumentKey(r))throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uu(t,new _t(r))}if(n instanceof Hn)return uu(t,n._key);throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hy(n)}.`)}function pO(t,e){if(!Array.isArray(t)||t.length===0)throw new rt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aj(t,e){if(e.isInequality()){const r=Py(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=mC(t);o!==null&&lj(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new rt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lj(t,e,n){if(!n.isEqual(e))throw new rt(Ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class lx{convertValue(e,n="none"){switch(lu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tu(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Wy(tr(e.latitude),tr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Id(e));default:return null}}convertTimestamp(e){const n=Ba(e);return new $n(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hn.fromString(e);Rt(nL(r));const i=new Ha(r.get(1),r.get(3)),o=new _t(r.popFirst(5));return i.isEqual(n)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class AQ extends lx{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gs extends Dd{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uf extends Gs{data(e={}){return super.data(e)}}class Ya{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uf(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Uf(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Bl(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Uf(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Bl(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,u=-1;return s.type!==0&&(m=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:DQ(s.type),doc:a,oldIndex:m,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function uj(t,e){return t instanceof Gs&&e instanceof Gs?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ya&&e instanceof Ya&&t._firestore===e._firestore&&XL(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t){t=gn(t,Hn);const e=gn(t.firestore,rr);return UL(kr(e),t._key).then(n=>ux(e,t,n))}class Au extends lx{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function NQ(t){t=gn(t,Hn);const e=gn(t.firestore,rr),n=kr(e),r=new Au(e);return QZ(n,t._key).then(i=>new Gs(e,r,t._key,i,new Bl(i!==null&&i.hasLocalMutations,!0),t.converter))}function RQ(t){t=gn(t,Hn);const e=gn(t.firestore,rr);return UL(kr(e),t._key,{source:"server"}).then(n=>ux(e,t,n))}function LQ(t){t=gn(t,Gr);const e=gn(t.firestore,rr),n=kr(e),r=new Au(e);return oj(t._query),HL(n,t._query).then(i=>new Ya(e,r,t,i))}function jQ(t){t=gn(t,Gr);const e=gn(t.firestore,rr),n=kr(e),r=new Au(e);return JZ(n,t._query).then(i=>new Ya(e,r,t,i))}function FQ(t){t=gn(t,Gr);const e=gn(t.firestore,rr),n=kr(e),r=new Au(e);return HL(n,t._query,{source:"server"}).then(i=>new Ya(e,r,t,i))}function gO(t,e,n){t=gn(t,Hn);const r=gn(t.firestore,rr),i=Qy(t.converter,e,n);return xp(r,[Gy(Ou(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gn.none())])}function mO(t,e,n,...r){t=gn(t,Hn);const i=gn(t.firestore,rr),o=Ou(i);let s;return s=typeof(e=zt(e))=="string"||e instanceof $a?nx(o,"updateDoc",t._key,e,n,r):tx(o,"updateDoc",t._key,e),xp(i,[s.toMutation(t._key,Gn.exists(!0))])}function zQ(t){return xp(gn(t.firestore,rr),[new Sh(t._key,Gn.none())])}function BQ(t,e){const n=gn(t.firestore,rr),r=Dv(t),i=Qy(t.converter,e);return xp(n,[Gy(Ou(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function cj(t,...e){var n,r,i;t=zt(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||QS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(QS(e[s])){const E=e[s];e[s]=(n=E.next)===null||n===void 0?void 0:n.bind(E),e[s+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[s+2]=(i=E.complete)===null||i===void 0?void 0:i.bind(E)}let m,u,d;if(t instanceof Hn)u=gn(t.firestore,rr),d=yh(t._key.path),m={next:E=>{e[s]&&e[s](ux(u,t,E))},error:e[s+1],complete:e[s+2]};else{const E=gn(t,Gr);u=gn(E.firestore,rr),d=E._query;const I=new Au(u);m={next:O=>{e[s]&&e[s](new Ya(u,I,E,O))},error:e[s+1],complete:e[s+2]},oj(t._query)}return function(E,I,O,A){const D=new By(A),v=new HC(I,D,O);return E.asyncQueue.enqueueAndForget(async()=>zC(await th(E),v)),()=>{D.Dc(),E.asyncQueue.enqueueAndForget(async()=>BC(await th(E),v))}}(kr(u),d,a,m)}function UQ(t,e){return qZ(kr(t=gn(t,rr)),QS(e)?e:{next:e})}function xp(t,e){return function(n,r){const i=new Er;return n.asyncQueue.enqueueAndForget(async()=>TZ(await JC(n),r,i)),i.promise}(kr(t),e)}function ux(t,e,n){const r=n.docs.get(e._key),i=new Au(t);return new Gs(t,i,e._key,r,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ou(e)}set(e,n,r){this._verifyNotCommitted();const i=da(e,this._firestore),o=Qy(i.converter,n,r),s=Gy(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Gn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=da(e,this._firestore);let s;return s=typeof(n=zt(n))=="string"||n instanceof $a?nx(this._dataReader,"WriteBatch.update",o._key,n,r,i):tx(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Gn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=da(e,this._firestore);return this._mutations=this._mutations.concat(new Sh(n._key,Gn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function da(t,e){if((t=zt(t)).firestore!==e)throw new rt(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ou(e)}get(e){const n=da(e,this._firestore),r=new AQ(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Ot();const o=i[0];if(o.isFoundDocument())return new Dd(this._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new Dd(this._firestore,r,n._key,null,n.converter);throw Ot()})}set(e,n,r){const i=da(e,this._firestore),o=Qy(i.converter,n,r),s=Gy(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this}update(e,n,r,...i){const o=da(e,this._firestore);let s;return s=typeof(n=zt(n))=="string"||n instanceof $a?nx(this._dataReader,"Transaction.update",o._key,n,r,i):tx(this._dataReader,"Transaction.update",o._key,n),this._transaction.update(o._key,s),this}delete(e){const n=da(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=da(e,this._firestore),r=new Au(this._firestore);return super.get(e).then(i=>new Gs(this._firestore,r,n._key,i._document,new Bl(!1,!1),n.converter))}}function GQ(t,e,n){t=gn(t,rr);const r=Object.assign(Object.assign({},HQ),n);return function(i){if(i.maxAttempts<1)throw new rt(Ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,s){const a=new Er;return i.asyncQueue.enqueueAndForget(async()=>{const m=await XZ(i);new $Z(i.asyncQueue,m,s,o,a).run()}),a.promise}(kr(t),i=>e(new VQ(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(){return new _p("deleteField")}function YQ(){return new ex("serverTimestamp")}function XQ(...t){return new yQ("arrayUnion",t)}function KQ(...t){return new wQ("arrayRemove",t)}function ZQ(t){return new SQ("increment",t)}(function(t,e=!0){(function(n){vh=n})(el),ja(new fs("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new rr(new rX(n.getProvider("auth-internal")),new aX(n.getProvider("app-check-internal")),function(a,m){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new rt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(a.options.projectId,m)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),us(hM,"3.12.0",t),us(hM,"3.12.0","esm2017")})();const QQ="@firebase/firestore-compat",JQ="0.3.9";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new rt("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){if(typeof Uint8Array>"u")throw new rt("unimplemented","Uint8Arrays are not available in this environment.")}function yO(){if(!PX())throw new rt("unimplemented","Blobs are unavailable in Firestore in this environment.")}let hj=class qS{constructor(e){this._delegate=e}static fromBase64String(e){return yO(),new qS(gs.fromBase64String(e))}static fromUint8Array(e){return vO(),new qS(gs.fromUint8Array(e))}toBase64(){return yO(),this._delegate.toBase64()}toUint8Array(){return vO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){return qQ(t,["next","error","complete"])}function qQ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{enableIndexedDbPersistence(e,n){return aQ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return lQ(e._delegate)}clearIndexedDbPersistence(e){return uQ(e._delegate)}}class fj{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ha||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&No("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){nQ(this._delegate,e,n,r)}enableNetwork(){return hQ(this._delegate)}disableNetwork(){return fQ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,VL("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return cQ(this._delegate)}onSnapshotsInSync(e){return UQ(this._delegate,e)}get app(){if(!this._appCompat)throw new rt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nh(this,$L(this._delegate,e))}catch(n){throw hi(n,"collection()","Firestore.collection()")}}doc(e){try{return new uo(this,Dv(this._delegate,e))}catch(n){throw hi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ci(this,rQ(this._delegate,e))}catch(n){throw hi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return GQ(this._delegate,n=>e(new dj(this,n)))}batch(){return kr(this._delegate),new pj(new WQ(this._delegate,e=>xp(this._delegate,e)))}loadBundle(e){return dQ(this._delegate,e)}namedQuery(e){return pQ(this._delegate,e).then(n=>n?new ci(this,n):null)}}class Jy extends lx{constructor(e){super(),this.firestore=e}convertBytes(e){return new hj(new gs(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return uo.forKey(n,this.firestore,null)}}function tJ(t){qY(t)}class dj{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Jy(e)}get(e){const n=Ul(e);return this._delegate.get(n).then(r=>new Pd(this._firestore,new Gs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Ul(e);return r?(cx("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Ul(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Ul(e);return this._delegate.delete(n),this}}class pj{constructor(e){this._delegate=e}set(e,n,r){const i=Ul(e);return r?(cx("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Ul(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Ul(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class mu{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Uf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=mu.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new mu(e,new Jy(e),n),i.set(n,o)),o}}mu.INSTANCES=new WeakMap;class uo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Jy(e)}static forPath(e,n,r){if(e.length%2!==0)throw new rt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new uo(n,new Hn(n._delegate,r,new _t(e)))}static forKey(e,n,r){return new uo(n,new Hn(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nh(this.firestore,$L(this._delegate,e))}catch(n){throw hi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=zt(e),e instanceof Hn?YL(this._delegate,e):!1}set(e,n){n=cx("DocumentReference.set",n);try{return n?gO(this._delegate,e,n):gO(this._delegate,e)}catch(r){throw hi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?mO(this._delegate,e):mO(this._delegate,e,n,...r)}catch(i){throw hi(i,"updateDoc()","DocumentReference.update()")}}delete(){return zQ(this._delegate)}onSnapshot(...e){const n=gj(e),r=mj(e,i=>new Pd(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cj(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=NQ(this._delegate):(e==null?void 0:e.source)==="server"?n=RQ(this._delegate):n=PQ(this._delegate),n.then(r=>new Pd(this.firestore,new Gs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new uo(this.firestore,e?this._delegate.withConverter(mu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hi(t,e,n){return t.message=t.message.replace(e,n),t}function gj(t){for(const e of t)if(typeof e=="object"&&!eb(e))return e;return{}}function mj(t,e){var n,r;let i;return eb(t[0])?i=t[0]:eb(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Pd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new uo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return uj(this._delegate,e._delegate)}}class Nd extends Pd{data(e){const n=this._delegate.data(e);return eX(n!==void 0),n}}class ci{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Jy(e)}where(e,n,r){try{return new ci(this.firestore,sa(this._delegate,CQ(e,n,r)))}catch(i){throw hi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new ci(this.firestore,sa(this._delegate,xQ(e,n)))}catch(r){throw hi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ci(this.firestore,sa(this._delegate,IQ(e)))}catch(n){throw hi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new ci(this.firestore,sa(this._delegate,EQ(e)))}catch(n){throw hi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ci(this.firestore,sa(this._delegate,TQ(...e)))}catch(n){throw hi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ci(this.firestore,sa(this._delegate,MQ(...e)))}catch(n){throw hi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ci(this.firestore,sa(this._delegate,OQ(...e)))}catch(n){throw hi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ci(this.firestore,sa(this._delegate,kQ(...e)))}catch(n){throw hi(n,"endAt()","Query.endAt()")}}isEqual(e){return XL(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=jQ(this._delegate):(e==null?void 0:e.source)==="server"?n=FQ(this._delegate):n=LQ(this._delegate),n.then(r=>new tb(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=gj(e),r=mj(e,i=>new tb(this.firestore,new Ya(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cj(this._delegate,n,r)}withConverter(e){return new ci(this.firestore,e?this._delegate.withConverter(mu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class nJ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Nd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tb{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new ci(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Nd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new nJ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Nd(this._firestore,r))})}isEqual(e){return uj(this._delegate,e._delegate)}}class nh extends ci{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new uo(this.firestore,e):null}doc(e){try{return e===void 0?new uo(this.firestore,Dv(this._delegate)):new uo(this.firestore,Dv(this._delegate,e))}catch(n){throw hi(n,"doc()","CollectionReference.doc()")}}add(e){return BQ(this._delegate,e).then(n=>new uo(this.firestore,n))}isEqual(e){return YL(this._delegate,e._delegate)}withConverter(e){return new nh(this.firestore,e?this._delegate.withConverter(mu.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ul(t){return gn(t,Hn)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(...e){this._delegate=new $a(...e)}static documentId(){return new hx(sr.keyField().canonicalString())}isEqual(e){return e=zt(e),e instanceof $a?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this._delegate=e}static serverTimestamp(){const e=YQ();return e._methodName="FieldValue.serverTimestamp",new Pl(e)}static delete(){const e=$Q();return e._methodName="FieldValue.delete",new Pl(e)}static arrayUnion(...e){const n=XQ(...e);return n._methodName="FieldValue.arrayUnion",new Pl(n)}static arrayRemove(...e){const n=KQ(...e);return n._methodName="FieldValue.arrayRemove",new Pl(n)}static increment(e){const n=ZQ(e);return n._methodName="FieldValue.increment",new Pl(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rJ={Firestore:fj,GeoPoint:Wy,Timestamp:$n,Blob:hj,Transaction:dj,WriteBatch:pj,DocumentReference:uo,DocumentSnapshot:Pd,Query:ci,QueryDocumentSnapshot:Nd,QuerySnapshot:tb,CollectionReference:nh,FieldPath:hx,FieldValue:Pl,setLogLevel:tJ,CACHE_SIZE_UNLIMITED:sQ};function iJ(t,e){t.INTERNAL.registerComponent(new fs("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},rJ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(t){iJ(t,(e,n)=>new fj(e,n,new eJ)),t.registerVersion(QQ,JQ)}oJ(ti);var vu={},Fw={},zw={},Bw={exports:{}},wO;function sJ(){return wO||(wO=1,function(t,e){(function(n,r){r(t)})(Tn,function(n){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};n.exports=(typeof self>"u"?"undefined":r(self))==="object"&&self.self===self&&self||(typeof Tn>"u"?"undefined":r(Tn))==="object"&&Tn.global===Tn&&Tn||void 0})}(Bw)),Bw.exports}var SO;function aJ(){return SO||(SO=1,function(t){(function(e,n){n(t,sJ())})(Tn,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=0,i=typeof n<"u"&&n._scriptMap||new Map,o=e.ScriptCache=function(s){return s._scriptMap=s._scriptMap||i,function(m){var u={};return u._onLoad=function(d){return function(E){var I=!0;function O(){I=!1}var A=i.get(d);return A&&A.promise.then(function(){return I&&(A.error?E(A.error):E(null,A)),A}).catch(function(D){return E(D)}),O}},u._scriptTag=function(d,E){if(!i.has(d)){if(typeof document>"u")return null;var I=document.createElement("script"),O=new Promise(function(D,v){var l=document.getElementsByTagName("body")[0];I.type="text/javascript",I.async=!1;var c="loaderCB"+r+++Date.now(),f=function(g){return function(y){var _=i.get(d);g==="loaded"?(_.resolved=!0,D(E)):g==="error"&&(_.errored=!0,v(y)),_.loaded=!0,h()}},h=function(){s[c]&&typeof s[c]=="function"&&(s[c]=null,delete s[c])};return I.onload=f("loaded"),I.onerror=f("error"),I.onreadystatechange=function(){f(I.readyState)},E.match(/callback=CALLBACK_NAME/)?(E=E.replace(/(callback=)[^\&]+/,"$1"+c),n[c]=I.onload):I.addEventListener("load",I.onload),I.addEventListener("error",I.onerror),I.src=E,l.appendChild(I),I}),A={loaded:!1,error:!1,promise:O,tag:I};i.set(d,A)}return i.get(d).tag},Object.keys(m).forEach(function(d){var E=m[d],I=n._scriptMap.has(d)?n._scriptMap.get(d).tag:u._scriptTag(d,E);u[d]={tag:I,onLoad:u._onLoad(d)}}),u}}(n);e.default=o})}(zw)),zw}var Uw={},bO;function lJ(){return bO||(bO=1,function(t){(function(e,n){n(t)})(Tn,function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=e.GoogleApi=function(i){if(i=i||{},!i.hasOwnProperty("apiKey"))throw new Error("You must pass an apiKey to use GoogleApi");var o=i.apiKey,s=i.libraries||["places"],a=i.client,m=i.url||"https://maps.googleapis.com/maps/api/js",u=i.version||"3.31",d=null,E=i.language,I=i.region||null,O=function(){var D=m,v={key:o,callback:"CALLBACK_NAME",libraries:s.join(","),client:a,v:u,channel:d,language:E,region:I,onerror:"ERROR_FUNCTION"},l=Object.keys(v).filter(function(c){return!!v[c]}).map(function(c){return c+"="+v[c]}).join("&");return D+"?"+l};return O()};e.default=n})}(Uw)),Uw}var _O;function uJ(){return _O||(_O=1,function(t){(function(e,n){n(t,Ae,Yd,aJ(),lJ())})(Tn,function(e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:!0}),e.wrapper=void 0;var s=m(n);m(r);var a=m(o);function m(c){return c&&c.__esModule?c:{default:c}}function u(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var d=function(){function c(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}();function E(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function I(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var O=function(f){return JSON.stringify(f)},A=function(f,h){return f===h||O(f)===O(h)},D=function(f){f=f||{};var h=f.apiKey,p=f.libraries||["places"],g=f.version||"3",y=f.language||"en",_=f.url,w=f.client,T=f.region;return(0,i.ScriptCache)({google:(0,a.default)({apiKey:h,language:y,libraries:p,version:g,url:_,client:w,region:T})})},v=function(f){return s.default.createElement("div",null,"Loading...")},l=e.wrapper=function(f){return function(h){var p=function(g){I(y,g);function y(_,w){u(this,y);var T=E(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_,w)),k=typeof f=="function"?f(_):f;return T.initialize(k),T.state={loaded:!1,map:null,google:null,options:k},T.mapRef=s.default.createRef(),T}return d(y,[{key:"UNSAFE_componentWillReceiveProps",value:function(w){if(typeof f=="function"){var T=this.state.options,k=typeof f=="function"?f(w):f;A(k,T)||(this.initialize(k),this.setState({options:k,loaded:!1,google:null}))}}},{key:"componentWillUnmount",value:function(){this.unregisterLoadHandler&&this.unregisterLoadHandler()}},{key:"initialize",value:function(w){this.unregisterLoadHandler&&(this.unregisterLoadHandler(),this.unregisterLoadHandler=null);var T=w.createCache||D;this.scriptCache=T(w),this.unregisterLoadHandler=this.scriptCache.google.onLoad(this.onLoad.bind(this)),this.LoadingContainer=w.LoadingContainer||v}},{key:"onLoad",value:function(w,T){this._gapi=window.google,this.setState({loaded:!0,google:this._gapi})}},{key:"render",value:function(){var w=this.LoadingContainer;if(!this.state.loaded)return s.default.createElement(w,null);var T=Object.assign({},this.props,{loaded:this.state.loaded,google:window.google});return s.default.createElement("div",null,s.default.createElement(h,T),s.default.createElement("div",{ref:this.mapRef}))}}]),y}(s.default.Component);return p}};e.default=l})}(Fw)),Fw}var Hw={},Ww={},CO;function Du(){return CO||(CO=1,function(t){(function(e,n){n(t)})(Tn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.camelize=function(r){return r.split("_").map(function(i){return i.charAt(0).toUpperCase()+i.slice(1)}).join("")}})}(Ww)),Ww}var xO;function cJ(){return xO||(xO=1,function(t){(function(e,n){n(t,Ae,Lo(),Du())})(Tn,function(e,n,r,i){Object.defineProperty(e,"__esModule",{value:!0}),e.Marker=void 0;var o=a(n),s=a(r);function a(l){return l&&l.__esModule?l:{default:l}}var m=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l};function u(l,c){var f={};for(var h in l)c.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(l,h)&&(f[h]=l[h]);return f}function d(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var E=function(){function l(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function I(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function O(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var A=["click","dblclick","dragend","mousedown","mouseout","mouseover","mouseup","recenter"],D=function(){var c={},f=new Promise(function(h,p){c.resolve=h,c.reject=p});return c.then=f.then.bind(f),c.catch=f.catch.bind(f),c.promise=f,c},v=e.Marker=function(l){O(c,l);function c(){return d(this,c),I(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return E(c,[{key:"componentDidMount",value:function(){this.markerPromise=D(),this.renderMarker()}},{key:"componentDidUpdate",value:function(h){(this.props.map!==h.map||this.props.position!==h.position||this.props.icon!==h.icon)&&(this.marker&&this.marker.setMap(null),this.renderMarker())}},{key:"componentWillUnmount",value:function(){this.marker&&this.marker.setMap(null)}},{key:"renderMarker",value:function(){var h=this,p=this.props,g=p.map,y=p.google,_=p.position,w=p.mapCenter,T=p.icon,k=p.label,P=p.draggable,L=p.title,N=u(p,["map","google","position","mapCenter","icon","label","draggable","title"]);if(!y)return null;var F=_||w;F instanceof y.maps.LatLng||(F=new y.maps.LatLng(F.lat,F.lng));var G=m({map:g,position:F,icon:T,label:k,title:L,draggable:P},N);this.marker=new y.maps.Marker(G),A.forEach(function(H){h.marker.addListener(H,h.handleEvent(H))}),this.markerPromise.resolve(this.marker)}},{key:"getMarker",value:function(){return this.markerPromise}},{key:"handleEvent",value:function(h){var p=this;return function(g){var y="on"+(0,i.camelize)(h);p.props[y]&&p.props[y](p.props,p.marker,g)}}},{key:"render",value:function(){return null}}]),c}(o.default.Component);v.propTypes={position:s.default.object,map:s.default.object},A.forEach(function(l){return v.propTypes[l]=s.default.func}),v.defaultProps={name:"Marker"},e.default=v})}(Hw)),Hw}var Vw={},aa={},wl={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO;function hJ(){if(IO)return wl;IO=1;var t=Ae;function e(B){for(var X="https://reactjs.org/docs/error-decoder.html?invariant="+B,ae=1;ae<arguments.length;ae++)X+="&args[]="+encodeURIComponent(arguments[ae]);return"Minified React error #"+B+"; visit "+X+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=Object.prototype.hasOwnProperty,r=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i={},o={};function s(B){return n.call(o,B)?!0:n.call(i,B)?!1:r.test(B)?o[B]=!0:(i[B]=!0,!1)}function a(B,X,ae,we,ze,je,Qe){this.acceptsBooleans=X===2||X===3||X===4,this.attributeName=we,this.attributeNamespace=ze,this.mustUseProperty=ae,this.propertyName=B,this.type=X,this.sanitizeURL=je,this.removeEmptyString=Qe}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(B){m[B]=new a(B,0,!1,B,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(B){var X=B[0];m[X]=new a(X,1,!1,B[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(B){m[B]=new a(B,2,!1,B.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(B){m[B]=new a(B,2,!1,B,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(B){m[B]=new a(B,3,!1,B.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(B){m[B]=new a(B,3,!0,B,null,!1,!1)}),["capture","download"].forEach(function(B){m[B]=new a(B,4,!1,B,null,!1,!1)}),["cols","rows","size","span"].forEach(function(B){m[B]=new a(B,6,!1,B,null,!1,!1)}),["rowSpan","start"].forEach(function(B){m[B]=new a(B,5,!1,B.toLowerCase(),null,!1,!1)});var u=/[\-:]([a-z])/g;function d(B){return B[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(B){var X=B.replace(u,d);m[X]=new a(X,1,!1,B,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(B){var X=B.replace(u,d);m[X]=new a(X,1,!1,B,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(B){var X=B.replace(u,d);m[X]=new a(X,1,!1,B,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(B){m[B]=new a(B,1,!1,B.toLowerCase(),null,!1,!1)}),m.xlinkHref=new a("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(B){m[B]=new a(B,1,!1,B.toLowerCase(),null,!0,!0)});var E={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I=["Webkit","ms","Moz","O"];Object.keys(E).forEach(function(B){I.forEach(function(X){X=X+B.charAt(0).toUpperCase()+B.substring(1),E[X]=E[B]})});var O=/["'&<>]/;function A(B){if(typeof B=="boolean"||typeof B=="number")return""+B;B=""+B;var X=O.exec(B);if(X){var ae="",we,ze=0;for(we=X.index;we<B.length;we++){switch(B.charCodeAt(we)){case 34:X="&quot;";break;case 38:X="&amp;";break;case 39:X="&#x27;";break;case 60:X="&lt;";break;case 62:X="&gt;";break;default:continue}ze!==we&&(ae+=B.substring(ze,we)),ze=we+1,ae+=X}B=ze!==we?ae+B.substring(ze,we):ae}return B}var D=/([A-Z])/g,v=/^ms-/,l=Array.isArray;function c(B,X){return{insertionMode:B,selectedValue:X}}function f(B,X,ae){switch(X){case"select":return c(1,ae.value!=null?ae.value:ae.defaultValue);case"svg":return c(2,null);case"math":return c(3,null);case"foreignObject":return c(1,null);case"table":return c(4,null);case"thead":case"tbody":case"tfoot":return c(5,null);case"colgroup":return c(7,null);case"tr":return c(6,null)}return 4<=B.insertionMode||B.insertionMode===0?c(1,null):B}var h=new Map;function p(B,X,ae){if(typeof ae!="object")throw Error(e(62));X=!0;for(var we in ae)if(n.call(ae,we)){var ze=ae[we];if(ze!=null&&typeof ze!="boolean"&&ze!==""){if(we.indexOf("--")===0){var je=A(we);ze=A((""+ze).trim())}else{je=we;var Qe=h.get(je);Qe!==void 0||(Qe=A(je.replace(D,"-$1").toLowerCase().replace(v,"-ms-")),h.set(je,Qe)),je=Qe,ze=typeof ze=="number"?ze===0||n.call(E,we)?""+ze:ze+"px":A((""+ze).trim())}X?(X=!1,B.push(' style="',je,":",ze)):B.push(";",je,":",ze)}}X||B.push('"')}function g(B,X,ae,we){switch(ae){case"style":p(B,X,we);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<ae.length)||ae[0]!=="o"&&ae[0]!=="O"||ae[1]!=="n"&&ae[1]!=="N"){if(X=m.hasOwnProperty(ae)?m[ae]:null,X!==null){switch(typeof we){case"function":case"symbol":return;case"boolean":if(!X.acceptsBooleans)return}switch(ae=X.attributeName,X.type){case 3:we&&B.push(" ",ae,'=""');break;case 4:we===!0?B.push(" ",ae,'=""'):we!==!1&&B.push(" ",ae,'="',A(we),'"');break;case 5:isNaN(we)||B.push(" ",ae,'="',A(we),'"');break;case 6:!isNaN(we)&&1<=we&&B.push(" ",ae,'="',A(we),'"');break;default:X.sanitizeURL&&(we=""+we),B.push(" ",ae,'="',A(we),'"')}}else if(s(ae)){switch(typeof we){case"function":case"symbol":return;case"boolean":if(X=ae.toLowerCase().slice(0,5),X!=="data-"&&X!=="aria-")return}B.push(" ",ae,'="',A(we),'"')}}}function y(B,X,ae){if(X!=null){if(ae!=null)throw Error(e(60));if(typeof X!="object"||!("__html"in X))throw Error(e(61));X=X.__html,X!=null&&B.push(""+X)}}function _(B){var X="";return t.Children.forEach(B,function(ae){ae!=null&&(X+=ae)}),X}function w(B,X,ae,we){B.push(P(ae));var ze=ae=null,je;for(je in X)if(n.call(X,je)){var Qe=X[je];if(Qe!=null)switch(je){case"children":ae=Qe;break;case"dangerouslySetInnerHTML":ze=Qe;break;default:g(B,we,je,Qe)}}return B.push(">"),y(B,ze,ae),typeof ae=="string"?(B.push(A(ae)),null):ae}var T=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,k=new Map;function P(B){var X=k.get(B);if(X===void 0){if(!T.test(B))throw Error(e(65,B));X="<"+B,k.set(B,X)}return X}function L(B,X,ae,we,ze){switch(X){case"select":B.push(P("select"));var je=null,Qe=null;for(Wt in ae)if(n.call(ae,Wt)){var gt=ae[Wt];if(gt!=null)switch(Wt){case"children":je=gt;break;case"dangerouslySetInnerHTML":Qe=gt;break;case"defaultValue":case"value":break;default:g(B,we,Wt,gt)}}return B.push(">"),y(B,Qe,je),je;case"option":Qe=ze.selectedValue,B.push(P("option"));var jt=gt=null,Ut=null,Wt=null;for(je in ae)if(n.call(ae,je)){var An=ae[je];if(An!=null)switch(je){case"children":gt=An;break;case"selected":Ut=An;break;case"dangerouslySetInnerHTML":Wt=An;break;case"value":jt=An;default:g(B,we,je,An)}}if(Qe!=null)if(ae=jt!==null?""+jt:_(gt),l(Qe)){for(we=0;we<Qe.length;we++)if(""+Qe[we]===ae){B.push(' selected=""');break}}else""+Qe===ae&&B.push(' selected=""');else Ut&&B.push(' selected=""');return B.push(">"),y(B,Wt,gt),gt;case"textarea":B.push(P("textarea")),Wt=Qe=je=null;for(gt in ae)if(n.call(ae,gt)&&(jt=ae[gt],jt!=null))switch(gt){case"children":Wt=jt;break;case"value":je=jt;break;case"defaultValue":Qe=jt;break;case"dangerouslySetInnerHTML":throw Error(e(91));default:g(B,we,gt,jt)}if(je===null&&Qe!==null&&(je=Qe),B.push(">"),Wt!=null){if(je!=null)throw Error(e(92));if(l(Wt)&&1<Wt.length)throw Error(e(93));je=""+Wt}return typeof je=="string"&&je[0]===`
`&&B.push(`
`),je!==null&&B.push(A(""+je)),null;case"input":B.push(P("input")),jt=Wt=gt=je=null;for(Qe in ae)if(n.call(ae,Qe)&&(Ut=ae[Qe],Ut!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"input"));case"defaultChecked":jt=Ut;break;case"defaultValue":gt=Ut;break;case"checked":Wt=Ut;break;case"value":je=Ut;break;default:g(B,we,Qe,Ut)}return Wt!==null?g(B,we,"checked",Wt):jt!==null&&g(B,we,"checked",jt),je!==null?g(B,we,"value",je):gt!==null&&g(B,we,"value",gt),B.push("/>"),null;case"menuitem":B.push(P("menuitem"));for(var Pi in ae)if(n.call(ae,Pi)&&(je=ae[Pi],je!=null))switch(Pi){case"children":case"dangerouslySetInnerHTML":throw Error(e(400));default:g(B,we,Pi,je)}return B.push(">"),null;case"title":B.push(P("title")),je=null;for(An in ae)if(n.call(ae,An)&&(Qe=ae[An],Qe!=null))switch(An){case"children":je=Qe;break;case"dangerouslySetInnerHTML":throw Error(e(434));default:g(B,we,An,Qe)}return B.push(">"),je;case"listing":case"pre":B.push(P(X)),Qe=je=null;for(jt in ae)if(n.call(ae,jt)&&(gt=ae[jt],gt!=null))switch(jt){case"children":je=gt;break;case"dangerouslySetInnerHTML":Qe=gt;break;default:g(B,we,jt,gt)}if(B.push(">"),Qe!=null){if(je!=null)throw Error(e(60));if(typeof Qe!="object"||!("__html"in Qe))throw Error(e(61));ae=Qe.__html,ae!=null&&(typeof ae=="string"&&0<ae.length&&ae[0]===`
`?B.push(`
`,ae):B.push(""+ae))}return typeof je=="string"&&je[0]===`
`&&B.push(`
`),je;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":B.push(P(X));for(var Ni in ae)if(n.call(ae,Ni)&&(je=ae[Ni],je!=null))switch(Ni){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,X));default:g(B,we,Ni,je)}return B.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return w(B,ae,X,we);case"html":return ze.insertionMode===0&&B.push("<!DOCTYPE html>"),w(B,ae,X,we);default:if(X.indexOf("-")===-1&&typeof ae.is!="string")return w(B,ae,X,we);B.push(P(X)),Qe=je=null;for(Ut in ae)if(n.call(ae,Ut)&&(gt=ae[Ut],gt!=null))switch(Ut){case"children":je=gt;break;case"dangerouslySetInnerHTML":Qe=gt;break;case"style":p(B,we,gt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:s(Ut)&&typeof gt!="function"&&typeof gt!="symbol"&&B.push(" ",Ut,'="',A(gt),'"')}return B.push(">"),y(B,Qe,je),je}}function N(B,X,ae){if(B.push('<!--$?--><template id="'),ae===null)throw Error(e(395));return B.push(ae),B.push('"></template>')}function F(B,X,ae,we){switch(ae.insertionMode){case 0:case 1:return B.push('<div hidden id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');case 2:return B.push('<svg aria-hidden="true" style="display:none" id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');case 3:return B.push('<math aria-hidden="true" style="display:none" id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');case 4:return B.push('<table hidden id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');case 5:return B.push('<table hidden><tbody id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');case 6:return B.push('<table hidden><tr id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');case 7:return B.push('<table hidden><colgroup id="'),B.push(X.segmentPrefix),X=we.toString(16),B.push(X),B.push('">');default:throw Error(e(397))}}function G(B,X){switch(X.insertionMode){case 0:case 1:return B.push("</div>");case 2:return B.push("</svg>");case 3:return B.push("</math>");case 4:return B.push("</table>");case 5:return B.push("</tbody></table>");case 6:return B.push("</tr></table>");case 7:return B.push("</colgroup></table>");default:throw Error(e(397))}}var H=/[<\u2028\u2029]/g;function $(B){return JSON.stringify(B).replace(H,function(X){switch(X){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function re(B,X){return X=X===void 0?"":X,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:X+"P:",segmentPrefix:X+"S:",boundaryPrefix:X+"B:",idPrefix:X,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:B}}function le(B,X,ae,we){return ae.generateStaticMarkup?(B.push(A(X)),!1):(X===""?B=we:(we&&B.push("<!-- -->"),B.push(A(X)),B=!0),B)}var xe=Object.assign,ee=Symbol.for("react.element"),be=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Oe=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),J=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),te=Symbol.for("react.scope"),ce=Symbol.for("react.debug_trace_mode"),de=Symbol.for("react.legacy_hidden"),Pe=Symbol.for("react.default_value"),ke=Symbol.iterator;function We(B){if(B==null)return null;if(typeof B=="function")return B.displayName||B.name||null;if(typeof B=="string")return B;switch(B){case K:return"Fragment";case be:return"Portal";case _e:return"Profiler";case Oe:return"StrictMode";case ne:return"Suspense";case q:return"SuspenseList"}if(typeof B=="object")switch(B.$$typeof){case J:return(B.displayName||"Context")+".Consumer";case fe:return(B._context.displayName||"Context")+".Provider";case he:var X=B.render;return B=B.displayName,B||(B=X.displayName||X.name||"",B=B!==""?"ForwardRef("+B+")":"ForwardRef"),B;case ye:return X=B.displayName||null,X!==null?X:We(B.type)||"Memo";case Z:X=B._payload,B=B._init;try{return We(B(X))}catch{}}return null}var pe={};function Te(B,X){if(B=B.contextTypes,!B)return pe;var ae={},we;for(we in B)ae[we]=X[we];return ae}var ge=null;function ue(B,X){if(B!==X){B.context._currentValue2=B.parentValue,B=B.parent;var ae=X.parent;if(B===null){if(ae!==null)throw Error(e(401))}else{if(ae===null)throw Error(e(401));ue(B,ae)}X.context._currentValue2=X.value}}function Se(B){B.context._currentValue2=B.parentValue,B=B.parent,B!==null&&Se(B)}function Ce(B){var X=B.parent;X!==null&&Ce(X),B.context._currentValue2=B.value}function Ee(B,X){if(B.context._currentValue2=B.parentValue,B=B.parent,B===null)throw Error(e(402));B.depth===X.depth?ue(B,X):Ee(B,X)}function Re(B,X){var ae=X.parent;if(ae===null)throw Error(e(402));B.depth===ae.depth?ue(B,ae):Re(B,ae),X.context._currentValue2=X.value}function Ke(B){var X=ge;X!==B&&(X===null?Ce(B):B===null?Se(X):X.depth===B.depth?ue(X,B):X.depth>B.depth?Ee(X,B):Re(X,B),ge=B)}var ht={isMounted:function(){return!1},enqueueSetState:function(B,X){B=B._reactInternals,B.queue!==null&&B.queue.push(X)},enqueueReplaceState:function(B,X){B=B._reactInternals,B.replace=!0,B.queue=[X]},enqueueForceUpdate:function(){}};function ft(B,X,ae,we){var ze=B.state!==void 0?B.state:null;B.updater=ht,B.props=ae,B.state=ze;var je={queue:[],replace:!1};B._reactInternals=je;var Qe=X.contextType;if(B.context=typeof Qe=="object"&&Qe!==null?Qe._currentValue2:we,Qe=X.getDerivedStateFromProps,typeof Qe=="function"&&(Qe=Qe(ae,ze),ze=Qe==null?ze:xe({},ze,Qe),B.state=ze),typeof X.getDerivedStateFromProps!="function"&&typeof B.getSnapshotBeforeUpdate!="function"&&(typeof B.UNSAFE_componentWillMount=="function"||typeof B.componentWillMount=="function"))if(X=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),X!==B.state&&ht.enqueueReplaceState(B,B.state,null),je.queue!==null&&0<je.queue.length)if(X=je.queue,Qe=je.replace,je.queue=null,je.replace=!1,Qe&&X.length===1)B.state=X[0];else{for(je=Qe?X[0]:B.state,ze=!0,Qe=Qe?1:0;Qe<X.length;Qe++){var gt=X[Qe];gt=typeof gt=="function"?gt.call(B,je,ae,we):gt,gt!=null&&(ze?(ze=!1,je=xe({},je,gt)):xe(je,gt))}B.state=je}else je.queue=null}var Be={id:1,overflow:""};function vt(B,X,ae){var we=B.id;B=B.overflow;var ze=32-bt(we)-1;we&=~(1<<ze),ae+=1;var je=32-bt(X)+ze;if(30<je){var Qe=ze-ze%5;return je=(we&(1<<Qe)-1).toString(32),we>>=Qe,ze-=Qe,{id:1<<32-bt(X)+ze|ae<<ze|we,overflow:je+B}}return{id:1<<je|ae<<ze|we,overflow:B}}var bt=Math.clz32?Math.clz32:lt,Lt=Math.log,fn=Math.LN2;function lt(B){return B>>>=0,B===0?32:31-(Lt(B)/fn|0)|0}function wt(B,X){return B===X&&(B!==0||1/B===1/X)||B!==B&&X!==X}var yt=typeof Object.is=="function"?Object.is:wt,xt=null,Ht=null,Sn=null,He=null,Xe=!1,st=!1,mt=0,St=null,nt=0;function an(){if(xt===null)throw Error(e(321));return xt}function Mn(){if(0<nt)throw Error(e(312));return{memoizedState:null,queue:null,next:null}}function Ct(){return He===null?Sn===null?(Xe=!1,Sn=He=Mn()):(Xe=!0,He=Sn):He.next===null?(Xe=!1,He=He.next=Mn()):(Xe=!0,He=He.next),He}function $e(){Ht=xt=null,st=!1,Sn=null,nt=0,He=St=null}function ln(B,X){return typeof X=="function"?X(B):X}function Zt(B,X,ae){if(xt=an(),He=Ct(),Xe){var we=He.queue;if(X=we.dispatch,St!==null&&(ae=St.get(we),ae!==void 0)){St.delete(we),we=He.memoizedState;do we=B(we,ae.action),ae=ae.next;while(ae!==null);return He.memoizedState=we,[we,X]}return[He.memoizedState,X]}return B=B===ln?typeof X=="function"?X():X:ae!==void 0?ae(X):X,He.memoizedState=B,B=He.queue={last:null,dispatch:null},B=B.dispatch=gr.bind(null,xt,B),[He.memoizedState,B]}function en(B,X){if(xt=an(),He=Ct(),X=X===void 0?null:X,He!==null){var ae=He.memoizedState;if(ae!==null&&X!==null){var we=ae[1];e:if(we===null)we=!1;else{for(var ze=0;ze<we.length&&ze<X.length;ze++)if(!yt(X[ze],we[ze])){we=!1;break e}we=!0}if(we)return ae[0]}}return B=B(),He.memoizedState=[B,X],B}function gr(B,X,ae){if(25<=nt)throw Error(e(301));if(B===xt)if(st=!0,B={action:ae,next:null},St===null&&(St=new Map),ae=St.get(X),ae===void 0)St.set(X,B);else{for(X=ae;X.next!==null;)X=X.next;X.next=B}}function ur(){throw Error(e(394))}function mn(){}var Yr={readContext:function(B){return B._currentValue2},useContext:function(B){return an(),B._currentValue2},useMemo:en,useReducer:Zt,useRef:function(B){xt=an(),He=Ct();var X=He.memoizedState;return X===null?(B={current:B},He.memoizedState=B):X},useState:function(B){return Zt(ln,B)},useInsertionEffect:mn,useLayoutEffect:function(){},useCallback:function(B,X){return en(function(){return B},X)},useImperativeHandle:mn,useEffect:mn,useDebugValue:mn,useDeferredValue:function(B){return an(),B},useTransition:function(){return an(),[!1,ur]},useId:function(){var B=Ht.treeContext,X=B.overflow;B=B.id,B=(B&~(1<<32-bt(B)-1)).toString(32)+X;var ae=tn;if(ae===null)throw Error(e(404));return X=mt++,B=":"+ae.idPrefix+"R"+B,0<X&&(B+="H"+X.toString(32)),B+":"},useMutableSource:function(B,X){return an(),X(B._source)},useSyncExternalStore:function(B,X,ae){if(ae===void 0)throw Error(e(407));return ae()}},tn=null,zo=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function qs(B){return console.error(B),null}function Ji(){}function Ss(B,X,ae,we,ze,je,Qe,gt,jt){var Ut=[],Wt=new Set;return X={destination:null,responseState:X,progressiveChunkSize:we===void 0?12800:we,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Wt,pingedTasks:Ut,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:ze===void 0?qs:ze,onAllReady:je===void 0?Ji:je,onShellReady:Qe===void 0?Ji:Qe,onShellError:gt===void 0?Ji:gt,onFatalError:jt===void 0?Ji:jt},ae=Dr(X,0,null,ae,!1,!1),ae.parentFlushed=!0,B=Bo(X,B,null,ae,Wt,pe,null,Be),Ut.push(B),X}function Bo(B,X,ae,we,ze,je,Qe,gt){B.allPendingTasks++,ae===null?B.pendingRootTasks++:ae.pendingTasks++;var jt={node:X,ping:function(){var Ut=B.pingedTasks;Ut.push(jt),Ut.length===1&&Jt(B)},blockedBoundary:ae,blockedSegment:we,abortSet:ze,legacyContext:je,context:Qe,treeContext:gt};return ze.add(jt),jt}function Dr(B,X,ae,we,ze,je){return{status:0,id:-1,index:X,parentFlushed:!1,chunks:[],children:[],formatContext:we,boundary:ae,lastPushedText:ze,textEmbedded:je}}function oi(B,X){if(B=B.onError(X),B!=null&&typeof B!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof B+'" instead');return B}function Xr(B,X){var ae=B.onShellError;ae(X),ae=B.onFatalError,ae(X),B.destination!==null?(B.status=2,B.destination.destroy(X)):(B.status=1,B.fatalError=X)}function mr(B,X,ae,we,ze){for(xt={},Ht=X,mt=0,B=ae(we,ze);st;)st=!1,mt=0,nt+=1,He=null,B=ae(we,ze);return $e(),B}function Uo(B,X,ae,we){var ze=ae.render(),je=we.childContextTypes;if(je!=null){var Qe=X.legacyContext;if(typeof ae.getChildContext!="function")we=Qe;else{ae=ae.getChildContext();for(var gt in ae)if(!(gt in je))throw Error(e(108,We(we)||"Unknown",gt));we=xe({},Qe,ae)}X.legacyContext=we,Ye(B,X,ze),X.legacyContext=Qe}else Ye(B,X,ze)}function bs(B,X){if(B&&B.defaultProps){X=xe({},X),B=B.defaultProps;for(var ae in B)X[ae]===void 0&&(X[ae]=B[ae]);return X}return X}function ve(B,X,ae,we,ze){if(typeof ae=="function")if(ae.prototype&&ae.prototype.isReactComponent){ze=Te(ae,X.legacyContext);var je=ae.contextType;je=new ae(we,typeof je=="object"&&je!==null?je._currentValue2:ze),ft(je,ae,we,ze),Uo(B,X,je,ae)}else{je=Te(ae,X.legacyContext),ze=mr(B,X,ae,we,je);var Qe=mt!==0;if(typeof ze=="object"&&ze!==null&&typeof ze.render=="function"&&ze.$$typeof===void 0)ft(ze,ae,we,je),Uo(B,X,ze,ae);else if(Qe){we=X.treeContext,X.treeContext=vt(we,1,0);try{Ye(B,X,ze)}finally{X.treeContext=we}}else Ye(B,X,ze)}else if(typeof ae=="string"){switch(ze=X.blockedSegment,je=L(ze.chunks,ae,we,B.responseState,ze.formatContext),ze.lastPushedText=!1,Qe=ze.formatContext,ze.formatContext=f(Qe,ae,we),tt(B,X,je),ze.formatContext=Qe,ae){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:ze.chunks.push("</",ae,">")}ze.lastPushedText=!1}else{switch(ae){case de:case ce:case Oe:case _e:case K:Ye(B,X,we.children);return;case q:Ye(B,X,we.children);return;case te:throw Error(e(343));case ne:e:{ae=X.blockedBoundary,ze=X.blockedSegment,je=we.fallback,we=we.children,Qe=new Set;var gt={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Qe,errorDigest:null},jt=Dr(B,ze.chunks.length,gt,ze.formatContext,!1,!1);ze.children.push(jt),ze.lastPushedText=!1;var Ut=Dr(B,0,null,ze.formatContext,!1,!1);Ut.parentFlushed=!0,X.blockedBoundary=gt,X.blockedSegment=Ut;try{if(tt(B,X,we),B.responseState.generateStaticMarkup||Ut.lastPushedText&&Ut.textEmbedded&&Ut.chunks.push("<!-- -->"),Ut.status=1,It(gt,Ut),gt.pendingTasks===0)break e}catch(Wt){Ut.status=4,gt.forceClientRender=!0,gt.errorDigest=oi(B,Wt)}finally{X.blockedBoundary=ae,X.blockedSegment=ze}X=Bo(B,je,ae,jt,Qe,X.legacyContext,X.context,X.treeContext),B.pingedTasks.push(X)}return}if(typeof ae=="object"&&ae!==null)switch(ae.$$typeof){case he:if(we=mr(B,X,ae.render,we,ze),mt!==0){ae=X.treeContext,X.treeContext=vt(ae,1,0);try{Ye(B,X,we)}finally{X.treeContext=ae}}else Ye(B,X,we);return;case ye:ae=ae.type,we=bs(ae,we),ve(B,X,ae,we,ze);return;case fe:if(ze=we.children,ae=ae._context,we=we.value,je=ae._currentValue2,ae._currentValue2=we,Qe=ge,ge=we={parent:Qe,depth:Qe===null?0:Qe.depth+1,context:ae,parentValue:je,value:we},X.context=we,Ye(B,X,ze),B=ge,B===null)throw Error(e(403));we=B.parentValue,B.context._currentValue2=we===Pe?B.context._defaultValue:we,B=ge=B.parent,X.context=B;return;case J:we=we.children,we=we(ae._currentValue2),Ye(B,X,we);return;case Z:ze=ae._init,ae=ze(ae._payload),we=bs(ae,we),ve(B,X,ae,we,void 0);return}throw Error(e(130,ae==null?ae:typeof ae,""))}}function Ye(B,X,ae){if(X.node=ae,typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ee:ve(B,X,ae.type,ae.props,ae.ref);return;case be:throw Error(e(257));case Z:var we=ae._init;ae=we(ae._payload),Ye(B,X,ae);return}if(l(ae)){Ze(B,X,ae);return}if(ae===null||typeof ae!="object"?we=null:(we=ke&&ae[ke]||ae["@@iterator"],we=typeof we=="function"?we:null),we&&(we=we.call(ae))){if(ae=we.next(),!ae.done){var ze=[];do ze.push(ae.value),ae=we.next();while(!ae.done);Ze(B,X,ze)}return}throw B=Object.prototype.toString.call(ae),Error(e(31,B==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":B))}typeof ae=="string"?(we=X.blockedSegment,we.lastPushedText=le(X.blockedSegment.chunks,ae,B.responseState,we.lastPushedText)):typeof ae=="number"&&(we=X.blockedSegment,we.lastPushedText=le(X.blockedSegment.chunks,""+ae,B.responseState,we.lastPushedText))}function Ze(B,X,ae){for(var we=ae.length,ze=0;ze<we;ze++){var je=X.treeContext;X.treeContext=vt(je,we,ze);try{tt(B,X,ae[ze])}finally{X.treeContext=je}}}function tt(B,X,ae){var we=X.blockedSegment.formatContext,ze=X.legacyContext,je=X.context;try{return Ye(B,X,ae)}catch(jt){if($e(),typeof jt=="object"&&jt!==null&&typeof jt.then=="function"){ae=jt;var Qe=X.blockedSegment,gt=Dr(B,Qe.chunks.length,null,Qe.formatContext,Qe.lastPushedText,!0);Qe.children.push(gt),Qe.lastPushedText=!1,B=Bo(B,X.node,X.blockedBoundary,gt,X.abortSet,X.legacyContext,X.context,X.treeContext).ping,ae.then(B,B),X.blockedSegment.formatContext=we,X.legacyContext=ze,X.context=je,Ke(je)}else throw X.blockedSegment.formatContext=we,X.legacyContext=ze,X.context=je,Ke(je),jt}}function ot(B){var X=B.blockedBoundary;B=B.blockedSegment,B.status=3,Qt(this,X,B)}function kt(B,X,ae){var we=B.blockedBoundary;B.blockedSegment.status=3,we===null?(X.allPendingTasks--,X.status!==2&&(X.status=2,X.destination!==null&&X.destination.push(null))):(we.pendingTasks--,we.forceClientRender||(we.forceClientRender=!0,B=ae===void 0?Error(e(432)):ae,we.errorDigest=X.onError(B),we.parentFlushed&&X.clientRenderedBoundaries.push(we)),we.fallbackAbortableTasks.forEach(function(ze){return kt(ze,X,ae)}),we.fallbackAbortableTasks.clear(),X.allPendingTasks--,X.allPendingTasks===0&&(we=X.onAllReady,we()))}function It(B,X){if(X.chunks.length===0&&X.children.length===1&&X.children[0].boundary===null){var ae=X.children[0];ae.id=X.id,ae.parentFlushed=!0,ae.status===1&&It(B,ae)}else B.completedSegments.push(X)}function Qt(B,X,ae){if(X===null){if(ae.parentFlushed){if(B.completedRootSegment!==null)throw Error(e(389));B.completedRootSegment=ae}B.pendingRootTasks--,B.pendingRootTasks===0&&(B.onShellError=Ji,X=B.onShellReady,X())}else X.pendingTasks--,X.forceClientRender||(X.pendingTasks===0?(ae.parentFlushed&&ae.status===1&&It(X,ae),X.parentFlushed&&B.completedBoundaries.push(X),X.fallbackAbortableTasks.forEach(ot,B),X.fallbackAbortableTasks.clear()):ae.parentFlushed&&ae.status===1&&(It(X,ae),X.completedSegments.length===1&&X.parentFlushed&&B.partialBoundaries.push(X)));B.allPendingTasks--,B.allPendingTasks===0&&(B=B.onAllReady,B())}function Jt(B){if(B.status!==2){var X=ge,ae=zo.current;zo.current=Yr;var we=tn;tn=B.responseState;try{var ze=B.pingedTasks,je;for(je=0;je<ze.length;je++){var Qe=ze[je],gt=B,jt=Qe.blockedSegment;if(jt.status===0){Ke(Qe.context);try{Ye(gt,Qe,Qe.node),gt.responseState.generateStaticMarkup||jt.lastPushedText&&jt.textEmbedded&&jt.chunks.push("<!-- -->"),Qe.abortSet.delete(Qe),jt.status=1,Qt(gt,Qe.blockedBoundary,jt)}catch(si){if($e(),typeof si=="object"&&si!==null&&typeof si.then=="function"){var Ut=Qe.ping;si.then(Ut,Ut)}else{Qe.abortSet.delete(Qe),jt.status=4;var Wt=Qe.blockedBoundary,An=si,Pi=oi(gt,An);if(Wt===null?Xr(gt,An):(Wt.pendingTasks--,Wt.forceClientRender||(Wt.forceClientRender=!0,Wt.errorDigest=Pi,Wt.parentFlushed&&gt.clientRenderedBoundaries.push(Wt))),gt.allPendingTasks--,gt.allPendingTasks===0){var Ni=gt.onAllReady;Ni()}}}finally{}}}ze.splice(0,je),B.destination!==null&&qi(B,B.destination)}catch(si){oi(B,si),Xr(B,si)}finally{tn=we,zo.current=ae,ae===Yr&&Ke(X)}}}function wn(B,X,ae){switch(ae.parentFlushed=!0,ae.status){case 0:var we=ae.id=B.nextSegmentId++;return ae.lastPushedText=!1,ae.textEmbedded=!1,B=B.responseState,X.push('<template id="'),X.push(B.placeholderPrefix),B=we.toString(16),X.push(B),X.push('"></template>');case 1:ae.status=2;var ze=!0;we=ae.chunks;var je=0;ae=ae.children;for(var Qe=0;Qe<ae.length;Qe++){for(ze=ae[Qe];je<ze.index;je++)X.push(we[je]);ze=Rn(B,X,ze)}for(;je<we.length-1;je++)X.push(we[je]);return je<we.length&&(ze=X.push(we[je])),ze;default:throw Error(e(390))}}function Rn(B,X,ae){var we=ae.boundary;if(we===null)return wn(B,X,ae);if(we.parentFlushed=!0,we.forceClientRender)return B.responseState.generateStaticMarkup||(we=we.errorDigest,X.push("<!--$!-->"),X.push("<template"),we&&(X.push(' data-dgst="'),we=A(we),X.push(we),X.push('"')),X.push("></template>")),wn(B,X,ae),B=B.responseState.generateStaticMarkup?!0:X.push("<!--/$-->"),B;if(0<we.pendingTasks){we.rootSegmentID=B.nextSegmentId++,0<we.completedSegments.length&&B.partialBoundaries.push(we);var ze=B.responseState,je=ze.nextSuspenseID++;return ze=ze.boundaryPrefix+je.toString(16),we=we.id=ze,N(X,B.responseState,we),wn(B,X,ae),X.push("<!--/$-->")}if(we.byteSize>B.progressiveChunkSize)return we.rootSegmentID=B.nextSegmentId++,B.completedBoundaries.push(we),N(X,B.responseState,we.id),wn(B,X,ae),X.push("<!--/$-->");if(B.responseState.generateStaticMarkup||X.push("<!--$-->"),ae=we.completedSegments,ae.length!==1)throw Error(e(391));return Rn(B,X,ae[0]),B=B.responseState.generateStaticMarkup?!0:X.push("<!--/$-->"),B}function it(B,X,ae){return F(X,B.responseState,ae.formatContext,ae.id),Rn(B,X,ae),G(X,ae.formatContext)}function kn(B,X,ae){for(var we=ae.completedSegments,ze=0;ze<we.length;ze++)Pr(B,X,ae,we[ze]);if(we.length=0,B=B.responseState,we=ae.id,ae=ae.rootSegmentID,X.push(B.startInlineScript),B.sentCompleteBoundaryFunction?X.push('$RC("'):(B.sentCompleteBoundaryFunction=!0,X.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),we===null)throw Error(e(395));return ae=ae.toString(16),X.push(we),X.push('","'),X.push(B.segmentPrefix),X.push(ae),X.push('")<\/script>')}function Pr(B,X,ae,we){if(we.status===2)return!0;var ze=we.id;if(ze===-1){if((we.id=ae.rootSegmentID)===-1)throw Error(e(392));return it(B,X,we)}return it(B,X,we),B=B.responseState,X.push(B.startInlineScript),B.sentCompleteSegmentFunction?X.push('$RS("'):(B.sentCompleteSegmentFunction=!0,X.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),X.push(B.segmentPrefix),ze=ze.toString(16),X.push(ze),X.push('","'),X.push(B.placeholderPrefix),X.push(ze),X.push('")<\/script>')}function qi(B,X){try{var ae=B.completedRootSegment;if(ae!==null&&B.pendingRootTasks===0){Rn(B,X,ae),B.completedRootSegment=null;var we=B.responseState.bootstrapChunks;for(ae=0;ae<we.length-1;ae++)X.push(we[ae]);ae<we.length&&X.push(we[ae])}var ze=B.clientRenderedBoundaries,je;for(je=0;je<ze.length;je++){var Qe=ze[je];we=X;var gt=B.responseState,jt=Qe.id,Ut=Qe.errorDigest,Wt=Qe.errorMessage,An=Qe.errorComponentStack;if(we.push(gt.startInlineScript),gt.sentClientRenderFunction?we.push('$RX("'):(gt.sentClientRenderFunction=!0,we.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),jt===null)throw Error(e(395));if(we.push(jt),we.push('"'),Ut||Wt||An){we.push(",");var Pi=$(Ut||"");we.push(Pi)}if(Wt||An){we.push(",");var Ni=$(Wt||"");we.push(Ni)}if(An){we.push(",");var si=$(An);we.push(si)}if(!we.push(")<\/script>")){B.destination=null,je++,ze.splice(0,je);return}}ze.splice(0,je);var Ho=B.completedBoundaries;for(je=0;je<Ho.length;je++)if(!kn(B,X,Ho[je])){B.destination=null,je++,Ho.splice(0,je);return}Ho.splice(0,je);var mo=B.partialBoundaries;for(je=0;je<mo.length;je++){var cl=mo[je];e:{ze=B,Qe=X;var Wo=cl.completedSegments;for(gt=0;gt<Wo.length;gt++)if(!Pr(ze,Qe,cl,Wo[gt])){gt++,Wo.splice(0,gt);var ju=!1;break e}Wo.splice(0,gt),ju=!0}if(!ju){B.destination=null,je++,mo.splice(0,je);return}}mo.splice(0,je);var Ri=B.completedBoundaries;for(je=0;je<Ri.length;je++)if(!kn(B,X,Ri[je])){B.destination=null,je++,Ri.splice(0,je);return}Ri.splice(0,je)}finally{B.allPendingTasks===0&&B.pingedTasks.length===0&&B.clientRenderedBoundaries.length===0&&B.completedBoundaries.length===0&&X.push(null)}}function _s(B,X){try{var ae=B.abortableTasks;ae.forEach(function(we){return kt(we,B,X)}),ae.clear(),B.destination!==null&&qi(B,B.destination)}catch(we){oi(B,we),Xr(B,we)}}function Cs(){}function Qn(B,X,ae,we){var ze=!1,je=null,Qe="",gt={push:function(Ut){return Ut!==null&&(Qe+=Ut),!0},destroy:function(Ut){ze=!0,je=Ut}},jt=!1;if(B=Ss(B,re(ae,X?X.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Cs,void 0,function(){jt=!0},void 0,void 0),Jt(B),_s(B,we),B.status===1)B.status=2,gt.destroy(B.fatalError);else if(B.status!==2&&B.destination===null){B.destination=gt;try{qi(B,gt)}catch(Ut){oi(B,Ut),Xr(B,Ut)}}if(ze)throw je;if(!jt)throw Error(e(426));return Qe}return wl.renderToNodeStream=function(){throw Error(e(207))},wl.renderToStaticMarkup=function(B,X){return Qn(B,X,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},wl.renderToStaticNodeStream=function(){throw Error(e(208))},wl.renderToString=function(B,X){return Qn(B,X,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},wl.version="18.2.0",wl}var Xg={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function fJ(){if(EO)return Xg;EO=1;var t=Ae;function e(U){for(var Y="https://reactjs.org/docs/error-decoder.html?invariant="+U,se=1;se<arguments.length;se++)Y+="&args[]="+encodeURIComponent(arguments[se]);return"Minified React error #"+U+"; visit "+Y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=null,r=0;function i(U,Y){if(Y.length!==0)if(512<Y.length)0<r&&(U.enqueue(new Uint8Array(n.buffer,0,r)),n=new Uint8Array(512),r=0),U.enqueue(Y);else{var se=n.length-r;se<Y.length&&(se===0?U.enqueue(n):(n.set(Y.subarray(0,se),r),U.enqueue(n),Y=Y.subarray(se)),n=new Uint8Array(512),r=0),n.set(Y,r),r+=Y.length}}function o(U,Y){return i(U,Y),!0}function s(U){n&&0<r&&(U.enqueue(new Uint8Array(n.buffer,0,r)),n=null,r=0)}var a=new TextEncoder;function m(U){return a.encode(U)}function u(U){return a.encode(U)}function d(U,Y){typeof U.error=="function"?U.error(Y):U.close()}var E=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O={},A={};function D(U){return E.call(A,U)?!0:E.call(O,U)?!1:I.test(U)?A[U]=!0:(O[U]=!0,!1)}function v(U,Y,se,me,Ue,Fe,qe){this.acceptsBooleans=Y===2||Y===3||Y===4,this.attributeName=me,this.attributeNamespace=Ue,this.mustUseProperty=se,this.propertyName=U,this.type=Y,this.sanitizeURL=Fe,this.removeEmptyString=qe}var l={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(U){l[U]=new v(U,0,!1,U,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(U){var Y=U[0];l[Y]=new v(Y,1,!1,U[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(U){l[U]=new v(U,2,!1,U.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(U){l[U]=new v(U,2,!1,U,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(U){l[U]=new v(U,3,!1,U.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(U){l[U]=new v(U,3,!0,U,null,!1,!1)}),["capture","download"].forEach(function(U){l[U]=new v(U,4,!1,U,null,!1,!1)}),["cols","rows","size","span"].forEach(function(U){l[U]=new v(U,6,!1,U,null,!1,!1)}),["rowSpan","start"].forEach(function(U){l[U]=new v(U,5,!1,U.toLowerCase(),null,!1,!1)});var c=/[\-:]([a-z])/g;function f(U){return U[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(U){var Y=U.replace(c,f);l[Y]=new v(Y,1,!1,U,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(U){var Y=U.replace(c,f);l[Y]=new v(Y,1,!1,U,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(U){var Y=U.replace(c,f);l[Y]=new v(Y,1,!1,U,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(U){l[U]=new v(U,1,!1,U.toLowerCase(),null,!1,!1)}),l.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(U){l[U]=new v(U,1,!1,U.toLowerCase(),null,!0,!0)});var h={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p=["Webkit","ms","Moz","O"];Object.keys(h).forEach(function(U){p.forEach(function(Y){Y=Y+U.charAt(0).toUpperCase()+U.substring(1),h[Y]=h[U]})});var g=/["'&<>]/;function y(U){if(typeof U=="boolean"||typeof U=="number")return""+U;U=""+U;var Y=g.exec(U);if(Y){var se="",me,Ue=0;for(me=Y.index;me<U.length;me++){switch(U.charCodeAt(me)){case 34:Y="&quot;";break;case 38:Y="&amp;";break;case 39:Y="&#x27;";break;case 60:Y="&lt;";break;case 62:Y="&gt;";break;default:continue}Ue!==me&&(se+=U.substring(Ue,me)),Ue=me+1,se+=Y}U=Ue!==me?se+U.substring(Ue,me):se}return U}var _=/([A-Z])/g,w=/^ms-/,T=Array.isArray,k=u("<script>"),P=u("<\/script>"),L=u('<script src="'),N=u('<script type="module" src="'),F=u('" async=""><\/script>'),G=/(<\/|<)(s)(cript)/gi;function H(U,Y,se,me){return""+Y+(se==="s"?"\\u0073":"\\u0053")+me}function $(U,Y,se,me,Ue){U=U===void 0?"":U,Y=Y===void 0?k:u('<script nonce="'+y(Y)+'">');var Fe=[];if(se!==void 0&&Fe.push(Y,m((""+se).replace(G,H)),P),me!==void 0)for(se=0;se<me.length;se++)Fe.push(L,m(y(me[se])),F);if(Ue!==void 0)for(me=0;me<Ue.length;me++)Fe.push(N,m(y(Ue[me])),F);return{bootstrapChunks:Fe,startInlineScript:Y,placeholderPrefix:u(U+"P:"),segmentPrefix:u(U+"S:"),boundaryPrefix:U+"B:",idPrefix:U,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function re(U,Y){return{insertionMode:U,selectedValue:Y}}function le(U){return re(U==="http://www.w3.org/2000/svg"?2:U==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function xe(U,Y,se){switch(Y){case"select":return re(1,se.value!=null?se.value:se.defaultValue);case"svg":return re(2,null);case"math":return re(3,null);case"foreignObject":return re(1,null);case"table":return re(4,null);case"thead":case"tbody":case"tfoot":return re(5,null);case"colgroup":return re(7,null);case"tr":return re(6,null)}return 4<=U.insertionMode||U.insertionMode===0?re(1,null):U}var ee=u("<!-- -->");function be(U,Y,se,me){return Y===""?me:(me&&U.push(ee),U.push(m(y(Y))),!0)}var K=new Map,Oe=u(' style="'),_e=u(":"),fe=u(";");function J(U,Y,se){if(typeof se!="object")throw Error(e(62));Y=!0;for(var me in se)if(E.call(se,me)){var Ue=se[me];if(Ue!=null&&typeof Ue!="boolean"&&Ue!==""){if(me.indexOf("--")===0){var Fe=m(y(me));Ue=m(y((""+Ue).trim()))}else{Fe=me;var qe=K.get(Fe);qe!==void 0||(qe=u(y(Fe.replace(_,"-$1").toLowerCase().replace(w,"-ms-"))),K.set(Fe,qe)),Fe=qe,Ue=typeof Ue=="number"?Ue===0||E.call(h,me)?m(""+Ue):m(Ue+"px"):m(y((""+Ue).trim()))}Y?(Y=!1,U.push(Oe,Fe,_e,Ue)):U.push(fe,Fe,_e,Ue)}}Y||U.push(q)}var he=u(" "),ne=u('="'),q=u('"'),ye=u('=""');function Z(U,Y,se,me){switch(se){case"style":J(U,Y,me);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<se.length)||se[0]!=="o"&&se[0]!=="O"||se[1]!=="n"&&se[1]!=="N"){if(Y=l.hasOwnProperty(se)?l[se]:null,Y!==null){switch(typeof me){case"function":case"symbol":return;case"boolean":if(!Y.acceptsBooleans)return}switch(se=m(Y.attributeName),Y.type){case 3:me&&U.push(he,se,ye);break;case 4:me===!0?U.push(he,se,ye):me!==!1&&U.push(he,se,ne,m(y(me)),q);break;case 5:isNaN(me)||U.push(he,se,ne,m(y(me)),q);break;case 6:!isNaN(me)&&1<=me&&U.push(he,se,ne,m(y(me)),q);break;default:Y.sanitizeURL&&(me=""+me),U.push(he,se,ne,m(y(me)),q)}}else if(D(se)){switch(typeof me){case"function":case"symbol":return;case"boolean":if(Y=se.toLowerCase().slice(0,5),Y!=="data-"&&Y!=="aria-")return}U.push(he,m(se),ne,m(y(me)),q)}}}var te=u(">"),ce=u("/>");function de(U,Y,se){if(Y!=null){if(se!=null)throw Error(e(60));if(typeof Y!="object"||!("__html"in Y))throw Error(e(61));Y=Y.__html,Y!=null&&U.push(m(""+Y))}}function Pe(U){var Y="";return t.Children.forEach(U,function(se){se!=null&&(Y+=se)}),Y}var ke=u(' selected=""');function We(U,Y,se,me){U.push(ue(se));var Ue=se=null,Fe;for(Fe in Y)if(E.call(Y,Fe)){var qe=Y[Fe];if(qe!=null)switch(Fe){case"children":se=qe;break;case"dangerouslySetInnerHTML":Ue=qe;break;default:Z(U,me,Fe,qe)}}return U.push(te),de(U,Ue,se),typeof se=="string"?(U.push(m(y(se))),null):se}var pe=u(`
`),Te=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ge=new Map;function ue(U){var Y=ge.get(U);if(Y===void 0){if(!Te.test(U))throw Error(e(65,U));Y=u("<"+U),ge.set(U,Y)}return Y}var Se=u("<!DOCTYPE html>");function Ce(U,Y,se,me,Ue){switch(Y){case"select":U.push(ue("select"));var Fe=null,qe=null;for($t in se)if(E.call(se,$t)){var ct=se[$t];if(ct!=null)switch($t){case"children":Fe=ct;break;case"dangerouslySetInnerHTML":qe=ct;break;case"defaultValue":case"value":break;default:Z(U,me,$t,ct)}}return U.push(te),de(U,qe,Fe),Fe;case"option":qe=Ue.selectedValue,U.push(ue("option"));var Bt=ct=null,Kt=null,$t=null;for(Fe in se)if(E.call(se,Fe)){var On=se[Fe];if(On!=null)switch(Fe){case"children":ct=On;break;case"selected":Kt=On;break;case"dangerouslySetInnerHTML":$t=On;break;case"value":Bt=On;default:Z(U,me,Fe,On)}}if(qe!=null)if(se=Bt!==null?""+Bt:Pe(ct),T(qe)){for(me=0;me<qe.length;me++)if(""+qe[me]===se){U.push(ke);break}}else""+qe===se&&U.push(ke);else Kt&&U.push(ke);return U.push(te),de(U,$t,ct),ct;case"textarea":U.push(ue("textarea")),$t=qe=Fe=null;for(ct in se)if(E.call(se,ct)&&(Bt=se[ct],Bt!=null))switch(ct){case"children":$t=Bt;break;case"value":Fe=Bt;break;case"defaultValue":qe=Bt;break;case"dangerouslySetInnerHTML":throw Error(e(91));default:Z(U,me,ct,Bt)}if(Fe===null&&qe!==null&&(Fe=qe),U.push(te),$t!=null){if(Fe!=null)throw Error(e(92));if(T($t)&&1<$t.length)throw Error(e(93));Fe=""+$t}return typeof Fe=="string"&&Fe[0]===`
`&&U.push(pe),Fe!==null&&U.push(m(y(""+Fe))),null;case"input":U.push(ue("input")),Bt=$t=ct=Fe=null;for(qe in se)if(E.call(se,qe)&&(Kt=se[qe],Kt!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,"input"));case"defaultChecked":Bt=Kt;break;case"defaultValue":ct=Kt;break;case"checked":$t=Kt;break;case"value":Fe=Kt;break;default:Z(U,me,qe,Kt)}return $t!==null?Z(U,me,"checked",$t):Bt!==null&&Z(U,me,"checked",Bt),Fe!==null?Z(U,me,"value",Fe):ct!==null&&Z(U,me,"value",ct),U.push(ce),null;case"menuitem":U.push(ue("menuitem"));for(var li in se)if(E.call(se,li)&&(Fe=se[li],Fe!=null))switch(li){case"children":case"dangerouslySetInnerHTML":throw Error(e(400));default:Z(U,me,li,Fe)}return U.push(te),null;case"title":U.push(ue("title")),Fe=null;for(On in se)if(E.call(se,On)&&(qe=se[On],qe!=null))switch(On){case"children":Fe=qe;break;case"dangerouslySetInnerHTML":throw Error(e(434));default:Z(U,me,On,qe)}return U.push(te),Fe;case"listing":case"pre":U.push(ue(Y)),qe=Fe=null;for(Bt in se)if(E.call(se,Bt)&&(ct=se[Bt],ct!=null))switch(Bt){case"children":Fe=ct;break;case"dangerouslySetInnerHTML":qe=ct;break;default:Z(U,me,Bt,ct)}if(U.push(te),qe!=null){if(Fe!=null)throw Error(e(60));if(typeof qe!="object"||!("__html"in qe))throw Error(e(61));se=qe.__html,se!=null&&(typeof se=="string"&&0<se.length&&se[0]===`
`?U.push(pe,m(se)):U.push(m(""+se)))}return typeof Fe=="string"&&Fe[0]===`
`&&U.push(pe),Fe;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":U.push(ue(Y));for(var ji in se)if(E.call(se,ji)&&(Fe=se[ji],Fe!=null))switch(ji){case"children":case"dangerouslySetInnerHTML":throw Error(e(399,Y));default:Z(U,me,ji,Fe)}return U.push(ce),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return We(U,se,Y,me);case"html":return Ue.insertionMode===0&&U.push(Se),We(U,se,Y,me);default:if(Y.indexOf("-")===-1&&typeof se.is!="string")return We(U,se,Y,me);U.push(ue(Y)),qe=Fe=null;for(Kt in se)if(E.call(se,Kt)&&(ct=se[Kt],ct!=null))switch(Kt){case"children":Fe=ct;break;case"dangerouslySetInnerHTML":qe=ct;break;case"style":J(U,me,ct);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:D(Kt)&&typeof ct!="function"&&typeof ct!="symbol"&&U.push(he,m(Kt),ne,m(y(ct)),q)}return U.push(te),de(U,qe,Fe),Fe}}var Ee=u("</"),Re=u(">"),Ke=u('<template id="'),ht=u('"></template>'),ft=u("<!--$-->"),Be=u('<!--$?--><template id="'),vt=u('"></template>'),bt=u("<!--$!-->"),Lt=u("<!--/$-->"),fn=u("<template"),lt=u('"'),wt=u(' data-dgst="');u(' data-msg="'),u(' data-stck="');var yt=u("></template>");function xt(U,Y,se){if(i(U,Be),se===null)throw Error(e(395));return i(U,se),o(U,vt)}var Ht=u('<div hidden id="'),Sn=u('">'),He=u("</div>"),Xe=u('<svg aria-hidden="true" style="display:none" id="'),st=u('">'),mt=u("</svg>"),St=u('<math aria-hidden="true" style="display:none" id="'),nt=u('">'),an=u("</math>"),Mn=u('<table hidden id="'),Ct=u('">'),$e=u("</table>"),ln=u('<table hidden><tbody id="'),Zt=u('">'),en=u("</tbody></table>"),gr=u('<table hidden><tr id="'),ur=u('">'),mn=u("</tr></table>"),Yr=u('<table hidden><colgroup id="'),tn=u('">'),zo=u("</colgroup></table>");function qs(U,Y,se,me){switch(se.insertionMode){case 0:case 1:return i(U,Ht),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,Sn);case 2:return i(U,Xe),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,st);case 3:return i(U,St),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,nt);case 4:return i(U,Mn),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,Ct);case 5:return i(U,ln),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,Zt);case 6:return i(U,gr),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,ur);case 7:return i(U,Yr),i(U,Y.segmentPrefix),i(U,m(me.toString(16))),o(U,tn);default:throw Error(e(397))}}function Ji(U,Y){switch(Y.insertionMode){case 0:case 1:return o(U,He);case 2:return o(U,mt);case 3:return o(U,an);case 4:return o(U,$e);case 5:return o(U,en);case 6:return o(U,mn);case 7:return o(U,zo);default:throw Error(e(397))}}var Ss=u('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),Bo=u('$RS("'),Dr=u('","'),oi=u('")<\/script>'),Xr=u('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),mr=u('$RC("'),Uo=u('","'),bs=u('")<\/script>'),ve=u('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),Ye=u('$RX("'),Ze=u('"'),tt=u(")<\/script>"),ot=u(","),kt=/[<\u2028\u2029]/g;function It(U){return JSON.stringify(U).replace(kt,function(Y){switch(Y){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Qt=Object.assign,Jt=Symbol.for("react.element"),wn=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),kn=Symbol.for("react.profiler"),Pr=Symbol.for("react.provider"),qi=Symbol.for("react.context"),_s=Symbol.for("react.forward_ref"),Cs=Symbol.for("react.suspense"),Qn=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),ae=Symbol.for("react.scope"),we=Symbol.for("react.debug_trace_mode"),ze=Symbol.for("react.legacy_hidden"),je=Symbol.for("react.default_value"),Qe=Symbol.iterator;function gt(U){if(U==null)return null;if(typeof U=="function")return U.displayName||U.name||null;if(typeof U=="string")return U;switch(U){case Rn:return"Fragment";case wn:return"Portal";case kn:return"Profiler";case it:return"StrictMode";case Cs:return"Suspense";case Qn:return"SuspenseList"}if(typeof U=="object")switch(U.$$typeof){case qi:return(U.displayName||"Context")+".Consumer";case Pr:return(U._context.displayName||"Context")+".Provider";case _s:var Y=U.render;return U=U.displayName,U||(U=Y.displayName||Y.name||"",U=U!==""?"ForwardRef("+U+")":"ForwardRef"),U;case B:return Y=U.displayName||null,Y!==null?Y:gt(U.type)||"Memo";case X:Y=U._payload,U=U._init;try{return gt(U(Y))}catch{}}return null}var jt={};function Ut(U,Y){if(U=U.contextTypes,!U)return jt;var se={},me;for(me in U)se[me]=Y[me];return se}var Wt=null;function An(U,Y){if(U!==Y){U.context._currentValue=U.parentValue,U=U.parent;var se=Y.parent;if(U===null){if(se!==null)throw Error(e(401))}else{if(se===null)throw Error(e(401));An(U,se)}Y.context._currentValue=Y.value}}function Pi(U){U.context._currentValue=U.parentValue,U=U.parent,U!==null&&Pi(U)}function Ni(U){var Y=U.parent;Y!==null&&Ni(Y),U.context._currentValue=U.value}function si(U,Y){if(U.context._currentValue=U.parentValue,U=U.parent,U===null)throw Error(e(402));U.depth===Y.depth?An(U,Y):si(U,Y)}function Ho(U,Y){var se=Y.parent;if(se===null)throw Error(e(402));U.depth===se.depth?An(U,se):Ho(U,se),Y.context._currentValue=Y.value}function mo(U){var Y=Wt;Y!==U&&(Y===null?Ni(U):U===null?Pi(Y):Y.depth===U.depth?An(Y,U):Y.depth>U.depth?si(Y,U):Ho(Y,U),Wt=U)}var cl={isMounted:function(){return!1},enqueueSetState:function(U,Y){U=U._reactInternals,U.queue!==null&&U.queue.push(Y)},enqueueReplaceState:function(U,Y){U=U._reactInternals,U.replace=!0,U.queue=[Y]},enqueueForceUpdate:function(){}};function Wo(U,Y,se,me){var Ue=U.state!==void 0?U.state:null;U.updater=cl,U.props=se,U.state=Ue;var Fe={queue:[],replace:!1};U._reactInternals=Fe;var qe=Y.contextType;if(U.context=typeof qe=="object"&&qe!==null?qe._currentValue:me,qe=Y.getDerivedStateFromProps,typeof qe=="function"&&(qe=qe(se,Ue),Ue=qe==null?Ue:Qt({},Ue,qe),U.state=Ue),typeof Y.getDerivedStateFromProps!="function"&&typeof U.getSnapshotBeforeUpdate!="function"&&(typeof U.UNSAFE_componentWillMount=="function"||typeof U.componentWillMount=="function"))if(Y=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Y!==U.state&&cl.enqueueReplaceState(U,U.state,null),Fe.queue!==null&&0<Fe.queue.length)if(Y=Fe.queue,qe=Fe.replace,Fe.queue=null,Fe.replace=!1,qe&&Y.length===1)U.state=Y[0];else{for(Fe=qe?Y[0]:U.state,Ue=!0,qe=qe?1:0;qe<Y.length;qe++){var ct=Y[qe];ct=typeof ct=="function"?ct.call(U,Fe,se,me):ct,ct!=null&&(Ue?(Ue=!1,Fe=Qt({},Fe,ct)):Qt(Fe,ct))}U.state=Fe}else Fe.queue=null}var ju={id:1,overflow:""};function Ri(U,Y,se){var me=U.id;U=U.overflow;var Ue=32-hl(me)-1;me&=~(1<<Ue),se+=1;var Fe=32-hl(Y)+Ue;if(30<Fe){var qe=Ue-Ue%5;return Fe=(me&(1<<qe)-1).toString(32),me>>=qe,Ue-=qe,{id:1<<32-hl(Y)+Ue|se<<Ue|me,overflow:Fe+U}}return{id:1<<Fe|se<<Ue|me,overflow:U}}var hl=Math.clz32?Math.clz32:v0,Mp=Math.log,m0=Math.LN2;function v0(U){return U>>>=0,U===0?32:31-(Mp(U)/m0|0)|0}function Op(U,Y){return U===Y&&(U!==0||1/U===1/Y)||U!==U&&Y!==Y}var y0=typeof Object.is=="function"?Object.is:Op,vo=null,bn=null,fl=null,En=null,dl=!1,Li=!1,pl=0,Vo=null,Fu=0;function br(){if(vo===null)throw Error(e(321));return vo}function kp(){if(0<Fu)throw Error(e(312));return{memoizedState:null,queue:null,next:null}}function Eh(){return En===null?fl===null?(dl=!1,fl=En=kp()):(dl=!0,En=fl):En.next===null?(dl=!1,En=En.next=kp()):(dl=!0,En=En.next),En}function Th(){bn=vo=null,Li=!1,fl=null,Fu=0,En=Vo=null}function Ap(U,Y){return typeof Y=="function"?Y(U):Y}function Dp(U,Y,se){if(vo=br(),En=Eh(),dl){var me=En.queue;if(Y=me.dispatch,Vo!==null&&(se=Vo.get(me),se!==void 0)){Vo.delete(me),me=En.memoizedState;do me=U(me,se.action),se=se.next;while(se!==null);return En.memoizedState=me,[me,Y]}return[En.memoizedState,Y]}return U=U===Ap?typeof Y=="function"?Y():Y:se!==void 0?se(Y):Y,En.memoizedState=U,U=En.queue={last:null,dispatch:null},U=U.dispatch=Je.bind(null,vo,U),[En.memoizedState,U]}function Pp(U,Y){if(vo=br(),En=Eh(),Y=Y===void 0?null:Y,En!==null){var se=En.memoizedState;if(se!==null&&Y!==null){var me=se[1];e:if(me===null)me=!1;else{for(var Ue=0;Ue<me.length&&Ue<Y.length;Ue++)if(!y0(Y[Ue],me[Ue])){me=!1;break e}me=!0}if(me)return se[0]}}return U=U(),En.memoizedState=[U,Y],U}function Je(U,Y,se){if(25<=Fu)throw Error(e(301));if(U===vo)if(Li=!0,U={action:se,next:null},Vo===null&&(Vo=new Map),se=Vo.get(Y),se===void 0)Vo.set(Y,U);else{for(Y=se;Y.next!==null;)Y=Y.next;Y.next=U}}function w0(){throw Error(e(394))}function gl(){}var zu={readContext:function(U){return U._currentValue},useContext:function(U){return br(),U._currentValue},useMemo:Pp,useReducer:Dp,useRef:function(U){vo=br(),En=Eh();var Y=En.memoizedState;return Y===null?(U={current:U},En.memoizedState=U):Y},useState:function(U){return Dp(Ap,U)},useInsertionEffect:gl,useLayoutEffect:function(){},useCallback:function(U,Y){return Pp(function(){return U},Y)},useImperativeHandle:gl,useEffect:gl,useDebugValue:gl,useDeferredValue:function(U){return br(),U},useTransition:function(){return br(),[!1,w0]},useId:function(){var U=bn.treeContext,Y=U.overflow;U=U.id,U=(U&~(1<<32-hl(U)-1)).toString(32)+Y;var se=nn;if(se===null)throw Error(e(404));return Y=pl++,U=":"+se.idPrefix+"R"+U,0<Y&&(U+="H"+Y.toString(32)),U+":"},useMutableSource:function(U,Y){return br(),Y(U._source)},useSyncExternalStore:function(U,Y,se){if(se===void 0)throw Error(e(407));return se()}},nn=null,Mh=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Bu(U){return console.error(U),null}function qt(){}function dn(U,Y,se,me,Ue,Fe,qe,ct,Bt){var Kt=[],$t=new Set;return Y={destination:null,responseState:Y,progressiveChunkSize:me===void 0?12800:me,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:$t,pingedTasks:Kt,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Ue===void 0?Bu:Ue,onAllReady:Fe===void 0?qt:Fe,onShellReady:qe===void 0?qt:qe,onShellError:ct===void 0?qt:ct,onFatalError:Bt===void 0?qt:Bt},se=Mt(Y,0,null,se,!1,!1),se.parentFlushed=!0,U=Uu(Y,U,null,se,$t,jt,null,ju),Kt.push(U),Y}function Uu(U,Y,se,me,Ue,Fe,qe,ct){U.allPendingTasks++,se===null?U.pendingRootTasks++:se.pendingTasks++;var Bt={node:Y,ping:function(){var Kt=U.pingedTasks;Kt.push(Bt),Kt.length===1&&zp(U)},blockedBoundary:se,blockedSegment:me,abortSet:Ue,legacyContext:Fe,context:qe,treeContext:ct};return Ue.add(Bt),Bt}function Mt(U,Y,se,me,Ue,Fe){return{status:0,id:-1,index:Y,parentFlushed:!1,chunks:[],children:[],formatContext:me,boundary:se,lastPushedText:Ue,textEmbedded:Fe}}function ml(U,Y){if(U=U.onError(Y),U!=null&&typeof U!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof U+'" instead');return U}function Go(U,Y){var se=U.onShellError;se(Y),se=U.onFatalError,se(Y),U.destination!==null?(U.status=2,d(U.destination,Y)):(U.status=1,U.fatalError=Y)}function Np(U,Y,se,me,Ue){for(vo={},bn=Y,pl=0,U=se(me,Ue);Li;)Li=!1,pl=0,Fu+=1,En=null,U=se(me,Ue);return Th(),U}function Rp(U,Y,se,me){var Ue=se.render(),Fe=me.childContextTypes;if(Fe!=null){var qe=Y.legacyContext;if(typeof se.getChildContext!="function")me=qe;else{se=se.getChildContext();for(var ct in se)if(!(ct in Fe))throw Error(e(108,gt(me)||"Unknown",ct));me=Qt({},qe,se)}Y.legacyContext=me,Jn(U,Y,Ue),Y.legacyContext=qe}else Jn(U,Y,Ue)}function Lp(U,Y){if(U&&U.defaultProps){Y=Qt({},Y),U=U.defaultProps;for(var se in U)Y[se]===void 0&&(Y[se]=U[se]);return Y}return Y}function Hu(U,Y,se,me,Ue){if(typeof se=="function")if(se.prototype&&se.prototype.isReactComponent){Ue=Ut(se,Y.legacyContext);var Fe=se.contextType;Fe=new se(me,typeof Fe=="object"&&Fe!==null?Fe._currentValue:Ue),Wo(Fe,se,me,Ue),Rp(U,Y,Fe,se)}else{Fe=Ut(se,Y.legacyContext),Ue=Np(U,Y,se,me,Fe);var qe=pl!==0;if(typeof Ue=="object"&&Ue!==null&&typeof Ue.render=="function"&&Ue.$$typeof===void 0)Wo(Ue,se,me,Fe),Rp(U,Y,Ue,se);else if(qe){me=Y.treeContext,Y.treeContext=Ri(me,1,0);try{Jn(U,Y,Ue)}finally{Y.treeContext=me}}else Jn(U,Y,Ue)}else if(typeof se=="string"){switch(Ue=Y.blockedSegment,Fe=Ce(Ue.chunks,se,me,U.responseState,Ue.formatContext),Ue.lastPushedText=!1,qe=Ue.formatContext,Ue.formatContext=xe(qe,se,me),Wu(U,Y,Fe),Ue.formatContext=qe,se){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Ue.chunks.push(Ee,m(se),Re)}Ue.lastPushedText=!1}else{switch(se){case ze:case we:case it:case kn:case Rn:Jn(U,Y,me.children);return;case Qn:Jn(U,Y,me.children);return;case ae:throw Error(e(343));case Cs:e:{se=Y.blockedBoundary,Ue=Y.blockedSegment,Fe=me.fallback,me=me.children,qe=new Set;var ct={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:qe,errorDigest:null},Bt=Mt(U,Ue.chunks.length,ct,Ue.formatContext,!1,!1);Ue.children.push(Bt),Ue.lastPushedText=!1;var Kt=Mt(U,0,null,Ue.formatContext,!1,!1);Kt.parentFlushed=!0,Y.blockedBoundary=ct,Y.blockedSegment=Kt;try{if(Wu(U,Y,me),Kt.lastPushedText&&Kt.textEmbedded&&Kt.chunks.push(ee),Kt.status=1,ai(ct,Kt),ct.pendingTasks===0)break e}catch($t){Kt.status=4,ct.forceClientRender=!0,ct.errorDigest=ml(U,$t)}finally{Y.blockedBoundary=se,Y.blockedSegment=Ue}Y=Uu(U,Fe,se,Bt,qe,Y.legacyContext,Y.context,Y.treeContext),U.pingedTasks.push(Y)}return}if(typeof se=="object"&&se!==null)switch(se.$$typeof){case _s:if(me=Np(U,Y,se.render,me,Ue),pl!==0){se=Y.treeContext,Y.treeContext=Ri(se,1,0);try{Jn(U,Y,me)}finally{Y.treeContext=se}}else Jn(U,Y,me);return;case B:se=se.type,me=Lp(se,me),Hu(U,Y,se,me,Ue);return;case Pr:if(Ue=me.children,se=se._context,me=me.value,Fe=se._currentValue,se._currentValue=me,qe=Wt,Wt=me={parent:qe,depth:qe===null?0:qe.depth+1,context:se,parentValue:Fe,value:me},Y.context=me,Jn(U,Y,Ue),U=Wt,U===null)throw Error(e(403));me=U.parentValue,U.context._currentValue=me===je?U.context._defaultValue:me,U=Wt=U.parent,Y.context=U;return;case qi:me=me.children,me=me(se._currentValue),Jn(U,Y,me);return;case X:Ue=se._init,se=Ue(se._payload),me=Lp(se,me),Hu(U,Y,se,me,void 0);return}throw Error(e(130,se==null?se:typeof se,""))}}function Jn(U,Y,se){if(Y.node=se,typeof se=="object"&&se!==null){switch(se.$$typeof){case Jt:Hu(U,Y,se.type,se.props,se.ref);return;case wn:throw Error(e(257));case X:var me=se._init;se=me(se._payload),Jn(U,Y,se);return}if(T(se)){jp(U,Y,se);return}if(se===null||typeof se!="object"?me=null:(me=Qe&&se[Qe]||se["@@iterator"],me=typeof me=="function"?me:null),me&&(me=me.call(se))){if(se=me.next(),!se.done){var Ue=[];do Ue.push(se.value),se=me.next();while(!se.done);jp(U,Y,Ue)}return}throw U=Object.prototype.toString.call(se),Error(e(31,U==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":U))}typeof se=="string"?(me=Y.blockedSegment,me.lastPushedText=be(Y.blockedSegment.chunks,se,U.responseState,me.lastPushedText)):typeof se=="number"&&(me=Y.blockedSegment,me.lastPushedText=be(Y.blockedSegment.chunks,""+se,U.responseState,me.lastPushedText))}function jp(U,Y,se){for(var me=se.length,Ue=0;Ue<me;Ue++){var Fe=Y.treeContext;Y.treeContext=Ri(Fe,me,Ue);try{Wu(U,Y,se[Ue])}finally{Y.treeContext=Fe}}}function Wu(U,Y,se){var me=Y.blockedSegment.formatContext,Ue=Y.legacyContext,Fe=Y.context;try{return Jn(U,Y,se)}catch(Bt){if(Th(),typeof Bt=="object"&&Bt!==null&&typeof Bt.then=="function"){se=Bt;var qe=Y.blockedSegment,ct=Mt(U,qe.chunks.length,null,qe.formatContext,qe.lastPushedText,!0);qe.children.push(ct),qe.lastPushedText=!1,U=Uu(U,Y.node,Y.blockedBoundary,ct,Y.abortSet,Y.legacyContext,Y.context,Y.treeContext).ping,se.then(U,U),Y.blockedSegment.formatContext=me,Y.legacyContext=Ue,Y.context=Fe,mo(Fe)}else throw Y.blockedSegment.formatContext=me,Y.legacyContext=Ue,Y.context=Fe,mo(Fe),Bt}}function yi(U){var Y=U.blockedBoundary;U=U.blockedSegment,U.status=3,Fp(this,Y,U)}function Oh(U,Y,se){var me=U.blockedBoundary;U.blockedSegment.status=3,me===null?(Y.allPendingTasks--,Y.status!==2&&(Y.status=2,Y.destination!==null&&Y.destination.close())):(me.pendingTasks--,me.forceClientRender||(me.forceClientRender=!0,U=se===void 0?Error(e(432)):se,me.errorDigest=Y.onError(U),me.parentFlushed&&Y.clientRenderedBoundaries.push(me)),me.fallbackAbortableTasks.forEach(function(Ue){return Oh(Ue,Y,se)}),me.fallbackAbortableTasks.clear(),Y.allPendingTasks--,Y.allPendingTasks===0&&(me=Y.onAllReady,me()))}function ai(U,Y){if(Y.chunks.length===0&&Y.children.length===1&&Y.children[0].boundary===null){var se=Y.children[0];se.id=Y.id,se.parentFlushed=!0,se.status===1&&ai(U,se)}else U.completedSegments.push(Y)}function Fp(U,Y,se){if(Y===null){if(se.parentFlushed){if(U.completedRootSegment!==null)throw Error(e(389));U.completedRootSegment=se}U.pendingRootTasks--,U.pendingRootTasks===0&&(U.onShellError=qt,Y=U.onShellReady,Y())}else Y.pendingTasks--,Y.forceClientRender||(Y.pendingTasks===0?(se.parentFlushed&&se.status===1&&ai(Y,se),Y.parentFlushed&&U.completedBoundaries.push(Y),Y.fallbackAbortableTasks.forEach(yi,U),Y.fallbackAbortableTasks.clear()):se.parentFlushed&&se.status===1&&(ai(Y,se),Y.completedSegments.length===1&&Y.parentFlushed&&U.partialBoundaries.push(Y)));U.allPendingTasks--,U.allPendingTasks===0&&(U=U.onAllReady,U())}function zp(U){if(U.status!==2){var Y=Wt,se=Mh.current;Mh.current=zu;var me=nn;nn=U.responseState;try{var Ue=U.pingedTasks,Fe;for(Fe=0;Fe<Ue.length;Fe++){var qe=Ue[Fe],ct=U,Bt=qe.blockedSegment;if(Bt.status===0){mo(qe.context);try{Jn(ct,qe,qe.node),Bt.lastPushedText&&Bt.textEmbedded&&Bt.chunks.push(ee),qe.abortSet.delete(qe),Bt.status=1,Fp(ct,qe.blockedBoundary,Bt)}catch(Fi){if(Th(),typeof Fi=="object"&&Fi!==null&&typeof Fi.then=="function"){var Kt=qe.ping;Fi.then(Kt,Kt)}else{qe.abortSet.delete(qe),Bt.status=4;var $t=qe.blockedBoundary,On=Fi,li=ml(ct,On);if($t===null?Go(ct,On):($t.pendingTasks--,$t.forceClientRender||($t.forceClientRender=!0,$t.errorDigest=li,$t.parentFlushed&&ct.clientRenderedBoundaries.push($t))),ct.allPendingTasks--,ct.allPendingTasks===0){var ji=ct.onAllReady;ji()}}}finally{}}}Ue.splice(0,Fe),U.destination!==null&&kh(U,U.destination)}catch(Fi){ml(U,Fi),Go(U,Fi)}finally{nn=me,Mh.current=se,se===zu&&mo(Y)}}}function Vu(U,Y,se){switch(se.parentFlushed=!0,se.status){case 0:var me=se.id=U.nextSegmentId++;return se.lastPushedText=!1,se.textEmbedded=!1,U=U.responseState,i(Y,Ke),i(Y,U.placeholderPrefix),U=m(me.toString(16)),i(Y,U),o(Y,ht);case 1:se.status=2;var Ue=!0;me=se.chunks;var Fe=0;se=se.children;for(var qe=0;qe<se.length;qe++){for(Ue=se[qe];Fe<Ue.index;Fe++)i(Y,me[Fe]);Ue=Gu(U,Y,Ue)}for(;Fe<me.length-1;Fe++)i(Y,me[Fe]);return Fe<me.length&&(Ue=o(Y,me[Fe])),Ue;default:throw Error(e(390))}}function Gu(U,Y,se){var me=se.boundary;if(me===null)return Vu(U,Y,se);if(me.parentFlushed=!0,me.forceClientRender)me=me.errorDigest,o(Y,bt),i(Y,fn),me&&(i(Y,wt),i(Y,m(y(me))),i(Y,lt)),o(Y,yt),Vu(U,Y,se);else if(0<me.pendingTasks){me.rootSegmentID=U.nextSegmentId++,0<me.completedSegments.length&&U.partialBoundaries.push(me);var Ue=U.responseState,Fe=Ue.nextSuspenseID++;Ue=u(Ue.boundaryPrefix+Fe.toString(16)),me=me.id=Ue,xt(Y,U.responseState,me),Vu(U,Y,se)}else if(me.byteSize>U.progressiveChunkSize)me.rootSegmentID=U.nextSegmentId++,U.completedBoundaries.push(me),xt(Y,U.responseState,me.id),Vu(U,Y,se);else{if(o(Y,ft),se=me.completedSegments,se.length!==1)throw Error(e(391));Gu(U,Y,se[0])}return o(Y,Lt)}function Bp(U,Y,se){return qs(Y,U.responseState,se.formatContext,se.id),Gu(U,Y,se),Ji(Y,se.formatContext)}function Up(U,Y,se){for(var me=se.completedSegments,Ue=0;Ue<me.length;Ue++)Hp(U,Y,se,me[Ue]);if(me.length=0,U=U.responseState,me=se.id,se=se.rootSegmentID,i(Y,U.startInlineScript),U.sentCompleteBoundaryFunction?i(Y,mr):(U.sentCompleteBoundaryFunction=!0,i(Y,Xr)),me===null)throw Error(e(395));return se=m(se.toString(16)),i(Y,me),i(Y,Uo),i(Y,U.segmentPrefix),i(Y,se),o(Y,bs)}function Hp(U,Y,se,me){if(me.status===2)return!0;var Ue=me.id;if(Ue===-1){if((me.id=se.rootSegmentID)===-1)throw Error(e(392));return Bp(U,Y,me)}return Bp(U,Y,me),U=U.responseState,i(Y,U.startInlineScript),U.sentCompleteSegmentFunction?i(Y,Bo):(U.sentCompleteSegmentFunction=!0,i(Y,Ss)),i(Y,U.segmentPrefix),Ue=m(Ue.toString(16)),i(Y,Ue),i(Y,Dr),i(Y,U.placeholderPrefix),i(Y,Ue),o(Y,oi)}function kh(U,Y){n=new Uint8Array(512),r=0;try{var se=U.completedRootSegment;if(se!==null&&U.pendingRootTasks===0){Gu(U,Y,se),U.completedRootSegment=null;var me=U.responseState.bootstrapChunks;for(se=0;se<me.length-1;se++)i(Y,me[se]);se<me.length&&o(Y,me[se])}var Ue=U.clientRenderedBoundaries,Fe;for(Fe=0;Fe<Ue.length;Fe++){var qe=Ue[Fe];me=Y;var ct=U.responseState,Bt=qe.id,Kt=qe.errorDigest,$t=qe.errorMessage,On=qe.errorComponentStack;if(i(me,ct.startInlineScript),ct.sentClientRenderFunction?i(me,Ye):(ct.sentClientRenderFunction=!0,i(me,ve)),Bt===null)throw Error(e(395));i(me,Bt),i(me,Ze),(Kt||$t||On)&&(i(me,ot),i(me,m(It(Kt||"")))),($t||On)&&(i(me,ot),i(me,m(It($t||"")))),On&&(i(me,ot),i(me,m(It(On)))),o(me,tt)}Ue.splice(0,Fe);var li=U.completedBoundaries;for(Fe=0;Fe<li.length;Fe++)Up(U,Y,li[Fe]);li.splice(0,Fe),s(Y),n=new Uint8Array(512),r=0;var ji=U.partialBoundaries;for(Fe=0;Fe<ji.length;Fe++){var Fi=ji[Fe];e:{Ue=U,qe=Y;var $u=Fi.completedSegments;for(ct=0;ct<$u.length;ct++)if(!Hp(Ue,qe,Fi,$u[ct])){ct++,$u.splice(0,ct);var Vp=!1;break e}$u.splice(0,ct),Vp=!0}if(!Vp){U.destination=null,Fe++,ji.splice(0,Fe);return}}ji.splice(0,Fe);var Ah=U.completedBoundaries;for(Fe=0;Fe<Ah.length;Fe++)Up(U,Y,Ah[Fe]);Ah.splice(0,Fe)}finally{s(Y),U.allPendingTasks===0&&U.pingedTasks.length===0&&U.clientRenderedBoundaries.length===0&&U.completedBoundaries.length===0&&Y.close()}}function Wp(U,Y){try{var se=U.abortableTasks;se.forEach(function(me){return Oh(me,U,Y)}),se.clear(),U.destination!==null&&kh(U,U.destination)}catch(me){ml(U,me),Go(U,me)}}return Xg.renderToReadableStream=function(U,Y){return new Promise(function(se,me){var Ue,Fe,qe=new Promise(function($t,On){Fe=$t,Ue=On}),ct=dn(U,$(Y?Y.identifierPrefix:void 0,Y?Y.nonce:void 0,Y?Y.bootstrapScriptContent:void 0,Y?Y.bootstrapScripts:void 0,Y?Y.bootstrapModules:void 0),le(Y?Y.namespaceURI:void 0),Y?Y.progressiveChunkSize:void 0,Y?Y.onError:void 0,Fe,function(){var $t=new ReadableStream({type:"bytes",pull:function(On){if(ct.status===1)ct.status=2,d(On,ct.fatalError);else if(ct.status!==2&&ct.destination===null){ct.destination=On;try{kh(ct,On)}catch(li){ml(ct,li),Go(ct,li)}}},cancel:function(){Wp(ct)}},{highWaterMark:0});$t.allReady=qe,se($t)},function($t){qe.catch(function(){}),me($t)},Ue);if(Y&&Y.signal){var Bt=Y.signal,Kt=function(){Wp(ct,Bt.reason),Bt.removeEventListener("abort",Kt)};Bt.addEventListener("abort",Kt)}zp(ct)})},Xg.version="18.2.0",Xg}var TO;function dJ(){if(TO)return aa;TO=1;var t,e;return t=hJ(),e=fJ(),aa.version=t.version,aa.renderToString=t.renderToString,aa.renderToStaticMarkup=t.renderToStaticMarkup,aa.renderToNodeStream=t.renderToNodeStream,aa.renderToStaticNodeStream=t.renderToStaticNodeStream,aa.renderToReadableStream=e.renderToReadableStream,aa}var MO;function pJ(){return MO||(MO=1,function(t){(function(e,n){n(t,Ae,Lo(),Yd,dJ())})(Tn,function(e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:!0}),e.InfoWindow=void 0;var s=u(n),a=u(r);u(i);var m=u(o);function u(l){return l&&l.__esModule?l:{default:l}}var d=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l};function E(l,c){var f={};for(var h in l)c.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(l,h)&&(f[h]=l[h]);return f}function I(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var O=function(){function l(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function A(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function D(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var v=e.InfoWindow=function(l){D(c,l);function c(){return I(this,c),A(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return O(c,[{key:"componentDidMount",value:function(){this.renderInfoWindow()}},{key:"componentDidUpdate",value:function(h){var p=this.props,g=p.google,y=p.map;!g||!y||(y!==h.map&&this.renderInfoWindow(),this.props.position!==h.position&&this.updatePosition(),this.props.children!==h.children&&this.updateContent(),(this.props.visible!==h.visible||this.props.marker!==h.marker||this.props.position!==h.position)&&(this.props.visible?this.openWindow():this.closeWindow()))}},{key:"renderInfoWindow",value:function(){var h=this.props;h.map;var p=h.google;h.mapCenter;var g=E(h,["map","google","mapCenter"]);if(!(!p||!p.maps)){var y=this.infowindow=new p.maps.InfoWindow(d({content:""},g));p.maps.event.addListener(y,"closeclick",this.onClose.bind(this)),p.maps.event.addListener(y,"domready",this.onOpen.bind(this))}}},{key:"onOpen",value:function(){this.props.onOpen&&this.props.onOpen()}},{key:"onClose",value:function(){this.props.onClose&&this.props.onClose()}},{key:"openWindow",value:function(){this.infowindow.open(this.props.map,this.props.marker)}},{key:"updatePosition",value:function(){var h=this.props.position;h instanceof google.maps.LatLng||(h=h&&new google.maps.LatLng(h.lat,h.lng)),this.infowindow.setPosition(h)}},{key:"updateContent",value:function(){var h=this.renderChildren();this.infowindow.setContent(h)}},{key:"closeWindow",value:function(){this.infowindow.close()}},{key:"renderChildren",value:function(){var h=this.props.children;return m.default.renderToString(h)}},{key:"render",value:function(){return null}}]),c}(s.default.Component);v.propTypes={children:a.default.element.isRequired,map:a.default.object,marker:a.default.object,position:a.default.object,visible:a.default.bool,onClose:a.default.func,onOpen:a.default.func},v.defaultProps={visible:!1},e.default=v})}(Vw)),Vw}var Gw={},OO;function gJ(){return OO||(OO=1,function(t){(function(e,n){n(t,Ae,Lo(),Du())})(Tn,function(e,n,r,i){Object.defineProperty(e,"__esModule",{value:!0}),e.HeatMap=void 0;var o=a(n),s=a(r);function a(l){return l&&l.__esModule?l:{default:l}}var m=Object.assign||function(l){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(l[h]=f[h])}return l};function u(l,c){var f={};for(var h in l)c.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(l,h)&&(f[h]=l[h]);return f}function d(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var E=function(){function l(c,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function I(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function O(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var A=["click","mouseover","recenter"],D=function(){var c={},f=new Promise(function(h,p){c.resolve=h,c.reject=p});return c.then=f.then.bind(f),c.catch=f.catch.bind(f),c.promise=f,c},v=e.HeatMap=function(l){O(c,l);function c(){return d(this,c),I(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return E(c,[{key:"componentDidMount",value:function(){this.heatMapPromise=D(),this.renderHeatMap()}},{key:"componentDidUpdate",value:function(h){(this.props.map!==h.map||this.props.position!==h.position)&&this.heatMap&&(this.heatMap.setMap(null),this.renderHeatMap())}},{key:"componentWillUnmount",value:function(){this.heatMap&&this.heatMap.setMap(null)}},{key:"renderHeatMap",value:function(){var h=this,p=this.props,g=p.map,y=p.google,_=p.positions;p.mapCenter,p.icon;var w=p.gradient,T=p.radius,k=T===void 0?20:T,P=p.opacity,L=P===void 0?.2:P,N=u(p,["map","google","positions","mapCenter","icon","gradient","radius","opacity"]);if(!y)return null;var F=_.map(function(H){return{location:new y.maps.LatLng(H.lat,H.lng),weight:H.weight}}),G=m({map:g,gradient:w,radius:k,opacity:L,data:F},N);this.heatMap=new y.maps.visualization.HeatmapLayer(G),this.heatMap.set("radius",k===void 0?20:k),this.heatMap.set("opacity",L===void 0?.2:L),A.forEach(function(H){h.heatMap.addListener(H,h.handleEvent(H))}),this.heatMapPromise.resolve(this.heatMap)}},{key:"getHeatMap",value:function(){return this.heatMapPromise}},{key:"handleEvent",value:function(h){var p=this;return function(g){var y="on"+(0,i.camelize)(h);p.props[y]&&p.props[y](p.props,p.heatMap,g)}}},{key:"render",value:function(){return null}}]),c}(o.default.Component);v.propTypes={position:s.default.object,map:s.default.object,icon:s.default.string},A.forEach(function(l){return v.propTypes[l]=s.default.func}),v.defaultProps={name:"HeatMap"},e.default=v})}(Gw)),Gw}var $w={},Yw={},kO;function fx(){return kO||(kO=1,function(t){(function(e,n){n(t)})(Tn,function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};e.arePathsEqual=function(o,s){if(o===s)return!0;if(!Array.isArray(o)||!Array.isArray(s)||o.length!==s.length)return!1;for(var a=0;a<o.length;++a)if(o[a]!==s[a]&&(!r(o[a])||!r(s[a])||s[a].lat!==o[a].lat||s[a].lng!==o[a].lng))return!1;return!0};var r=function(o){return o!==null&&(typeof o>"u"?"undefined":n(o))==="object"&&o.hasOwnProperty("lat")&&o.hasOwnProperty("lng")}})}(Yw)),Yw}var AO;function mJ(){return AO||(AO=1,function(t){(function(e,n){n(t,Ae,Lo(),fx(),Du())})(Tn,function(e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var s=m(n),a=m(r);function m(c){return c&&c.__esModule?c:{default:c}}var u=Object.assign||function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c};function d(c,f){var h={};for(var p in c)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}function E(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var I=function(){function c(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}();function O(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function A(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var D=["click","mouseout","mouseover"],v=function(){var f={},h=new Promise(function(p,g){f.resolve=p,f.reject=g});return f.then=h.then.bind(h),f.catch=h.catch.bind(h),f.promise=h,f},l=e.Polygon=function(c){A(f,c);function f(){return E(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return I(f,[{key:"componentDidMount",value:function(){this.polygonPromise=v(),this.renderPolygon()}},{key:"componentDidUpdate",value:function(p){(this.props.map!==p.map||!(0,i.arePathsEqual)(this.props.paths,p.paths))&&(this.polygon&&this.polygon.setMap(null),this.renderPolygon())}},{key:"componentWillUnmount",value:function(){this.polygon&&this.polygon.setMap(null)}},{key:"renderPolygon",value:function(){var p=this,g=this.props,y=g.map,_=g.google,w=g.paths,T=g.strokeColor,k=g.strokeOpacity,P=g.strokeWeight,L=g.fillColor,N=g.fillOpacity,F=d(g,["map","google","paths","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity"]);if(!_)return null;var G=u({map:y,paths:w,strokeColor:T,strokeOpacity:k,strokeWeight:P,fillColor:L,fillOpacity:N},F);this.polygon=new _.maps.Polygon(G),D.forEach(function(H){p.polygon.addListener(H,p.handleEvent(H))}),this.polygonPromise.resolve(this.polygon)}},{key:"getPolygon",value:function(){return this.polygonPromise}},{key:"handleEvent",value:function(p){var g=this;return function(y){var _="on"+(0,o.camelize)(p);g.props[_]&&g.props[_](g.props,g.polygon,y)}}},{key:"render",value:function(){return null}}]),f}(s.default.Component);l.propTypes={paths:a.default.array,strokeColor:a.default.string,strokeOpacity:a.default.number,strokeWeight:a.default.number,fillColor:a.default.string,fillOpacity:a.default.number},D.forEach(function(c){return l.propTypes[c]=a.default.func}),l.defaultProps={name:"Polygon"},e.default=l})}($w)),$w}var Xw={},DO;function vJ(){return DO||(DO=1,function(t){(function(e,n){n(t,Ae,Lo(),fx(),Du())})(Tn,function(e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:!0}),e.Polyline=void 0;var s=m(n),a=m(r);function m(c){return c&&c.__esModule?c:{default:c}}var u=Object.assign||function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c};function d(c,f){var h={};for(var p in c)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}function E(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var I=function(){function c(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}();function O(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function A(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var D=["click","mouseout","mouseover"],v=function(){var f={},h=new Promise(function(p,g){f.resolve=p,f.reject=g});return f.then=h.then.bind(h),f.catch=h.catch.bind(h),f.promise=h,f},l=e.Polyline=function(c){A(f,c);function f(){return E(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return I(f,[{key:"componentDidMount",value:function(){this.polylinePromise=v(),this.renderPolyline()}},{key:"componentDidUpdate",value:function(p){(this.props.map!==p.map||!(0,i.arePathsEqual)(this.props.path,p.path))&&(this.polyline&&this.polyline.setMap(null),this.renderPolyline())}},{key:"componentWillUnmount",value:function(){this.polyline&&this.polyline.setMap(null)}},{key:"renderPolyline",value:function(){var p=this,g=this.props,y=g.map,_=g.google,w=g.path,T=g.strokeColor,k=g.strokeOpacity,P=g.strokeWeight,L=d(g,["map","google","path","strokeColor","strokeOpacity","strokeWeight"]);if(!_)return null;var N=u({map:y,path:w,strokeColor:T,strokeOpacity:k,strokeWeight:P},L);this.polyline=new _.maps.Polyline(N),D.forEach(function(F){p.polyline.addListener(F,p.handleEvent(F))}),this.polylinePromise.resolve(this.polyline)}},{key:"getPolyline",value:function(){return this.polylinePromise}},{key:"handleEvent",value:function(p){var g=this;return function(y){var _="on"+(0,o.camelize)(p);g.props[_]&&g.props[_](g.props,g.polyline,y)}}},{key:"render",value:function(){return null}}]),f}(s.default.Component);l.propTypes={path:a.default.array,strokeColor:a.default.string,strokeOpacity:a.default.number,strokeWeight:a.default.number},D.forEach(function(c){return l.propTypes[c]=a.default.func}),l.defaultProps={name:"Polyline"},e.default=l})}(Xw)),Xw}var Kw={},PO;function yJ(){return PO||(PO=1,function(t){(function(e,n){n(t,Ae,Lo(),fx(),Du())})(Tn,function(e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var s=m(n),a=m(r);function m(c){return c&&c.__esModule?c:{default:c}}var u=Object.assign||function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c};function d(c,f){var h={};for(var p in c)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}function E(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var I=function(){function c(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}();function O(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function A(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var D=["click","mouseout","mouseover"],v=function(){var f={},h=new Promise(function(p,g){f.resolve=p,f.reject=g});return f.then=h.then.bind(h),f.catch=h.catch.bind(h),f.promise=h,f},l=e.Circle=function(c){A(f,c);function f(){var h,p,g,y;E(this,f);for(var _=arguments.length,w=Array(_),T=0;T<_;T++)w[T]=arguments[T];return y=(p=(g=O(this,(h=f.__proto__||Object.getPrototypeOf(f)).call.apply(h,[this].concat(w))),g),g.centerChanged=function(k){var P=g.props.center,L=P.lat,N=P.lng;return L!==k.lat||N!==k.lng},g.propsChanged=function(k){return g.centerChanged(k.center)?!0:Object.keys(f.propTypes).some(function(P){return g.props[P]!==k[P]})},g.destroyCircle=function(){g.circle&&g.circle.setMap(null)},p),O(g,y)}return I(f,[{key:"componentDidMount",value:function(){this.circlePromise=v(),this.renderCircle()}},{key:"componentDidUpdate",value:function(p){var g=this.props,y=g.path,_=g.map;(this.propsChanged(p)||_!==p.map||!(0,i.arePathsEqual)(y,p.path))&&(this.destroyCircle(),this.renderCircle())}},{key:"componentWillUnmount",value:function(){this.destroyCircle()}},{key:"renderCircle",value:function(){var p=this,g=this.props,y=g.map,_=g.google,w=g.center,T=g.radius,k=g.strokeColor,P=g.strokeOpacity,L=g.strokeWeight,N=g.fillColor,F=g.fillOpacity,G=g.draggable,H=g.visible,$=d(g,["map","google","center","radius","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","draggable","visible"]);if(!_)return null;var re=u({},$,{map:y,center:w,radius:T,draggable:G,visible:H,options:{strokeColor:k,strokeOpacity:P,strokeWeight:L,fillColor:N,fillOpacity:F}});this.circle=new _.maps.Circle(re),D.forEach(function(le){p.circle.addListener(le,p.handleEvent(le))}),this.circlePromise.resolve(this.circle)}},{key:"getCircle",value:function(){return this.circlePromise}},{key:"handleEvent",value:function(p){var g=this;return function(y){var _="on"+(0,o.camelize)(p);g.props[_]&&g.props[_](g.props,g.circle,y)}}},{key:"render",value:function(){return null}}]),f}(s.default.Component);l.propTypes={center:a.default.object,radius:a.default.number,strokeColor:a.default.string,strokeOpacity:a.default.number,strokeWeight:a.default.number,fillColor:a.default.string,fillOpacity:a.default.number,draggable:a.default.bool,visible:a.default.bool},D.forEach(function(c){return l.propTypes[c]=a.default.func}),l.defaultProps={name:"Circle"},e.default=l})}(Kw)),Kw}var Zw={},Qw={},NO;function wJ(){return NO||(NO=1,function(t){(function(e,n){n(t)})(Tn,function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};e.areBoundsEqual=function(o,s){if(o===s)return!0;if(!(o instanceof Object)||!(s instanceof Object)||Object.keys(o).length!==Object.keys(s).length||!r(o)||!r(s))return!1;var a=!0,m=!1,u=void 0;try{for(var d=Object.keys(o)[Symbol.iterator](),E;!(a=(E=d.next()).done);a=!0){var I=E.value;if(o[I]!==s[I])return!1}}catch(O){m=!0,u=O}finally{try{!a&&d.return&&d.return()}finally{if(m)throw u}}return!0};var r=function(o){return o!==null&&(typeof o>"u"?"undefined":n(o))==="object"&&o.hasOwnProperty("north")&&o.hasOwnProperty("south")&&o.hasOwnProperty("east")&&o.hasOwnProperty("west")}})}(Qw)),Qw}var RO;function SJ(){return RO||(RO=1,function(t){(function(e,n){n(t,Ae,Lo(),wJ(),Du())})(Tn,function(e,n,r,i,o){Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var s=m(n),a=m(r);function m(c){return c&&c.__esModule?c:{default:c}}var u=Object.assign||function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])}return c};function d(c,f){var h={};for(var p in c)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(c,p)&&(h[p]=c[p]);return h}function E(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var I=function(){function c(f,h){for(var p=0;p<h.length;p++){var g=h[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,h,p){return h&&c(f.prototype,h),p&&c(f,p),f}}();function O(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:c}function A(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}var D=["click","mouseout","mouseover"],v=function(){var f={},h=new Promise(function(p,g){f.resolve=p,f.reject=g});return f.then=h.then.bind(h),f.catch=h.catch.bind(h),f.promise=h,f},l=e.Rectangle=function(c){A(f,c);function f(){return E(this,f),O(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return I(f,[{key:"componentDidMount",value:function(){this.rectanglePromise=v(),this.renderRectangle()}},{key:"componentDidUpdate",value:function(p){(this.props.map!==p.map||!(0,i.areBoundsEqual)(this.props.bounds,p.bounds))&&(this.rectangle&&this.rectangle.setMap(null),this.renderRectangle())}},{key:"componentWillUnmount",value:function(){this.rectangle&&this.rectangle.setMap(null)}},{key:"renderRectangle",value:function(){var p=this,g=this.props,y=g.map,_=g.google,w=g.bounds,T=g.strokeColor,k=g.strokeOpacity,P=g.strokeWeight,L=g.fillColor,N=g.fillOpacity,F=d(g,["map","google","bounds","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity"]);if(!_)return null;var G=u({map:y,bounds:w,strokeColor:T,strokeOpacity:k,strokeWeight:P,fillColor:L,fillOpacity:N},F);this.rectangle=new _.maps.Rectangle(G),D.forEach(function(H){p.rectangle.addListener(H,p.handleEvent(H))}),this.rectanglePromise.resolve(this.rectangle)}},{key:"getRectangle",value:function(){return this.rectanglePromise}},{key:"handleEvent",value:function(p){var g=this;return function(y){var _="on"+(0,o.camelize)(p);g.props[_]&&g.props[_](g.props,g.rectangle,y)}}},{key:"render",value:function(){return console.log("hii, ",this.props.bounds),null}}]),f}(s.default.Component);l.propTypes={bounds:a.default.object,strokeColor:a.default.string,strokeOpacity:a.default.number,strokeWeight:a.default.number,fillColor:a.default.string,fillOpacity:a.default.number},D.forEach(function(c){return l.propTypes[c]=a.default.func}),l.defaultProps={name:"Rectangle"},e.default=l})}(Zw)),Zw}var Jw={},LO;function bJ(){return LO||(LO=1,function(t){(function(e,n){n(t)})(Tn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeCancelable=function(r){var i=!1,o=new Promise(function(s,a){r.then(function(m){return i?a({isCanceled:!0}):s(m)}),r.catch(function(m){return a(i?{isCanceled:!0}:m)})});return{promise:o,cancel:function(){i=!0}}}})}(Jw)),Jw}(function(t){(function(e,n){n(t,uJ(),cJ(),pJ(),gJ(),mJ(),vJ(),yJ(),SJ(),Ae,Lo(),Yd,Du(),bJ())})(Tn,function(e,n,r,i,o,s,a,m,u,d,E,I,O,A){Object.defineProperty(e,"__esModule",{value:!0}),e.Map=e.Rectangle=e.Circle=e.Polyline=e.Polygon=e.HeatMap=e.InfoWindow=e.Marker=e.GoogleApiWrapper=void 0,Object.defineProperty(e,"GoogleApiWrapper",{enumerable:!0,get:function(){return n.wrapper}}),Object.defineProperty(e,"Marker",{enumerable:!0,get:function(){return r.Marker}}),Object.defineProperty(e,"InfoWindow",{enumerable:!0,get:function(){return i.InfoWindow}}),Object.defineProperty(e,"HeatMap",{enumerable:!0,get:function(){return o.HeatMap}}),Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return s.Polygon}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return a.Polyline}}),Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return m.Circle}}),Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return u.Rectangle}});var D=c(d),v=c(E),l=c(I);function c(T){return T&&T.__esModule?T:{default:T}}function f(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}var h=function(){function T(k,P){for(var L=0;L<P.length;L++){var N=P[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}}return function(k,P,L){return P&&T(k.prototype,P),L&&T(k,L),k}}();function p(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function g(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var y={container:{position:"absolute",width:"100%",height:"100%"},map:{position:"absolute",left:0,right:0,bottom:0,top:0}},_=["ready","click","dragend","recenter","bounds_changed","center_changed","dblclick","dragstart","heading_change","idle","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","resize","rightclick","tilesloaded","tilt_changed","zoom_changed"],w=e.Map=function(T){g(k,T);function k(P){f(this,k);var L=p(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P));if(!P.hasOwnProperty("google"))throw new Error("You must include a `google` prop");return L.listeners={},L.state={currentLocation:{lat:L.props.initialCenter.lat,lng:L.props.initialCenter.lng}},L.mapRef=D.default.createRef(),L}return h(k,[{key:"componentDidMount",value:function(){var L=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&(this.geoPromise=(0,A.makeCancelable)(new Promise(function(N,F){navigator.geolocation.getCurrentPosition(N,F)})),this.geoPromise.promise.then(function(N){var F=N.coords;L.setState({currentLocation:{lat:F.latitude,lng:F.longitude}})}).catch(function(N){return N})),this.loadMap()}},{key:"componentDidUpdate",value:function(L,N){L.google!==this.props.google&&this.loadMap(),this.props.visible!==L.visible&&this.restyleMap(),this.props.zoom!==L.zoom&&this.map.setZoom(this.props.zoom),this.props.center!==L.center&&this.setState({currentLocation:this.props.center}),N.currentLocation!==this.state.currentLocation&&this.recenterMap(),this.props.bounds&&this.props.bounds!==L.bounds&&this.map.fitBounds(this.props.bounds)}},{key:"componentWillUnmount",value:function(){var L=this,N=this.props.google;this.geoPromise&&this.geoPromise.cancel(),Object.keys(this.listeners).forEach(function(F){N.maps.event.removeListener(L.listeners[F])})}},{key:"loadMap",value:function(){var L=this;if(this.props&&this.props.google){var N=this.props.google,F=N.maps,G=this.mapRef.current,H=l.default.findDOMNode(G),$=this.state.currentLocation,re=new F.LatLng($.lat,$.lng),le=this.props.google.maps.MapTypeId||{},xe=String(this.props.mapType).toUpperCase(),ee=Object.assign({},{mapTypeId:le[xe],center:re,zoom:this.props.zoom,maxZoom:this.props.maxZoom,minZoom:this.props.minZoom,clickableIcons:!!this.props.clickableIcons,disableDefaultUI:this.props.disableDefaultUI,zoomControl:this.props.zoomControl,zoomControlOptions:this.props.zoomControlOptions,mapTypeControl:this.props.mapTypeControl,mapTypeControlOptions:this.props.mapTypeControlOptions,scaleControl:this.props.scaleControl,streetViewControl:this.props.streetViewControl,streetViewControlOptions:this.props.streetViewControlOptions,panControl:this.props.panControl,rotateControl:this.props.rotateControl,fullscreenControl:this.props.fullscreenControl,scrollwheel:this.props.scrollwheel,draggable:this.props.draggable,draggableCursor:this.props.draggableCursor,keyboardShortcuts:this.props.keyboardShortcuts,disableDoubleClickZoom:this.props.disableDoubleClickZoom,noClear:this.props.noClear,styles:this.props.styles,gestureHandling:this.props.gestureHandling});Object.keys(ee).forEach(function(be){ee[be]===null&&delete ee[be]}),this.map=new F.Map(H,ee),_.forEach(function(be){L.listeners[be]=L.map.addListener(be,L.handleEvent(be))}),F.event.trigger(this.map,"ready"),this.forceUpdate()}}},{key:"handleEvent",value:function(L){var N=this,F=void 0,G="on"+(0,O.camelize)(L);return function(H){F&&(clearTimeout(F),F=null),F=setTimeout(function(){N.props[G]&&N.props[G](N.props,N.map,H)},0)}}},{key:"recenterMap",value:function(){var L=this.map,N=this.props.google;if(N){var F=N.maps;if(L){var G=this.state.currentLocation;G instanceof N.maps.LatLng||(G=new N.maps.LatLng(G.lat,G.lng)),L.setCenter(G),F.event.trigger(L,"recenter")}}}},{key:"restyleMap",value:function(){if(this.map){var L=this.props.google;L.maps.event.trigger(this.map,"resize")}}},{key:"renderChildren",value:function(){var L=this,N=this.props.children;if(N)return D.default.Children.map(N,function(F){if(F)return D.default.cloneElement(F,{map:L.map,google:L.props.google,mapCenter:L.state.currentLocation})})}},{key:"render",value:function(){var L=Object.assign({},y.map,this.props.style,{display:this.props.visible?"inherit":"none"}),N=Object.assign({},y.container,this.props.containerStyle);return D.default.createElement("div",{style:N,className:this.props.className},D.default.createElement("div",{style:L,ref:this.mapRef},"Loading map..."),this.renderChildren())}}]),k}(D.default.Component);w.propTypes={google:v.default.object,zoom:v.default.number,centerAroundCurrentLocation:v.default.bool,center:v.default.object,initialCenter:v.default.object,className:v.default.string,style:v.default.object,containerStyle:v.default.object,visible:v.default.bool,mapType:v.default.string,maxZoom:v.default.number,minZoom:v.default.number,clickableIcons:v.default.bool,disableDefaultUI:v.default.bool,zoomControl:v.default.bool,zoomControlOptions:v.default.object,mapTypeControl:v.default.bool,mapTypeControlOptions:v.default.bool,scaleControl:v.default.bool,streetViewControl:v.default.bool,streetViewControlOptions:v.default.object,panControl:v.default.bool,rotateControl:v.default.bool,fullscreenControl:v.default.bool,scrollwheel:v.default.bool,draggable:v.default.bool,draggableCursor:v.default.string,keyboardShortcuts:v.default.bool,disableDoubleClickZoom:v.default.bool,noClear:v.default.bool,styles:v.default.array,gestureHandling:v.default.string,bounds:v.default.object},_.forEach(function(T){return w.propTypes[(0,O.camelize)(T)]=v.default.func}),w.defaultProps={zoom:14,initialCenter:{lat:37.774929,lng:-122.419416},center:{},centerAroundCurrentLocation:!1,style:{},containerStyle:{},visible:!0},e.default=w})})(vu);const _J=({closeDetailsPopup:t,venue:e,dateString:n,timeString:r,invitationId:i,description:o,longitude:s,latitude:a})=>{const[m,u]=Ae.useState(!1),[d,E]=Ae.useState(""),[I,O]=Ae.useState("");Ae.useState(!1);const[A,D]=Ae.useState({lat:a,lng:s}),[v,l]=Ae.useState(null);Ae.useEffect(()=>{D({lat:a,lng:s})},[a,s]),console.log(a,s),Ae.useEffect(()=>{if(v){const G=new v.props.google.maps.LatLng(a,s);v.map.setCenter(G)}},[v,a,s]);const c={width:"100%",height:"400px"},f=()=>{jn.success("Message sent!")},h=[{title:"",content:n?n==null?void 0:n.slice(0,10):null},{title:"",content:r},{title:"",content:e},{content:o}],p=[{text:" !"},{text:"!!!"},{text:""}],g=G=>{u(!0),E(G),O(G)},y=async({newMessage:G})=>{const H=ti.firestore().collection("invitations");try{await H.doc(i).update({messages:ti.firestore.FieldValue.arrayUnion(G)})}catch($){throw new Error("Error updating invitation:",$)}},_=async G=>{G.preventDefault();try{await y({newMessage:{text:I,time:new Date}}),O(""),E(""),f()}catch(H){jn.error("Error posting to Firebase"),console.error("Error posting to Firebase:",H)}},[w,T]=Ae.useState(!1),k=()=>{T(!0)},P=()=>{T(!1)},L=()=>{const G=` Parstant ntc  ${e}        | 
 xbbxbx 

     :`,H="966242223397117",$=`https://enimto.com/?i=${i}`,re=`https://www.facebook.com/dialog/share?app_id=${H}&display=page&quote=${encodeURIComponent(G)}&href=${encodeURIComponent($)}`;window.open(re,"_blank")},N=()=>{const G="966242223397117",H=`https://enimto.com/?i=${i}`,$=`https://www.facebook.com/dialog/send?app_id=${G}&link=${encodeURIComponent(H)}`;window.open($,"_blank")},F=()=>{window.open("https://play.google.com/store/apps/details?id=com.enimto.app","_blank")};return ie.jsxs(ie.Fragment,{children:[ie.jsx(tv,{position:"top-center"}),ie.jsxs("div",{className:"accepteventpopup-items",children:[ie.jsx("div",{className:"accepteventpopup-head",children:m?ie.jsx("label",{}):ie.jsx("label",{})}),ie.jsx("div",{className:"googlemapitems",children:ie.jsx(vu.Map,{zoom:17,style:c,google,onReady:(G,H)=>l({props:G,map:H}),initialCenter:A,children:ie.jsx(vu.Marker,{position:A})})}),ie.jsxs("div",{className:"accepteventpopup-contents",children:[m?ie.jsx("input",{className:"input-placeholder",type:"text",placeholder:"Enter Message",value:I,onChange:G=>O(G.target.value)}):ie.jsx(ie.Fragment,{children:h.map((G,H)=>ie.jsxs("div",{className:G.title?"texts":"description",children:[ie.jsx("label",{children:G.title}),ie.jsx("label",{children:G.title===""&&G.content!=null?G.content.replace("AM","").replace("PM",""):G.content})]},H))}),m?ie.jsx("div",{className:"suggestion-texts",children:p.map((G,H)=>ie.jsx("label",{onClick:()=>g(G.text),children:G.text},H))}):null,ie.jsx("div",{className:"accepteventpopup-buttons",children:m?ie.jsx("label",{className:"accept",onClick:_,children:""}):ie.jsxs(ie.Fragment,{children:[ie.jsx("label",{className:"text",onClick:()=>g(""),children:""}),ie.jsx("label",{className:"submit",onClick:g,children:""})]})})]})]}),ie.jsxs("div",{className:"share_invitation",onClick:k,onMouseEnter:k,onMouseLeave:P,children:[ie.jsx(x8,{size:15,className:"share_invitation-icon icon"}),ie.jsx("p",{children:" "}),w&&ie.jsx("div",{className:"share_dropdown",children:ie.jsxs("ul",{children:[ie.jsxs("li",{onClick:N,children:[ie.jsx(T8,{className:"icon"}),"Share to Messenger"]}),ie.jsxs("li",{onClick:L,children:[ie.jsx(I8,{className:"icon"}),"Share to Facebook"]})]})})]}),ie.jsxs("div",{className:"getourapp",children:[ie.jsx("label",{children:"   "}),ie.jsx("div",{className:"getapp-img",children:ie.jsx("img",{src:d_,onClick:F})})]}),ie.jsx("p",{className:"creditto",children:"Designed by IT Bridge Nepal"})]})},CJ=vu.GoogleApiWrapper({apiKey:"AIzaSyDzm_iiHamwAmti-MErO2o2pfnbVfIzFhE"})(_J);function vj(){return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"loadingSpinnerContainer",children:ie.jsx("div",{className:"loadingSpinner"})})})}var xJ={exports:{}};(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Tn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=7)}([function(n,r,i){function o(s,a,m,u,d,E,I,O){if(!s){var A;if(a===void 0)A=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var D=[m,u,d,E,I,O],v=0;A=new Error(a.replace(/%s/g,function(){return D[v++]})),A.name="Invariant Violation"}throw A.framesToPop=1,A}}n.exports=o},function(n,r,i){function o(a){return function(){return a}}var s=function(){};s.thatReturns=o,s.thatReturnsFalse=o(!1),s.thatReturnsTrue=o(!0),s.thatReturnsNull=o(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(a){return a},n.exports=s},function(n,r,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function m(d){if(d==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(d)}function u(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var E={},I=0;I<10;I++)E["_"+String.fromCharCode(I)]=I;var O=Object.getOwnPropertyNames(E).map(function(D){return E[D]});if(O.join("")!=="0123456789")return!1;var A={};return"abcdefghijklmnopqrst".split("").forEach(function(D){A[D]=D}),Object.keys(Object.assign({},A)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}n.exports=u()?Object.assign:function(d,E){for(var I,O=m(d),A,D=1;D<arguments.length;D++){I=Object(arguments[D]);for(var v in I)s.call(I,v)&&(O[v]=I[v]);if(o){A=o(I);for(var l=0;l<A.length;l++)a.call(I,A[l])&&(O[A[l]]=I[A[l]])}}return O}},function(n,r,i){var o=i(1),s=o;n.exports=s},function(n,r,i){var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";n.exports=o},function(n,r,i){var o={};n.exports=o},function(n,r,i){function o(s,a,m,u,d){}n.exports=o},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(h){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])}return h},s=function(){function h(p,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,g,y){return g&&h(p.prototype,g),y&&h(p,y),p}}(),a=i(8),m=A(a),u=i(11),d=A(u),E=i(14),I=O(E);function O(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(p[g]=h[g]);return p.default=h,p}function A(h){return h&&h.__esModule?h:{default:h}}function D(h,p){var g={};for(var y in h)p.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(h,y)&&(g[y]=h[y]);return g}function v(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function l(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){c(p,h);function p(){var g,y,_,w;v(this,p);for(var T=arguments.length,k=Array(T),P=0;P<T;P++)k[P]=arguments[P];return w=(y=(_=l(this,(g=p.__proto__||Object.getPrototypeOf(p)).call.apply(g,[this].concat(k))),_),_.state={delayed:_.props.delay>0},y),l(_,w)}return s(p,[{key:"componentDidMount",value:function(){var y=this,_=this.props.delay,w=this.state.delayed;w&&(this.timeout=setTimeout(function(){y.setState({delayed:!1})},_))}},{key:"componentWillUnmount",value:function(){var y=this.timeout;y&&clearTimeout(y)}},{key:"render",value:function(){var y=this.props,_=y.color;y.delay;var w=y.type,T=y.height,k=y.width,P=D(y,["color","delay","type","height","width"]),L=this.state.delayed?"blank":w,N=I[L],F={fill:_,height:T,width:k};return m.default.createElement("div",o({style:F,dangerouslySetInnerHTML:{__html:N}},P))}}]),p}(a.Component);f.propTypes={color:d.default.string,delay:d.default.number,type:d.default.string,height:d.default.oneOfType([d.default.string,d.default.number]),width:d.default.oneOfType([d.default.string,d.default.number])},f.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},r.default=f},function(n,r,i){n.exports=i(9)},function(n,r,i){/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=i(2),s=i(0),a=i(5),m=i(1),u=typeof Symbol=="function"&&Symbol.for,d=u?Symbol.for("react.element"):60103,E=u?Symbol.for("react.portal"):60106,I=u?Symbol.for("react.fragment"):60107,O=u?Symbol.for("react.strict_mode"):60108,A=u?Symbol.for("react.provider"):60109,D=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.async_mode"):60111,l=u?Symbol.for("react.forward_ref"):60112,c=typeof Symbol=="function"&&Symbol.iterator;function f(fe){for(var J=arguments.length-1,he="http://reactjs.org/docs/error-decoder.html?invariant="+fe,ne=0;ne<J;ne++)he+="&args[]="+encodeURIComponent(arguments[ne+1]);s(!1,"Minified React error #"+fe+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",he)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function p(fe,J,he){this.props=fe,this.context=J,this.refs=a,this.updater=he||h}p.prototype.isReactComponent={},p.prototype.setState=function(fe,J){typeof fe!="object"&&typeof fe!="function"&&fe!=null&&f("85"),this.updater.enqueueSetState(this,fe,J,"setState")},p.prototype.forceUpdate=function(fe){this.updater.enqueueForceUpdate(this,fe,"forceUpdate")};function g(){}g.prototype=p.prototype;function y(fe,J,he){this.props=fe,this.context=J,this.refs=a,this.updater=he||h}var _=y.prototype=new g;_.constructor=y,o(_,p.prototype),_.isPureReactComponent=!0;var w={current:null},T=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function P(fe,J,he){var ne=void 0,q={},ye=null,Z=null;if(J!=null)for(ne in J.ref!==void 0&&(Z=J.ref),J.key!==void 0&&(ye=""+J.key),J)T.call(J,ne)&&!k.hasOwnProperty(ne)&&(q[ne]=J[ne]);var te=arguments.length-2;if(te===1)q.children=he;else if(1<te){for(var ce=Array(te),de=0;de<te;de++)ce[de]=arguments[de+2];q.children=ce}if(fe&&fe.defaultProps)for(ne in te=fe.defaultProps,te)q[ne]===void 0&&(q[ne]=te[ne]);return{$$typeof:d,type:fe,key:ye,ref:Z,props:q,_owner:w.current}}function L(fe){return typeof fe=="object"&&fe!==null&&fe.$$typeof===d}function N(fe){var J={"=":"=0",":":"=2"};return"$"+(""+fe).replace(/[=:]/g,function(he){return J[he]})}var F=/\/+/g,G=[];function H(fe,J,he,ne){if(G.length){var q=G.pop();return q.result=fe,q.keyPrefix=J,q.func=he,q.context=ne,q.count=0,q}return{result:fe,keyPrefix:J,func:he,context:ne,count:0}}function $(fe){fe.result=null,fe.keyPrefix=null,fe.func=null,fe.context=null,fe.count=0,10>G.length&&G.push(fe)}function re(fe,J,he,ne){var q=typeof fe;(q==="undefined"||q==="boolean")&&(fe=null);var ye=!1;if(fe===null)ye=!0;else switch(q){case"string":case"number":ye=!0;break;case"object":switch(fe.$$typeof){case d:case E:ye=!0}}if(ye)return he(ne,fe,J===""?"."+le(fe,0):J),1;if(ye=0,J=J===""?".":J+":",Array.isArray(fe))for(var Z=0;Z<fe.length;Z++){q=fe[Z];var te=J+le(q,Z);ye+=re(q,te,he,ne)}else if(fe===null||typeof fe>"u"?te=null:(te=c&&fe[c]||fe["@@iterator"],te=typeof te=="function"?te:null),typeof te=="function")for(fe=te.call(fe),Z=0;!(q=fe.next()).done;)q=q.value,te=J+le(q,Z++),ye+=re(q,te,he,ne);else q==="object"&&(he=""+fe,f("31",he==="[object Object]"?"object with keys {"+Object.keys(fe).join(", ")+"}":he,""));return ye}function le(fe,J){return typeof fe=="object"&&fe!==null&&fe.key!=null?N(fe.key):J.toString(36)}function xe(fe,J){fe.func.call(fe.context,J,fe.count++)}function ee(fe,J,he){var ne=fe.result,q=fe.keyPrefix;fe=fe.func.call(fe.context,J,fe.count++),Array.isArray(fe)?be(fe,ne,he,m.thatReturnsArgument):fe!=null&&(L(fe)&&(J=q+(!fe.key||J&&J.key===fe.key?"":(""+fe.key).replace(F,"$&/")+"/")+he,fe={$$typeof:d,type:fe.type,key:J,ref:fe.ref,props:fe.props,_owner:fe._owner}),ne.push(fe))}function be(fe,J,he,ne,q){var ye="";he!=null&&(ye=(""+he).replace(F,"$&/")+"/"),J=H(J,ye,ne,q),fe==null||re(fe,"",ee,J),$(J)}var K={Children:{map:function(fe,J,he){if(fe==null)return fe;var ne=[];return be(fe,ne,null,J,he),ne},forEach:function(fe,J,he){if(fe==null)return fe;J=H(null,null,J,he),fe==null||re(fe,"",xe,J),$(J)},count:function(fe){return fe==null?0:re(fe,"",m.thatReturnsNull,null)},toArray:function(fe){var J=[];return be(fe,J,null,m.thatReturnsArgument),J},only:function(fe){return L(fe)||f("143"),fe}},createRef:function(){return{current:null}},Component:p,PureComponent:y,createContext:function(fe,J){return J===void 0&&(J=null),fe={$$typeof:D,_calculateChangedBits:J,_defaultValue:fe,_currentValue:fe,_changedBits:0,Provider:null,Consumer:null},fe.Provider={$$typeof:A,_context:fe},fe.Consumer=fe},forwardRef:function(fe){return{$$typeof:l,render:fe}},Fragment:I,StrictMode:O,unstable_AsyncMode:v,createElement:P,cloneElement:function(fe,J,he){fe==null&&f("267",fe);var ne=void 0,q=o({},fe.props),ye=fe.key,Z=fe.ref,te=fe._owner;if(J!=null){J.ref!==void 0&&(Z=J.ref,te=w.current),J.key!==void 0&&(ye=""+J.key);var ce=void 0;fe.type&&fe.type.defaultProps&&(ce=fe.type.defaultProps);for(ne in J)T.call(J,ne)&&!k.hasOwnProperty(ne)&&(q[ne]=J[ne]===void 0&&ce!==void 0?ce[ne]:J[ne])}if(ne=arguments.length-2,ne===1)q.children=he;else if(1<ne){ce=Array(ne);for(var de=0;de<ne;de++)ce[de]=arguments[de+2];q.children=ce}return{$$typeof:d,type:fe.type,key:ye,ref:Z,props:q,_owner:te}},createFactory:function(fe){var J=P.bind(null,fe);return J.type=fe,J},isValidElement:L,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:o}},Oe=Object.freeze({default:K}),_e=Oe&&K||Oe;n.exports=_e.default?_e.default:_e},function(n,r,i){},function(n,r,i){n.exports=i(13)()},function(n,r,i){var o=i(1),s=i(0),a=i(3),m=i(2),u=i(4),d=i(6);n.exports=function(E,I){var O=typeof Symbol=="function"&&Symbol.iterator,A="@@iterator";function D(ee){var be=ee&&(O&&ee[O]||ee[A]);if(typeof be=="function")return be}var v="<<anonymous>>",l={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:g(),arrayOf:y,element:_(),instanceOf:w,node:L(),objectOf:k,oneOf:T,oneOfType:P,shape:N,exact:F};function c(ee,be){return ee===be?ee!==0||1/ee===1/be:ee!==ee&&be!==be}function f(ee){this.message=ee,this.stack=""}f.prototype=Error.prototype;function h(ee){function be(Oe,_e,fe,J,he,ne,q){return J=J||v,ne=ne||fe,q!==u&&I&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),_e[fe]==null?Oe?_e[fe]===null?new f("The "+he+" `"+ne+"` is marked as required "+("in `"+J+"`, but its value is `null`.")):new f("The "+he+" `"+ne+"` is marked as required in "+("`"+J+"`, but its value is `undefined`.")):null:ee(_e,fe,J,he,ne)}var K=be.bind(null,!1);return K.isRequired=be.bind(null,!0),K}function p(ee){function be(K,Oe,_e,fe,J,he){var ne=K[Oe],q=$(ne);if(q!==ee){var ye=re(ne);return new f("Invalid "+fe+" `"+J+"` of type "+("`"+ye+"` supplied to `"+_e+"`, expected ")+("`"+ee+"`."))}return null}return h(be)}function g(){return h(o.thatReturnsNull)}function y(ee){function be(K,Oe,_e,fe,J){if(typeof ee!="function")return new f("Property `"+J+"` of component `"+_e+"` has invalid PropType notation inside arrayOf.");var he=K[Oe];if(!Array.isArray(he)){var ne=$(he);return new f("Invalid "+fe+" `"+J+"` of type "+("`"+ne+"` supplied to `"+_e+"`, expected an array."))}for(var q=0;q<he.length;q++){var ye=ee(he,q,_e,fe,J+"["+q+"]",u);if(ye instanceof Error)return ye}return null}return h(be)}function _(){function ee(be,K,Oe,_e,fe){var J=be[K];if(!E(J)){var he=$(J);return new f("Invalid "+_e+" `"+fe+"` of type "+("`"+he+"` supplied to `"+Oe+"`, expected a single ReactElement."))}return null}return h(ee)}function w(ee){function be(K,Oe,_e,fe,J){if(!(K[Oe]instanceof ee)){var he=ee.name||v,ne=xe(K[Oe]);return new f("Invalid "+fe+" `"+J+"` of type "+("`"+ne+"` supplied to `"+_e+"`, expected ")+("instance of `"+he+"`."))}return null}return h(be)}function T(ee){if(!Array.isArray(ee))return o.thatReturnsNull;function be(K,Oe,_e,fe,J){for(var he=K[Oe],ne=0;ne<ee.length;ne++)if(c(he,ee[ne]))return null;var q=JSON.stringify(ee);return new f("Invalid "+fe+" `"+J+"` of value `"+he+"` "+("supplied to `"+_e+"`, expected one of "+q+"."))}return h(be)}function k(ee){function be(K,Oe,_e,fe,J){if(typeof ee!="function")return new f("Property `"+J+"` of component `"+_e+"` has invalid PropType notation inside objectOf.");var he=K[Oe],ne=$(he);if(ne!=="object")return new f("Invalid "+fe+" `"+J+"` of type "+("`"+ne+"` supplied to `"+_e+"`, expected an object."));for(var q in he)if(he.hasOwnProperty(q)){var ye=ee(he,q,_e,fe,J+"."+q,u);if(ye instanceof Error)return ye}return null}return h(be)}function P(ee){if(!Array.isArray(ee))return o.thatReturnsNull;for(var be=0;be<ee.length;be++){var K=ee[be];if(typeof K!="function")return a(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",le(K),be),o.thatReturnsNull}function Oe(_e,fe,J,he,ne){for(var q=0;q<ee.length;q++){var ye=ee[q];if(ye(_e,fe,J,he,ne,u)==null)return null}return new f("Invalid "+he+" `"+ne+"` supplied to "+("`"+J+"`."))}return h(Oe)}function L(){function ee(be,K,Oe,_e,fe){return G(be[K])?null:new f("Invalid "+_e+" `"+fe+"` supplied to "+("`"+Oe+"`, expected a ReactNode."))}return h(ee)}function N(ee){function be(K,Oe,_e,fe,J){var he=K[Oe],ne=$(he);if(ne!=="object")return new f("Invalid "+fe+" `"+J+"` of type `"+ne+"` "+("supplied to `"+_e+"`, expected `object`."));for(var q in ee){var ye=ee[q];if(ye){var Z=ye(he,q,_e,fe,J+"."+q,u);if(Z)return Z}}return null}return h(be)}function F(ee){function be(K,Oe,_e,fe,J){var he=K[Oe],ne=$(he);if(ne!=="object")return new f("Invalid "+fe+" `"+J+"` of type `"+ne+"` "+("supplied to `"+_e+"`, expected `object`."));var q=m({},K[Oe],ee);for(var ye in q){var Z=ee[ye];if(!Z)return new f("Invalid "+fe+" `"+J+"` key `"+ye+"` supplied to `"+_e+"`.\nBad object: "+JSON.stringify(K[Oe],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(ee),null,"  "));var te=Z(he,ye,_e,fe,J+"."+ye,u);if(te)return te}return null}return h(be)}function G(ee){switch(typeof ee){case"number":case"string":case"undefined":return!0;case"boolean":return!ee;case"object":if(Array.isArray(ee))return ee.every(G);if(ee===null||E(ee))return!0;var be=D(ee);if(be){var K=be.call(ee),Oe;if(be!==ee.entries){for(;!(Oe=K.next()).done;)if(!G(Oe.value))return!1}else for(;!(Oe=K.next()).done;){var _e=Oe.value;if(_e&&!G(_e[1]))return!1}}else return!1;return!0;default:return!1}}function H(ee,be){return ee==="symbol"||be["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&be instanceof Symbol}function $(ee){var be=typeof ee;return Array.isArray(ee)?"array":ee instanceof RegExp?"object":H(be,ee)?"symbol":be}function re(ee){if(typeof ee>"u"||ee===null)return""+ee;var be=$(ee);if(be==="object"){if(ee instanceof Date)return"date";if(ee instanceof RegExp)return"regexp"}return be}function le(ee){var be=re(ee);switch(be){case"array":case"object":return"an "+be;case"boolean":case"date":case"regexp":return"a "+be;default:return be}}function xe(ee){return!ee.constructor||!ee.constructor.name?v:ee.constructor.name}return l.checkPropTypes=d,l.PropTypes=l,l}},function(n,r,i){var o=i(1),s=i(0),a=i(4);n.exports=function(){function m(E,I,O,A,D,v){v!==a&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}m.isRequired=m;function u(){return m}var d={array:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:u,element:m,instanceOf:u,node:m,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u};return d.checkPropTypes=o,d.PropTypes=d,d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(15);Object.defineProperty(r,"blank",{enumerable:!0,get:function(){return A(o).default}});var s=i(16);Object.defineProperty(r,"balls",{enumerable:!0,get:function(){return A(s).default}});var a=i(17);Object.defineProperty(r,"bars",{enumerable:!0,get:function(){return A(a).default}});var m=i(18);Object.defineProperty(r,"bubbles",{enumerable:!0,get:function(){return A(m).default}});var u=i(19);Object.defineProperty(r,"cubes",{enumerable:!0,get:function(){return A(u).default}});var d=i(20);Object.defineProperty(r,"cylon",{enumerable:!0,get:function(){return A(d).default}});var E=i(21);Object.defineProperty(r,"spin",{enumerable:!0,get:function(){return A(E).default}});var I=i(22);Object.defineProperty(r,"spinningBubbles",{enumerable:!0,get:function(){return A(I).default}});var O=i(23);Object.defineProperty(r,"spokes",{enumerable:!0,get:function(){return A(O).default}});function A(D){return D&&D.__esModule?D:{default:D}}},function(n,r){n.exports=`<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>
`},function(n,r){n.exports=`<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(8)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(14)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(20)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
  <path transform="translate(26)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> 
    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"
      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> 
    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">
    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>
  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">
    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />
  </path>
</svg>
`},function(n,r){n.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <circle cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">
    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />
  </circle>
</svg>
`},function(n,r){n.exports=`<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>
  </path>
  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">
    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>
  </path>
</svg>
`}])})})(xJ);const IJ=()=>{const[t,e]=Ae.useState(null),[n,r]=Ae.useState(null),[i,o]=Ae.useState(null),[s,a]=Ae.useState(!1);let{id:m}=uD();const u=()=>{a(!1)};Ae.useEffect(()=>{(async()=>{const g=await ti.firestore().collection("invitations").doc(m).get();g.exists&&o(g.data())})()},[m]);const d=i==null?void 0:i.userId,E=i==null?void 0:i.eventId,I=i==null?void 0:i.numberOfViews;Ae.useEffect(()=>{(async()=>{const g=await ti.firestore().collection("users").doc(d).get();g.exists&&e(g.data())})()},[d]),Ae.useEffect(()=>{(async()=>{const g=await ti.firestore().collection("events").doc(E).get();g.exists&&r(g.data())})()},[E]);const O=n?n.location.longitude:null,A=n?n.location.latitude:null,D=n?new Date(n.dateTime):null,v=D?D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,l=n?n.dateTime.slice(0,20):null,c=n?n.venue:null,f=n?n.description:null;return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"acceptevent-container",children:ie.jsxs("div",{className:"acceptevent-items",children:[ie.jsxs("div",{className:"accept-detail",children:[ie.jsxs("label",{className:"acceptor-name",children:[" ",(t==null?void 0:t.name)||""," "]}),ie.jsx("label",{className:"invitor-name",children:"      "})]}),ie.jsx("div",{className:"acceptevent-contents",children:ie.jsx("div",{className:"acceptitem-image",children:n==null?ie.jsx(vj,{}):ie.jsx("img",{src:n==null?void 0:n.mediaUrl,alt:"template"})})}),ie.jsx(CJ,{closeDetailsPopup:u,venue:c,dateString:l,timeString:v,eventid:E,description:f,invitationId:m,latitude:A,longitude:O,views:I})]})})})};var jO=Array.isArray,FO=Object.keys,EJ=Object.prototype.hasOwnProperty,TJ=typeof Element<"u";function nb(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=jO(t),r=jO(e),i,o,s;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!nb(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,m=e instanceof Date;if(a!=m)return!1;if(a&&m)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var E=FO(t);if(o=E.length,o!==FO(e).length)return!1;for(i=o;i--!==0;)if(!EJ.call(e,E[i]))return!1;if(TJ&&t instanceof Element&&e instanceof Element)return t===e;for(i=o;i--!==0;)if(s=E[i],!(s==="_owner"&&t.$$typeof)&&!nb(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}var MJ=function(e,n){try{return nb(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Tl=Ud(MJ);var OJ=function(e){return kJ(e)&&!AJ(e)};function kJ(t){return!!t&&typeof t=="object"}function AJ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||NJ(t)}var DJ=typeof Symbol=="function"&&Symbol.for,PJ=DJ?Symbol.for("react.element"):60103;function NJ(t){return t.$$typeof===PJ}function RJ(t){return Array.isArray(t)?[]:{}}function Nv(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Rd(RJ(t),t,e):t}function LJ(t,e,n){return t.concat(e).map(function(r){return Nv(r,n)})}function jJ(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Nv(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Nv(e[i],n):r[i]=Rd(t[i],e[i],n)}),r}function Rd(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||LJ,n.isMergeableObject=n.isMergeableObject||OJ;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):jJ(t,e,n):Nv(e,n)}Rd.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Rd(r,i,n)},{})};var rb=Rd,FJ=typeof global=="object"&&global&&global.Object===Object&&global;const yj=FJ;var zJ=typeof self=="object"&&self&&self.Object===Object&&self,BJ=yj||zJ||Function("return this")();const vs=BJ;var UJ=vs.Symbol;const Xa=UJ;var wj=Object.prototype,HJ=wj.hasOwnProperty,WJ=wj.toString,nf=Xa?Xa.toStringTag:void 0;function VJ(t){var e=HJ.call(t,nf),n=t[nf];try{t[nf]=void 0;var r=!0}catch{}var i=WJ.call(t);return r&&(e?t[nf]=n:delete t[nf]),i}var GJ=Object.prototype,$J=GJ.toString;function YJ(t){return $J.call(t)}var XJ="[object Null]",KJ="[object Undefined]",zO=Xa?Xa.toStringTag:void 0;function Pu(t){return t==null?t===void 0?KJ:XJ:zO&&zO in Object(t)?VJ(t):YJ(t)}function Sj(t,e){return function(n){return t(e(n))}}var ZJ=Sj(Object.getPrototypeOf,Object);const dx=ZJ;function Nu(t){return t!=null&&typeof t=="object"}var QJ="[object Object]",JJ=Function.prototype,qJ=Object.prototype,bj=JJ.toString,eq=qJ.hasOwnProperty,tq=bj.call(Object);function BO(t){if(!Nu(t)||Pu(t)!=QJ)return!1;var e=dx(t);if(e===null)return!0;var n=eq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&bj.call(n)==tq}function nq(){this.__data__=[],this.size=0}function _j(t,e){return t===e||t!==t&&e!==e}function qy(t,e){for(var n=t.length;n--;)if(_j(t[n][0],e))return n;return-1}var rq=Array.prototype,iq=rq.splice;function oq(t){var e=this.__data__,n=qy(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():iq.call(e,n,1),--this.size,!0}function sq(t){var e=this.__data__,n=qy(e,t);return n<0?void 0:e[n][1]}function aq(t){return qy(this.__data__,t)>-1}function lq(t,e){var n=this.__data__,r=qy(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Js.prototype.clear=nq;Js.prototype.delete=oq;Js.prototype.get=sq;Js.prototype.has=aq;Js.prototype.set=lq;function uq(){this.__data__=new Js,this.size=0}function cq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function hq(t){return this.__data__.get(t)}function fq(t){return this.__data__.has(t)}function Ip(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var dq="[object AsyncFunction]",pq="[object Function]",gq="[object GeneratorFunction]",mq="[object Proxy]";function Cj(t){if(!Ip(t))return!1;var e=Pu(t);return e==pq||e==gq||e==dq||e==mq}var vq=vs["__core-js_shared__"];const qw=vq;var UO=function(){var t=/[^.]+$/.exec(qw&&qw.keys&&qw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function yq(t){return!!UO&&UO in t}var wq=Function.prototype,Sq=wq.toString;function Ru(t){if(t!=null){try{return Sq.call(t)}catch{}try{return t+""}catch{}}return""}var bq=/[\\^$.*+?()[\]{}|]/g,_q=/^\[object .+?Constructor\]$/,Cq=Function.prototype,xq=Object.prototype,Iq=Cq.toString,Eq=xq.hasOwnProperty,Tq=RegExp("^"+Iq.call(Eq).replace(bq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mq(t){if(!Ip(t)||yq(t))return!1;var e=Cj(t)?Tq:_q;return e.test(Ru(t))}function Oq(t,e){return t==null?void 0:t[e]}function Lu(t,e){var n=Oq(t,e);return Mq(n)?n:void 0}var kq=Lu(vs,"Map");const Ld=kq;var Aq=Lu(Object,"create");const jd=Aq;function Dq(){this.__data__=jd?jd(null):{},this.size=0}function Pq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Nq="__lodash_hash_undefined__",Rq=Object.prototype,Lq=Rq.hasOwnProperty;function jq(t){var e=this.__data__;if(jd){var n=e[t];return n===Nq?void 0:n}return Lq.call(e,t)?e[t]:void 0}var Fq=Object.prototype,zq=Fq.hasOwnProperty;function Bq(t){var e=this.__data__;return jd?e[t]!==void 0:zq.call(e,t)}var Uq="__lodash_hash_undefined__";function Hq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jd&&e===void 0?Uq:e,this}function yu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yu.prototype.clear=Dq;yu.prototype.delete=Pq;yu.prototype.get=jq;yu.prototype.has=Bq;yu.prototype.set=Hq;function Wq(){this.size=0,this.__data__={hash:new yu,map:new(Ld||Js),string:new yu}}function Vq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function e0(t,e){var n=t.__data__;return Vq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Gq(t){var e=e0(this,t).delete(t);return this.size-=e?1:0,e}function $q(t){return e0(this,t).get(t)}function Yq(t){return e0(this,t).has(t)}function Xq(t,e){var n=e0(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ll(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ll.prototype.clear=Wq;ll.prototype.delete=Gq;ll.prototype.get=$q;ll.prototype.has=Yq;ll.prototype.set=Xq;var Kq=200;function Zq(t,e){var n=this.__data__;if(n instanceof Js){var r=n.__data__;if(!Ld||r.length<Kq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ll(r)}return n.set(t,e),this.size=n.size,this}function Ih(t){var e=this.__data__=new Js(t);this.size=e.size}Ih.prototype.clear=uq;Ih.prototype.delete=cq;Ih.prototype.get=hq;Ih.prototype.has=fq;Ih.prototype.set=Zq;function Qq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Jq=function(){try{var t=Lu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const HO=Jq;function xj(t,e,n){e=="__proto__"&&HO?HO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var qq=Object.prototype,eee=qq.hasOwnProperty;function Ij(t,e,n){var r=t[e];(!(eee.call(t,e)&&_j(r,n))||n===void 0&&!(e in t))&&xj(t,e,n)}function t0(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],m=r?r(n[a],t[a],a,n,t):void 0;m===void 0&&(m=t[a]),i?xj(n,a,m):Ij(n,a,m)}return n}function tee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nee="[object Arguments]";function WO(t){return Nu(t)&&Pu(t)==nee}var Ej=Object.prototype,ree=Ej.hasOwnProperty,iee=Ej.propertyIsEnumerable,oee=WO(function(){return arguments}())?WO:function(t){return Nu(t)&&ree.call(t,"callee")&&!iee.call(t,"callee")};const see=oee;var aee=Array.isArray;const Ep=aee;function lee(){return!1}var Tj=typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,VO=Tj&&typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,uee=VO&&VO.exports===Tj,GO=uee?vs.Buffer:void 0,cee=GO?GO.isBuffer:void 0,hee=cee||lee;const Mj=hee;var fee=9007199254740991,dee=/^(?:0|[1-9]\d*)$/;function pee(t,e){var n=typeof t;return e=e??fee,!!e&&(n=="number"||n!="symbol"&&dee.test(t))&&t>-1&&t%1==0&&t<e}var gee=9007199254740991;function Oj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gee}var mee="[object Arguments]",vee="[object Array]",yee="[object Boolean]",wee="[object Date]",See="[object Error]",bee="[object Function]",_ee="[object Map]",Cee="[object Number]",xee="[object Object]",Iee="[object RegExp]",Eee="[object Set]",Tee="[object String]",Mee="[object WeakMap]",Oee="[object ArrayBuffer]",kee="[object DataView]",Aee="[object Float32Array]",Dee="[object Float64Array]",Pee="[object Int8Array]",Nee="[object Int16Array]",Ree="[object Int32Array]",Lee="[object Uint8Array]",jee="[object Uint8ClampedArray]",Fee="[object Uint16Array]",zee="[object Uint32Array]",Fn={};Fn[Aee]=Fn[Dee]=Fn[Pee]=Fn[Nee]=Fn[Ree]=Fn[Lee]=Fn[jee]=Fn[Fee]=Fn[zee]=!0;Fn[mee]=Fn[vee]=Fn[Oee]=Fn[yee]=Fn[kee]=Fn[wee]=Fn[See]=Fn[bee]=Fn[_ee]=Fn[Cee]=Fn[xee]=Fn[Iee]=Fn[Eee]=Fn[Tee]=Fn[Mee]=!1;function Bee(t){return Nu(t)&&Oj(t.length)&&!!Fn[Pu(t)]}function px(t){return function(e){return t(e)}}var kj=typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,Hf=kj&&typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,Uee=Hf&&Hf.exports===kj,e1=Uee&&yj.process,Hee=function(){try{var t=Hf&&Hf.require&&Hf.require("util").types;return t||e1&&e1.binding&&e1.binding("util")}catch{}}();const rh=Hee;var $O=rh&&rh.isTypedArray,Wee=$O?px($O):Bee;const Vee=Wee;var Gee=Object.prototype,$ee=Gee.hasOwnProperty;function Aj(t,e){var n=Ep(t),r=!n&&see(t),i=!n&&!r&&Mj(t),o=!n&&!r&&!i&&Vee(t),s=n||r||i||o,a=s?tee(t.length,String):[],m=a.length;for(var u in t)(e||$ee.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||pee(u,m)))&&a.push(u);return a}var Yee=Object.prototype;function gx(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yee;return t===n}var Xee=Sj(Object.keys,Object);const Kee=Xee;var Zee=Object.prototype,Qee=Zee.hasOwnProperty;function Jee(t){if(!gx(t))return Kee(t);var e=[];for(var n in Object(t))Qee.call(t,n)&&n!="constructor"&&e.push(n);return e}function Dj(t){return t!=null&&Oj(t.length)&&!Cj(t)}function mx(t){return Dj(t)?Aj(t):Jee(t)}function qee(t,e){return t&&t0(e,mx(e),t)}function ete(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var tte=Object.prototype,nte=tte.hasOwnProperty;function rte(t){if(!Ip(t))return ete(t);var e=gx(t),n=[];for(var r in t)r=="constructor"&&(e||!nte.call(t,r))||n.push(r);return n}function vx(t){return Dj(t)?Aj(t,!0):rte(t)}function ite(t,e){return t&&t0(e,vx(e),t)}var Pj=typeof Wi=="object"&&Wi&&!Wi.nodeType&&Wi,YO=Pj&&typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,ote=YO&&YO.exports===Pj,XO=ote?vs.Buffer:void 0,KO=XO?XO.allocUnsafe:void 0;function ste(t,e){if(e)return t.slice();var n=t.length,r=KO?KO(n):new t.constructor(n);return t.copy(r),r}function Nj(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function ate(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function Rj(){return[]}var lte=Object.prototype,ute=lte.propertyIsEnumerable,ZO=Object.getOwnPropertySymbols,cte=ZO?function(t){return t==null?[]:(t=Object(t),ate(ZO(t),function(e){return ute.call(t,e)}))}:Rj;const yx=cte;function hte(t,e){return t0(t,yx(t),e)}function Lj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var fte=Object.getOwnPropertySymbols,dte=fte?function(t){for(var e=[];t;)Lj(e,yx(t)),t=dx(t);return e}:Rj;const jj=dte;function pte(t,e){return t0(t,jj(t),e)}function Fj(t,e,n){var r=e(t);return Ep(t)?r:Lj(r,n(t))}function gte(t){return Fj(t,mx,yx)}function mte(t){return Fj(t,vx,jj)}var vte=Lu(vs,"DataView");const ib=vte;var yte=Lu(vs,"Promise");const ob=yte;var wte=Lu(vs,"Set");const sb=wte;var Ste=Lu(vs,"WeakMap");const ab=Ste;var QO="[object Map]",bte="[object Object]",JO="[object Promise]",qO="[object Set]",ek="[object WeakMap]",tk="[object DataView]",_te=Ru(ib),Cte=Ru(Ld),xte=Ru(ob),Ite=Ru(sb),Ete=Ru(ab),Ml=Pu;(ib&&Ml(new ib(new ArrayBuffer(1)))!=tk||Ld&&Ml(new Ld)!=QO||ob&&Ml(ob.resolve())!=JO||sb&&Ml(new sb)!=qO||ab&&Ml(new ab)!=ek)&&(Ml=function(t){var e=Pu(t),n=e==bte?t.constructor:void 0,r=n?Ru(n):"";if(r)switch(r){case _te:return tk;case Cte:return QO;case xte:return JO;case Ite:return qO;case Ete:return ek}return e});const wx=Ml;var Tte=Object.prototype,Mte=Tte.hasOwnProperty;function Ote(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Mte.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var kte=vs.Uint8Array;const nk=kte;function Sx(t){var e=new t.constructor(t.byteLength);return new nk(e).set(new nk(t)),e}function Ate(t,e){var n=e?Sx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Dte=/\w*$/;function Pte(t){var e=new t.constructor(t.source,Dte.exec(t));return e.lastIndex=t.lastIndex,e}var rk=Xa?Xa.prototype:void 0,ik=rk?rk.valueOf:void 0;function Nte(t){return ik?Object(ik.call(t)):{}}function Rte(t,e){var n=e?Sx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Lte="[object Boolean]",jte="[object Date]",Fte="[object Map]",zte="[object Number]",Bte="[object RegExp]",Ute="[object Set]",Hte="[object String]",Wte="[object Symbol]",Vte="[object ArrayBuffer]",Gte="[object DataView]",$te="[object Float32Array]",Yte="[object Float64Array]",Xte="[object Int8Array]",Kte="[object Int16Array]",Zte="[object Int32Array]",Qte="[object Uint8Array]",Jte="[object Uint8ClampedArray]",qte="[object Uint16Array]",ene="[object Uint32Array]";function tne(t,e,n){var r=t.constructor;switch(e){case Vte:return Sx(t);case Lte:case jte:return new r(+t);case Gte:return Ate(t,n);case $te:case Yte:case Xte:case Kte:case Zte:case Qte:case Jte:case qte:case ene:return Rte(t,n);case Fte:return new r;case zte:case Hte:return new r(t);case Bte:return Pte(t);case Ute:return new r;case Wte:return Nte(t)}}var ok=Object.create,nne=function(){function t(){}return function(e){if(!Ip(e))return{};if(ok)return ok(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const rne=nne;function ine(t){return typeof t.constructor=="function"&&!gx(t)?rne(dx(t)):{}}var one="[object Map]";function sne(t){return Nu(t)&&wx(t)==one}var sk=rh&&rh.isMap,ane=sk?px(sk):sne;const lne=ane;var une="[object Set]";function cne(t){return Nu(t)&&wx(t)==une}var ak=rh&&rh.isSet,hne=ak?px(ak):cne;const fne=hne;var dne=1,pne=2,gne=4,zj="[object Arguments]",mne="[object Array]",vne="[object Boolean]",yne="[object Date]",wne="[object Error]",Bj="[object Function]",Sne="[object GeneratorFunction]",bne="[object Map]",_ne="[object Number]",Uj="[object Object]",Cne="[object RegExp]",xne="[object Set]",Ine="[object String]",Ene="[object Symbol]",Tne="[object WeakMap]",Mne="[object ArrayBuffer]",One="[object DataView]",kne="[object Float32Array]",Ane="[object Float64Array]",Dne="[object Int8Array]",Pne="[object Int16Array]",Nne="[object Int32Array]",Rne="[object Uint8Array]",Lne="[object Uint8ClampedArray]",jne="[object Uint16Array]",Fne="[object Uint32Array]",Dn={};Dn[zj]=Dn[mne]=Dn[Mne]=Dn[One]=Dn[vne]=Dn[yne]=Dn[kne]=Dn[Ane]=Dn[Dne]=Dn[Pne]=Dn[Nne]=Dn[bne]=Dn[_ne]=Dn[Uj]=Dn[Cne]=Dn[xne]=Dn[Ine]=Dn[Ene]=Dn[Rne]=Dn[Lne]=Dn[jne]=Dn[Fne]=!0;Dn[wne]=Dn[Bj]=Dn[Tne]=!1;function xm(t,e,n,r,i,o){var s,a=e&dne,m=e&pne,u=e&gne;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!Ip(t))return t;var d=Ep(t);if(d){if(s=Ote(t),!a)return Nj(t,s)}else{var E=wx(t),I=E==Bj||E==Sne;if(Mj(t))return ste(t,a);if(E==Uj||E==zj||I&&!i){if(s=m||I?{}:ine(t),!a)return m?pte(t,ite(s,t)):hte(t,qee(s,t))}else{if(!Dn[E])return i?t:{};s=tne(t,E,a)}}o||(o=new Ih);var O=o.get(t);if(O)return O;o.set(t,s),fne(t)?t.forEach(function(v){s.add(xm(v,e,n,v,t,o))}):lne(t)&&t.forEach(function(v,l){s.set(l,xm(v,e,n,l,t,o))});var A=u?m?mte:gte:m?vx:mx,D=d?void 0:A(t);return Qq(D||t,function(v,l){D&&(l=v,v=t[l]),Ij(s,l,xm(v,e,n,l,t,o))}),s}var zne=4;function lk(t){return xm(t,zne)}function Hj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Bne="[object Symbol]";function bx(t){return typeof t=="symbol"||Nu(t)&&Pu(t)==Bne}var Une="Expected a function";function _x(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Une);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(_x.Cache||ll),n}_x.Cache=ll;var Hne=500;function Wne(t){var e=_x(t,function(r){return n.size===Hne&&n.clear(),r}),n=e.cache;return e}var Vne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gne=/\\(\\)?/g,$ne=Wne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vne,function(n,r,i,o){e.push(i?o.replace(Gne,"$1"):r||n)}),e});const Yne=$ne;var Xne=1/0;function Kne(t){if(typeof t=="string"||bx(t))return t;var e=t+"";return e=="0"&&1/t==-Xne?"-0":e}var Zne=1/0,uk=Xa?Xa.prototype:void 0,ck=uk?uk.toString:void 0;function Wj(t){if(typeof t=="string")return t;if(Ep(t))return Hj(t,Wj)+"";if(bx(t))return ck?ck.call(t):"";var e=t+"";return e=="0"&&1/t==-Zne?"-0":e}function Qne(t){return t==null?"":Wj(t)}function Vj(t){return Ep(t)?Hj(t,Kne):bx(t)?[t]:Nj(Yne(Qne(t)))}var Jne=!0;function qne(t,e){if(!Jne){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var Gj={exports:{}},In={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=typeof Symbol=="function"&&Symbol.for,Cx=Ar?Symbol.for("react.element"):60103,xx=Ar?Symbol.for("react.portal"):60106,n0=Ar?Symbol.for("react.fragment"):60107,r0=Ar?Symbol.for("react.strict_mode"):60108,i0=Ar?Symbol.for("react.profiler"):60114,o0=Ar?Symbol.for("react.provider"):60109,s0=Ar?Symbol.for("react.context"):60110,Ix=Ar?Symbol.for("react.async_mode"):60111,a0=Ar?Symbol.for("react.concurrent_mode"):60111,l0=Ar?Symbol.for("react.forward_ref"):60112,u0=Ar?Symbol.for("react.suspense"):60113,ere=Ar?Symbol.for("react.suspense_list"):60120,c0=Ar?Symbol.for("react.memo"):60115,h0=Ar?Symbol.for("react.lazy"):60116,tre=Ar?Symbol.for("react.block"):60121,nre=Ar?Symbol.for("react.fundamental"):60117,rre=Ar?Symbol.for("react.responder"):60118,ire=Ar?Symbol.for("react.scope"):60119;function Qi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Cx:switch(t=t.type,t){case Ix:case a0:case n0:case i0:case r0:case u0:return t;default:switch(t=t&&t.$$typeof,t){case s0:case l0:case h0:case c0:case o0:return t;default:return e}}case xx:return e}}}function $j(t){return Qi(t)===a0}In.AsyncMode=Ix;In.ConcurrentMode=a0;In.ContextConsumer=s0;In.ContextProvider=o0;In.Element=Cx;In.ForwardRef=l0;In.Fragment=n0;In.Lazy=h0;In.Memo=c0;In.Portal=xx;In.Profiler=i0;In.StrictMode=r0;In.Suspense=u0;In.isAsyncMode=function(t){return $j(t)||Qi(t)===Ix};In.isConcurrentMode=$j;In.isContextConsumer=function(t){return Qi(t)===s0};In.isContextProvider=function(t){return Qi(t)===o0};In.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cx};In.isForwardRef=function(t){return Qi(t)===l0};In.isFragment=function(t){return Qi(t)===n0};In.isLazy=function(t){return Qi(t)===h0};In.isMemo=function(t){return Qi(t)===c0};In.isPortal=function(t){return Qi(t)===xx};In.isProfiler=function(t){return Qi(t)===i0};In.isStrictMode=function(t){return Qi(t)===r0};In.isSuspense=function(t){return Qi(t)===u0};In.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===n0||t===a0||t===i0||t===r0||t===u0||t===ere||typeof t=="object"&&t!==null&&(t.$$typeof===h0||t.$$typeof===c0||t.$$typeof===o0||t.$$typeof===s0||t.$$typeof===l0||t.$$typeof===nre||t.$$typeof===rre||t.$$typeof===ire||t.$$typeof===tre)};In.typeOf=Qi;Gj.exports=In;var ore=Gj.exports,Yj=ore,sre={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},are={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Xj={};Xj[Yj.ForwardRef]=sre;Xj[Yj.Memo]=are;function Rr(){return Rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rr.apply(this,arguments)}function Kj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _o=function(e){return typeof e=="function"},f0=function(e){return e!==null&&typeof e=="object"},lre=function(e){return String(Math.floor(Number(e)))===e},t1=function(e){return Object.prototype.toString.call(e)==="[object String]"},n1=function(e){return f0(e)&&_o(e.then)};function no(t,e,n,r){r===void 0&&(r=0);for(var i=Vj(e);t&&r<i.length;)t=t[i[r++]];return t===void 0?n:t}function Zl(t,e,n){for(var r=lk(t),i=r,o=0,s=Vj(e);o<s.length-1;o++){var a=s[o],m=no(t,s.slice(0,o+1));if(m&&(f0(m)||Array.isArray(m)))i=i[a]=lk(m);else{var u=s[o+1];i=i[a]=lre(u)&&Number(u)>=0?[]:{}}}return(o===0?t:i)[s[o]]===n?t:(n===void 0?delete i[s[o]]:i[s[o]]=n,o===0&&n===void 0&&delete r[s[o]],r)}function Zj(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,o=Object.keys(t);i<o.length;i++){var s=o[i],a=t[s];f0(a)?n.get(a)||(n.set(a,!0),r[s]=Array.isArray(a)?[]:{},Zj(a,e,n,r[s])):r[s]=e}return r}var d0=Ae.createContext(void 0);d0.displayName="FormikContext";d0.Provider;d0.Consumer;function ure(){var t=Ae.useContext(d0);return t||qne(!1),t}function cre(t,e){switch(e.type){case"SET_VALUES":return Rr({},t,{values:e.payload});case"SET_TOUCHED":return Rr({},t,{touched:e.payload});case"SET_ERRORS":return Tl(t.errors,e.payload)?t:Rr({},t,{errors:e.payload});case"SET_STATUS":return Rr({},t,{status:e.payload});case"SET_ISSUBMITTING":return Rr({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Rr({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Rr({},t,{values:Zl(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Rr({},t,{touched:Zl(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Rr({},t,{errors:Zl(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Rr({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Rr({},t,{touched:Zj(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Rr({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Rr({},t,{isSubmitting:!1});default:return t}}var Sl={},Kg={};function hre(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,o=t.validateOnMount,s=o===void 0?!1:o,a=t.isInitialValid,m=t.enableReinitialize,u=m===void 0?!1:m,d=t.onSubmit,E=Kj(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),I=Rr({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:d},E),O=Ae.useRef(I.initialValues),A=Ae.useRef(I.initialErrors||Sl),D=Ae.useRef(I.initialTouched||Kg),v=Ae.useRef(I.initialStatus),l=Ae.useRef(!1),c=Ae.useRef({});Ae.useEffect(function(){return l.current=!0,function(){l.current=!1}},[]);var f=Ae.useReducer(cre,{values:I.initialValues,errors:I.initialErrors||Sl,touched:I.initialTouched||Kg,status:I.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),h=f[0],p=f[1],g=Ae.useCallback(function(pe,Te){return new Promise(function(ge,ue){var Se=I.validate(pe,Te);Se==null?ge(Sl):n1(Se)?Se.then(function(Ce){ge(Ce||Sl)},function(Ce){ue(Ce)}):ge(Se)})},[I.validate]),y=Ae.useCallback(function(pe,Te){var ge=I.validationSchema,ue=_o(ge)?ge(Te):ge,Se=Te&&ue.validateAt?ue.validateAt(Te,pe):dre(pe,ue);return new Promise(function(Ce,Ee){Se.then(function(){Ce(Sl)},function(Re){Re.name==="ValidationError"?Ce(fre(Re)):Ee(Re)})})},[I.validationSchema]),_=Ae.useCallback(function(pe,Te){return new Promise(function(ge){return ge(c.current[pe].validate(Te))})},[]),w=Ae.useCallback(function(pe){var Te=Object.keys(c.current).filter(function(ue){return _o(c.current[ue].validate)}),ge=Te.length>0?Te.map(function(ue){return _(ue,no(pe,ue))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ge).then(function(ue){return ue.reduce(function(Se,Ce,Ee){return Ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ce&&(Se=Zl(Se,Te[Ee],Ce)),Se},{})})},[_]),T=Ae.useCallback(function(pe){return Promise.all([w(pe),I.validationSchema?y(pe):{},I.validate?g(pe):{}]).then(function(Te){var ge=Te[0],ue=Te[1],Se=Te[2],Ce=rb.all([ge,ue,Se],{arrayMerge:pre});return Ce})},[I.validate,I.validationSchema,w,g,y]),k=to(function(pe){return pe===void 0&&(pe=h.values),p({type:"SET_ISVALIDATING",payload:!0}),T(pe).then(function(Te){return l.current&&(p({type:"SET_ISVALIDATING",payload:!1}),p({type:"SET_ERRORS",payload:Te})),Te})});Ae.useEffect(function(){s&&l.current===!0&&Tl(O.current,I.initialValues)&&k(O.current)},[s,k]);var P=Ae.useCallback(function(pe){var Te=pe&&pe.values?pe.values:O.current,ge=pe&&pe.errors?pe.errors:A.current?A.current:I.initialErrors||{},ue=pe&&pe.touched?pe.touched:D.current?D.current:I.initialTouched||{},Se=pe&&pe.status?pe.status:v.current?v.current:I.initialStatus;O.current=Te,A.current=ge,D.current=ue,v.current=Se;var Ce=function(){p({type:"RESET_FORM",payload:{isSubmitting:!!pe&&!!pe.isSubmitting,errors:ge,touched:ue,status:Se,values:Te,isValidating:!!pe&&!!pe.isValidating,submitCount:pe&&pe.submitCount&&typeof pe.submitCount=="number"?pe.submitCount:0}})};if(I.onReset){var Ee=I.onReset(h.values,q);n1(Ee)?Ee.then(Ce):Ce()}else Ce()},[I.initialErrors,I.initialStatus,I.initialTouched]);Ae.useEffect(function(){l.current===!0&&!Tl(O.current,I.initialValues)&&(u&&(O.current=I.initialValues,P()),s&&k(O.current))},[u,I.initialValues,P,s,k]),Ae.useEffect(function(){u&&l.current===!0&&!Tl(A.current,I.initialErrors)&&(A.current=I.initialErrors||Sl,p({type:"SET_ERRORS",payload:I.initialErrors||Sl}))},[u,I.initialErrors]),Ae.useEffect(function(){u&&l.current===!0&&!Tl(D.current,I.initialTouched)&&(D.current=I.initialTouched||Kg,p({type:"SET_TOUCHED",payload:I.initialTouched||Kg}))},[u,I.initialTouched]),Ae.useEffect(function(){u&&l.current===!0&&!Tl(v.current,I.initialStatus)&&(v.current=I.initialStatus,p({type:"SET_STATUS",payload:I.initialStatus}))},[u,I.initialStatus,I.initialTouched]);var L=to(function(pe){if(c.current[pe]&&_o(c.current[pe].validate)){var Te=no(h.values,pe),ge=c.current[pe].validate(Te);return n1(ge)?(p({type:"SET_ISVALIDATING",payload:!0}),ge.then(function(ue){return ue}).then(function(ue){p({type:"SET_FIELD_ERROR",payload:{field:pe,value:ue}}),p({type:"SET_ISVALIDATING",payload:!1})})):(p({type:"SET_FIELD_ERROR",payload:{field:pe,value:ge}}),Promise.resolve(ge))}else if(I.validationSchema)return p({type:"SET_ISVALIDATING",payload:!0}),y(h.values,pe).then(function(ue){return ue}).then(function(ue){p({type:"SET_FIELD_ERROR",payload:{field:pe,value:ue[pe]}}),p({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),N=Ae.useCallback(function(pe,Te){var ge=Te.validate;c.current[pe]={validate:ge}},[]),F=Ae.useCallback(function(pe){delete c.current[pe]},[]),G=to(function(pe,Te){p({type:"SET_TOUCHED",payload:pe});var ge=Te===void 0?i:Te;return ge?k(h.values):Promise.resolve()}),H=Ae.useCallback(function(pe){p({type:"SET_ERRORS",payload:pe})},[]),$=to(function(pe,Te){var ge=_o(pe)?pe(h.values):pe;p({type:"SET_VALUES",payload:ge});var ue=Te===void 0?n:Te;return ue?k(ge):Promise.resolve()}),re=Ae.useCallback(function(pe,Te){p({type:"SET_FIELD_ERROR",payload:{field:pe,value:Te}})},[]),le=to(function(pe,Te,ge){p({type:"SET_FIELD_VALUE",payload:{field:pe,value:Te}});var ue=ge===void 0?n:ge;return ue?k(Zl(h.values,pe,Te)):Promise.resolve()}),xe=Ae.useCallback(function(pe,Te){var ge=Te,ue=pe,Se;if(!t1(pe)){pe.persist&&pe.persist();var Ce=pe.target?pe.target:pe.currentTarget,Ee=Ce.type,Re=Ce.name,Ke=Ce.id,ht=Ce.value,ft=Ce.checked,Be=Ce.outerHTML,vt=Ce.options,bt=Ce.multiple;ge=Te||Re||Ke,ue=/number|range/.test(Ee)?(Se=parseFloat(ht),isNaN(Se)?"":Se):/checkbox/.test(Ee)?mre(no(h.values,ge),ft,ht):vt&&bt?gre(vt):ht}ge&&le(ge,ue)},[le,h.values]),ee=to(function(pe){if(t1(pe))return function(Te){return xe(Te,pe)};xe(pe)}),be=to(function(pe,Te,ge){Te===void 0&&(Te=!0),p({type:"SET_FIELD_TOUCHED",payload:{field:pe,value:Te}});var ue=ge===void 0?i:ge;return ue?k(h.values):Promise.resolve()}),K=Ae.useCallback(function(pe,Te){pe.persist&&pe.persist();var ge=pe.target,ue=ge.name,Se=ge.id,Ce=ge.outerHTML,Ee=Te||ue||Se;be(Ee,!0)},[be]),Oe=to(function(pe){if(t1(pe))return function(Te){return K(Te,pe)};K(pe)}),_e=Ae.useCallback(function(pe){_o(pe)?p({type:"SET_FORMIK_STATE",payload:pe}):p({type:"SET_FORMIK_STATE",payload:function(){return pe}})},[]),fe=Ae.useCallback(function(pe){p({type:"SET_STATUS",payload:pe})},[]),J=Ae.useCallback(function(pe){p({type:"SET_ISSUBMITTING",payload:pe})},[]),he=to(function(){return p({type:"SUBMIT_ATTEMPT"}),k().then(function(pe){var Te=pe instanceof Error,ge=!Te&&Object.keys(pe).length===0;if(ge){var ue;try{if(ue=ye(),ue===void 0)return}catch(Se){throw Se}return Promise.resolve(ue).then(function(Se){return l.current&&p({type:"SUBMIT_SUCCESS"}),Se}).catch(function(Se){if(l.current)throw p({type:"SUBMIT_FAILURE"}),Se})}else if(l.current&&(p({type:"SUBMIT_FAILURE"}),Te))throw pe})}),ne=to(function(pe){pe&&pe.preventDefault&&_o(pe.preventDefault)&&pe.preventDefault(),pe&&pe.stopPropagation&&_o(pe.stopPropagation)&&pe.stopPropagation(),he().catch(function(Te){console.warn("Warning: An unhandled error was caught from submitForm()",Te)})}),q={resetForm:P,validateForm:k,validateField:L,setErrors:H,setFieldError:re,setFieldTouched:be,setFieldValue:le,setStatus:fe,setSubmitting:J,setTouched:G,setValues:$,setFormikState:_e,submitForm:he},ye=to(function(){return d(h.values,q)}),Z=to(function(pe){pe&&pe.preventDefault&&_o(pe.preventDefault)&&pe.preventDefault(),pe&&pe.stopPropagation&&_o(pe.stopPropagation)&&pe.stopPropagation(),P()}),te=Ae.useCallback(function(pe){return{value:no(h.values,pe),error:no(h.errors,pe),touched:!!no(h.touched,pe),initialValue:no(O.current,pe),initialTouched:!!no(D.current,pe),initialError:no(A.current,pe)}},[h.errors,h.touched,h.values]),ce=Ae.useCallback(function(pe){return{setValue:function(ge,ue){return le(pe,ge,ue)},setTouched:function(ge,ue){return be(pe,ge,ue)},setError:function(ge){return re(pe,ge)}}},[le,be,re]),de=Ae.useCallback(function(pe){var Te=f0(pe),ge=Te?pe.name:pe,ue=no(h.values,ge),Se={name:ge,value:ue,onChange:ee,onBlur:Oe};if(Te){var Ce=pe.type,Ee=pe.value,Re=pe.as,Ke=pe.multiple;Ce==="checkbox"?Ee===void 0?Se.checked=!!ue:(Se.checked=!!(Array.isArray(ue)&&~ue.indexOf(Ee)),Se.value=Ee):Ce==="radio"?(Se.checked=ue===Ee,Se.value=Ee):Re==="select"&&Ke&&(Se.value=Se.value||[],Se.multiple=!0)}return Se},[Oe,ee,h.values]),Pe=Ae.useMemo(function(){return!Tl(O.current,h.values)},[O.current,h.values]),ke=Ae.useMemo(function(){return typeof a<"u"?Pe?h.errors&&Object.keys(h.errors).length===0:a!==!1&&_o(a)?a(I):a:h.errors&&Object.keys(h.errors).length===0},[a,Pe,h.errors,I]),We=Rr({},h,{initialValues:O.current,initialErrors:A.current,initialTouched:D.current,initialStatus:v.current,handleBlur:Oe,handleChange:ee,handleReset:Z,handleSubmit:ne,resetForm:P,setErrors:H,setFormikState:_e,setFieldTouched:be,setFieldValue:le,setFieldError:re,setStatus:fe,setSubmitting:J,setTouched:G,setValues:$,submitForm:he,validateForm:k,validateField:L,isValid:ke,dirty:Pe,unregisterField:F,registerField:N,getFieldProps:de,getFieldMeta:te,getFieldHelpers:ce,validateOnBlur:i,validateOnChange:n,validateOnMount:s});return We}function fre(t){var e={};if(t.inner){if(t.inner.length===0)return Zl(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var s=o;no(e,s.path)||(e=Zl(e,s.path,s.message))}}return e}function dre(t,e,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=lb(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function lb(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||BO(i)?lb(i):i!==""?i:void 0}):BO(t[r])?e[r]=lb(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function pre(t,e,n){var r=t.slice();return e.forEach(function(o,s){if(typeof r[s]>"u"){var a=n.clone!==!1,m=a&&n.isMergeableObject(o);r[s]=m?rb(Array.isArray(o)?[]:{},o,n):o}else n.isMergeableObject(o)?r[s]=rb(t[s],o,n):t.indexOf(o)===-1&&r.push(o)}),r}function gre(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function mre(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,o=-1;if(Array.isArray(t))r=t,o=t.indexOf(n),i=o>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,o).concat(r.slice(o+1)):r}var vre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Ae.useLayoutEffect:Ae.useEffect;function to(t){var e=Ae.useRef(t);return vre(function(){e.current=t}),Ae.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var yre=Ae.forwardRef(function(t,e){var n=t.action,r=Kj(t,["action"]),i=n??"#",o=ure(),s=o.handleReset,a=o.handleSubmit;return Ae.createElement("form",Object.assign({onSubmit:a,ref:e,onReset:s,action:i},r))});yre.displayName="Form";const wre=()=>{ti.auth();const[t,e]=Ae.useState(!1),[n,r]=Ae.useState(null),[i,o]=Ae.useState(["","","","","",""]),s=(h,p)=>{const g=[...i];if(g[p]=h.target.value,o(g),h.target.value!==""&&p<i.length-1){const y=h.target.nextSibling;y&&y.focus()}},{values:a,errors:m,touched:u,handleBlur:d,handleChange:E,handleSubmit:I}=hre({initialValues:{phnumber:"+977"},onSubmit:h=>{const p=h.phnumber;p.length===14?c(p):alert("Invalid Phone Number")}}),O=a.phnumber,A=Kd(),D=_u(),l=new URLSearchParams(D.search).get("redirect")||"/",c=h=>{console.log(h);const p=new ti.auth.RecaptchaVerifier("recaptcha-container");ti.auth().signInWithPhoneNumber(h,p).then(g=>{e(!0),r(g)}).catch(g=>{console.log("Error while signing in with phone number:",g)})},f=h=>{h.preventDefault();const p=i.join("");n.confirm(p).then(g=>{const y=g.user;console.log(y),y.getIdToken().then(_=>{console.log("Token: ",_),window.alert("You are logged in!"),A(l)})}).catch(g=>{console.log(g)})};return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"Login-container",children:ie.jsx("div",{className:"Login-items",children:t?ie.jsxs(ie.Fragment,{children:[ie.jsx("label",{className:"login-title",children:"OTP Verification"}),ie.jsxs("label",{className:"login-content",children:["Enter OTP send to ",a.phnumber]}),ie.jsx("div",{className:"otp-input-container",children:i.map((h,p)=>ie.jsx("input",{className:"otp-digit-input",type:"text",maxLength:"1",value:h,onChange:g=>s(g,p)},p))}),ie.jsx("label",{className:"proceed",onClick:f,children:"Submit"}),ie.jsxs("label",{className:"login-text",children:["Didn't recive the code?"," ",ie.jsx("span",{className:"sign-in-span",children:"Re-send"})," "]})]}):ie.jsxs(ie.Fragment,{children:[ie.jsx("label",{className:"login-title",children:"CREATE NEW ACCOUNT"}),ie.jsx("label",{className:"login-content",children:"Enter your mobile number"}),ie.jsx("input",{placeholder:"enter mobile number",value:a.phnumber,onChange:E,onBlur:d,id:"phnumber",type:"tel"}),ie.jsx("div",{id:"recaptcha-container"}),ie.jsx("label",{className:O.length===14?"proceed":"proceede",onClick:I,children:"Proceed"})]})})})})},Sre=()=>ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"admindash-container",children:ie.jsx("div",{children:"hello"})})}),hk=()=>ie.jsx("div",{className:"Splashscreen-container",children:ie.jsxs("div",{className:"Splashscreen-items",children:[ie.jsx("img",{src:SD,alt:"E-nimtologo","data-aos-once":!0,"data-aos":"fade-right"}),ie.jsxs("div",{className:"body-texts","data-aos-once":!0,"data-aos":"fade-down",children:[ie.jsx("label",{className:"splash-title",children:"E-Nimto"}),ie.jsx("label",{className:"splash-content",children:"Modern Way of invitation following Tradition"})]})]})}),bre=({venue:t,dateString:e,timeString:n,invitationId:r,description:i,longitude:o,latitude:s})=>{const a=[{title:"Date",content:e==null?void 0:e.slice(0,10)},{title:"Time",content:n},{title:"Venue",content:t}],m=()=>{window.open("https://play.google.com/store/apps/details?id=com.enimto.app","_blank")};return ie.jsxs(ie.Fragment,{children:[ie.jsx(tv,{position:"top-center"}),ie.jsxs("div",{className:"vieweventspopup-items",children:[ie.jsx("div",{className:"googlemapitems",children:ie.jsx(vu.Map,{zoom:18,google,initialCenter:{lat:s,lng:o},children:ie.jsx(vu.Marker,{position:{lat:s,lng:o}})})}),ie.jsx("div",{className:"vieweventspopup-contents",children:ie.jsx(ie.Fragment,{children:a.map((u,d)=>ie.jsxs("div",{className:u.title?"texts":"description",children:[ie.jsx("label",{children:u.title}),ie.jsx("label",{children:u.title===""&&u.content!=null?u.content.replace("AM","").replace("PM",""):u.content})]},d))})})]}),ie.jsxs("div",{className:"getourapp",children:[ie.jsx("label",{children:"Get Our App"}),ie.jsx("div",{className:"getapp-img",children:ie.jsx("img",{src:d_,onClick:m})})]})]})},_re=vu.GoogleApiWrapper({apiKey:"AIzaSyDzm_iiHamwAmti-MErO2o2pfnbVfIzFhE"})(bre),Cre=()=>{const[t,e]=Ae.useState(null),[n,r]=Ae.useState(!1),[i,o]=Ae.useState(!1);let{id:s}=uD();const a=()=>{r(!1)};Ae.useEffect(()=>{(async()=>{const l=await ti.firestore().collection("events").doc(s).get();try{o(),e(l.data())}catch(c){console.log(c)}})()},[s]),ti.firestore();const m=t?new Date(t.dateTime):null,u=m?m.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,d=t?t.dateTime.slice(0,20):null,E=t?t.venue:null,I=t?t.description:null,O=t?t.location.longitude:null,A=t?t.location.latitude:null;return ie.jsx(ie.Fragment,{children:ie.jsx("div",{className:"viewevent-container",children:ie.jsxs("div",{className:"viewevent-items",children:[ie.jsx("div",{className:"viewevent-contents",children:ie.jsx("div",{className:"viewevent-image",children:t==null?ie.jsx(vj,{}):ie.jsx("img",{src:t==null?void 0:t.mediaUrl,alt:"template"})})}),ie.jsx(_re,{closeDetailsPopup:a,dateString:d,timeString:u,venue:E,description:I,longitude:O,latitude:A})]})})})};function xre(){return ie.jsxs(ie.Fragment,{children:[ie.jsx(f_,{}),ie.jsx("div",{className:"privacy-container",children:ie.jsxs("div",{className:"privacy-contents",children:[ie.jsx("label",{className:"text-5xl text-white",children:" Privacy Policy"}),ie.jsx("label",{className:"text-white",children:"Privacy Policy for E-Nimto we are committed to protecting your privacy and ensuring the security of any personal information you provide to us."})]})}),ie.jsx("div",{className:"privacypolicy-items",children:ie.jsxs("div",{className:"privacypolicy-contents",children:[ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"1. Information We Collect:"}),ie.jsx("p",{className:"polocycontent",children:"We may collect personal information that you voluntarily provide to us, such as your name, email address, contact information, event details, and any other information you choose to provide when creating or managing invitations through our app.When creating invitations, you may choose to enter personal information about your guests, such as their names, email addresses, and RSVP status. This information is used solely for the purpose of sending invitations and managing RSVPs and is not used for any other purpose or shared with any third parties."})]}),ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"2. Use of Information:"}),ie.jsx("p",{className:"polocycontent",children:"We may use the information we collect to provide and personalize our services, including creating and managing invitations, sending event updates, and managing RSVPs. It is also used to improve our app and enhance user experience. From time to time, we may send notifications, updates, or promotional messages related to our app and services. However, you have the option to opt-out of receiving these communications at any time. Furthermore, we analyze usage patterns and gather statistical data to improve our services and marketing efforts."})]}),ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"3. Disclosure of Information:"}),ie.jsx("p",{className:"polocycontent",children:"We prioritize the security and confidentiality of your personal information. We do not sell, trade, or otherwise transfer your personal information to third parties for marketing purposes. However, we may disclose your personal information in certain circumstances. We may share your information with trusted third-party service providers who assist us in operating our app and providing our services. These service providers have access to your personal information only to perform specific tasks on our behalf and are obligated to keep your information confidential. We may also disclose your personal information if required by law, regulation, or legal process, or to protect our rights, safety, or property, or the rights, safety, or property of others."})]}),ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"4. Data Security:"}),ie.jsx("p",{className:"polocycontent",children:"We take reasonable measures to protect your personal information from unauthorized access, loss, misuse, or alteration. However, please be aware that no method of transmission over the internet or electronic storage is completely secure. While we strive to protect your personal information, we cannot guarantee its absolute security."})]}),ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"5. Third-Party Links and Integrations:"}),ie.jsx("p",{className:"polocycontent",children:"Our app may contain links to third-party websites or integrate with third-party services. Please note that we have no control over the content and practices of these third parties and are not responsible for their privacy policies. We encourage you to review the privacy policies of these third parties before providing any personal information."})]}),ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"6. Changes to the Privacy Policy:"}),ie.jsx("p",{className:"polocycontent",children:"We reserve the right to modify or update this Privacy Policy at any time without prior notice. The updated Privacy Policy will be posted on this page with the revised effective date. We encourage you to review this Privacy Policy periodically to stay informed about how we protect your personal information."})]}),ie.jsxs("div",{className:"privacy-policy-texts",children:[ie.jsx("label",{className:"polocytitle",children:"7. Contact Us:"}),ie.jsx("p",{className:"polocycontent",children:"If you have any questions, concerns, or requests regarding this Privacy Policy, please contact us at info.enimto@gmail.com"})]})]})}),ie.jsx(p_,{})]})}function Ire(){const[t,e]=Ae.useState(!0),n=Kd(),r=_u();return Ae.useEffect(()=>{sH.init({duration:1e3});const i=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(i)},[]),Ae.useEffect(()=>{const i=new URLSearchParams(r.search),o=i.get("e"),s=i.get("i");o&&n(`/viewevents/${o}`),s&&n(`/events/${s}`)},[n,r]),t?ie.jsx(hk,{}):ie.jsx(ie.Fragment,{children:ie.jsxs(F6,{children:[ie.jsx(Xo,{exact:!0,path:"/ss",element:ie.jsx(hk,{})}),ie.jsx(Xo,{exact:!0,path:"/",element:ie.jsx(X8,{})}),ie.jsx(Xo,{exact:!0,path:"/about-us",element:ie.jsx(vD,{})}),ie.jsx(Xo,{exact:!0,path:"/templates",element:ie.jsx(iH,{})}),ie.jsx(Xo,{exact:!0,path:"/events/:id",element:ie.jsx(IJ,{})}),ie.jsx(Xo,{exact:!0,path:"/viewevents/:id",element:ie.jsx(Cre,{})}),ie.jsx(Xo,{exact:!0,path:"/login",element:ie.jsx(wre,{})}),ie.jsx(Xo,{exact:!0,path:"/admindashboard",element:ie.jsx(Sre,{})}),ie.jsx(Xo,{exact:!0,path:"/privacypolicy",element:ie.jsx(xre,{})})]})})}function ho(t){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(t)}function ys(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ere(t,e){if(ho(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ho(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qj(t){var e=Ere(t,"string");return ho(e)==="symbol"?e:String(e)}function fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qj(r.key),r)}}function ws(t,e,n){return e&&fk(t.prototype,e),n&&fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Da(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function p0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function Tp(t,e){if(e&&(ho(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Da(t)}function ms(t){return ms=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ms(t)}function ul(t,e,n){return e=Qj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tre(t){if(Array.isArray(t))return t}function Mre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ore(t,e){if(t){if(typeof t=="string")return dk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dk(t,e)}}function kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t){return Tre(t)||Mre(t)||Ore(t)||kre()}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Dre={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},Pre=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ys(this,t),this.init(e,n)}return ws(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||Dre,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,o){return o&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,gk(gk({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),ss=new Pre,Ka=function(){function t(){ys(this,t),this.observers={}}return ws(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(o){i.observers[o]=i.observers[o]||[],i.observers[o].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if(this.observers[n]){var s=[].concat(this.observers[n]);s.forEach(function(m){m.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(m){m.apply(m,[n].concat(i))})}}}]),t}();function rf(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function mk(t){return t==null?"":""+t}function Nre(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function Ex(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var o=typeof e!="string"?[].concat(e):e.split(".");o.length>1;){if(i())return{};var s=r(o.shift());!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={}}return i()?{}:{obj:t,k:r(o.shift())}}function vk(t,e,n){var r=Ex(t,e,Object),i=r.obj,o=r.k;i[o]=n}function Rre(t,e,n,r){var i=Ex(t,e,Object),o=i.obj,s=i.k;o[s]=o[s]||[],r&&(o[s]=o[s].concat(n)),r||o[s].push(n)}function Rv(t,e){var n=Ex(t,e),r=n.obj,i=n.k;if(r)return r[i]}function Lre(t,e,n){var r=Rv(t,n);return r!==void 0?r:Rv(e,n)}function Jj(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Jj(t[r],e[r],n):t[r]=e[r]);return t}function qu(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Fre(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return jre[e]}):t}var g0=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,zre=[" ",",","?","!",";"];function Bre(t,e,n){e=e||"",n=n||"";var r=zre.filter(function(a){return e.indexOf(a)<0&&n.indexOf(a)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),o=!i.test(t);if(!o){var s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o}function Lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,o=0;o<r.length;++o){if(!i||typeof i[r[o]]=="string"&&o+1<r.length)return;if(i[r[o]]===void 0){for(var s=2,a=r.slice(o,o+s).join(n),m=i[a];m===void 0&&r.length>o+s;)s++,a=r.slice(o,o+s).join(n),m=i[a];if(m===void 0)return;if(m===null)return null;if(e.endsWith(a)){if(typeof m=="string")return m;if(a&&typeof m[a]=="string")return m[a]}var u=r.slice(o+s).join(n);return u?Lv(m,u,n):void 0}i=i[r[o]]}return i}}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ure(t){var e=Hre();return function(){var r=ms(t),i;if(e){var o=ms(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tp(this,i)}}function Hre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Wre=function(t){p0(n,t);var e=Ure(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return ys(this,n),i=e.call(this),g0&&Ka.call(Da(i)),i.data=r||{},i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return ws(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var o=this.options.ns.indexOf(i);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(i,o,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},m=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,d=[i,o];s&&typeof s!="string"&&(d=d.concat(s)),s&&typeof s=="string"&&(d=d.concat(m?s.split(m):s)),i.indexOf(".")>-1&&(d=i.split("."));var E=Rv(this.data,d);return E||!u||typeof s!="string"?E:Lv(this.data&&this.data[i]&&this.data[i][o],s,m)}},{key:"addResource",value:function(i,o,s,a){var m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=this.options.keySeparator;u===void 0&&(u=".");var d=[i,o];s&&(d=d.concat(u?s.split(u):s)),i.indexOf(".")>-1&&(d=i.split("."),a=o,o=d[1]),this.addNamespaces(o),vk(this.data,d,a),m.silent||this.emit("added",i,o,s,a)}},{key:"addResources",value:function(i,o,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var m in s)(typeof s[m]=="string"||Object.prototype.toString.apply(s[m])==="[object Array]")&&this.addResource(i,o,m,s[m],{silent:!0});a.silent||this.emit("added",i,o,s)}},{key:"addResourceBundle",value:function(i,o,s,a,m){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},d=[i,o];i.indexOf(".")>-1&&(d=i.split("."),a=s,s=o,o=d[1]),this.addNamespaces(o);var E=Rv(this.data,d)||{};a?Jj(E,s,m):E=Zg(Zg({},E),s),vk(this.data,d,E),u.silent||this.emit("added",i,o,s)}},{key:"removeResourceBundle",value:function(i,o){this.hasResourceBundle(i,o)&&delete this.data[i][o],this.removeNamespaces(o),this.emit("removed",i,o)}},{key:"hasResourceBundle",value:function(i,o){return this.getResource(i,o)!==void 0}},{key:"getResourceBundle",value:function(i,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Zg(Zg({},{}),this.getResource(i,o)):this.getResource(i,o)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var o=this.getDataByLanguage(i),s=o&&Object.keys(o)||[];return!!s.find(function(a){return o[a]&&Object.keys(o[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Ka),qj={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,o){var s=this;return e.forEach(function(a){s.processors[a]&&(n=s.processors[a].process(n,r,i,o))}),n}};function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t){var e=Gre();return function(){var r=ms(t),i;if(e){var o=ms(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tp(this,i)}}function Gre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Sk={},bk=function(t){p0(n,t);var e=Vre(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ys(this,n),i=e.call(this),g0&&Ka.call(Da(i)),Nre(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Da(i)),i.options=o,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ss.create("translator"),i}return ws(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var s=this.resolve(i,o);return s&&s.res!==void 0}},{key:"extractFromKey",value:function(i,o){var s=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");var a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,m=o.ns||this.options.defaultNS||[],u=s&&i.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!Bre(i,s,a);if(u&&!d){var E=i.match(this.interpolator.nestingRegexp);if(E&&E.length>0)return{key:i,namespaces:m};var I=i.split(s);(s!==a||s===a&&this.options.ns.indexOf(I[0])>-1)&&(m=I.shift()),i=I.join(a)}return typeof m=="string"&&(m=[m]),{key:i,namespaces:m}}},{key:"translate",value:function(i,o,s){var a=this;if(ho(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),ho(o)==="object"&&(o=Jr({},o)),o||(o={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var m=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,d=this.extractFromKey(i[i.length-1],o),E=d.key,I=d.namespaces,O=I[I.length-1],A=o.lng||this.language,D=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(A&&A.toLowerCase()==="cimode"){if(D){var v=o.nsSeparator||this.options.nsSeparator;return m?{res:"".concat(O).concat(v).concat(E),usedKey:E,exactUsedKey:E,usedLng:A,usedNS:O}:"".concat(O).concat(v).concat(E)}return m?{res:E,usedKey:E,exactUsedKey:E,usedLng:A,usedNS:O}:E}var l=this.resolve(i,o),c=l&&l.res,f=l&&l.usedKey||E,h=l&&l.exactUsedKey||E,p=Object.prototype.toString.apply(c),g=["[object Number]","[object Function]","[object RegExp]"],y=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,w=typeof c!="string"&&typeof c!="boolean"&&typeof c!="number";if(_&&c&&w&&g.indexOf(p)<0&&!(typeof y=="string"&&p==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,c,Jr(Jr({},o),{},{ns:I})):"key '".concat(E," (").concat(this.language,")' returned an object instead of string.");return m?(l.res=T,l):T}if(u){var k=p==="[object Array]",P=k?[]:{},L=k?h:f;for(var N in c)if(Object.prototype.hasOwnProperty.call(c,N)){var F="".concat(L).concat(u).concat(N);P[N]=this.translate(F,Jr(Jr({},o),{joinArrays:!1,ns:I})),P[N]===F&&(P[N]=c[N])}c=P}}else if(_&&typeof y=="string"&&p==="[object Array]")c=c.join(y),c&&(c=this.extendTranslation(c,i,o,s));else{var G=!1,H=!1,$=o.count!==void 0&&typeof o.count!="string",re=n.hasDefaultValue(o),le=$?this.pluralResolver.getSuffix(A,o.count,o):"",xe=o["defaultValue".concat(le)]||o.defaultValue;!this.isValidLookup(c)&&re&&(G=!0,c=xe),this.isValidLookup(c)||(H=!0,c=E);var ee=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,be=ee&&H?void 0:c,K=re&&xe!==c&&this.options.updateMissing;if(H||G||K){if(this.logger.log(K?"updateKey":"missingKey",A,O,E,K?xe:c),u){var Oe=this.resolve(E,Jr(Jr({},o),{},{keySeparator:!1}));Oe&&Oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var _e=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var J=0;J<fe.length;J++)_e.push(fe[J]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(o.lng||this.language):_e.push(o.lng||this.language);var he=function(q,ye,Z){var te=re&&Z!==c?Z:be;a.options.missingKeyHandler?a.options.missingKeyHandler(q,O,ye,te,K,o):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(q,O,ye,te,K,o),a.emit("missingKey",q,O,ye,c)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?_e.forEach(function(ne){a.pluralResolver.getSuffixes(ne,o).forEach(function(q){he([ne],E+q,o["defaultValue".concat(q)]||xe)})}):he(_e,E,xe))}c=this.extendTranslation(c,i,o,l,s),H&&c===E&&this.options.appendNamespaceToMissingKey&&(c="".concat(O,":").concat(E)),(H||G)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?c=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(O,":").concat(E):E,G?c:void 0):c=this.options.parseMissingKeyHandler(c))}return m?(l.res=c,l):c}},{key:"extendTranslation",value:function(i,o,s,a,m){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Jr(Jr({},this.options.interpolation.defaultVariables),s),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(Jr(Jr({},s),{interpolation:Jr(Jr({},this.options.interpolation),s.interpolation)}));var d=typeof i=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),E;if(d){var I=i.match(this.interpolator.nestingRegexp);E=I&&I.length}var O=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(O=Jr(Jr({},this.options.interpolation.defaultVariables),O)),i=this.interpolator.interpolate(i,O,s.lng||this.language,s),d){var A=i.match(this.interpolator.nestingRegexp),D=A&&A.length;E<D&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(s.lng=a.usedLng),s.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return m&&m[0]===f[0]&&!s.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(f[0]," in key: ").concat(o[0])),null):u.translate.apply(u,f.concat([o]))},s)),s.interpolation&&this.interpolator.reset()}var v=s.postProcess||this.options.postProcess,l=typeof v=="string"?[v]:v;return i!=null&&l&&l.length&&s.applyPostProcessor!==!1&&(i=qj.handle(l,i,o,this.options&&this.options.postProcessPassResolved?Jr({i18nResolved:a},s):s,this)),i}},{key:"resolve",value:function(i){var o=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,m,u,d,E;return typeof i=="string"&&(i=[i]),i.forEach(function(I){if(!o.isValidLookup(a)){var O=o.extractFromKey(I,s),A=O.key;m=A;var D=O.namespaces;o.options.fallbackNS&&(D=D.concat(o.options.fallbackNS));var v=s.count!==void 0&&typeof s.count!="string",l=v&&!s.ordinal&&s.count===0&&o.pluralResolver.shouldUseIntlApi(),c=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",f=s.lngs?s.lngs:o.languageUtils.toResolveHierarchy(s.lng||o.language,s.fallbackLng);D.forEach(function(h){o.isValidLookup(a)||(E=h,!Sk["".concat(f[0],"-").concat(h)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(E)&&(Sk["".concat(f[0],"-").concat(h)]=!0,o.logger.warn('key "'.concat(m,'" for languages "').concat(f.join(", "),`" won't get resolved as namespace "`).concat(E,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(function(p){if(!o.isValidLookup(a)){d=p;var g=[A];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(g,A,p,h,s);else{var y;v&&(y=o.pluralResolver.getSuffix(p,s.count,s));var _="".concat(o.options.pluralSeparator,"zero");if(v&&(g.push(A+y),l&&g.push(A+_)),c){var w="".concat(A).concat(o.options.contextSeparator).concat(s.context);g.push(w),v&&(g.push(w+y),l&&g.push(w+_))}}for(var T;T=g.pop();)o.isValidLookup(a)||(u=T,a=o.getResource(p,h,T,s))}}))})}}),{res:a,usedKey:m,exactUsedKey:u,usedLng:d,usedNS:E}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,o,s){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,o,s,a):this.resourceStore.getResource(i,o,s,a)}}],[{key:"hasDefaultValue",value:function(i){var o="defaultValue";for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&o===s.substring(0,o.length)&&i[s]!==void 0)return!0;return!1}}]),n}(Ka);function r1(t){return t.charAt(0).toUpperCase()+t.slice(1)}var _k=function(){function t(e){ys(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ss.create("languageUtils")}return ws(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(o){return o.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=r1(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=r1(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=r1(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(o){if(!i){var s=r.formatLanguageCode(o);(!r.options.supportedLngs||r.isSupportedCode(s))&&(i=s)}}),!i&&this.options.supportedLngs&&n.forEach(function(o){if(!i){var s=r.getLanguagePartFromCode(o);if(r.isSupportedCode(s))return i=s;i=r.options.supportedLngs.find(function(a){if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&a.indexOf(s)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,o=this.getFallbackCodes(r||this.options.fallbackLng||[],n),s=[],a=function(u){u&&(i.isSupportedCode(u)?s.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(n))):typeof n=="string"&&a(this.formatLanguageCode(n)),o.forEach(function(m){s.indexOf(m)<0&&a(i.formatLanguageCode(m))}),s}}]),t}(),$re=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Yre={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},Xre=["v1","v2","v3"],Ck={zero:0,one:1,two:2,few:3,many:4,other:5};function Kre(){var t={};return $re.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:Yre[e.fc]}})}),t}var Zre=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ys(this,t),this.languageUtils=e,this.options=n,this.logger=ss.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Kre()}return ws(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(o){return"".concat(r).concat(o)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(n,i);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(s,a){return Ck[s]-Ck[a]}).map(function(s){return"".concat(r.options.prepend).concat(s)}):o.numbers.map(function(s){return r.getSuffix(n,s,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(n,i);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(r)):this.getSuffixRetroCompatible(o,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,o=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),s=n.numbers[o];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));var a=function(){return i.options.prepend&&s.toString()?i.options.prepend+s.toString():s.toString()};return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?"_plural_".concat(s.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?a():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!Xre.includes(this.options.compatibilityJSON)}}]),t}();function xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ik(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Lre(t,e,n);return!o&&i&&typeof n=="string"&&(o=Lv(t,n,r),o===void 0&&(o=Lv(e,n,r))),o}var Qre=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ys(this,t),this.logger=ss.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return ws(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:Fre,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?qu(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?qu(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?qu(r.nestingPrefix):r.nestingPrefixEscaped||qu("$t("),this.nestingSuffix=r.nestingSuffix?qu(r.nestingSuffix):r.nestingSuffixEscaped||qu(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,o){var s=this,a,m,u,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function E(v){return v.replace(/\$/g,"$$$$")}var I=function(l){if(l.indexOf(s.formatSeparator)<0){var c=Ik(r,d,l,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(c,void 0,i,bo(bo(bo({},o),r),{},{interpolationkey:l})):c}var f=l.split(s.formatSeparator),h=f.shift().trim(),p=f.join(s.formatSeparator).trim();return s.format(Ik(r,d,h,s.options.keySeparator,s.options.ignoreJSONStructure),p,i,bo(bo(bo({},o),r),{},{interpolationkey:h}))};this.resetRegExp();var O=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,A=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,D=[{regex:this.regexpUnescape,safeValue:function(l){return E(l)}},{regex:this.regexp,safeValue:function(l){return s.escapeValue?E(s.escape(l)):E(l)}}];return D.forEach(function(v){for(u=0;a=v.regex.exec(n);){var l=a[1].trim();if(m=I(l),m===void 0)if(typeof O=="function"){var c=O(n,a,o);m=typeof c=="string"?c:""}else if(o&&Object.prototype.hasOwnProperty.call(o,l))m="";else if(A){m=a[0];continue}else s.logger.warn("missed to pass in variable ".concat(l," for interpolating ").concat(n)),m="";else typeof m!="string"&&!s.useRawValueToEscape&&(m=mk(m));var f=v.safeValue(m);if(n=n.replace(a[0],f),A?(v.regex.lastIndex+=m.length,v.regex.lastIndex-=a[0].length):v.regex.lastIndex=0,u++,u>=s.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,a,m;function u(O,A){var D=this.nestingOptionsSeparator;if(O.indexOf(D)<0)return O;var v=O.split(new RegExp("".concat(D,"[ ]*{"))),l="{".concat(v[1]);O=v[0],l=this.interpolate(l,m);var c=l.match(/'/g),f=l.match(/"/g);(c&&c.length%2===0&&!f||f.length%2!==0)&&(l=l.replace(/'/g,'"'));try{m=JSON.parse(l),A&&(m=bo(bo({},A),m))}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(O),h),"".concat(O).concat(D).concat(l)}return delete m.defaultValue,O}for(;s=this.nestingRegexp.exec(n);){var d=[];m=bo({},o),m=m.replace&&typeof m.replace!="string"?m.replace:m,m.applyPostProcessor=!1,delete m.defaultValue;var E=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){var I=s[1].split(this.formatSeparator).map(function(O){return O.trim()});s[1]=I.shift(),d=I,E=!0}if(a=r(u.call(this,s[1].trim(),m),m),a&&s[0]===n&&typeof a!="string")return a;typeof a!="string"&&(a=mk(a)),a||(this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(n)),a=""),E&&(a=d.reduce(function(O,A){return i.format(O,A,o.lng,bo(bo({},o),{},{interpolationkey:s[1].trim()}))},a.trim())),n=n.replace(s[0],a),this.regexp.lastIndex=0}return n}}]),t}();function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var o=i.split(";");o.forEach(function(s){if(s){var a=s.split(":"),m=Are(a),u=m[0],d=m.slice(1),E=d.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=E),E==="false"&&(n[u.trim()]=!1),E==="true"&&(n[u.trim()]=!0),isNaN(E)||(n[u.trim()]=parseInt(E,10))}})}}return{formatName:e,formatOptions:n}}function ec(t){var e={};return function(r,i,o){var s=i+JSON.stringify(o),a=e[s];return a||(a=t(i,o),e[s]=a),a(r)}}var qre=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ys(this,t),this.logger=ss.create("formatter"),this.options=e,this.formats={number:ec(function(n,r){var i=new Intl.NumberFormat(n,Is({},r));return function(o){return i.format(o)}}),currency:ec(function(n,r){var i=new Intl.NumberFormat(n,Is(Is({},r),{},{style:"currency"}));return function(o){return i.format(o)}}),datetime:ec(function(n,r){var i=new Intl.DateTimeFormat(n,Is({},r));return function(o){return i.format(o)}}),relativetime:ec(function(n,r){var i=new Intl.RelativeTimeFormat(n,Is({},r));return function(o){return i.format(o,r.range||"day")}}),list:ec(function(n,r){var i=new Intl.ListFormat(n,Is({},r));return function(o){return i.format(o)}})},this.init(e)}return ws(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=ec(r)}},{key:"format",value:function(n,r,i){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.split(this.formatSeparator),m=a.reduce(function(u,d){var E=Jre(d),I=E.formatName,O=E.formatOptions;if(o.formats[I]){var A=u;try{var D=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},v=D.locale||D.lng||s.locale||s.lng||i;A=o.formats[I](u,v,Is(Is(Is({},O),s),D))}catch(l){o.logger.warn(l)}return A}else o.logger.warn("there was no format function for ".concat(I));return u},n);return m}}]),t}();function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eie(t){var e=tie();return function(){var r=ms(t),i;if(e){var o=ms(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tp(this,i)}}function tie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nie(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var rie=function(t){p0(n,t);var e=eie(n);function n(r,i,o){var s,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return ys(this,n),s=e.call(this),g0&&Ka.call(Da(s)),s.backend=r,s.store=i,s.services=o,s.languageUtils=o.languageUtils,s.options=a,s.logger=ss.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=a.maxParallelReads||10,s.readingCalls=0,s.maxRetries=a.maxRetries>=0?a.maxRetries:5,s.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(o,a.backend,a),s}return ws(n,[{key:"queueLoad",value:function(i,o,s,a){var m=this,u={},d={},E={},I={};return i.forEach(function(O){var A=!0;o.forEach(function(D){var v="".concat(O,"|").concat(D);!s.reload&&m.store.hasResourceBundle(O,D)?m.state[v]=2:m.state[v]<0||(m.state[v]===1?d[v]===void 0&&(d[v]=!0):(m.state[v]=1,A=!1,d[v]===void 0&&(d[v]=!0),u[v]===void 0&&(u[v]=!0),I[D]===void 0&&(I[D]=!0)))}),A||(E[O]=!0)}),(Object.keys(u).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(u),pending:Object.keys(d),toLoadLanguages:Object.keys(E),toLoadNamespaces:Object.keys(I)}}},{key:"loaded",value:function(i,o,s){var a=i.split("|"),m=a[0],u=a[1];o&&this.emit("failedLoading",m,u,o),s&&this.store.addResourceBundle(m,u,s),this.state[i]=o?-1:2;var d={};this.queue.forEach(function(E){Rre(E.loaded,[m],u),nie(E,i),o&&E.errors.push(o),E.pendingCount===0&&!E.done&&(Object.keys(E.loaded).forEach(function(I){d[I]||(d[I]={});var O=E.loaded[I];O.length&&O.forEach(function(A){d[I][A]===void 0&&(d[I][A]=!0)})}),E.done=!0,E.errors.length?E.callback(E.errors):E.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(function(E){return!E.done})}},{key:"read",value:function(i,o,s){var a=this,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,d=arguments.length>5?arguments[5]:void 0;if(!i.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:o,fcName:s,tried:m,wait:u,callback:d});return}this.readingCalls++;var E=function(D,v){if(a.readingCalls--,a.waitingReads.length>0){var l=a.waitingReads.shift();a.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}if(D&&v&&m<a.maxRetries){setTimeout(function(){a.read.call(a,i,o,s,m+1,u*2,d)},u);return}d(D,v)},I=this.backend[s].bind(this.backend);if(I.length===2){try{var O=I(i,o);O&&typeof O.then=="function"?O.then(function(A){return E(null,A)}).catch(E):E(null,O)}catch(A){E(A)}return}return I(i,o,E)}},{key:"prepareLoading",value:function(i,o){var s=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),m&&m();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof o=="string"&&(o=[o]);var u=this.queueLoad(i,o,a,m);if(!u.toLoad.length)return u.pending.length||m(),null;u.toLoad.forEach(function(d){s.loadOne(d)})}},{key:"load",value:function(i,o,s){this.prepareLoading(i,o,{},s)}},{key:"reload",value:function(i,o,s){this.prepareLoading(i,o,{reload:!0},s)}},{key:"loadOne",value:function(i){var o=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),m=a[0],u=a[1];this.read(m,u,"read",void 0,void 0,function(d,E){d&&o.logger.warn("".concat(s,"loading namespace ").concat(u," for language ").concat(m," failed"),d),!d&&E&&o.logger.log("".concat(s,"loaded namespace ").concat(u," for language ").concat(m),E),o.loaded(i,d,E)})}},{key:"saveMissing",value:function(i,o,s,a,m){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(s,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){var E=Mk(Mk({},u),{},{isUpdate:m}),I=this.backend.create.bind(this.backend);if(I.length<6)try{var O;I.length===5?O=I(i,o,s,a,E):O=I(i,o,s,a),O&&typeof O.then=="function"?O.then(function(A){return d(null,A)}).catch(d):d(null,O)}catch(A){d(A)}else I(i,o,s,a,d,E)}!i||!i[0]||this.store.addResource(i[0],o,s,a)}}}]),n}(Ka);function Ok(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(ho(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),ho(e[2])==="object"||ho(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function kk(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iie(t){var e=oie();return function(){var r=ms(t),i;if(e){var o=ms(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Tp(this,i)}}function oie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qg(){}function sie(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var jv=function(t){p0(n,t);var e=iie(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(ys(this,n),r=e.call(this),g0&&Ka.call(Da(r)),r.options=kk(i),r.services={},r.logger=ss,r.modules={external:[]},sie(Da(r)),o&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,o),Tp(r,Da(r));setTimeout(function(){r.init(i,o)},0)}return r}return ws(n,[{key:"init",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(s=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var a=Ok();this.options=Yo(Yo(Yo({},a),this.options),kk(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Yo(Yo({},a.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function m(l){return l?typeof l=="function"?new l:l:null}if(!this.options.isClone){this.modules.logger?ss.init(m(this.modules.logger),this.options):ss.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=qre);var d=new _k(this.options);this.store=new Wre(this.options.resources,this.options);var E=this.services;E.logger=ss,E.resourceStore=this.store,E.languageUtils=d,E.pluralResolver=new Zre(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(E.formatter=m(u),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new Qre(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new rie(m(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];i.emit.apply(i,[l].concat(f))}),this.modules.languageDetector&&(E.languageDetector=m(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=m(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new bk(this.services,this.options),this.translator.on("*",function(l){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];i.emit.apply(i,[l].concat(f))}),this.modules.external.forEach(function(l){l.init&&l.init(i)})}if(this.format=this.options.interpolation.format,s||(s=Qg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var I=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);I.length>0&&I[0]!=="dev"&&(this.options.lng=I[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var O=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];O.forEach(function(l){i[l]=function(){var c;return(c=i.store)[l].apply(c,arguments)}});var A=["addResource","addResources","addResourceBundle","removeResourceBundle"];A.forEach(function(l){i[l]=function(){var c;return(c=i.store)[l].apply(c,arguments),i}});var D=rf(),v=function(){var c=function(h,p){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),D.resolve(p),s(h,p)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return c(null,i.t.bind(i));i.changeLanguage(i.options.lng,c)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),D}},{key:"loadResources",value:function(i){var o=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qg,a=s,m=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(m&&m.toLowerCase()==="cimode")return a();var u=[],d=function(O){if(O){var A=o.services.languageUtils.toResolveHierarchy(O);A.forEach(function(D){u.indexOf(D)<0&&u.push(D)})}};if(m)d(m);else{var E=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);E.forEach(function(I){return d(I)})}this.options.preload&&this.options.preload.forEach(function(I){return d(I)}),this.services.backendConnector.load(u,this.options.ns,function(I){!I&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),a(I)})}else a(null)}},{key:"reloadResources",value:function(i,o,s){var a=rf();return i||(i=this.languages),o||(o=this.options.ns),s||(s=Qg),this.services.backendConnector.reload(i,o,function(m){a.resolve(),s(m)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&qj.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var o=0;o<this.languages.length;o++){var s=this.languages[o];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}},{key:"changeLanguage",value:function(i,o){var s=this;this.isLanguageChangingTo=i;var a=rf();this.emit("languageChanging",i);var m=function(I){s.language=I,s.languages=s.services.languageUtils.toResolveHierarchy(I),s.resolvedLanguage=void 0,s.setResolvedLanguage(I)},u=function(I,O){O?(m(O),s.translator.changeLanguage(O),s.isLanguageChangingTo=void 0,s.emit("languageChanged",O),s.logger.log("languageChanged",O)):s.isLanguageChangingTo=void 0,a.resolve(function(){return s.t.apply(s,arguments)}),o&&o(I,function(){return s.t.apply(s,arguments)})},d=function(I){!i&&!I&&s.services.languageDetector&&(I=[]);var O=typeof I=="string"?I:s.services.languageUtils.getBestMatchFromCodes(I);O&&(s.language||m(O),s.translator.language||s.translator.changeLanguage(O),s.services.languageDetector&&s.services.languageDetector.cacheUserLanguage&&s.services.languageDetector.cacheUserLanguage(O)),s.loadResources(O,function(A){u(A,O)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(i),a}},{key:"getFixedT",value:function(i,o,s){var a=this,m=function u(d,E){var I;if(ho(E)!=="object"){for(var O=arguments.length,A=new Array(O>2?O-2:0),D=2;D<O;D++)A[D-2]=arguments[D];I=a.options.overloadTranslationOptionHandler([d,E].concat(A))}else I=Yo({},E);I.lng=I.lng||u.lng,I.lngs=I.lngs||u.lngs,I.ns=I.ns||u.ns,I.keyPrefix=I.keyPrefix||s||u.keyPrefix;var v=a.options.keySeparator||".",l;return I.keyPrefix&&Array.isArray(d)?l=d.map(function(c){return"".concat(I.keyPrefix).concat(v).concat(c)}):l=I.keyPrefix?"".concat(I.keyPrefix).concat(v).concat(d):d,a.t(l,I)};return typeof i=="string"?m.lng=i:m.lngs=i,m.ns=o,m.keyPrefix=s,m}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var o=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=s.lng||this.resolvedLanguage||this.languages[0],m=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var d=function(O,A){var D=o.services.backendConnector.state["".concat(O,"|").concat(A)];return D===-1||D===2};if(s.precheck){var E=s.precheck(this,d);if(E!==void 0)return E}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(a,i)&&(!m||d(u,i)))}},{key:"loadNamespaces",value:function(i,o){var s=this,a=rf();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(m){s.options.ns.indexOf(m)<0&&s.options.ns.push(m)}),this.loadResources(function(m){a.resolve(),o&&o(m)}),a):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(i,o){var s=rf();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],m=i.filter(function(u){return a.indexOf(u)<0});return m.length?(this.options.preload=a.concat(m),this.loadResources(function(u){s.resolve(),o&&o(u)}),s):(o&&o(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new _k(Ok());return o.indexOf(s.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qg,a=Yo(Yo(Yo({},this.options),o),{isClone:!0}),m=new n(a);(o.debug!==void 0||o.prefix!==void 0)&&(m.logger=m.logger.clone(o));var u=["store","services","language"];return u.forEach(function(d){m[d]=i[d]}),m.services=Yo({},this.services),m.services.utils={hasLoadedNamespace:m.hasLoadedNamespace.bind(m)},m.translator=new bk(m.services,m.options),m.translator.on("*",function(d){for(var E=arguments.length,I=new Array(E>1?E-1:0),O=1;O<E;O++)I[O-1]=arguments[O];m.emit.apply(m,[d].concat(I))}),m.init(a,s),m.translator.options=m.options,m.translator.backendConnector.services.utils={hasLoadedNamespace:m.hasLoadedNamespace.bind(m)},m}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Ka);ul(jv,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new jv(t,e)});var $r=jv.createInstance();$r.createInstance=jv.createInstance;$r.createInstance;$r.dir;$r.init;$r.loadResources;$r.reloadResources;$r.use;$r.changeLanguage;$r.getFixedT;$r.t;$r.exists;$r.setDefaultNamespace;$r.hasLoadedNamespace;$r.loadNamespaces;$r.loadLanguages;function cb(t){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(t)}var e4=[],aie=e4.forEach,lie=e4.slice;function hb(t){return aie.call(lie.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}function t4(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":cb(XMLHttpRequest))==="object"}function uie(t){return!!t&&typeof t.then=="function"}function cie(t){return uie(t)?t:Promise.resolve(t)}function hie(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fb={exports:{}},Jg={exports:{}},Dk;function fie(){return Dk||(Dk=1,function(t,e){var n=typeof self<"u"?self:Tn,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function m(N){return N&&DataView.prototype.isPrototypeOf(N)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(N){return N&&u.indexOf(Object.prototype.toString.call(N))>-1};function E(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function I(N){return typeof N!="string"&&(N=String(N)),N}function O(N){var F={next:function(){var G=N.shift();return{done:G===void 0,value:G}}};return a.iterable&&(F[Symbol.iterator]=function(){return F}),F}function A(N){this.map={},N instanceof A?N.forEach(function(F,G){this.append(G,F)},this):Array.isArray(N)?N.forEach(function(F){this.append(F[0],F[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(F){this.append(F,N[F])},this)}A.prototype.append=function(N,F){N=E(N),F=I(F);var G=this.map[N];this.map[N]=G?G+", "+F:F},A.prototype.delete=function(N){delete this.map[E(N)]},A.prototype.get=function(N){return N=E(N),this.has(N)?this.map[N]:null},A.prototype.has=function(N){return this.map.hasOwnProperty(E(N))},A.prototype.set=function(N,F){this.map[E(N)]=I(F)},A.prototype.forEach=function(N,F){for(var G in this.map)this.map.hasOwnProperty(G)&&N.call(F,this.map[G],G,this)},A.prototype.keys=function(){var N=[];return this.forEach(function(F,G){N.push(G)}),O(N)},A.prototype.values=function(){var N=[];return this.forEach(function(F){N.push(F)}),O(N)},A.prototype.entries=function(){var N=[];return this.forEach(function(F,G){N.push([G,F])}),O(N)},a.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function D(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function v(N){return new Promise(function(F,G){N.onload=function(){F(N.result)},N.onerror=function(){G(N.error)}})}function l(N){var F=new FileReader,G=v(F);return F.readAsArrayBuffer(N),G}function c(N){var F=new FileReader,G=v(F);return F.readAsText(N),G}function f(N){for(var F=new Uint8Array(N),G=new Array(F.length),H=0;H<F.length;H++)G[H]=String.fromCharCode(F[H]);return G.join("")}function h(N){if(N.slice)return N.slice(0);var F=new Uint8Array(N.byteLength);return F.set(new Uint8Array(N)),F.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:a.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:a.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():a.arrayBuffer&&a.blob&&m(N)?(this._bodyArrayBuffer=h(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||d(N))?this._bodyArrayBuffer=h(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var N=D(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var N=D(this);if(N)return N;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(f(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(N){var F=N.toUpperCase();return g.indexOf(F)>-1?F:N}function _(N,F){F=F||{};var G=F.body;if(N instanceof _){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,F.headers||(this.headers=new A(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!G&&N._bodyInit!=null&&(G=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new A(F.headers)),this.method=y(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&G)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(G)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function w(N){var F=new FormData;return N.trim().split("&").forEach(function(G){if(G){var H=G.split("="),$=H.shift().replace(/\+/g," "),re=H.join("=").replace(/\+/g," ");F.append(decodeURIComponent($),decodeURIComponent(re))}}),F}function T(N){var F=new A,G=N.replace(/\r?\n[\t ]+/g," ");return G.split(/\r?\n/).forEach(function(H){var $=H.split(":"),re=$.shift().trim();if(re){var le=$.join(":").trim();F.append(re,le)}}),F}p.call(_.prototype);function k(N,F){F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in F?F.statusText:"OK",this.headers=new A(F.headers),this.url=F.url||"",this._initBody(N)}p.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},k.error=function(){var N=new k(null,{status:0,statusText:""});return N.type="error",N};var P=[301,302,303,307,308];k.redirect=function(N,F){if(P.indexOf(F)===-1)throw new RangeError("Invalid status code");return new k(null,{status:F,headers:{location:N}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(F,G){this.message=F,this.name=G;var H=Error(F);this.stack=H.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function L(N,F){return new Promise(function(G,H){var $=new _(N,F);if($.signal&&$.signal.aborted)return H(new s.DOMException("Aborted","AbortError"));var re=new XMLHttpRequest;function le(){re.abort()}re.onload=function(){var xe={status:re.status,statusText:re.statusText,headers:T(re.getAllResponseHeaders()||"")};xe.url="responseURL"in re?re.responseURL:xe.headers.get("X-Request-URL");var ee="response"in re?re.response:re.responseText;G(new k(ee,xe))},re.onerror=function(){H(new TypeError("Network request failed"))},re.ontimeout=function(){H(new TypeError("Network request failed"))},re.onabort=function(){H(new s.DOMException("Aborted","AbortError"))},re.open($.method,$.url,!0),$.credentials==="include"?re.withCredentials=!0:$.credentials==="omit"&&(re.withCredentials=!1),"responseType"in re&&a.blob&&(re.responseType="blob"),$.headers.forEach(function(xe,ee){re.setRequestHeader(ee,xe)}),$.signal&&($.signal.addEventListener("abort",le),re.onreadystatechange=function(){re.readyState===4&&$.signal.removeEventListener("abort",le)}),re.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return L.polyfill=!0,o.fetch||(o.fetch=L,o.Headers=A,o.Request=_,o.Response=k),s.Headers=A,s.Request=_,s.Response=k,s.fetch=L,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Jg,Jg.exports)),Jg.exports}(function(t,e){var n;if(typeof fetch=="function"&&(typeof Tn<"u"&&Tn.fetch?n=Tn.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof hie<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||fie();r.default&&(r=r.default),e.default=r,t.exports=e.default}})(fb,fb.exports);var n4=fb.exports;const r4=Ud(n4),Pk=Ez({__proto__:null,default:r4},[n4]);function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}var Fs;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Fs=global.fetch:typeof window<"u"&&window.fetch?Fs=window.fetch:Fs=fetch);var Fd;t4()&&(typeof global<"u"&&global.XMLHttpRequest?Fd=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Fd=window.XMLHttpRequest));var zv;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?zv=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(zv=window.ActiveXObject));!Fs&&Pk&&!Fd&&!zv&&(Fs=r4||Pk);typeof Fs!="function"&&(Fs=void 0);var db=function(e,n){if(n&&Fv(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},Nk=function(e,n,r){Fs(e,n).then(function(i){if(!i.ok)return r(i.statusText||"Error",{status:i.status});i.text().then(function(o){r(null,{status:i.status,data:o})}).catch(r)}).catch(r)},Rk=!1,die=function(e,n,r,i){e.queryStringParams&&(n=db(n,e.queryStringParams));var o=hb({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);r&&(o["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=hb({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},Rk?{}:s);try{Nk(n,a,i)}catch(m){if(!s||Object.keys(s).length===0||!m.message||m.message.indexOf("not implemented")<0)return i(m);try{Object.keys(s).forEach(function(u){delete a[u]}),Nk(n,a,i),Rk=!0}catch(u){i(u)}}},pie=function(e,n,r,i){r&&Fv(r)==="object"&&(r=db("",r).slice(1)),e.queryStringParams&&(n=db(n,e.queryStringParams));try{var o;Fd?o=new Fd:o=new zv("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(m){console&&console.log(m)}},gie=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},Fs&&n.indexOf("file:")!==0)return die(e,n,r,i);if(t4()||typeof ActiveXObject=="function")return pie(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function mie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i4(r.key),r)}}function vie(t,e,n){return e&&Lk(t.prototype,e),n&&Lk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yie(t,e,n){return e=i4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i4(t){var e=wie(t,"string");return zd(e)==="symbol"?e:String(e)}function wie(t,e){if(zd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sie=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return yie({},r,i||"")},parseLoadPayload:function(n,r){},request:gie,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},o4=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};mie(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return vie(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=hb(i,this.options||{},Sie()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,m=this.options.loadPath;typeof this.options.loadPath=="function"&&(m=this.options.loadPath(n,i)),m=cie(m),m.then(function(u){if(!u)return s(null,{});var d=a.services.interpolator.interpolate(u,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(d,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,m=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,m);this.options.request(this.options,n,u,function(d,E){if(E&&(E.status>=500&&E.status<600||!E.status))return r("failed loading "+n+"; status code: "+E.status,!0);if(E&&E.status>=400&&E.status<500)return r("failed loading "+n+"; status code: "+E.status,!1);if(!E&&d&&d.message&&d.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+d.message,!0);if(d)return r(d,!1);var I,O;try{typeof E.data=="string"?I=s.options.parse(E.data,i,o):I=E.data}catch{O="failed parsing "+n+" to json"}if(O)return r(O,!1);r(null,I)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var m=this.options.parsePayload(r,i,o),u=0,d=[],E=[];n.forEach(function(I){var O=a.options.addPath;typeof a.options.addPath=="function"&&(O=a.options.addPath(I,r));var A=a.services.interpolator.interpolate(O,{lng:I,ns:r});a.options.request(a.options,A,m,function(D,v){u+=1,d.push(D),E.push(v),u===n.length&&typeof s=="function"&&s(d,E)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var m=[],u=function(E){var I=o.toResolveHierarchy(E);I.forEach(function(O){m.indexOf(O)<0&&m.push(O)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return u(d)}),m.forEach(function(d){n.allOptions.ns.forEach(function(E){i.read(d,E,"read",null,null,function(I,O){I&&s.warn("loading namespace ".concat(E," for language ").concat(d," failed"),I),!I&&O&&s.log("loaded namespace ".concat(E," for language ").concat(d),O),i.loaded("".concat(d,"|").concat(E),I,O)})})})}}}]),t}();o4.type="backend";function bie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function _ie(t,e){if(Bd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cie(t){var e=_ie(t,"string");return Bd(e)==="symbol"?e:String(e)}function jk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cie(r.key),r)}}function xie(t,e,n){return e&&jk(t.prototype,e),n&&jk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var s4=[],Iie=s4.forEach,Eie=s4.slice;function Tie(t){return Iie.call(Eie.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var Fk=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Mie=function(e,n,r){var i=r||{};i.path=i.path||"/";var o=encodeURIComponent(n),s="".concat(e,"=").concat(o);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!Fk.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain=".concat(i.domain)}if(i.path){if(!Fk.test(i.path))throw new TypeError("option path is invalid");s+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(s+="; HttpOnly"),i.secure&&(s+="; Secure"),i.sameSite){var m=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(m){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},zk={create:function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),i&&(o.domain=i),document.cookie=Mie(e,encodeURIComponent(n),o)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove:function(e){this.create(e,"",-1)}},Oie={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=zk.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&zk.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},kie={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),o=i.split("&"),s=0;s<o.length;s++){var a=o[s].indexOf("=");if(a>0){var m=o[s].substring(0,a);m===e.lookupQuerystring&&(n=o[s].substring(a+1))}}}return n}},of=null,Bk=function(){if(of!==null)return of;try{of=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{of=!1}return of},Aie={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&Bk()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&Bk()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},sf=null,Uk=function(){if(sf!==null)return sf;try{sf=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{sf=!1}return sf},Die={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&Uk()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&Uk()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},Pie={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Nie={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Rie={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Lie={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function jie(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var a4=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};bie(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return xie(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Tie(r,this.options||{},jie()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Oie),this.addDetector(kie),this.addDetector(Aie),this.addDetector(Die),this.addDetector(Pie),this.addDetector(Nie),this.addDetector(Rie),this.addDetector(Lie)}},{key:"addDetector",value:function(n){this.detectors[n.name]=n}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(o){if(r.detectors[o]){var s=r.detectors[o].lookup(r.options);s&&typeof s=="string"&&(s=[s]),s&&(i=i.concat(s))}}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(o){i.detectors[o]&&i.detectors[o].cacheUserLanguage(n,i.options)}))}}]),t}();a4.type="languageDetector";const Fie="Home",zie="Templates",Bie="Contact Us",Uie="Login",Hie="what we provide?",Wie="What makes us more better",Vie="Easy and Beautiful templates designs according your choice",Gie="Welcome to e-nimto, your ultimate destination for creating stunning events and sending personalized invitation cards. We understand the importance of making your event memorable and unique, which is why we offer a wide range of beautiful templates that cater to all occasions. From weddings to birthdays, corporate gatherings to baby showers, our collection of exquisite templates is designed to help you craft the perfect invitation and set the tone for your event. Let's dive into the world of beautiful templates and unlock endless possibilities for your next celebration.",$ie="What client said about us?",Yie={home:Fie,templates:zie,contactUs:Bie,login:Uie,"E-Nimto":"E-nimto","Modern Way of invitation following Tradition":"Modern Way of invitation following Tradition","Welcome to E-Nimto":"Welcome to E-Nimto ",whatweprovide:Hie,"about-us":"keeping our tradition alive and walking in the world of internet here we introduce you ENIMTO enimto is a social-planning website for creating, sending, and managing online invitations. The website offers digital invitations with RSVP tracking. They also offer greeting cards, announcements, eGift cards, and party planning ideas.",whatMakesUsMoreBetter:Wie,easyandBeautifulTemplatesDesignsAccordingYourChoice:Vie,"Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable":"Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable","Easy profile page , anyone can use it easiy":"Easy profile page , anyone can use it easiy","Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable.":"Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable.","Easy way to view and send invitaion of your event":"Easy way to view and send invitaion of your event","Overall Invitation Management System is provided designed to reduce the cost of printing cards and mordernozing the traditional invitation system ":"Overall Invitation Management System is provided designed to reduce the cost of printing cards and mordernozing the traditional invitation system ","Beautifully designed cards, cards design eye catchy and show nepali tradition":"Beautifully designed cards, card's design eye catchy and show nepali tradition",abouttext:Gie,"template-content":"100+ beautiful editable invitation card templates according to your need","Elegant designs":"Immerse yourself in elegance with e-nimto's beautiful templates.Choose from classic elegance to modern trends. Transform your event with visually stunning templates",testimonialhead:$ie},Xie="",Kie="",Zie=" ",Qie=" ",Jie="   ?",qie="   ",eoe="   ",toe="       ",noe="                ,    ,                               ",roe="    ?",ioe={home:Xie,templates:Kie,contactUs:Zie,login:Qie,"E-Nimto":" ","Modern Way of invitation following Tradition":"    ","Welcome to E-Nimto":"-    ",whatweprovide:Jie,"about-us":"             E-nimto .  E-nimto    ,     -    RSVP         , , eGift ,       ",whatWeProvide:qie,whatMakesUsMoreBetter:eoe,easyandBeautifulTemplatesDesignsAccordingYourChoice:toe,"Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable":"    , , ,            ","Easy profile page , anyone can use it easiy":"  ,       ","Digital invitations can be personalized with your own message, images, videos, or music to make them more engaging and memorable.":"    , , ,             ","Easy way to view and send invitaion of your event":"     ","Overall Invitation Management System is provided designed to reduce the cost of printing cards and mordernozing the traditional invitation system ":"                ","Beautifully designed cards, cards design eye catchy and show nepali tradition":"   ,       ","template-content":"   100+      ",abouttext:noe,testimonialhead:roe};$r.use(o4).use(a4).use(u8).init({resources:{en:{translations:Yie},ne:{translations:ioe}},lng:"ne",fallbackLng:"ne",debug:!0,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{useSuspense:!0}});i1.createRoot(document.getElementById("root")).render(ie.jsx(v8,{i18n:$r,children:ie.jsx(W6,{children:ie.jsx(Ire,{})})}))});export default ooe();
